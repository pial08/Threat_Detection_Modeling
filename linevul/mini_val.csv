,Access Gained,Attack Origin,Authentication Required,Availability,CVE ID,CVE Page,CWE ID,Complexity,Confidentiality,Integrity,Known Exploits,Publish Date,Score,Summary,Update Date,Vulnerability Classification,add_lines,codeLink,commit_id,commit_message,del_lines,file_name,files_changed,flaw_line,flaw_line_index,func_after,func_before,index,lang,lines_after,lines_before,parentID,patch,processed_func,project,project_after,project_before,target,vul_func_with_fix
7,None,Remote,Single system,Complete,CVE-2014-5352,https://www.cvedetails.com/cve/CVE-2014-5352/,,Low,Complete,Complete,,2015-02-19,9.0,"The krb5_gss_process_context_token function in lib/gssapi/krb5/process_context_token.c in the libgssapi_krb5 library in MIT Kerberos 5 (aka krb5) through 1.11.5, 1.12.x through 1.12.2, and 1.13.x before 1.13.1 does not properly maintain security-context handles, which allows remote authenticated users to cause a denial of service (use-after-free and double free, and daemon crash) or possibly execute arbitrary code via crafted GSSAPI traffic, as demonstrated by traffic to kadmind.",2017-01-02,DoS Exec Code ,1.0,https://github.com/krb5/krb5/commit/82dc33da50338ac84c7b4102dc6513d897d0506a,82dc33da50338ac84c7b4102dc6513d897d0506a,"Fix gss_process_context_token() [CVE-2014-5352]

[MITKRB5-SA-2015-001] The krb5 gss_process_context_token() should not
actually delete the context; that leaves the caller with a dangling
pointer and no way to know that it is invalid.  Instead, mark the
context as terminated, and check for terminated contexts in the GSS
functions which expect established contexts.  Also add checks in
export_sec_context and pseudo_random, and adjust t_prf.c for the
pseudo_random check.

ticket: 8055 (new)
target_version: 1.13.1
tags: pullup",1.0,src/lib/gssapi/krb5/k5seal.c,"{""sha"": ""a18cfb05b743fbccf68dc52e203ebc050c7e6509"", ""filename"": ""src/lib/gssapi/krb5/context_time.c"", ""status"": ""modified"", ""additions"": 1, ""deletions"": 1, ""changes"": 2, ""blob_url"": ""https://github.com/krb5/krb5/blob/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/context_time.c"", ""raw_url"": ""https://github.com/krb5/krb5/raw/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/context_time.c"", ""contents_url"": ""https://api.github.com/repos/krb5/krb5/contents/src/lib/gssapi/krb5/context_time.c?ref=82dc33da50338ac84c7b4102dc6513d897d0506a"", ""patch"": ""@@ -40,7 +40,7 @@ krb5_gss_context_time(minor_status, context_handle, time_rec)\n \n     ctx = (krb5_gss_ctx_id_rec *) context_handle;\n \n-    if (! ctx->established) {\n+    if (ctx->terminated || !ctx->established) {\n         *minor_status = KG_CTX_INCOMPLETE;\n         return(GSS_S_NO_CONTEXT);\n     }""}<_**next**_>{""sha"": ""1b3de6818867808218236666b5f1f6c63f3f8e62"", ""filename"": ""src/lib/gssapi/krb5/export_sec_context.c"", ""status"": ""modified"", ""additions"": 5, ""deletions"": 0, ""changes"": 5, ""blob_url"": ""https://github.com/krb5/krb5/blob/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/export_sec_context.c"", ""raw_url"": ""https://github.com/krb5/krb5/raw/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/export_sec_context.c"", ""contents_url"": ""https://api.github.com/repos/krb5/krb5/contents/src/lib/gssapi/krb5/export_sec_context.c?ref=82dc33da50338ac84c7b4102dc6513d897d0506a"", ""patch"": ""@@ -45,6 +45,11 @@ krb5_gss_export_sec_context(minor_status, context_handle, interprocess_token)\n     *minor_status = 0;\n \n     ctx = (krb5_gss_ctx_id_t) *context_handle;\n+    if (ctx->terminated) {\n+        *minor_status = KG_CTX_INCOMPLETE;\n+        return (GSS_S_NO_CONTEXT);\n+    }\n+\n     context = ctx->k5_context;\n     kret = krb5_gss_ser_init(context);\n     if (kret)""}<_**next**_>{""sha"": ""a0e8625d05b6de7e37ba5f4c9adbb15ef352d400"", ""filename"": ""src/lib/gssapi/krb5/gssapiP_krb5.h"", ""status"": ""modified"", ""additions"": 1, ""deletions"": 0, ""changes"": 1, ""blob_url"": ""https://github.com/krb5/krb5/blob/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/gssapiP_krb5.h"", ""raw_url"": ""https://github.com/krb5/krb5/raw/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/gssapiP_krb5.h"", ""contents_url"": ""https://api.github.com/repos/krb5/krb5/contents/src/lib/gssapi/krb5/gssapiP_krb5.h?ref=82dc33da50338ac84c7b4102dc6513d897d0506a"", ""patch"": ""@@ -206,6 +206,7 @@ typedef struct _krb5_gss_ctx_id_rec {\n     unsigned int established : 1;\n     unsigned int have_acceptor_subkey : 1;\n     unsigned int seed_init : 1;  /* XXX tested but never actually set */\n+    unsigned int terminated : 1;\n     OM_uint32 gss_flags;\n     unsigned char seed[16];\n     krb5_gss_name_t here;""}<_**next**_>{""sha"": ""77b7fff026a2d9f0602cd73b2cdf4f53929da999"", ""filename"": ""src/lib/gssapi/krb5/gssapi_krb5.c"", ""status"": ""modified"", ""additions"": 1, ""deletions"": 1, ""changes"": 2, ""blob_url"": ""https://github.com/krb5/krb5/blob/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/gssapi_krb5.c"", ""raw_url"": ""https://github.com/krb5/krb5/raw/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/gssapi_krb5.c"", ""contents_url"": ""https://api.github.com/repos/krb5/krb5/contents/src/lib/gssapi/krb5/gssapi_krb5.c?ref=82dc33da50338ac84c7b4102dc6513d897d0506a"", ""patch"": ""@@ -369,7 +369,7 @@ krb5_gss_inquire_sec_context_by_oid (OM_uint32 *minor_status,\n \n     ctx = (krb5_gss_ctx_id_rec *) context_handle;\n \n-    if (!ctx->established)\n+    if (ctx->terminated || !ctx->established)\n         return GSS_S_NO_CONTEXT;\n \n     for (i = 0; i < sizeof(krb5_gss_inquire_sec_context_by_oid_ops)/""}<_**next**_>{""sha"": ""096df2a895540ce07fa6f5bc5d9a9484fe616fc4"", ""filename"": ""src/lib/gssapi/krb5/inq_context.c"", ""status"": ""modified"", ""additions"": 1, ""deletions"": 1, ""changes"": 2, ""blob_url"": ""https://github.com/krb5/krb5/blob/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/inq_context.c"", ""raw_url"": ""https://github.com/krb5/krb5/raw/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/inq_context.c"", ""contents_url"": ""https://api.github.com/repos/krb5/krb5/contents/src/lib/gssapi/krb5/inq_context.c?ref=82dc33da50338ac84c7b4102dc6513d897d0506a"", ""patch"": ""@@ -105,7 +105,7 @@ krb5_gss_inquire_context(minor_status, context_handle, initiator_name,\n \n     ctx = (krb5_gss_ctx_id_rec *) context_handle;\n \n-    if (! ctx->established) {\n+    if (ctx->terminated || !ctx->established) {\n         *minor_status = KG_CTX_INCOMPLETE;\n         return(GSS_S_NO_CONTEXT);\n     }""}<_**next**_>{""sha"": ""f1c74dd52239a6216b4eb67eaf7ac58021b99abf"", ""filename"": ""src/lib/gssapi/krb5/k5seal.c"", ""status"": ""modified"", ""additions"": 1, ""deletions"": 1, ""changes"": 2, ""blob_url"": ""https://github.com/krb5/krb5/blob/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/k5seal.c"", ""raw_url"": ""https://github.com/krb5/krb5/raw/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/k5seal.c"", ""contents_url"": ""https://api.github.com/repos/krb5/krb5/contents/src/lib/gssapi/krb5/k5seal.c?ref=82dc33da50338ac84c7b4102dc6513d897d0506a"", ""patch"": ""@@ -342,7 +342,7 @@ kg_seal(minor_status, context_handle, conf_req_flag, qop_req,\n \n     ctx = (krb5_gss_ctx_id_rec *) context_handle;\n \n-    if (! ctx->established) {\n+    if (ctx->terminated || !ctx->established) {\n         *minor_status = KG_CTX_INCOMPLETE;\n         return(GSS_S_NO_CONTEXT);\n     }""}<_**next**_>{""sha"": ""b53e348f09e5d7b0b2013c6deafacd1f57f44c67"", ""filename"": ""src/lib/gssapi/krb5/k5sealiov.c"", ""status"": ""modified"", ""additions"": 1, ""deletions"": 1, ""changes"": 2, ""blob_url"": ""https://github.com/krb5/krb5/blob/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/k5sealiov.c"", ""raw_url"": ""https://github.com/krb5/krb5/raw/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/k5sealiov.c"", ""contents_url"": ""https://api.github.com/repos/krb5/krb5/contents/src/lib/gssapi/krb5/k5sealiov.c?ref=82dc33da50338ac84c7b4102dc6513d897d0506a"", ""patch"": ""@@ -281,7 +281,7 @@ kg_seal_iov(OM_uint32 *minor_status,\n     }\n \n     ctx = (krb5_gss_ctx_id_rec *)context_handle;\n-    if (!ctx->established) {\n+    if (ctx->terminated || !ctx->established) {\n         *minor_status = KG_CTX_INCOMPLETE;\n         return GSS_S_NO_CONTEXT;\n     }""}<_**next**_>{""sha"": ""673c883e633ec557220009b37b9fae910ea14a7f"", ""filename"": ""src/lib/gssapi/krb5/k5unseal.c"", ""status"": ""modified"", ""additions"": 1, ""deletions"": 1, ""changes"": 2, ""blob_url"": ""https://github.com/krb5/krb5/blob/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/k5unseal.c"", ""raw_url"": ""https://github.com/krb5/krb5/raw/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/k5unseal.c"", ""contents_url"": ""https://api.github.com/repos/krb5/krb5/contents/src/lib/gssapi/krb5/k5unseal.c?ref=82dc33da50338ac84c7b4102dc6513d897d0506a"", ""patch"": ""@@ -492,7 +492,7 @@ kg_unseal(minor_status, context_handle, input_token_buffer,\n \n     ctx = (krb5_gss_ctx_id_rec *) context_handle;\n \n-    if (! ctx->established) {\n+    if (ctx->terminated || !ctx->established) {\n         *minor_status = KG_CTX_INCOMPLETE;\n         return(GSS_S_NO_CONTEXT);\n     }""}<_**next**_>{""sha"": ""8b6704274db847c8e7a7f26b798ea721e10eeb73"", ""filename"": ""src/lib/gssapi/krb5/k5unsealiov.c"", ""status"": ""modified"", ""additions"": 1, ""deletions"": 1, ""changes"": 2, ""blob_url"": ""https://github.com/krb5/krb5/blob/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/k5unsealiov.c"", ""raw_url"": ""https://github.com/krb5/krb5/raw/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/k5unsealiov.c"", ""contents_url"": ""https://api.github.com/repos/krb5/krb5/contents/src/lib/gssapi/krb5/k5unsealiov.c?ref=82dc33da50338ac84c7b4102dc6513d897d0506a"", ""patch"": ""@@ -625,7 +625,7 @@ kg_unseal_iov(OM_uint32 *minor_status,\n     OM_uint32 code;\n \n     ctx = (krb5_gss_ctx_id_rec *)context_handle;\n-    if (!ctx->established) {\n+    if (ctx->terminated || !ctx->established) {\n         *minor_status = KG_CTX_INCOMPLETE;\n         return GSS_S_NO_CONTEXT;\n     }""}<_**next**_>{""sha"": ""449e71fed4c71813ab15fe2442ddefc91b1cc78e"", ""filename"": ""src/lib/gssapi/krb5/lucid_context.c"", ""status"": ""modified"", ""additions"": 5, ""deletions"": 0, ""changes"": 5, ""blob_url"": ""https://github.com/krb5/krb5/blob/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/lucid_context.c"", ""raw_url"": ""https://github.com/krb5/krb5/raw/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/lucid_context.c"", ""contents_url"": ""https://api.github.com/repos/krb5/krb5/contents/src/lib/gssapi/krb5/lucid_context.c?ref=82dc33da50338ac84c7b4102dc6513d897d0506a"", ""patch"": ""@@ -75,6 +75,11 @@ gss_krb5int_export_lucid_sec_context(\n     *minor_status = 0;\n     *data_set = GSS_C_NO_BUFFER_SET;\n \n+    if (ctx->terminated || !ctx->established) {\n+        *minor_status = KG_CTX_INCOMPLETE;\n+        return GSS_S_NO_CONTEXT;\n+    }\n+\n     retval = generic_gss_oid_decompose(minor_status,\n                                        GSS_KRB5_EXPORT_LUCID_SEC_CONTEXT_OID,\n                                        GSS_KRB5_EXPORT_LUCID_SEC_CONTEXT_OID_LENGTH,""}<_**next**_>{""sha"": ""e897074fc1936643bee2f2a21f5c2b507e696769"", ""filename"": ""src/lib/gssapi/krb5/prf.c"", ""status"": ""modified"", ""additions"": 4, ""deletions"": 0, ""changes"": 4, ""blob_url"": ""https://github.com/krb5/krb5/blob/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/prf.c"", ""raw_url"": ""https://github.com/krb5/krb5/raw/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/prf.c"", ""contents_url"": ""https://api.github.com/repos/krb5/krb5/contents/src/lib/gssapi/krb5/prf.c?ref=82dc33da50338ac84c7b4102dc6513d897d0506a"", ""patch"": ""@@ -58,6 +58,10 @@ krb5_gss_pseudo_random(OM_uint32 *minor_status,\n     ns.data = NULL;\n \n     ctx = (krb5_gss_ctx_id_t)context;\n+    if (ctx->terminated || !ctx->established) {\n+        *minor_status = KG_CTX_INCOMPLETE;\n+        return GSS_S_NO_CONTEXT;\n+    }\n \n     switch (prf_key) {\n     case GSS_C_PRF_KEY_FULL:""}<_**next**_>{""sha"": ""a672f48c859b9f87b275e54523e161a482997cdc"", ""filename"": ""src/lib/gssapi/krb5/process_context_token.c"", ""status"": ""modified"", ""additions"": 12, ""deletions"": 5, ""changes"": 17, ""blob_url"": ""https://github.com/krb5/krb5/blob/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/process_context_token.c"", ""raw_url"": ""https://github.com/krb5/krb5/raw/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/process_context_token.c"", ""contents_url"": ""https://api.github.com/repos/krb5/krb5/contents/src/lib/gssapi/krb5/process_context_token.c?ref=82dc33da50338ac84c7b4102dc6513d897d0506a"", ""patch"": ""@@ -39,11 +39,18 @@ krb5_gss_process_context_token(minor_status, context_handle,\n \n     ctx = (krb5_gss_ctx_id_t) context_handle;\n \n-    if (! ctx->established) {\n+    if (ctx->terminated || !ctx->established) {\n         *minor_status = KG_CTX_INCOMPLETE;\n         return(GSS_S_NO_CONTEXT);\n     }\n \n+    /* We only support context deletion tokens for now, and RFC 4121 does not\n+     * define a context deletion token. */\n+    if (ctx->proto) {\n+        *minor_status = 0;\n+        return(GSS_S_DEFECTIVE_TOKEN);\n+    }\n+\n     /* \""unseal\"" the token */\n \n     if (GSS_ERROR(majerr = kg_unseal(minor_status, context_handle,\n@@ -52,8 +59,8 @@ krb5_gss_process_context_token(minor_status, context_handle,\n                                      KG_TOK_DEL_CTX)))\n         return(majerr);\n \n-    /* that's it.  delete the context */\n-\n-    return(krb5_gss_delete_sec_context(minor_status, &context_handle,\n-                                       GSS_C_NO_BUFFER));\n+    /* Mark the context as terminated, but do not delete it (as that would\n+     * leave the caller with a dangling context handle). */\n+    ctx->terminated = 1;\n+    return(GSS_S_COMPLETE);\n }""}<_**next**_>{""sha"": ""ed5c599951d49b42602052190a99e3841d120bb5"", ""filename"": ""src/lib/gssapi/krb5/wrap_size_limit.c"", ""status"": ""modified"", ""additions"": 1, ""deletions"": 1, ""changes"": 2, ""blob_url"": ""https://github.com/krb5/krb5/blob/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/wrap_size_limit.c"", ""raw_url"": ""https://github.com/krb5/krb5/raw/82dc33da50338ac84c7b4102dc6513d897d0506a/src/lib/gssapi/krb5/wrap_size_limit.c"", ""contents_url"": ""https://api.github.com/repos/krb5/krb5/contents/src/lib/gssapi/krb5/wrap_size_limit.c?ref=82dc33da50338ac84c7b4102dc6513d897d0506a"", ""patch"": ""@@ -95,7 +95,7 @@ krb5_gss_wrap_size_limit(minor_status, context_handle, conf_req_flag,\n     }\n \n     ctx = (krb5_gss_ctx_id_rec *) context_handle;\n-    if (! ctx->established) {\n+    if (ctx->terminated || !ctx->established) {\n         *minor_status = KG_CTX_INCOMPLETE;\n         return(GSS_S_NO_CONTEXT);\n     }""}<_**next**_>{""sha"": ""7f0489995ed5bd4dc574fb1a8a95cc874df1c0af"", ""filename"": ""src/tests/gssapi/t_prf.c"", ""status"": ""modified"", ""additions"": 1, ""deletions"": 0, ""changes"": 1, ""blob_url"": ""https://github.com/krb5/krb5/blob/82dc33da50338ac84c7b4102dc6513d897d0506a/src/tests/gssapi/t_prf.c"", ""raw_url"": ""https://github.com/krb5/krb5/raw/82dc33da50338ac84c7b4102dc6513d897d0506a/src/tests/gssapi/t_prf.c"", ""contents_url"": ""https://api.github.com/repos/krb5/krb5/contents/src/tests/gssapi/t_prf.c?ref=82dc33da50338ac84c7b4102dc6513d897d0506a"", ""patch"": ""@@ -127,6 +127,7 @@ main(int argc, char *argv[])\n     uctx.mech_type = &mech_krb5;\n     uctx.internal_ctx_id = (gss_ctx_id_t)&kgctx;\n     kgctx.k5_context = NULL;\n+    kgctx.established = 1;\n     kgctx.have_acceptor_subkey = 1;\n     kb1.contents = k1buf;\n     kb2.contents = k2buf;""}",    if (! ctx->established) {,31,"kg_seal(minor_status, context_handle, conf_req_flag, qop_req,
        input_message_buffer, conf_state, output_message_buffer, toktype)
    OM_uint32 *minor_status;
    gss_ctx_id_t context_handle;
    int conf_req_flag;
    gss_qop_t qop_req;
    gss_buffer_t input_message_buffer;
    int *conf_state;
    gss_buffer_t output_message_buffer;
    int toktype;
{
    krb5_gss_ctx_id_rec *ctx;
    krb5_error_code code;
    krb5_context context;

    output_message_buffer->length = 0;
    output_message_buffer->value = NULL;

    /* Only default qop or matching established cryptosystem is allowed.

       There are NO EXTENSIONS to this set for AES and friends!  The
       new spec says ""just use 0"".  The old spec plus extensions would
       actually allow for certain non-zero values.  Fix this to handle
       them later.  */
    if (qop_req != 0) {
        *minor_status = (OM_uint32) G_UNKNOWN_QOP;
        return GSS_S_FAILURE;
    }
 
     ctx = (krb5_gss_ctx_id_rec *) context_handle;
 
    if (ctx->terminated || !ctx->established) {
         *minor_status = KG_CTX_INCOMPLETE;
         return(GSS_S_NO_CONTEXT);
     }

    context = ctx->k5_context;
    switch (ctx->proto)
    {
    case 0:
        code = make_seal_token_v1(context, ctx->enc, ctx->seq,
                                  &ctx->seq_send, ctx->initiate,
                                  input_message_buffer, output_message_buffer,
                                  ctx->signalg, ctx->cksum_size, ctx->sealalg,
                                  conf_req_flag, toktype, ctx->mech_used);
        break;
    case 1:
        code = gss_krb5int_make_seal_token_v3(context, ctx,
                                              input_message_buffer,
                                              output_message_buffer,
                                              conf_req_flag, toktype);
        break;
    default:
        code = G_UNKNOWN_QOP;   /* XXX */
        break;
    }

    if (code) {
        *minor_status = code;
        save_error_info(*minor_status, context);
        return(GSS_S_FAILURE);
    }

    if (conf_state)
        *conf_state = conf_req_flag;

    *minor_status = 0;
    return(GSS_S_COMPLETE);
}
","kg_seal(minor_status, context_handle, conf_req_flag, qop_req,
        input_message_buffer, conf_state, output_message_buffer, toktype)
    OM_uint32 *minor_status;
    gss_ctx_id_t context_handle;
    int conf_req_flag;
    gss_qop_t qop_req;
    gss_buffer_t input_message_buffer;
    int *conf_state;
    gss_buffer_t output_message_buffer;
    int toktype;
{
    krb5_gss_ctx_id_rec *ctx;
    krb5_error_code code;
    krb5_context context;

    output_message_buffer->length = 0;
    output_message_buffer->value = NULL;

    /* Only default qop or matching established cryptosystem is allowed.

       There are NO EXTENSIONS to this set for AES and friends!  The
       new spec says ""just use 0"".  The old spec plus extensions would
       actually allow for certain non-zero values.  Fix this to handle
       them later.  */
    if (qop_req != 0) {
        *minor_status = (OM_uint32) G_UNKNOWN_QOP;
        return GSS_S_FAILURE;
    }
 
     ctx = (krb5_gss_ctx_id_rec *) context_handle;
 
    if (! ctx->established) {
         *minor_status = KG_CTX_INCOMPLETE;
         return(GSS_S_NO_CONTEXT);
     }

    context = ctx->k5_context;
    switch (ctx->proto)
    {
    case 0:
        code = make_seal_token_v1(context, ctx->enc, ctx->seq,
                                  &ctx->seq_send, ctx->initiate,
                                  input_message_buffer, output_message_buffer,
                                  ctx->signalg, ctx->cksum_size, ctx->sealalg,
                                  conf_req_flag, toktype, ctx->mech_used);
        break;
    case 1:
        code = gss_krb5int_make_seal_token_v3(context, ctx,
                                              input_message_buffer,
                                              output_message_buffer,
                                              conf_req_flag, toktype);
        break;
    default:
        code = G_UNKNOWN_QOP;   /* XXX */
        break;
    }

    if (code) {
        *minor_status = code;
        save_error_info(*minor_status, context);
        return(GSS_S_FAILURE);
    }

    if (conf_state)
        *conf_state = conf_req_flag;

    *minor_status = 0;
    return(GSS_S_COMPLETE);
}
",179989.0,C,"    if (ctx->terminated || !ctx->established) {
","    if (! ctx->established) {
",,"@@ -342,7 +342,7 @@ kg_seal(minor_status, context_handle, conf_req_flag, qop_req,
 
     ctx = (krb5_gss_ctx_id_rec *) context_handle;
 
-    if (! ctx->established) {
+    if (ctx->terminated || !ctx->established) {
         *minor_status = KG_CTX_INCOMPLETE;
         return(GSS_S_NO_CONTEXT);
     }","kg_seal(minor_status, context_handle, conf_req_flag, qop_req,
input_message_buffer, conf_state, output_message_buffer, toktype)
OM_uint32 *minor_status;
gss_ctx_id_t context_handle;
int conf_req_flag;
gss_qop_t qop_req;
gss_buffer_t input_message_buffer;
int *conf_state;
gss_buffer_t output_message_buffer;
int toktype;
{
krb5_gss_ctx_id_rec *ctx;
krb5_error_code code;
krb5_context context;

output_message_buffer->length = 0;
output_message_buffer->value = NULL;

/* Only default qop or matching established cryptosystem is allowed.

There are NO EXTENSIONS to this set for AES and friends!  The
new spec says ""just use 0"".  The old spec plus extensions would
actually allow for certain non-zero values.  Fix this to handle
them later.  */
if (qop_req != 0) {
*minor_status = (OM_uint32) G_UNKNOWN_QOP;
return GSS_S_FAILURE;
}

ctx = (krb5_gss_ctx_id_rec *) context_handle;

    if (! ctx->established) {
*minor_status = KG_CTX_INCOMPLETE;
return(GSS_S_NO_CONTEXT);
}

context = ctx->k5_context;
switch (ctx->proto)
{
case 0:
code = make_seal_token_v1(context, ctx->enc, ctx->seq,
&ctx->seq_send, ctx->initiate,
input_message_buffer, output_message_buffer,
ctx->signalg, ctx->cksum_size, ctx->sealalg,
conf_req_flag, toktype, ctx->mech_used);
break;
case 1:
code = gss_krb5int_make_seal_token_v3(context, ctx,
input_message_buffer,
output_message_buffer,
conf_req_flag, toktype);
break;
default:
code = G_UNKNOWN_QOP;   /* XXX */
break;
}

if (code) {
*minor_status = code;
save_error_info(*minor_status, context);
return(GSS_S_FAILURE);
}

if (conf_state)
*conf_state = conf_req_flag;

*minor_status = 0;
return(GSS_S_COMPLETE);
}
",krb5,82dc33da50338ac84c7b4102dc6513d897d0506a,19bb843b40d3f62f4e29f4847717862f1423135e,1.0,"kg_seal(minor_status, context_handle, conf_req_flag, qop_req,
        input_message_buffer, conf_state, output_message_buffer, toktype)
    OM_uint32 *minor_status;
    gss_ctx_id_t context_handle;
    int conf_req_flag;
    gss_qop_t qop_req;
    gss_buffer_t input_message_buffer;
    int *conf_state;
    gss_buffer_t output_message_buffer;
    int toktype;
{
    krb5_gss_ctx_id_rec *ctx;
    krb5_error_code code;
    krb5_context context;

    output_message_buffer->length = 0;
    output_message_buffer->value = NULL;

    /* Only default qop or matching established cryptosystem is allowed.

       There are NO EXTENSIONS to this set for AES and friends!  The
       new spec says ""just use 0"".  The old spec plus extensions would
       actually allow for certain non-zero values.  Fix this to handle
       them later.  */
    if (qop_req != 0) {
        *minor_status = (OM_uint32) G_UNKNOWN_QOP;
        return GSS_S_FAILURE;
    }
 
     ctx = (krb5_gss_ctx_id_rec *) context_handle;
 
//flaw_line_below:
    if (! ctx->established) {
//fix_flaw_line_below:
//    if (ctx->terminated || !ctx->established) {
         *minor_status = KG_CTX_INCOMPLETE;
         return(GSS_S_NO_CONTEXT);
     }

    context = ctx->k5_context;
    switch (ctx->proto)
    {
    case 0:
        code = make_seal_token_v1(context, ctx->enc, ctx->seq,
                                  &ctx->seq_send, ctx->initiate,
                                  input_message_buffer, output_message_buffer,
                                  ctx->signalg, ctx->cksum_size, ctx->sealalg,
                                  conf_req_flag, toktype, ctx->mech_used);
        break;
    case 1:
        code = gss_krb5int_make_seal_token_v3(context, ctx,
                                              input_message_buffer,
                                              output_message_buffer,
                                              conf_req_flag, toktype);
        break;
    default:
        code = G_UNKNOWN_QOP;   /* XXX */
        break;
    }

    if (code) {
        *minor_status = code;
        save_error_info(*minor_status, context);
        return(GSS_S_FAILURE);
    }

    if (conf_state)
        *conf_state = conf_req_flag;

    *minor_status = 0;
    return(GSS_S_COMPLETE);
}
"
94,None,Remote,Not required,Partial,CVE-2016-3751,https://www.cvedetails.com/cve/CVE-2016-3751/,,Low,Partial,Partial,,2016-07-10,7.5,"Unspecified vulnerability in libpng before 1.6.20, as used in Android 4.x before 4.4.4, 5.0.x before 5.0.2, 5.1.x before 5.1.1, and 6.x before 2016-07-01, allows attackers to gain privileges via a crafted application, as demonstrated by obtaining Signature or SignatureOrSystem access, aka internal bug 23265085.",2016-07-11,+Priv ,5.0,https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca,9d4853418ab2f754c2b63e091c29c5529b8b86ca,"DO NOT MERGE Update libpng to 1.6.20

BUG:23265085
Change-Id: I85199805636d771f3597b691b63bc0bf46084833
(cherry picked from commit bbe98b40cda082024b669fa508931042eed18f82)
",5.0,contrib/libtests/pngvalid.c,"{""filename"": ""ANNOUNCE"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/ANNOUNCE"", ""patch"": ""@@ -1,5 +1,4 @@\n\n-\n-Libpng 1.6.10 - March 6, 2014\n+Libpng 1.6.20 - December 3, 2015\n \n This is a public release of libpng, intended for use in production codes.\n \n@@ -8,80 +7,41 @@\n\n Source files with LF line endings (for Unix/Linux) and with a\n \""configure\"" script\n \n-   libpng-1.6.10.tar.xz (LZMA-compressed, recommended)\n-   libpng-1.6.10.tar.gz\n+   libpng-1.6.20.tar.xz (LZMA-compressed, recommended)\n+   libpng-1.6.20.tar.gz\n \n Source files with CRLF line endings (for Windows), without the\n \""configure\"" script\n \n-   lpng1610.7z  (LZMA-compressed, recommended)\n-   lpng1610.zip\n+   /scratch/glennrp/Libpng16/lpng1620.7z  (LZMA-compressed, recommended)\n+   /scratch/glennrp/Libpng16/lpng1620.zip\n \n Other information:\n \n-   libpng-1.6.10-README.txt\n-   libpng-1.6.10-LICENSE.txt\n-   libpng-1.6.10-*.asc (armored detached GPG signatures)\n+   libpng-1.6.20-README.txt\n+   libpng-1.6.20-LICENSE.txt\n+   libpng-1.6.20-*.asc (armored detached GPG signatures)\n \n-Changes since the last public release (1.6.9):\n-  Backported changes from libpng-1.7.0beta30 and beta31:\n-  Fixed a large number of instances where PNGCBAPI was omitted from\n-    function definitions.\n-  Added pngimage test program for png_read_png() and png_write_png()\n-    with two new test scripts.\n-  Removed dependence on !PNG_READ_EXPAND_SUPPORTED for calling\n-    png_set_packing() in png_read_png().\n-  Fixed combination of ~alpha with shift. On read invert alpha, processing\n-    occurred after shift processing, which causes the final values to be\n-    outside the range that should be produced by the shift. Reversing the\n-    order on read makes the two transforms work together correctly and mirrors\n-    the order used on write.\n-  Do not read invalid sBIT chunks. Previously libpng only checked sBIT\n-    values on write, so a malicious PNG writer could therefore cause\n-    the read code to return an invalid sBIT chunk, which might lead to\n-    application errors or crashes.  Such chunks are now skipped (with\n-    chunk_benign_error).\n-  Make png_read_png() and png_write_png() prototypes in png.h depend\n-    upon PNG_READ_SUPPORTED and PNG_WRITE_SUPPORTED.\n-  Support builds with unsupported PNG_TRANSFORM_* values.  All of the\n-    PNG_TRANSFORM_* values are always defined in png.h and, because they\n-    are used for both read and write in some cases, it is not reliable\n-    to #if out ones that are totally unsupported. This change adds error\n-    detection in png_read_image() and png_write_image() to do a\n-    png_app_error() if the app requests something that cannot be done\n-    and it adds corresponding code to pngimage.c to handle such options\n-    by not attempting to test them.\n-  Moved redefines of png_error(), png_warning(), png_chunk_error(),\n-    and png_chunk_warning() from pngpriv.h to png.h to make them visible\n-    to libpng-calling applications.\n-  Moved OS dependent code from arm/arm_init.c, to allow the included\n-    implementation of the ARM NEON discovery function to be set at\n-    build-time and provide sample implementations from the current code in the\n-    contrib/arm-neon subdirectory. The __linux__ code has also been changed to\n-    compile and link on Android by using /proc/cpuinfo, and the old linux code\n-    is in contrib/arm-neon/linux-auxv.c.  The new code avoids POSIX and Linux\n-    dependencies apart from opening /proc/cpuinfo and is C90 compliant.\n-  Check for info_ptr == NULL early in png_read_end() so we don't need to\n-    run all the png_handle_*() and depend on them to return if info_ptr == NULL.\n-    This improves the performance of png_read_end(png_ptr, NULL) and makes\n-    it more robust against future programming errors.\n-  Check for __has_extension before using it in pngconf.h, to\n-    support older Clang versions (Jeremy Sequoia).\n-  Treat CRC error handling with png_set_crc_action(), instead of with\n-    png_set_benign_errors(), which has been the case since libpng-1.6.0beta18.\n-  Use a user warning handler in contrib/gregbook/readpng2.c instead of default,\n-    so warnings will be put on stderr even if libpng has CONSOLE_IO disabled.\n-  Added png_ptr->process_mode = PNG_READ_IDAT_MODE in png_push_read_chunk\n-    after recognizing the IDAT chunk, which avoids an infinite loop while\n-    reading a datastream whose first IDAT chunk is of zero-length.\n-    This fixes CERT VU#684412 and CVE-2014-0333.\n-  Don't recognize known sRGB profiles as sRGB if they have been hacked,\n-    but don't reject them and don't issue a copyright violation warning.\n-  Moved some documentation from png.h to libpng.3 and libpng-manual.txt\n-  Minor editing of contrib/arm-neon/README and contrib/examples/*.c\n-  Fixed typos in the manual and in scripts/pnglibconf.dfa (CFLAGS -> CPPFLAGS\n-    and PNG_USR_CONFIG -> PNG_USER_CONFIG).\n-  Un-deprecated png_data_freer().\n+Changes since the last public release (1.6.19):\n+  Avoid potential pointer overflow/underflow in png_handle_sPLT() and\n+    png_handle_pCAL() (Bug report by John Regehr).\n+  Fixed incorrect implementation of png_set_PLTE() that uses png_ptr\n+    not info_ptr, that left png_set_PLTE() open to the CVE-2015-8126\n+    vulnerability.\n+  Backported tests from libpng-1.7.0beta69.\n+  Fixed an error in handling of bad zlib CMINFO field in pngfix, found by\n+    American Fuzzy Lop, reported by Brian Carpenter.  inflate() doesn't\n+    immediately fault a bad CMINFO field; instead a 'too far back' error\n+    happens later (at least some times).  pngfix failed to limit CMINFO to\n+    the allowed values but then assumed that window_bits was in range,\n+    triggering an assert. The bug is mostly harmless; the PNG file cannot\n+    be fixed.\n+  In libpng 1.6 zlib initialization was changed to use the window size\n+    in the zlib stream, not a fixed value. This causes some invalid images,\n+    where CINFO is too large, to display 'correctly' if the rest of the\n+    data is valid.  This provides a workaround for zlib versions where the\n+    error arises (ones that support the API change to use the window size\n+    in the stream).\n \n Send comments/corrections/commendations to png-mng-implement at lists.sf.net\n (subscription required; visit\n@@ -90,4 +50,3 @@\n\n or to glennrp at users.sourceforge.net\n \n Glenn R-P\n-#endif\n""}<_**next**_>{""filename"": ""CHANGES"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/CHANGES"", ""patch"": ""@@ -1,11 +1,14 @@\n\n #if 0\n CHANGES - changes for libpng\n \n-Version 0.2\n+version 0.1 [March 29, 1995]\n+  initial work-in-progress release\n+\n+version 0.2 [April 1, 1995]\n   added reader into png.h\n   fixed small problems in stub file\n \n-Version 0.3\n+version 0.3 [April 8, 1995]\n   added pull reader\n   split up pngwrite.c to several files\n   added pnglib.txt\n@@ -14,9 +17,9 @@\n\n   fixed some bugs in writer\n   interfaced with zlib 0.5\n   added K&R support\n-  added check for 64 KB blocks for 16-bit machines\n+  added check for 64 KB blocks for 16 bit machines\n \n-Version 0.4\n+version 0.4 [April 26, 1995]\n   cleaned up code and commented code\n   simplified time handling into png_time\n   created png_color_16 and png_color_8 to handle color needs\n@@ -27,28 +30,29 @@\n\n   cleaned up zTXt reader and writer (using zlib's Reset functions)\n   split transformations into pngrtran.c and pngwtran.c\n \n-Version 0.5\n+version 0.5 [April 30, 1995]\n   interfaced with zlib 0.8\n   fixed many reading and writing bugs\n   saved using 3 spaces instead of tabs\n \n-Version 0.6\n+version 0.6 [May 1, 1995]\n+  first beta release\n   added png_large_malloc() and png_large_free()\n   added png_size_t\n   cleaned up some compiler warnings\n   added png_start_read_image()\n \n-Version 0.7\n+version 0.7 [June 24, 1995]\n   cleaned up lots of bugs\n   finished dithering and other stuff\n   added test program\n   changed name from pnglib to libpng\n \n-Version 0.71 [June, 1995]\n+version 0.71 [June 26, 1995]\n   changed pngtest.png for zlib 0.93\n   fixed error in libpng.txt and example.c\n \n-Version 0.8\n+version 0.8 [August 20, 1995]\n   cleaned up some bugs\n   added png_set_filler()\n   split up pngstub.c into pngmem.c, pngio.c, and pngerror.c\n@@ -91,7 +95,7 @@\n\n   cleaned up documentation\n   added callbacks for read/write and warning/error functions\n \n-Version 0.89 [July, 1996]\n+Version 0.89 [June 5, 1996]\n   Added new initialization API to make libpng work better with shared libs\n     we now have png_create_read_struct(), png_create_write_struct(),\n     png_create_info_struct(), png_destroy_read_struct(), and\n@@ -118,6 +122,9 @@\n\n   New pngtest image also has interlacing and zTXt\n   Updated documentation to reflect new API\n \n+Version 0.89c [June 17, 1996]\n+  Bug fixes.\n+\n Version 0.90 [January, 1997]\n   Made CRC errors/warnings on critical and ancillary chunks configurable\n   libpng will use the zlib CRC routines by (compile-time) default\n@@ -158,7 +165,7 @@\n\n   Added new pCAL chunk read/write support\n   Added experimental filter selection weighting (Greg Roelofs)\n   Removed old png_set_rgbx() and png_set_xrgb() functions that have been\n-     obsolete for about 2 years now (use png_set_filler() instead)\n+    obsolete for about 2 years now (use png_set_filler() instead)\n   Added macros to read 16- and 32-bit ints directly from buffer, to be\n     used only on those systems that support it (namely PowerPC and 680x0)\n     With some testing, this may become the default for MACOS/PPC systems.\n@@ -440,7 +447,7 @@\n\n \n Version 1.0.3a [August 12, 1999]\n   Added check for PNG_READ_INTERLACE_SUPPORTED in pngread.c; issue a warning\n-     if an attempt is made to read an interlaced image when it's not supported.\n+    if an attempt is made to read an interlaced image when it's not supported.\n   Added check if png_ptr->trans is defined before freeing it in pngread.c\n   Modified the Y2K statement to include versions back to version 0.71\n   Fixed a bug in the check for valid IHDR bit_depth/color_types in pngrutil.c\n@@ -448,7 +455,7 @@\n\n   Replaced leading blanks with tab characters in makefile.hux\n   Changed \""dworkin.wustl.edu\"" to \""ccrc.wustl.edu\"" in various documents.\n   Changed (float)red and (float)green to (double)red, (double)green\n-     in png_set_rgb_to_gray() to avoid \""promotion\"" problems in AIX.\n+    in png_set_rgb_to_gray() to avoid \""promotion\"" problems in AIX.\n   Fixed a bug in pngconf.h that omitted <stdio.h> when PNG_DEBUG==0 (K Bracey).\n   Reformatted libpng.3 and libpngpf.3 with proper fonts (script by J. vanZandt).\n   Updated documentation to refer to the PNG-1.2 specification.\n@@ -491,7 +498,7 @@\n\n   Added new png_expand functions to scripts/pngdef.pas and pngos2.def\n   Added a demo read_user_transform_fn that examines the row filters in pngtest.c\n \n-Version 1.0.4 [September 24, 1999]\n+Version 1.0.4 [September 24, 1999, not distributed publicly]\n   Define PNG_ALWAYS_EXTERN in pngconf.h if __STDC__ is defined\n   Delete #define PNG_INTERNAL and include \""png.h\"" from pngasmrd.h\n   Made several minor corrections to pngtest.c\n@@ -518,6 +525,7 @@\n\n   Added a \""png_check_version\"" function in png.c and pngtest.c that will generate\n     a helpful compiler error if an old png.h is found in the search path.\n   Changed type of png_user_transform_depth|channels from int to png_byte.\n+  Added \""Libpng is OSI Certified Open Source Software\"" statement to png.h\n \n Version 1.0.4d [October 6, 1999]\n   Changed 0.45 to 0.45455 in png_set_sRGB()\n@@ -904,7 +912,7 @@\n\n Version 1.0.8beta1 [July 8, 2000]\n   Added png_free(png_ptr, key) two places in pngpread.c to stop memory leaks.\n   Changed PNG_NO_STDIO to PNG_NO_CONSOLE_IO, several places in pngrutil.c and\n-     pngwutil.c.\n+    pngwutil.c.\n   Changed PNG_EXPORT_VAR to use PNG_IMPEXP, in pngconf.h.\n   Removed unused \""#include <assert.h>\"" from png.c\n   Added WindowsCE support.\n@@ -912,12 +920,12 @@\n\n \n Version 1.0.8beta2 [July 10, 2000]\n   Added project files to the wince directory and made further revisions\n-     of pngtest.c, pngrio.c, and pngwio.c in support of WindowsCE.\n+    of pngtest.c, pngrio.c, and pngwio.c in support of WindowsCE.\n \n Version 1.0.8beta3 [July 11, 2000]\n   Only set the PNG_FLAG_FREE_TRNS or PNG_FREE_TRNS flag in png_handle_tRNS()\n-     for indexed-color input files to avoid potential double-freeing trans array\n-     under some unusual conditions; problem was introduced in version 1.0.6f.\n+    for indexed-color input files to avoid potential double-freeing trans array\n+    under some unusual conditions; problem was introduced in version 1.0.6f.\n   Further revisions to pngtest.c and files in the wince subdirectory.\n \n Version 1.0.8beta4 [July 14, 2000]\n@@ -1089,16 +1097,16 @@\n\n \n Version 1.2.0beta4 [June 23, 2001]\n   Check for missing profile length field in iCCP chunk and free chunk_data\n-     in case of truncated iCCP chunk.\n+    in case of truncated iCCP chunk.\n   Bumped shared-library number to 3 in makefile.sgi and makefile.sggcc\n   Bumped dll-number from 2 to 3 in makefile.cygwin\n   Revised contrib/gregbook/rpng*-x.c to avoid a memory leak and to exit cleanly\n-     if user attempts to run it on an 8-bit display.\n+    if user attempts to run it on an 8-bit display.\n   Updated contrib/gregbook\n   Use png_malloc instead of png_zalloc to allocate palette in pngset.c\n   Updated makefile.ibmc\n   Added some typecasts to eliminate gcc 3.0 warnings.  Changed prototypes\n-     of png_write_oFFS width and height from png_uint_32 to png_int_32.\n+    of png_write_oFFS width and height from png_uint_32 to png_int_32.\n   Updated example.c\n   Revised prototypes for png_debug_malloc and png_debug_free in pngtest.c\n \n@@ -1106,9 +1114,9 @@\n\n   Revised contrib/gregbook\n   Revised makefile.gcmmx\n   Revised pnggccrd.c to conditionally compile some thread-unsafe code only\n-     when PNG_THREAD_UNSAFE_OK is defined.\n+    when PNG_THREAD_UNSAFE_OK is defined.\n   Added tests to prevent pngwutil.c from writing a bKGD or tRNS chunk with\n-     value exceeding 2^bit_depth-1\n+    value exceeding 2^bit_depth-1\n   Revised makefile.sgi and makefile.sggcc\n   Replaced calls to fprintf(stderr,...) with png_warning() in pnggccrd.c\n   Removed restriction that do_invert_mono only operate on 1-bit opaque files\n@@ -1449,8 +1457,9 @@\n\n   Use png_malloc instead of png_zalloc to allocate the pallete.\n \n Version 1.0.16rc1 and 1.2.6rc1 [August 4, 2004]\n-  Fixed buffer overflow vulnerability in png_handle_tRNS()\n-  Fixed integer arithmetic overflow vulnerability in png_read_png().\n+  Fixed buffer overflow vulnerability (CVE-2004-0597) in png_handle_tRNS().\n+  Fixed NULL dereference vulnerability (CVE-2004-0598) in png_handle_iCCP().\n+  Fixed integer overflow vulnerability (CVE-2004-0599) in png_read_png().\n   Fixed some harmless bugs in png_handle_sBIT, etc, that would cause\n     duplicate chunk types to go undetected.\n   Fixed some timestamps in the -config version\n@@ -1493,7 +1502,7 @@\n\n \n Version 1.0.16rc5 and 1.2.6rc5 [August 10, 2004]\n   Moved  \""PNG_HANDLE_CHUNK_*\"" macros out of PNG_ASSEMBLER_CODE_SUPPORTED\n-     section of png.h where they were inadvertently placed in version rc3.\n+    section of png.h where they were inadvertently placed in version rc3.\n \n Version 1.2.6 and 1.0.16 [August 15, 2004]\n   Revised pngtest so memory allocation testing is only done when PNG_DEBUG==1.\n@@ -2102,7 +2111,7 @@\n\n     png_decompress_chunk(), and remove \""chunkdata\"" from parameter list.\n   Put a call to png_check_chunk_name() in png_read_chunk_header().\n   Revised png_check_chunk_name() to reject a name with a lowercase 3rd byte.\n-  Removed two calls to png_check_chunk_name() occuring later in the process.\n+  Removed two calls to png_check_chunk_name() occurring later in the process.\n   Define PNG_NO_ERROR_NUMBERS by default in pngconf.h\n \n Version 1.4.0beta25 [July 30, 2008]\n@@ -2325,7 +2334,7 @@\n\n Version 1.4.0beta64 [June 24, 2009]\n   Eliminated PNG_LEGACY_SUPPORTED code.\n   Moved the various unknown chunk macro definitions outside of the\n-     PNG_READ|WRITE_ANCILLARY_CHUNK_SUPPORTED blocks.\n+    PNG_READ|WRITE_ANCILLARY_CHUNK_SUPPORTED blocks.\n \n Version 1.4.0beta65 [June 26, 2009]\n   Added a reference to the libpng license in each file.\n@@ -3747,8 +3756,9 @@\n\n \n Version 1.5.7beta05 [November 25, 2011]\n   Removed \""zTXt\"" from warning in generic chunk decompression function.\n-  Validate time settings passed to pngset() and png_convert_to_rfc1123()\n-    (Frank Busse).\n+  Validate time settings passed to png_set_tIME() and png_convert_to_rfc1123()\n+    (Frank Busse). Note: This prevented CVE-2015-7981 from affecting\n+    libpng-1.5.7 and later.\n   Added MINGW support to CMakeLists.txt\n   Reject invalid compression flag or method when reading the iTXt chunk.\n   Backed out 'simplified' API changes. The API seems too complex and there\n@@ -3794,12 +3804,13 @@\n\n     (the other two required headers aren't used).  Non-ANSI systems that don't\n     have stddef.h or limits.h will have to provide an appropriate fake\n     containing the relevant types and #defines.\n-  The use of FAR/far has been eliminated and the definition of png_alloc_size_t\n-    is now controlled by a flag so that 'small size_t' systems can select it\n-    if necessary.  Libpng 1.6 may not currently work on such systems -- it\n-    seems likely that it will ask 'malloc' for more than 65535 bytes with any\n-    image that has a sufficiently large row size (rather than simply failing\n-    to read such images).\n+  Dropped support for 16-bit platforms. The use of FAR/far has been eliminated\n+    and the definition of png_alloc_size_t is now controlled by a flag so\n+    that 'small size_t' systems can select it if necessary.  Libpng 1.6 may\n+    not currently work on such systems -- it seems likely that it will\n+    ask 'malloc' for more than 65535 bytes with any image that has a\n+    sufficiently large row size (rather than simply failing to read such\n+    images).\n   New tools directory containing tools used to generate libpng code.\n   Fixed race conditions in parallel make builds. With higher degrees of\n     parallelism during 'make' the use of the same temporary file names such\n@@ -4345,8 +4356,9 @@\n\n     programs to generate and test a PNG which should have the problem.\n \n Version 1.6.0beta39 [January 19, 2013]\n-  Again corrected attempt at overflow detection in png_set_unknown_chunks().\n-  Added overflow detection in png_set_sPLT() and png_set_text_2().\n+  Again corrected attempt at overflow detection in png_set_unknown_chunks()\n+  (CVE-2013-7353).  Added overflow detection in png_set_sPLT() and\n+  png_set_text_2() (CVE-2013-7354).\n \n Version 1.6.0beta40 [January 20, 2013]\n   Use consistent handling of overflows in text, sPLT and unknown png_set_* APIs\n@@ -4410,7 +4422,7 @@\n\n \n Version 1.6.1beta03 [February 22, 2013]\n   Fixed ALIGNED_MEMORY support.\n-  Allow run-time ARM NEON checking to be disabled. A new configure option:\n+  Added a new configure option:\n     --enable-arm-neon=always will stop the run-time checks. New checks\n     within arm/arm_init.c will cause the code not to be compiled unless\n     __ARM_NEON__ is set. This should make it fail safe (if someone asks\n@@ -4429,10 +4441,10 @@\n\n Version 1.6.1beta06 [March 4, 2013]\n   Better documentation of unknown handling API interactions.\n   Corrected Android builds and corrected libpng.vers with symbol\n-    prefixing This adds an API to set optimization options externally,\n+    prefixing.  It also makes those tests compile and link on Android.\n+  Added an API png_set_option() to set optimization options externally,\n     providing an alternative and general solution for the non-portable\n-    run-time tests used by the ARM Neon code.  It also makes those tests\n-    compile and link on Android.\n+    run-time tests used by the ARM Neon code, using the PNG_ARM_NEON option.\n   The order of settings vs options in pnglibconf.h is reversed to allow\n     settings to depend on options and options can now set (or override) the\n     defaults for settings.\n@@ -4524,13 +4536,14 @@\n\n   Expanded manual paragraph about writing private chunks, particularly\n     the need to call png_set_keep_unknown_chunks() when writing them.\n   Avoid dereferencing NULL pointer possibly returned from\n-     png_create_write_struct() (Andrew Church).\n+    png_create_write_struct() (Andrew Church).\n \n Version 1.6.3beta05 [May 9, 2013]\n   Calculate our own zlib windowBits when decoding rather than trusting the\n     CMF bytes in the PNG datastream.\n   Added an option to force maximum window size for inflating, which was\n-    the behavior of libpng15 and earlier.\n+    the behavior of libpng15 and earlier, via a new PNG_MAXIMUM_INFLATE_WINDOW\n+    option for png_set_options().\n   Added png-fix-itxt and png-fix-too-far-back to the built programs and\n     removed warnings from the source code and timepng that are revealed as\n     a result.\n@@ -4873,6 +4886,565 @@\n\n   Un-deprecated png_data_freer().\n \n Version 1.6.10 [March 6, 2014]\n+  No changes.\n+\n+Version 1.6.11beta01 [March 17, 2014]\n+  Use \""if (value != 0)\"" instead of \""if (value)\"" consistently.\n+  Changed ZlibSrcDir from 1.2.5 to 1.2.8 in projects/vstudio.\n+  Moved configuration information from the manual to the INSTALL file.\n+\n+Version 1.6.11beta02 [April 6, 2014]\n+  Removed #if/#else/#endif from inside two pow() calls in pngvalid.c because\n+    they were handled improperly by Portland Group's PGI-14.1 - PGI-14.3\n+    when using its \""__builtin_pow()\"" function.\n+  Silence 'unused parameter' build warnings (Cosmin Truta).\n+  $(CP) is now used alongside $(RM_F).  Also, use 'copy' instead of 'cp'\n+    where applicable, and applied other minor makefile changes (Cosmin).\n+  Don't warn about invalid dimensions exceeding user limits (Cosmin).\n+  Allow an easy replacement of the default pre-built configuration\n+    header with a custom header, via the make PNGLIBCONF_H_PREBUILT\n+    macro (Cosmin).\n+\n+Version 1.6.11beta03 [April 6, 2014]\n+  Fixed a typo in pngrutil.c, introduced in libpng-1.5.6, that interferes\n+    with \""blocky\"" expansion of sub-8-bit interlaced PNG files (Eric Huss).\n+  Optionally use  __builtin_bswap16() in png_do_swap().\n+\n+Version 1.6.11beta04 [April 19, 2014]\n+  Made progressive reading of interlaced images consistent with the\n+    behavior of the sequential reader and consistent with the manual, by\n+    moving some code out of the PNG_READ_INTERLACING_SUPPORTED blocks. The\n+    row_callback now receives the proper pass number and unexpanded rows, when\n+    png_combine_row() isn't built or used, and png_set_interlace_handling()\n+    is not called.\n+  Allow PNG_sRGB_PROFILE_CHECKING = (-1) to mean no sRGB profile checking.\n+\n+Version 1.6.11beta05 [April 26, 2014]\n+  Do not reject ICC V2 profiles that lack padding (Kai-Uwe Behrmann).\n+  Relocated closing bracket of the sRGB profile test loop to avoid getting\n+    \""Not recognizing known sRGB profile that has been edited\"" warning for\n+    ICC V2 profiles that lack the MD5 signature in the profile header.\n+\n+Version 1.6.11beta06 [May 19, 2014]\n+  Added PNG_SKIP_sRGB_CHECK_PROFILE choice for png_set_option().\n+\n+Version 1.6.11rc01 [May 27, 2014]\n+  No changes.\n+\n+Version 1.6.11rc02 [June 3, 2014]\n+  Test ZLIB_VERNUM instead of PNG_ZLIB_VERNUM in contrib/tools/pngfix.c\n+\n+Version 1.6.11 [June 5, 2014]\n+  No changes.\n+\n+Version 1.6.12rc01 [June 6, 2014]\n+  Relocated new code from 1.6.11beta06 in png.c to a point after the\n+    declarations (Max Stepin).\n+\n+Version 1.6.12rc02 [June 7, 2014]\n+  Changed file permissions of contrib/tools/intgamma.sh,\n+    test-driver, and compile from 0644 to 0755 (Cosmin).\n+\n+Version 1.6.12rc03 [June 8, 2014]\n+  Ensure \""__has_attribute()\"" macro exists before trying to use it with\n+    old clang compilers (MacPorts Ticket #43939).\n+\n+Version 1.6.12 [June 12, 2014]\n+  No changes.\n+\n+Version 1.6.13beta01 [July 4, 2014]\n+  Quieted -Wsign-compare and -Wclobber compiler warnings in\n+    contrib/pngminus/*.c\n+  Added \""(void) png_ptr;\"" where needed in contrib/gregbook to quiet\n+    compiler complaints about unused pointers.\n+  Split a long output string in contrib/gregbook/rpng2-x.c.\n+  Added \""PNG_SET_OPTION\"" requirement for sRGB chunk support to pnglibconf.dfa,\n+    Needed for write-only support (John Bowler).\n+  Changed \""if defined(__ARM_NEON__)\"" to\n+    \""if (defined(__ARM_NEON__) || defined(__ARM_NEON))\"" (James Wu).\n+  Fixed clang no-warning builds: png_digit was defined but never used.\n+    \n+Version 1.6.13beta02 [July 21, 2014]\n+  Fixed an incorrect separator (\""/\"" should be \""\\\"") in scripts/makefile.vcwin32\n+    (bug report from Wolfgang S. Kechel).  Bug was introduced in libpng-1.6.11.\n+    Also fixed makefile.bc32, makefile.bor, makefile.msc, makefile.intel, and\n+    makefile.tc3 similarly.\n+\n+Version 1.6.13beta03 [August 3, 2014]\n+  Removed scripts/makefile.elf. It has not worked since libpng-1.5.0beta14\n+    due to elimination of the PNG_FUNCTION_EXPORT and PNG_DATA_EXPORT\n+    definitions from pngconf.h.\n+  Ensure that CMakeLists.txt makes the target \""lib\"" directory before making\n+    symbolic link into it (SourceForge bug report #226 by Rolf Timmermans).\n+\n+Version 1.6.13beta04 [August 8, 2014]\n+  Added opinion that the ECCN (Export Control Classification Number) for\n+    libpng is EAR99 to the README file.\n+  Eliminated use of \""$<\"" in makefile explicit rules, when copying\n+    $PNGLIBCONF_H_PREBUILT.  This does not work on some versions of make;\n+    bug introduced in libpng version 1.6.11.\n+\n+Version 1.6.13rc01 [August 14, 2014]\n+  Made \""ccopts\"" agree with \""CFLAGS\"" in scripts/makefile.hp* and makefile.*sunu\n+\n+Version 1.6.13 [August 21, 2014]\n+  No changes.\n+\n+Version 1.6.14beta01 [September 14, 2014]\n+  Guard usage of png_ptr->options with #ifdef PNG_SET_OPTION_SUPPORTED.\n+  Do not build contrib/tools/pngfix.c when PNG_SETJMP_NOT_SUPPORTED,\n+    to allow \""make\"" to complete without setjmp support (bug report by\n+    Claudio Fontana)\n+  Add \""#include <setjmp.h>\"" to contrib/tools/pngfix.c (John Bowler)\n+\n+Version 1.6.14beta02 [September 18, 2014]\n+  Use nanosleep() instead of usleep() in contrib/gregbook/rpng2-x.c\n+    because usleep() is deprecated.\n+  Define usleep() in contrib/gregbook/rpng2-x.c if not already defined\n+    in unistd.h and nanosleep() is not available; fixes error introduced\n+    in libpng-1.6.13.\n+  Disable floating point exception handling in pngvalid.c when\n+    PNG_FLOATING_ARITHMETIC is not supported (bug report by \""zootus\n+    at users.sourceforge.net\"").\n+\n+Version 1.6.14beta03 [September 19, 2014]\n+  Define FE_DIVBYZERO, FE_INVALID, and FE_OVERFLOW in pngvalid.c if not\n+    already defined.  Revert floating point exception handling in pngvalid.c\n+    to version 1.6.14beta01 behavior.\n+\n+Version 1.6.14beta04 [September 27, 2014]\n+  Fixed incorrect handling of the iTXt compression flag in pngrutil.c\n+    (bug report by Shunsaku Hirata).  Bug was introduced in libpng-1.6.0.\n+\n+Version 1.6.14beta05 [October 1, 2014]\n+  Added \""option READ_iCCP enables READ_COMPRESSED_TEXT\"" to pnglibconf.dfa\n+\n+Version 1.6.14beta06 [October 5, 2014]\n+  Removed unused \""text_len\"" parameter from private function png_write_zTXt().\n+  Conditionally compile some code in png_deflate_claim(), when\n+    PNG_WARNINGS_SUPPORTED and PNG_ERROR_TEXT_SUPPORTED are disabled.\n+  Replaced repeated code in pngpread.c with PNG_PUSH_SAVE_BUFFER_IF_FULL.\n+  Added \""chunk iTXt enables TEXT\"" and \""chunk zTXt enables TEXT\""\n+    to pnglibconf.dfa.\n+  Removed \""option READ_COMPRESSED_TEXT enables READ_TEXT\"" from pnglibconf.dfa,\n+    to make it possible to configure a libpng that supports iCCP but not TEXT.\n+\n+Version 1.6.14beta07 [October 7, 2014]\n+  Removed \""option WRITE_COMPRESSED_TEXT enables WRITE_TEXT\"" from pnglibconf.dfa\n+  Only mark text chunks as written after successfully writing them.\n+\n+Version 1.6.14rc01 [October 15, 2014]\n+  Fixed some typos in comments.\n+\n+Version 1.6.14rc02 [October 17, 2014]\n+  Changed png_convert_to_rfc_1123() to png_convert_to_rfc_1123_buffer()\n+    in the manual, to reflect the change made in libpng-1.6.0.\n+  Updated README file to explain that direct access to the png_struct\n+    and info_struct members has not been permitted since libpng-1.5.0.\n+\n+Version 1.6.14 [October 23, 2014]\n+  No changes.\n+\n+Version 1.6.15beta01 [October 29, 2014]\n+  Changed \""if (!x)\"" to \""if (x == 0)\"" and \""if (x)\"" to \""if (x != 0)\""\n+  Simplified png_free_data().\n+  Added missing \""ptr = NULL\"" after some instances of png_free().\n+\n+Version 1.6.15beta02 [November 1, 2014]\n+  Changed remaining \""if (!x)\"" to \""if (x == 0)\"" and \""if (x)\"" to \""if (x != 0)\""\n+\n+Version 1.6.15beta03 [November 3, 2014]\n+  Added PNG_USE_ARM_NEON configuration flag (Marcin Juszkiewicz).\n+\n+Version 1.6.15beta04 [November 4, 2014]\n+  Removed new PNG_USE_ARM_NEON configuration flag and made a one-line\n+    revision to configure.ac to support ARM on aarch64 instead (John Bowler).\n+\n+Version 1.6.15beta05 [November 5, 2014]\n+  Use png_get_libpng_ver(NULL) instead of PNG_LIBPNG_VER_STRING in\n+    example.c, pngtest.c, and applications in the contrib directory.\n+  Avoid out-of-bounds memory access in png_user_version_check().\n+  Simplified and future-proofed png_user_version_check().\n+  Fixed GCC unsigned int->float warnings. Various versions of GCC\n+    seem to generate warnings when an unsigned value is implicitly\n+    converted to double. This is probably a GCC bug but this change\n+    avoids the issue by explicitly converting to (int) where safe.\n+  Free all allocated memory in pngimage. The file buffer cache was left\n+    allocated at the end of the program, harmless but it causes memory\n+    leak reports from clang.\n+  Fixed array size calculations to avoid warnings. At various points\n+    in the code the number of elements in an array is calculated using\n+    sizeof.  This generates a compile time constant of type (size_t) which\n+    is then typically assigned to an (unsigned int) or (int). Some versions\n+    of GCC on 64-bit systems warn about the apparent narrowing, even though\n+    the same compiler does apparently generate the correct, in-range,\n+    numeric constant.  This adds appropriate, safe, casts to make the\n+    warnings go away.\n+\n+Version 1.6.15beta06 [November 6, 2014]\n+  Reverted use png_get_libpng_ver(NULL) instead of PNG_LIBPNG_VER_STRING\n+    in the manual, example.c, pngtest.c, and applications in the contrib\n+    directory.  It was incorrect advice.\n+\n+Version 1.6.15beta07 [November 7, 2014]\n+  Removed #ifdef PNG_16BIT_SUPPORTED/#endif around png_product2(); it is\n+    needed by png_reciprocal2().\n+  Added #ifdef PNG_16BIT_SUPPORTED/#endif around png_log16bit() and\n+    png_do_swap().\n+  Changed all \""#endif /* PNG_FEATURE_SUPPORTED */\"" to \""#endif /* FEATURE */\""\n+\n+Version 1.6.15beta08 [November 8, 2014]\n+  More housecleaning in *.h\n+\n+Version 1.6.15rc01 [November 13, 2014]\n+\n+Version 1.6.15rc02 [November 14, 2014]\n+  The macros passed in the command line to Borland make were ignored if\n+    similarly-named macros were already defined in makefiles. This behavior\n+    is different from POSIX make and other make programs.  Surround the\n+    macro definitions with ifndef guards (Cosmin).\n+\n+Version 1.6.15rc03 [November 16, 2014]\n+  Added \""-D_CRT_SECURE_NO_WARNINGS\"" to CFLAGS in scripts/makefile.vcwin32.\n+  Removed the obsolete $ARCH variable from scripts/makefile.darwin.\n+\n+Version 1.6.15 [November 20, 2014]\n+  No changes.\n+\n+Version 1.6.16beta01 [December 14, 2014]\n+  Added \"".align 2\"" to arm/filter_neon.S to support old GAS assemblers that\n+    don't do alignment correctly.\n+  Revised Makefile.am and scripts/symbols.dfn to work with MinGW/MSYS\n+    (Bob Friesenhahn).\n+\n+Version 1.6.16beta02 [December 15, 2014]\n+  Revised Makefile.am and scripts/*.dfn again to work with MinGW/MSYS;\n+    renamed scripts/*.dfn to scripts/*.c (John Bowler).\n+\n+Version 1.6.16beta03 [December 21, 2014]\n+  Quiet a \""comparison always true\"" warning in pngstest.c (John Bowler).\n+\n+Version 1.6.16rc01 [December 21, 2014]\n+  Restored a test on width that was removed from png.c at libpng-1.6.9\n+    (Bug report by Alex Eubanks, CVE-2015-0973).\n+\n+Version 1.6.16rc02 [December 21, 2014]\n+  Undid the update to pngrutil.c in 1.6.16rc01.\n+\n+Version 1.6.16rc03 [December 21, 2014]\n+  Fixed an overflow in png_combine_row() with very wide interlaced images\n+    (Bug report and fix by John Bowler, CVE-2014-9495).\n+\n+Version 1.6.16 [December 22, 2014]\n+  No changes.\n+\n+Version 1.6.17beta01 [January 29, 2015]\n+  Removed duplicate PNG_SAFE_LIMITS_SUPPORTED handling from pngconf.h\n+  Corrected the width limit calculation in png_check_IHDR().\n+  Removed user limits from pngfix. Also pass NULL pointers to\n+    png_read_row to skip the unnecessary row de-interlace stuff.\n+  Added testing of png_set_packing() to pngvalid.c\n+  Regenerated configure scripts in the *.tar distributions with libtool-2.4.4\n+  Implement previously untested cases of libpng transforms in pngvalid.c\n+  Fixed byte order in png_do_read_filler() with 16-bit input. Previously\n+    the high and low bytes of the filler, from png_set_filler() or from\n+    png_set_add_alpha(), were read in the wrong order.\n+  Made the check for out-of-range values in png_set_tRNS() detect\n+    values that are exactly 2^bit_depth, and work on 16-bit platforms.\n+  Merged some parts of libpng-1.6.17beta01 and libpng-1.7.0beta47.\n+  Added #ifndef __COVERITY__ where needed in png.c, pngrutil.c and\n+    pngset.c to avoid warnings about dead code.\n+  Added \""& 0xff\"" to many instances of expressions that are typecast\n+    to (png_byte), to avoid Coverity warnings.\n+\n+Version 1.6.17beta02 [February 7, 2015]\n+  Work around one more Coverity-scan dead-code warning.\n+  Do not build png_product2() when it is unused.\n+\n+Version 1.6.17beta03 [February 17, 2015]\n+  Display user limits in the output from pngtest.\n+  Eliminated the PNG_SAFE_LIMITS macro and restored the 1-million-column\n+    and 1-million-row default limits in pnglibconf.dfa, that can be reset\n+    by the user at build time or run time.  This provides a more robust\n+    defense against DOS and as-yet undiscovered overflows.\n+\n+Version 1.6.17beta04 [February 21, 2015]\n+  Added PNG_WRITE_CUSTOMIZE_COMPRESSION_SUPPORTED macro, on by default.\n+  Allow user to call png_get_IHDR() with NULL arguments (Reuben Hawkins).\n+  Rebuilt configure scripts with automake-1.15 and libtool-2.4.6\n+\n+Version 1.6.17beta05 [February 25, 2015]\n+  Restored compiling of png_reciprocal2 with PNG_NO_16BIT.\n+\n+Version 1.6.17beta06 [February 27, 2015]\n+  Moved png_set_filter() prototype into a PNG_WRITE_SUPPORTED block\n+    of png.h.\n+  Avoid runtime checks when converting integer to png_byte with\n+    Visual Studio (Sergey Kosarevsky)\n+\n+Version 1.6.17rc01 [March 4, 2015]\n+  No changes.\n+\n+Version 1.6.17rc02 [March 9, 2015]\n+  Removed some comments that the configure script did not handle\n+    properly from scripts/pnglibconf.dfa and pnglibconf.h.prebuilt.\n+  Free the unknown_chunks structure even when it contains no data.\n+\n+Version 1.6.17rc03 [March 12, 2015]\n+  Updated CMakeLists.txt to add OSX framework, change YES/NO to ON/OFF\n+    for consistency, and remove some useless tests (Alexey Petruchik).\n+\n+Version 1.6.17rc04 [March 16, 2015]\n+  Remove pnglibconf.h, pnglibconf.c, and pnglibconf.out instead of\n+    pnglibconf.* in \""make clean\"" (Cosmin).\n+  Fix bug in calculation of maxbits, in png_write_sBIT, introduced\n+    in libpng-1.6.17beta01 (John Bowler).\n+\n+Version 1.6.17rc05 [March 21, 2015]\n+  Define PNG_FILTER_* and PNG_FILTER_VALUE_* in png.h even when WRITE\n+    is not supported (John Bowler).  This fixes an error introduced in\n+    libpng-1.6.17beta06.\n+  Reverted \""& 0xff\"" additions of version 1.6.17beta01. Libpng passes\n+    the Coverity scan without them.\n+\n+Version 1.6.17rc06 [March 23, 2015]\n+  Remove pnglibconf.dfn and pnglibconf.pre with \""make clean\"".\n+  Reformatted some \""&0xff\"" instances to \""& 0xff\"".\n+  Fixed simplified 8-bit-linear to sRGB alpha. The calculated alpha\n+    value was wrong.  It's not clear if this affected the final stored\n+    value; in the obvious code path the upper and lower 8-bits of the\n+    alpha value were identical and the alpha was truncated to 8-bits\n+    rather than dividing by 257 (John Bowler).\n+\n+Version 1.6.17 [March 26, 2015]\n+  No changes.\n+\n+Version 1.6.18beta01 [April 1, 2015]\n+  Removed PNG_SET_CHUNK_[CACHE|MALLOC]_LIMIT_SUPPORTED macros.  They\n+    have been combined with PNG_SET_USER_LIMITS_SUPPORTED (resolves\n+    bug report by Andrew Church).\n+  Fixed rgb_to_gray checks and added tRNS checks to pngvalid.c.  This\n+    fixes some arithmetic errors that caused some tests to fail on\n+    some 32-bit platforms (Bug reports by Peter Breitenlohner [i686]\n+    and Petr Gajdos [i586]).\n+\n+Version 1.6.18beta02 [April 26, 2015]\n+  Suppressed some warnings from the Borland C++ 5.5.1/5.82 compiler\n+    (Bug report by Viktor Szakats).\n+\n+Version 1.6.18beta03 [May 6, 2015]\n+  Replaced \""unexpected\"" with an integer (0xabadca11) in pngset.c\n+    where a long was expected, to avoid a compiler warning when PNG_DEBUG > 1.\n+  Added contrib/examples/simpleover.c, to demonstrate how to handle\n+    alpha compositing of multiple images, using the \""simplified API\""\n+    and an example PNG generation tool, contrib/examples/genpng.c\n+    (John Bowler).\n+\n+Version 1.6.18beta04 [May 20, 2015]\n+  PNG_RELEASE_BUILD replaces tests where the code depended on the build base\n+    type and can be defined on the command line, allowing testing in beta\n+    builds (John Bowler).\n+  Avoid Coverity issue 80858 (REVERSE NULL) in pngtest.c PNG_DEBUG builds.\n+  Avoid a harmless potential integer overflow in png_XYZ_from_xy() (Bug\n+    report from Christopher Ferris).\n+\n+Version 1.6.18beta05 [May 31, 2015]\n+  Backport filter selection code from libpng-1.7.0beta51, to combine\n+    sub_row, up_row, avg_row, and paeth_row into try_row and tst_row.\n+  Changed png_voidcast(), etc., to voidcast(), etc., in contrib/tools/pngfix.c\n+    to avoid confusion with the libpng private macros.\n+  Fixed old cut&paste bug in the weighted filter selection code in\n+    pngwutil.c, introduced in libpng-0.95, March 1997.\n+\n+Version 1.6.18beta06 [June 1, 2015]\n+  Removed WRITE_WEIGHTED_FILTERED code, to save a few kbytes of the\n+    compiled library size. It never worked properly and as far as we can\n+    tell, no one uses it. The png_set_filter_heuristics() and\n+    png_set_filter_heuristics_fixed() APIs are retained but deprecated\n+    and do nothing.\n+\n+Version 1.6.18beta07 [June 6, 2015]\n+  Removed non-working progressive reader 'skip' function. This\n+    function has apparently never been used. It was implemented\n+    to support back-door modification of png_struct in libpng-1.4.x\n+    but (because it does nothing and cannot do anything) was apparently\n+    never tested (John Bowler).\n+  Fixed cexcept.h in which GCC 5 now reports that one of the auto\n+    variables in the Try macro needs to be volatile to prevent value\n+    being lost over the setjmp (John Bowler).\n+  Fixed NO_WRITE_FILTER and -Wconversion build breaks (John Bowler).\n+  Fix g++ build breaks (John Bowler).\n+  Quieted some Coverity issues in pngfix.c, png-fix-itxt.c, pngvalid.c,\n+    pngstest.c, and pngimage.c. Most seem harmless, but png-fix-itxt\n+    would only work with iTXt chunks with length 255 or less.\n+  Added #ifdef's to contrib/examples programs so people don't try\n+    to compile them without the minimum required support enabled\n+    (suggested by Flavio Medeiros).\n+\n+Version 1.6.18beta08 [June 30, 2015]\n+  Eliminated the final two Coverity defects (insecure temporary file\n+    handling in contrib/libtests/pngstest.c; possible overflow of\n+    unsigned char in contrib/tools/png-fix-itxt.c). To use the \""secure\""\n+    file handling, define PNG_USE_MKSTEMP, otherwise \""tmpfile()\"" will\n+    be used.\n+  Removed some unused WEIGHTED_FILTER macros from png.h and pngstruct.h\n+\n+Version 1.6.18beta09 [July 5, 2015]\n+  Removed some useless typecasts from contrib/tools/png-fix-itxt.c\n+  Fixed a new signed-unsigned comparison in pngrtran.c (Max Stepin).\n+  Replaced arbitrary use of 'extern' with #define PNG_LINKAGE_*.  To\n+    preserve API compatibility, the new defines all default to \""extern\""\n+    (requested by Jan Nijtmans).\n+\n+Version 1.6.18rc01 [July 9, 2015]\n+  Belatedly added Mans Rullgard and James Yu to the list of Contributing\n+    Authors.\n+\n+Version 1.6.18rc02 [July 12, 2015]\n+  Restored unused FILTER_HEURISTIC macros removed at libpng-1.6.18beta08\n+    to png.h to avoid compatibility warnings.\n+\n+Version 1.6.18rc03 [July 15, 2015]\n+  Minor changes to the man page\n+\n+Version 1.6.18 [July 23, 2015]\n+  No changes.\n+\n+Version 1.6.19beta01 [July 30, 2015]\n+  Updated obsolete information about the simplified API macros in the\n+    manual pages (Bug report by Arc Riley).\n+  Avoid potentially dereferencing NULL info_ptr in png_info_init_3().\n+  Rearranged png.h to put the major sections in the same order as\n+    in libpng17.\n+  Eliminated unused PNG_COST_SHIFT, PNG_WEIGHT_SHIFT, PNG_COST_FACTOR, and\n+    PNG_WEIGHT_FACTOR macros.\n+  Suppressed some warnings from the Borland C++ 5.5.1/5.82 compiler\n+    (Bug report by Viktor Szakats).  Several warnings remain and are\n+    unavoidable, where we test for overflow.\n+  Fixed potential leak of png_pixels in contrib/pngminus/pnm2png.c\n+  Fixed uninitialized variable in contrib/gregbook/rpng2-x.c\n+\n+Version 1.6.19beta02 [August 19, 2015]\n+  Moved config.h.in~ from the \""libpng_autotools_files\"" list to the\n+    \""libpng_autotools_extra\"" list in autogen.sh because it was causing a\n+    false positive for missing files (bug report by Robert C. Seacord).\n+  Removed unreachable \""break\"" statements in png.c, pngread.c, and pngrtran.c\n+    to suppress clang warnings (Bug report by Viktor Szakats).\n+  Fixed some bad links in the man page.\n+  Changed \""n bit\"" to \""n-bit\"" in comments.\n+  Added signed/unsigned 16-bit safety net. This removes the dubious\n+    0x8000 flag definitions on 16-bit systems. They aren't supported\n+    yet the defs *probably* work, however it seems much safer to do this\n+    and be advised if anyone, contrary to advice, is building libpng 1.6\n+    on a 16-bit system. It also adds back various switch default clauses\n+    for GCC; GCC errors out if they are not present (with an appropriately\n+    high level of warnings).\n+  Safely convert num_bytes to a png_byte in png_set_sig_bytes() (Robert\n+    Seacord).\n+  Fixed the recently reported 1's complement security issue by replacing\n+    the value that is illegal in the PNG spec, in both signed and unsigned\n+    values, with 0. Illegal unsigned values (anything greater than or equal\n+    to  0x80000000) can still pass through, but since these are not illegal\n+    in ANSI-C (unlike 0x80000000 in the signed case) the checking that\n+    occurs later can catch them (John Bowler).\n+\n+Version 1.6.19beta03 [September 26, 2015]\n+  Fixed png_save_int_32 when int is not 2's complement (John Bowler).\n+  Updated libpng16 with all the recent test changes from libpng17,\n+    including changes to pngvalid.c to ensure that the original,\n+    distributed, version of contrib/visupng/cexcept.h can be used\n+    (John Bowler).\n+  pngvalid contains the correction to the use of SAVE/STORE_\n+    UNKNOWN_CHUNKS; a bug revealed by changes in libpng 1.7. More\n+    tests contain the --strict option to detect warnings and the\n+    pngvalid-standard test has been corrected so that it does not\n+    turn on progressive-read. There is a separate test which does\n+    that. (John Bowler)\n+  Also made some signed/unsigned fixes.\n+  Make pngstest error limits version specific. Splitting the machine\n+    generated error structs out to a file allows the values to be updated\n+    without changing pngstest.c itself. Since libpng 1.6 and 1.7 have\n+    slightly different error limits this simplifies maintenance. The\n+    makepngs.sh script has also been updated to more accurately reflect\n+    current problems in libpng 1.7 (John Bowler).\n+  Incorporated new test PNG files into make check.  tests/pngstest-*\n+    are changed so that the new test files are divided into 8 groups by\n+    gamma and alpha channel.  These tests have considerably better code\n+    and pixel-value coverage than contrib/pngsuite; however,coverage is\n+    still incomplete (John Bowler).\n+  Removed the '--strict' in 1.6 because of the double-gamma-correction\n+    warning, updated pngstest-errors.h for the errors detected with the\n+    new contrib/testspngs PNG test files (John Bowler).\n+\n+Version 1.6.19beta04 [October 15, 2015]\n+  Worked around rgb-to-gray issues in libpng 1.6.  The previous\n+    attempts to ignore the errors in the code aren't quite enough to\n+    deal with the 'channel selection' encoding added to libpng 1.7; abort.\n+    pngvalid.c is changed to drop this encoding in prior versions.\n+  Fixed 'pow' macros in pngvalid.c. It is legal for 'pow' to be a\n+    macro, therefore the argument list cannot contain preprocessing\n+    directives.  Make sure pow is a function where this happens. This is\n+    a minimal safe fix, the issue only arises in non-performance-critical\n+    code (bug report by Curtis Leach, fix by John Bowler).\n+  Added sPLT support to pngtest.c\n+\n+Version 1.6.19rc01 [October 23, 2015]\n+  No changes.\n+\n+Version 1.6.19rc02 [October 31, 2015]\n+  Prevent setting or writing over-length PLTE chunk (Cosmin Truta).\n+  Silently truncate over-length PLTE chunk while reading.\n+  Libpng incorrectly calculated the output rowbytes when the application\n+    decreased either the number of channels or the bit depth (or both) in\n+    a user transform.  This was safe; libpng overallocated buffer space\n+   (potentially by quite a lot; up to 4 times the amount required) but,\n+   from 1.5.4 on, resulted in a png_error (John Bowler).\n+\n+Version 1.6.19rc03 [November 3, 2015]\n+  Fixed some inconsequential cut-and-paste typos in png_set_cHRM_XYZ_fixed().\n+  Clarified COPYRIGHT information to state explicitly that versions\n+    are derived from previous versions.\n+  Removed much of the long list of previous versions from png.h and\n+    libpng.3.\n+\n+Version 1.6.19rc04 [November 5, 2015]\n+  Fixed new bug with CRC error after reading an over-length palette\n+    (bug report by Cosmin Truta) (CVE-2015-8126).\n+\n+Version 1.6.19 [November 12, 2015]\n+  Cleaned up coding style in png_handle_PLTE().\n+\n+Version 1.6.20beta01 [November 20, 2015]\n+  Avoid potential pointer overflow/underflow in png_handle_sPLT() and\n+    png_handle_pCAL() (Bug report by John Regehr).\n+\n+Version 1.6.20beta02 [November 23, 2015]\n+  Fixed incorrect implementation of png_set_PLTE() that uses png_ptr\n+    not info_ptr, that left png_set_PLTE() open to the CVE-2015-8126\n+    vulnerability.\n+\n+Version 1.6.20beta03 [November 24, 2015]\n+  Backported tests from libpng-1.7.0beta69.\n+\n+Version 1.6.20rc01 [November 26, 2015]\n+  Fixed an error in handling of bad zlib CMINFO field in pngfix, found by\n+    American Fuzzy Lop, reported by Brian Carpenter.  inflate() doesn't\n+    immediately fault a bad CMINFO field; instead a 'too far back' error\n+    happens later (at least some times).  pngfix failed to limit CMINFO to\n+    the allowed values but then assumed that window_bits was in range,\n+    triggering an assert. The bug is mostly harmless; the PNG file cannot\n+    be fixed.\n+\n+Version 1.6.20rc02 [November 29, 2015]\n+  In libpng 1.6 zlib initialization was changed to use the window size\n+    in the zlib stream, not a fixed value. This causes some invalid images,\n+    where CINFO is too large, to display 'correctly' if the rest of the\n+    data is valid.  This provides a workaround for zlib versions where the\n+    error arises (ones that support the API change to use the window size\n+    in the stream).\n+\n+Version 1.6.20 [December 3, 2015]\n+  No changes.\n \n Send comments/corrections/commendations to png-mng-implement at lists.sf.net\n (subscription required; visit\n""}<_**next**_>{""filename"": ""CMakeLists.txt"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/CMakeLists.txt"", ""patch"": ""@@ -1,6 +1,6 @@\n\n # CMakeLists.txt\n \n-# Copyright (C) 2007-2013 Glenn Randers-Pehrson\n+# Copyright (C) 2007-2015 Glenn Randers-Pehrson\n \n # This code is released under the libpng license.\n # For conditions of distribution and use, see the disclaimer\n@@ -16,7 +16,7 @@\n\n \n set(PNGLIB_MAJOR 1)\n set(PNGLIB_MINOR 6)\n-set(PNGLIB_RELEASE 10)\n+set(PNGLIB_RELEASE 20)\n set(PNGLIB_NAME libpng${PNGLIB_MAJOR}${PNGLIB_MINOR})\n set(PNGLIB_VERSION ${PNGLIB_MAJOR}.${PNGLIB_MINOR}.${PNGLIB_RELEASE})\n \n@@ -30,8 +30,7 @@\n\n     PATHS /usr/lib /usr/local/lib\n   )\n   if(NOT M_LIBRARY)\n-    message(STATUS\n-      \""math library 'libm' not found - floating point support disabled\"")\n+    message(STATUS \""math lib 'libm' not found; floating point support disabled\"")\n   endif()\n else()\n   # not needed on windows\n@@ -39,22 +38,14 @@\n\n endif()\n \n # COMMAND LINE OPTIONS\n-if(DEFINED PNG_SHARED)\n-  option(PNG_SHARED \""Build shared lib\"" ${PNG_SHARED})\n-else()\n-  option(PNG_SHARED \""Build shared lib\"" ON)\n-endif()\n-if(DEFINED PNG_STATIC)\n-  option(PNG_STATIC \""Build static lib\"" ${PNG_STATIC})\n-else()\n-  option(PNG_STATIC \""Build static lib\"" ON)\n-endif()\n-\n-option(PNG_TESTS  \""Build libpng tests\"" YES)\n+option(PNG_SHARED \""Build shared lib\"" ON)\n+option(PNG_STATIC \""Build static lib\"" ON)\n+option(PNG_TESTS  \""Build libpng tests\"" ON)\n \n # Many more configuration options could be added here\n-option(PNG_DEBUG         \""Build with debug output\"" NO)\n-option(PNGARG            \""Disable ANSI-C prototypes\"" NO)\n+option(PNG_FRAMEWORK \""Build OS X framework\"" OFF)\n+option(PNG_DEBUG     \""Build with debug output\"" OFF)\n+option(PNGARG        \""Disable ANSI-C prototypes\"" OFF)\n \n # SET LIBNAME\n set(PNG_LIB_NAME png${PNGLIB_MAJOR}${PNGLIB_MINOR})\n@@ -134,7 +125,7 @@\n\n endif()\n \n if(PNG_STATIC)\n-# does not work without changing name\n+  # does not work without changing name\n   set(PNG_LIB_NAME_STATIC ${PNG_LIB_NAME}_static)\n   add_library(${PNG_LIB_NAME_STATIC} STATIC ${libpng_sources})\n   list(APPEND PNG_LIB_TARGETS ${PNG_LIB_NAME_STATIC})\n@@ -145,10 +136,27 @@\n\n   target_link_libraries(${PNG_LIB_NAME_STATIC} ${ZLIB_LIBRARY} ${M_LIBRARY})\n endif()\n \n+if(PNG_FRAMEWORK)\n+  set(PNG_LIB_NAME_FRAMEWORK ${PNG_LIB_NAME}_framework)\n+  add_library(${PNG_LIB_NAME_FRAMEWORK} SHARED ${libpng_sources})\n+  list(APPEND PNG_LIB_TARGETS ${PNG_LIB_NAME_FRAMEWORK})\n+  set_target_properties(${PNG_LIB_NAME_FRAMEWORK} PROPERTIES\n+    FRAMEWORK TRUE\n+    FRAMEWORK_VERSION ${PNGLIB_VERSION}\n+    MACOSX_FRAMEWORK_SHORT_VERSION_STRING ${PNGLIB_MAJOR}.${PNGLIB_MINOR}\n+    MACOSX_FRAMEWORK_BUNDLE_VERSION ${PNGLIB_VERSION}\n+    MACOSX_FRAMEWORK_IDENTIFIER org.libpng.libpng\n+    XCODE_ATTRIBUTE_INSTALL_PATH \""@rpath\""\n+    PUBLIC_HEADER \""${libpng_public_hdrs}\""\n+    OUTPUT_NAME png)\n+  target_link_libraries(${PNG_LIB_NAME_FRAMEWORK} ${ZLIB_LIBRARY} ${M_LIBRARY})\n+endif()\n+\n if(NOT PNG_LIB_TARGETS)\n   message(SEND_ERROR\n     \""No library variant selected to build. \""\n-    \""Please enable at least one of the following options: PNG_STATIC, PNG_SHARED\"")\n+    \""Please enable at least one of the following options: \""\n+    \"" PNG_STATIC, PNG_SHARED, PNG_FRAMEWORK\"")\n endif()\n \n if(PNG_SHARED AND WIN32)\n@@ -220,6 +228,7 @@\n\n     ADD_CUSTOM_TARGET(${DEST_FILE}_COPY ALL DEPENDS ${CMAKE_LIBRARY_OUTPUT_DIRECTORY}/${DEST_FILE})\n   else(WIN32 AND NOT CYGWIN AND NOT MSYS)\n     get_filename_component(LINK_TARGET \""${SRC_FILE}\"" NAME)\n+    execute_process(COMMAND ${CMAKE_COMMAND} -E make_directory ${CMAKE_CURRENT_BINARY_DIR}/${CMAKE_LIBRARY_OUTPUT_DIRECTORY})\n     execute_process(COMMAND ${CMAKE_COMMAND} -E create_symlink \""${LINK_TARGET}\"" ${CMAKE_LIBRARY_OUTPUT_DIRECTORY}/${DEST_FILE} WORKING_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR})\n     execute_process(COMMAND ${CMAKE_COMMAND} -E create_symlink \""${LINK_TARGET}\"" ${DEST_FILE} WORKING_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR})\n   endif(WIN32 AND NOT CYGWIN AND NOT MSYS)\n@@ -252,7 +261,7 @@\n\n # SET UP LINKS\n if(PNG_SHARED)\n   set_target_properties(${PNG_LIB_NAME} PROPERTIES\n-#   VERSION 16.${PNGLIB_RELEASE}.1.6.10\n+#   VERSION 16.${PNGLIB_RELEASE}.1.6.20\n     VERSION 16.${PNGLIB_RELEASE}.0\n     SOVERSION 16\n     CLEAN_DIRECT_OUTPUT 1)\n@@ -283,7 +292,8 @@\n\n       ${PNG_EXPORT_RULE}\n       RUNTIME DESTINATION bin\n       LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}\n-      ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR})\n+      ARCHIVE DESTINATION ${CMAKE_INSTALL_LIBDIR}\n+      FRAMEWORK DESTINATION ${CMAKE_INSTALL_LIBDIR})\n \n   if(PNG_SHARED)\n     # Create a symlink for libpng.dll.a => libpng16.dll.a on Cygwin\n@@ -350,7 +360,7 @@\n\n   install(EXPORT libpng DESTINATION lib/libpng FILE lib${PNG_LIB_NAME}.cmake)\n endif()\n \n-# what's with libpng-$VER%.txt and all the extra files?\n+# what's with libpng-manual.txt and all the extra files?\n \n # UNINSTALL\n # do we need this?\n""}<_**next**_>{""filename"": ""INSTALL"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/INSTALL"", ""patch"": ""@@ -1,13 +1,47 @@\n\n \n Installing libpng\n \n+Contents\n+\n+   I. Simple installation\n+  II. Rebuilding the configure scripts\n+ III. Using scripts/makefile*\n+  IV. Using cmake\n+   V. Directory structure\n+  VI. Building with project files\n+ VII. Building with makefiles\n+VIII. Configuring libpng for 16-bit platforms\n+  IX. Configuring for DOS\n+   X. Configuring for Medium Model\n+  XI. Prepending a prefix to exported symbols\n+ XII. Configuring for compiler xxx:\n+XIII. Removing unwanted object code\n+ XIV. Changes to the build and configuration of libpng in libpng-1.5.x\n+  XV. Setjmp/longjmp issues\n+ XVI. Other sources of information about libpng\n+\n+I. Simple installation\n+\n On Unix/Linux and similar systems, you can simply type\n \n     ./configure [--prefix=/path]\n     make check\n     make install\n \n-and ignore the rest of this document.\n+and ignore the rest of this document.  \""/path\"" is the path to the directory\n+where you want to install the libpng \""lib\"", \""include\"", and \""bin\""\n+subdirectories.\n+\n+If you downloaded a GIT clone, you will need to run ./autogen.sh before\n+running ./configure, to create \""configure\"" and \""Makefile.in\"" which are\n+not included in the GIT repository.\n+\n+Note that \""configure\"" is only included in the \""*.tar\"" distributions and not\n+in the \""*.zip\"" or \""*.7z\"" distributions. If you downloaded one of those\n+distributions, see \""Building with project files\"" or \""Building with makefiles\"",\n+below.\n+\n+II. Rebuilding the configure scripts\n \n If configure does not work on your system, or if you have a need to\n change configure.ac or Makefile.am, and you have a reasonably\n@@ -24,9 +58,12 @@\n\n     make install\n     make check\n \n+III. Using scripts/makefile*\n+\n Instead, you can use one of the custom-built makefiles in the\n \""scripts\"" directory\n \n+    cp scripts/pnglibconf.h.prebuilt pnglibconf.h\n     cp scripts/makefile.system makefile\n     make test\n     make install\n@@ -38,8 +75,8 @@\n\n \n Before installing libpng, you must first install zlib, if it\n is not already on your system.  zlib can usually be found\n-wherever you got libpng.  zlib can be placed in another directory,\n-at the same level as libpng.\n+wherever you got libpng; otherwise go to http://zlib.net.  You can place\n+zlib in in the same directory as libpng or in another directory.\n \n If your system already has a preinstalled zlib you will still need\n to have access to the zlib.h and zconf.h include files that\n@@ -59,15 +96,23 @@\n\n If you are using one of the makefile scripts, put ZLIBLIB and ZLIBINC\n in your environment and type \""make ZLIBLIB=$ZLIBLIB ZLIBINC=$ZLIBINC test\"".\n \n+IV. Using cmake\n+\n If you want to use \""cmake\"" (see www.cmake.org), type\n \n    cmake . -DCMAKE_INSTALL_PREFIX=/path\n    make\n    make install\n \n+As when using the simple configure method described above, \""/path\"" points to\n+the installation directory where you want to put the libpng \""lib\"", \""include\"",\n+and \""bin\"" subdirectories.\n+\n+V. Directory structure\n+\n You can rename the directories that you downloaded (they\n-might be called \""libpng-x.y.z\"" or \""libpngNN\"" and \""zlib-1.2.7\""\n-or \""zlib127\"") so that you have directories called \""zlib\"" and \""libpng\"".\n+might be called \""libpng-x.y.z\"" or \""libpngNN\"" and \""zlib-1.2.8\""\n+or \""zlib128\"") so that you have directories called \""zlib\"" and \""libpng\"".\n \n Your directory structure should look like this:\n \n@@ -75,8 +120,7 @@\n\n       libpng  (this directory)\n           INSTALL (this file)\n           README\n-          *.h\n-          *.c\n+          *.h, *.c  => libpng source files\n           CMakeLists.txt    =>  \""cmake\"" script\n           configuration files:\n              configure.ac, configure, Makefile.am, Makefile.in,\n@@ -84,15 +128,10 @@\n\n              libpng-config.in, aclocal.m4, config.h.in, config.sub,\n              depcomp, install-sh, mkinstalldirs, test-pngtest.sh\n           contrib\n-             gregbook\n-             libtests\n-             pngminim\n-             pngminus\n-             pngsuite\n-             visupng\n+             arm-neon, conftest, examples, gregbook, libtests, pngminim,\n+             pngminus, pngsuite, tools, visupng\n           projects\n-             visualc71\n-             vstudio\n+             cbuilder5, owatcom, visualc71, vstudio, xcode\n           scripts\n              makefile.*\n              *.def (module definition files)\n@@ -100,29 +139,31 @@\n\n           pngtest.png\n           etc.\n       zlib\n-          README\n-          *.h\n-          *.c\n-          contrib\n-          etc.\n+          README, *.h, *.c contrib, etc.\n \n If the line endings in the files look funny, you may wish to get the other\n distribution of libpng.  It is available in both tar.gz (UNIX style line\n endings) and zip (DOS style line endings) formats.\n \n+VI. Building with project files\n+\n If you are building libpng with MSVC, you can enter the\n-libpng projects\\visualc6 or visualc71 directory and follow the instructions\n+libpng projects\\visualc71 or vstudio directory and follow the instructions\n in README.txt.\n \n Otherwise enter the zlib directory and follow the instructions in zlib/README,\n then come back here and run \""configure\"" or choose the appropriate\n makefile.sys in the scripts directory.\n \n+VII. Building with makefiles\n+\n Copy the file (or files) that you need from the\n scripts directory into this directory, for example\n \n    MSDOS example: copy scripts\\makefile.msc makefile\n-   UNIX example:    cp scripts/makefile.std makefile\n+                  copy scripts\\pnglibconf.h.prebuilt pnglibconf.h\n+   UNIX example:  cp scripts/makefile.std makefile\n+                  cp scripts/pnglibconf.h.prebuilt pnglibconf.h\n \n Read the makefile to see if you need to change any source or\n target directories to match your preferences.\n@@ -145,6 +186,202 @@\n\n Some also allow you to run \""make test-installed\"" after you have\n run \""make install\"".\n \n+VIII. Configuring libpng for 16-bit platforms\n+\n+You will want to look into zconf.h to tell zlib (and thus libpng) that\n+it cannot allocate more than 64K at a time.  Even if you can, the memory\n+won't be accessible.  So limit zlib and libpng to 64K by defining MAXSEG_64K.\n+\n+IX. Configuring for DOS\n+\n+For DOS users who only have access to the lower 640K, you will\n+have to limit zlib's memory usage via a png_set_compression_mem_level()\n+call.  See zlib.h or zconf.h in the zlib library for more information.\n+\n+X. Configuring for Medium Model\n+\n+Libpng's support for medium model has been tested on most of the popular\n+compilers.  Make sure MAXSEG_64K gets defined, USE_FAR_KEYWORD gets\n+defined, and FAR gets defined to far in pngconf.h, and you should be\n+all set.  Everything in the library (except for zlib's structure) is\n+expecting far data.  You must use the typedefs with the p or pp on\n+the end for pointers (or at least look at them and be careful).  Make\n+note that the rows of data are defined as png_bytepp, which is\n+an \""unsigned char far * far *\"".\n+\n+XI. Prepending a prefix to exported symbols\n+\n+Starting with libpng-1.6.0, you can configure libpng (when using the\n+\""configure\"" script) to prefix all exported symbols by means of the\n+configuration option \""--with-libpng-prefix=FOO_\"", where FOO_ can be any\n+string beginning with a letter and containing only uppercase\n+and lowercase letters, digits, and the underscore (i.e., a C language\n+identifier).  This creates a set of macros in pnglibconf.h, so this is\n+transparent to applications; their function calls get transformed by\n+the macros to use the modified names.\n+\n+XII. Configuring for compiler xxx:\n+\n+All includes for libpng are in pngconf.h.  If you need to add, change\n+or delete an include, this is the place to do it.\n+The includes that are not needed outside libpng are placed in pngpriv.h,\n+which is only used by the routines inside libpng itself.\n+The files in libpng proper only include pngpriv.h and png.h, which\n+in turn includes pngconf.h and, as of libpng-1.5.0, pnglibconf.h.\n+As of libpng-1.5.0, pngpriv.h also includes three other private header\n+files, pngstruct.h, pnginfo.h, and pngdebug.h, which contain material\n+that previously appeared in the public headers.\n+\n+XIII. Removing unwanted object code\n+\n+There are a bunch of #define's in pngconf.h that control what parts of\n+libpng are compiled.  All the defines end in _SUPPORTED.  If you are\n+never going to use a capability, you can change the #define to #undef\n+before recompiling libpng and save yourself code and data space, or\n+you can turn off individual capabilities with defines that begin with\n+PNG_NO_.\n+\n+In libpng-1.5.0 and later, the #define's are in pnglibconf.h instead.\n+\n+You can also turn all of the transforms and ancillary chunk capabilities\n+off en masse with compiler directives that define\n+PNG_NO_READ[or WRITE]_TRANSFORMS, or PNG_NO_READ[or WRITE]_ANCILLARY_CHUNKS,\n+or all four, along with directives to turn on any of the capabilities that\n+you do want.  The PNG_NO_READ[or WRITE]_TRANSFORMS directives disable the\n+extra transformations but still leave the library fully capable of reading\n+and writing PNG files with all known public chunks. Use of the\n+PNG_NO_READ[or WRITE]_ANCILLARY_CHUNKS directive produces a library\n+that is incapable of reading or writing ancillary chunks.  If you are\n+not using the progressive reading capability, you can turn that off\n+with PNG_NO_PROGRESSIVE_READ (don't confuse this with the INTERLACING\n+capability, which you'll still have).\n+\n+All the reading and writing specific code are in separate files, so the\n+linker should only grab the files it needs.  However, if you want to\n+make sure, or if you are building a stand alone library, all the\n+reading files start with \""pngr\"" and all the writing files start with \""pngw\"".\n+The files that don't match either (like png.c, pngtrans.c, etc.)\n+are used for both reading and writing, and always need to be included.\n+The progressive reader is in pngpread.c\n+\n+If you are creating or distributing a dynamically linked library (a .so\n+or DLL file), you should not remove or disable any parts of the library,\n+as this will cause applications linked with different versions of the\n+library to fail if they call functions not available in your library.\n+The size of the library itself should not be an issue, because only\n+those sections that are actually used will be loaded into memory.\n+\n+XIV. Changes to the build and configuration of libpng in libpng-1.5.x\n+\n+Details of internal changes to the library code can be found in the CHANGES\n+file and in the GIT repository logs.  These will be of no concern to the vast\n+majority of library users or builders; however, the few who configure libpng\n+to a non-default feature set may need to change how this is done.\n+\n+There should be no need for library builders to alter build scripts if\n+these use the distributed build support - configure or the makefiles -\n+however, users of the makefiles may care to update their build scripts\n+to build pnglibconf.h where the corresponding makefile does not do so.\n+\n+Building libpng with a non-default configuration has changed completely.\n+The old method using pngusr.h should still work correctly even though the\n+way pngusr.h is used in the build has been changed; however, library\n+builders will probably want to examine the changes to take advantage of\n+new capabilities and to simplify their build system.\n+\n+A. Specific changes to library configuration capabilities\n+\n+The exact mechanism used to control attributes of API functions has\n+changed.  A single set of operating system independent macro definitions\n+is used and operating system specific directives are defined in\n+pnglibconf.h\n+\n+As part of this the mechanism used to choose procedure call standards on\n+those systems that allow a choice has been changed.  At present this only\n+affects certain Microsoft (DOS, Windows) and IBM (OS/2) operating systems\n+running on Intel processors.  As before, PNGAPI is defined where required\n+to control the exported API functions; however, two new macros, PNGCBAPI\n+and PNGCAPI, are used instead for callback functions (PNGCBAPI) and\n+(PNGCAPI) for functions that must match a C library prototype (currently\n+only png_longjmp_ptr, which must match the C longjmp function.)  The new\n+approach is documented in pngconf.h\n+\n+Despite these changes, libpng 1.5.0 only supports the native C function\n+calling standard on those platforms tested so far (__cdecl on Microsoft\n+Windows).  This is because the support requirements for alternative\n+calling conventions seem to no longer exist.  Developers who find it\n+necessary to set PNG_API_RULE to 1 should advise the mailing list\n+(png-mng-implement) of this and library builders who use Openwatcom and\n+therefore set PNG_API_RULE to 2 should also contact the mailing list.\n+\n+B. Changes to the configuration mechanism\n+\n+Prior to libpng-1.5.0 library builders who needed to configure libpng\n+had either to modify the exported pngconf.h header file to add system\n+specific configuration or had to write feature selection macros into\n+pngusr.h and cause this to be included into pngconf.h by defining\n+PNG_USER_CONFIG. The latter mechanism had the disadvantage that an\n+application built without PNG_USER_CONFIG defined would see the\n+unmodified, default, libpng API and thus would probably fail to link.\n+\n+These mechanisms still work in the configure build and in any makefile\n+build that builds pnglibconf.h, although the feature selection macros\n+have changed somewhat as described above.  In 1.5.0, however, pngusr.h is\n+processed only once, at the time the exported header file pnglibconf.h is\n+built.  pngconf.h no longer includes pngusr.h; therefore, pngusr.h is ignored\n+after the build of pnglibconf.h and it is never included in an application\n+build.\n+\n+The formerly used alternative of adding a list of feature macros to the\n+CPPFLAGS setting in the build also still works; however, the macros will be\n+copied to pnglibconf.h and this may produce macro redefinition warnings\n+when the individual C files are compiled.\n+\n+All configuration now only works if pnglibconf.h is built from\n+scripts/pnglibconf.dfa.  This requires the program awk.  Brian Kernighan\n+(the original author of awk) maintains C source code of that awk and this\n+and all known later implementations (often called by subtly different\n+names - nawk and gawk for example) are adequate to build pnglibconf.h.\n+The Sun Microsystems (now Oracle) program 'awk' is an earlier version\n+and does not work; this may also apply to other systems that have a\n+functioning awk called 'nawk'.\n+\n+Configuration options are now documented in scripts/pnglibconf.dfa.  This\n+file also includes dependency information that ensures a configuration is\n+consistent; that is, if a feature is switched off, dependent features are\n+also switched off.  As a recommended alternative to using feature macros in\n+pngusr.h a system builder may also define equivalent options in pngusr.dfa\n+(or, indeed, any file) and add that to the configuration by setting\n+DFA_XTRA to the file name.  The makefiles in contrib/pngminim illustrate\n+how to do this, and also illustrate a case where pngusr.h is still required.\n+\n+After you have built libpng, the definitions that were recorded in\n+pnglibconf.h are available to your application (pnglibconf.h is included\n+in png.h and gets installed alongside png.h and pngconf.h in your\n+$PREFIX/include directory).  Do not edit pnglibconf.h after you have built\n+libpng, because than the settings would not accurately reflect the settings\n+that were used to build libpng.\n+\n+XV. Setjmp/longjmp issues\n+\n+Libpng uses setjmp()/longjmp() for error handling.  Unfortunately setjmp()\n+is known to be not thread-safe on some platforms and we don't know of\n+any platform where it is guaranteed to be thread-safe.  Therefore, if\n+your application is going to be using multiple threads, you should\n+configure libpng with PNG_NO_SETJMP in your pngusr.dfa file, with\n+-DPNG_NO_SETJMP on your compile line, or with\n+\n+  #undef PNG_SETJMP_SUPPORTED\n+\n+in your pnglibconf.h or pngusr.h.\n+\n+Starting with libpng-1.6.0, the library included a \""simplified API\"".\n+This requires setjmp/longjmp, so you must either build the library\n+with PNG_SETJMP_SUPPORTED defined, or with PNG_SIMPLIFIED_READ_SUPPORTED\n+and PNG_SIMPLIFIED_WRITE_SUPPORTED undefined.\n+\n+XVI. Other sources of information about libpng:\n+\n Further information can be found in the README and libpng-manual.txt\n files, in the individual makefiles, in png.h, and the manual pages\n libpng.3 and png.5.\n@@ -162,7 +399,7 @@\n\n --with-pkgconfigdir=/usr/lib/pkgconfig --includedir=/usr/include\n \n You can alternatively specify --includedir=/usr/include, /usr/local/include,\n-/usr/include/libpng%NN%, or whatever.\n+/usr/include/libpng16, or whatever.\n \n If you find that the configure script is out-of-date or is not supporting\n your platform properly, try running autogen.sh to regenerate \""configure\"",\n""}<_**next**_>{""filename"": ""LICENSE"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/LICENSE"", ""patch"": ""@@ -10,21 +10,18 @@\n\n \n This code is released under the libpng license.\n \n-libpng versions 1.2.6, August 15, 2004, through 1.6.10, March 6, 2014, are\n-Copyright (c) 2004, 2006-2014 Glenn Randers-Pehrson, and are\n-distributed according to the same disclaimer and license as libpng-1.2.5\n-with the following individual added to the list of Contributing Authors\n-\n-   Cosmin Truta\n-\n-libpng versions 1.0.7, July 1, 2000, through 1.2.5 - October 3, 2002, are\n-Copyright (c) 2000-2002 Glenn Randers-Pehrson, and are\n-distributed according to the same disclaimer and license as libpng-1.0.6\n-with the following individuals added to the list of Contributing Authors\n+libpng versions 1.0.7, July 1, 2000, through 1.6.20, December 3, 2015, are\n+Copyright (c) 2000-2002, 2004, 2006-2015 Glenn Randers-Pehrson, are\n+derived from libpng-1.0.6, and are distributed according to the same\n+disclaimer and license as libpng-1.0.6 with the following individuals\n+added to the list of Contributing Authors:\n \n    Simon-Pierre Cadieux\n    Eric S. Raymond\n+   Mans Rullgard\n+   Cosmin Truta\n    Gilles Vollant\n+   James Yu\n \n and with the following additions to the disclaimer:\n \n@@ -36,18 +33,20 @@\n\n    the user.\n \n libpng versions 0.97, January 1998, through 1.0.6, March 20, 2000, are\n-Copyright (c) 1998, 1999 Glenn Randers-Pehrson, and are\n-distributed according to the same disclaimer and license as libpng-0.96,\n-with the following individuals added to the list of Contributing Authors:\n+Copyright (c) 1998-2000 Glenn Randers-Pehrson, are derived from\n+libpng-0.96, and are distributed according to the same disclaimer and\n+license as libpng-0.96, with the following individuals added to the list\n+of Contributing Authors:\n \n    Tom Lane\n    Glenn Randers-Pehrson\n    Willem van Schaik\n \n libpng versions 0.89, June 1996, through 0.96, May 1997, are\n-Copyright (c) 1996, 1997 Andreas Dilger\n-Distributed according to the same disclaimer and license as libpng-0.88,\n-with the following individuals added to the list of Contributing Authors:\n+Copyright (c) 1996-1997 Andreas Dilger, are derived from libpng-0.88,\n+and are distributed according to the same disclaimer and license as\n+libpng-0.88, with the following individuals added to the list of\n+Contributing Authors:\n \n    John Bowler\n    Kevin Bracey\n@@ -57,7 +56,7 @@\n\n    Tom Tanner\n \n libpng versions 0.5, May 1995, through 0.88, January 1996, are\n-Copyright (c) 1995, 1996 Guy Eric Schalnat, Group 42, Inc.\n+Copyright (c) 1995-1996 Guy Eric Schalnat, Group 42, Inc.\n \n For the purposes of this copyright and license, \""Contributing Authors\""\n is defined as the following set of individuals:\n@@ -80,13 +79,13 @@\n\n source code, or portions hereof, for any purpose, without fee, subject\n to the following restrictions:\n \n-1. The origin of this source code must not be misrepresented.\n+  1. The origin of this source code must not be misrepresented.\n \n-2. Altered versions must be plainly marked as such and must not\n-   be misrepresented as being the original source.\n+  2. Altered versions must be plainly marked as such and must not\n+     be misrepresented as being the original source.\n \n-3. This Copyright notice may not be removed or altered from any\n-   source or altered source distribution.\n+  3. This Copyright notice may not be removed or altered from any\n+     source or altered source distribution.\n \n The Contributing Authors and Group 42, Inc. specifically permit, without\n fee, and encourage the use of this source code as a component to\n@@ -94,18 +93,20 @@\n\n source code in a product, acknowledgment is not required but would be\n appreciated.\n \n+END OF COPYRIGHT NOTICE, DISCLAIMER, and LICENSE.\n \n A \""png_get_copyright\"" function is available, for convenient use in \""about\""\n boxes and the like:\n \n-   printf(\""%s\"",png_get_copyright(NULL));\n+   printf(\""%s\"", png_get_copyright(NULL));\n \n Also, the PNG logo (in PNG format, of course) is supplied in the\n files \""pngbar.png\"" and \""pngbar.jpg (88x31) and \""pngnow.png\"" (98x31).\n \n-Libpng is OSI Certified Open Source Software.  OSI Certified Open Source is a\n-certification mark of the Open Source Initiative.\n+Libpng is OSI Certified Open Source Software.  OSI Certified Open Source is\n+a certification mark of the Open Source Initiative. OSI has not addressed\n+the additional disclaimers inserted at version 1.0.7.\n \n Glenn Randers-Pehrson\n glennrp at users.sourceforge.net\n-March 6, 2014\n+December 3, 2015\n""}<_**next**_>{""filename"": ""Makefile.am"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/Makefile.am"", ""patch"": ""@@ -51,23 +51,17 @@\n\n    tests/pngvalid-gamma-expand16-background\\\n    tests/pngvalid-gamma-expand16-transform tests/pngvalid-gamma-sbit\\\n    tests/pngvalid-gamma-threshold tests/pngvalid-gamma-transform\\\n-   tests/pngvalid-progressive-interlace-size\\\n+   tests/pngvalid-progressive-size\\\n    tests/pngvalid-progressive-interlace-standard\\\n-   tests/pngvalid-progressive-interlace-transform\\\n+   tests/pngvalid-transform\\\n    tests/pngvalid-progressive-standard tests/pngvalid-standard\\\n-   tests/pngstest-0g01 tests/pngstest-0g02 tests/pngstest-0g04\\\n-   tests/pngstest-0g08 tests/pngstest-0g16 tests/pngstest-2c08\\\n-   tests/pngstest-2c16 tests/pngstest-3p01 tests/pngstest-3p02\\\n-   tests/pngstest-3p04 tests/pngstest-3p08 tests/pngstest-4a08\\\n-   tests/pngstest-4a16 tests/pngstest-6a08 tests/pngstest-6a16\\\n-   tests/pngstest-error tests/pngunknown-IDAT\\\n+   tests/pngstest-1.8 tests/pngstest-1.8-alpha tests/pngstest-linear\\\n+   tests/pngstest-linear-alpha tests/pngstest-none tests/pngstest-none-alpha\\\n+   tests/pngstest-sRGB tests/pngstest-sRGB-alpha tests/pngunknown-IDAT\\\n    tests/pngunknown-discard tests/pngunknown-if-safe tests/pngunknown-sAPI\\\n    tests/pngunknown-sTER tests/pngunknown-save tests/pngunknown-vpAg\\\n    tests/pngimage-quick tests/pngimage-full\n \n-# These tests are expected, and required, to fail:\n-XFAIL_TESTS = tests/pngstest-error\n-\n # man pages\n dist_man_MANS= libpng.3 libpngpf.3 png.5\n \n@@ -129,11 +123,12 @@\n\n \t$(TESTS) $(XFAIL_TESTS) tests/pngstest \\\n \tCMakeLists.txt example.c libpng-manual.txt\n \n-SCRIPT_CLEANFILES=scripts/*.out scripts/*.chk scripts/pnglibconf.dfn\n+SCRIPT_CLEANFILES=scripts/*.out scripts/*.chk\n \n CLEANFILES= *.tf? pngout.png libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@.pc \\\n \tlibpng@PNGLIB_MAJOR@@PNGLIB_MINOR@-config libpng.vers libpng.sym \\\n-\tcheck.new pnglibconf.* pngprefix.h symbols.new pngtest-log.txt \\\n+\tcheck.new pnglibconf.h pngprefix.h symbols.new pngtest-log.txt \\\n+\tpnglibconf.out pnglibconf.c pnglibconf.pre pnglibconf.dfn \\\n \t$(SCRIPT_CLEANFILES)\n \n MAINTAINERCLEANFILES = Makefile.in aclocal.m4 config.guess config.h.in \\\n@@ -152,7 +147,7 @@\n\n # checks for this and sets DFNCPP appropriately.\n DFNCPP = @DFNCPP@\n \n-SUFFIXES = .chk .dfn .out\n+SUFFIXES = .chk .out\n \n $(PNGLIB_BASENAME).pc: libpng.pc\n \tcp libpng.pc $@\n@@ -237,18 +232,17 @@\n\n SYMBOL_CFLAGS += -DPNG_PREFIX='@PNG_PREFIX@'\n endif\n \n-.dfn.out:\n-\trm -f $@ $*.c $*.tf[12]\n+.c.out:\n+\trm -f $@ $*.tf[12]\n \ttest -d scripts || mkdir scripts || test -d scripts\n-\techo '#include \""$<\""' >$*.c\n \t$(DFNCPP) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES)\\\n-\t    $(CPPFLAGS) $(SYMBOL_CFLAGS) $*.c > $*.tf1\n+\t    $(CPPFLAGS) $(SYMBOL_CFLAGS) $< > $*.tf1\n \t$(AWK) -f \""${srcdir}/scripts/dfn.awk\"" out=\""$*.tf2\"" $*.tf1 1>&2\n-\trm -f $*.c $*.tf1\n+\trm -f $*.tf1\n \tmv $*.tf2 $@\n \n-# The .dfn file for pnglibconf.h is machine generated\n-pnglibconf.dfn: scripts/pnglibconf.dfa scripts/options.awk pngconf.h pngusr.dfa $(DFA_XTRA)\n+# The .c file for pnglibconf.h is machine generated\n+pnglibconf.c: scripts/pnglibconf.dfa scripts/options.awk pngconf.h pngusr.dfa $(DFA_XTRA)\n \trm -f $@ $*.tf[45]\n \t$(AWK) -f ${srcdir}/scripts/options.awk out=$*.tf4 version=search\\\n \t    ${srcdir}/pngconf.h ${srcdir}/scripts/pnglibconf.dfa\\\n@@ -268,7 +262,7 @@\n\n \n # used on demand to regenerate the standard header, CPPFLAGS should\n # be empty - no non-standard defines\n-scripts/pnglibconf.dfn: scripts/pnglibconf.dfa scripts/options.awk pngconf.h\n+scripts/pnglibconf.c: scripts/pnglibconf.dfa scripts/options.awk pngconf.h\n \trm -f $@ pnglibconf.tf[67]\n \ttest -z \""$(CPPFLAGS)\""\n \techo \""com @PNGLIB_VERSION@ STANDARD API DEFINITION\"" |\\\n""}<_**next**_>{""filename"": ""Makefile.in"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca%5E/Makefile.in"", ""patch"": ""@@ -1,2260 +0,0 @@\n\n-# Makefile.in generated by automake 1.14.1 from Makefile.am.\n-# @configure_input@\n-\n-# Copyright (C) 1994-2013 Free Software Foundation, Inc.\n-\n-# This Makefile.in is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY, to the extent permitted by law; without\n-# even the implied warranty of MERCHANTABILITY or FITNESS FOR A\n-# PARTICULAR PURPOSE.\n-\n-@SET_MAKE@\n-\n-# Makefile.am:\n-#   Source file for Makefile.in (and hence Makefile)\n-#\n-\n-\n-\n-\n-\n-VPATH = @srcdir@\n-am__is_gnu_make = test -n '$(MAKEFILE_LIST)' && test -n '$(MAKELEVEL)'\n-am__make_running_with_option = \\\n-  case $${target_option-} in \\\n-      ?) ;; \\\n-      *) echo \""am__make_running_with_option: internal error: invalid\"" \\\n-              \""target option '$${target_option-}' specified\"" >&2; \\\n-         exit 1;; \\\n-  esac; \\\n-  has_opt=no; \\\n-  sane_makeflags=$$MAKEFLAGS; \\\n-  if $(am__is_gnu_make); then \\\n-    sane_makeflags=$$MFLAGS; \\\n-  else \\\n-    case $$MAKEFLAGS in \\\n-      *\\\\[\\ \\\t]*) \\\n-        bs=\\\\; \\\n-        sane_makeflags=`printf '%s\\n' \""$$MAKEFLAGS\"" \\\n-          | sed \""s/$$bs$$bs[$$bs $$bs\t]*//g\""`;; \\\n-    esac; \\\n-  fi; \\\n-  skip_next=no; \\\n-  strip_trailopt () \\\n-  { \\\n-    flg=`printf '%s\\n' \""$$flg\"" | sed \""s/$$1.*$$//\""`; \\\n-  }; \\\n-  for flg in $$sane_makeflags; do \\\n-    test $$skip_next = yes && { skip_next=no; continue; }; \\\n-    case $$flg in \\\n-      *=*|--*) continue;; \\\n-        -*I) strip_trailopt 'I'; skip_next=yes;; \\\n-      -*I?*) strip_trailopt 'I';; \\\n-        -*O) strip_trailopt 'O'; skip_next=yes;; \\\n-      -*O?*) strip_trailopt 'O';; \\\n-        -*l) strip_trailopt 'l'; skip_next=yes;; \\\n-      -*l?*) strip_trailopt 'l';; \\\n-      -[dEDm]) skip_next=yes;; \\\n-      -[JT]) skip_next=yes;; \\\n-    esac; \\\n-    case $$flg in \\\n-      *$$target_option*) has_opt=yes; break;; \\\n-    esac; \\\n-  done; \\\n-  test $$has_opt = yes\n-am__make_dryrun = (target_option=n; $(am__make_running_with_option))\n-am__make_keepgoing = (target_option=k; $(am__make_running_with_option))\n-pkgdatadir = $(datadir)/@PACKAGE@\n-pkglibdir = $(libdir)/@PACKAGE@\n-pkglibexecdir = $(libexecdir)/@PACKAGE@\n-am__cd = CDPATH=\""$${ZSH_VERSION+.}$(PATH_SEPARATOR)\"" && cd\n-install_sh_DATA = $(install_sh) -c -m 644\n-install_sh_PROGRAM = $(install_sh) -c\n-install_sh_SCRIPT = $(install_sh) -c\n-INSTALL_HEADER = $(INSTALL_DATA)\n-transform = $(program_transform_name)\n-NORMAL_INSTALL = :\n-PRE_INSTALL = :\n-POST_INSTALL = :\n-NORMAL_UNINSTALL = :\n-PRE_UNINSTALL = :\n-POST_UNINSTALL = :\n-build_triplet = @build@\n-host_triplet = @host@\n-check_PROGRAMS = pngtest$(EXEEXT) pngunknown$(EXEEXT) \\\n-\tpngstest$(EXEEXT) pngvalid$(EXEEXT) pngimage$(EXEEXT)\n-bin_PROGRAMS = pngfix$(EXEEXT) png-fix-itxt$(EXEEXT)\n-@PNG_ARM_NEON_TRUE@am__append_1 = arm/arm_init.c\\\n-@PNG_ARM_NEON_TRUE@\tarm/filter_neon.S arm/filter_neon_intrinsics.c\n-\n-\n-#   Versioned symbols and restricted exports\n-@HAVE_LD_VERSION_SCRIPT_TRUE@@HAVE_SOLARIS_LD_TRUE@am__append_2 = -Wl,-M -Wl,libpng.vers\n-@HAVE_LD_VERSION_SCRIPT_TRUE@@HAVE_SOLARIS_LD_FALSE@am__append_3 = -Wl,--version-script=libpng.vers\n-#   Only restricted exports when possible\n-@HAVE_LD_VERSION_SCRIPT_FALSE@am__append_4 = -export-symbols libpng.sym\n-@DO_PNG_PREFIX_TRUE@am__append_5 = -DPNG_PREFIX='@PNG_PREFIX@'\n-subdir = .\n-DIST_COMMON = $(srcdir)/Makefile.in $(srcdir)/Makefile.am \\\n-\t$(top_srcdir)/configure $(am__configure_deps) \\\n-\t$(srcdir)/config.h.in $(srcdir)/libpng.pc.in \\\n-\t$(srcdir)/libpng-config.in depcomp $(dist_man_MANS) \\\n-\t$(pkginclude_HEADERS) test-driver INSTALL README TODO compile \\\n-\tconfig.guess config.sub install-sh missing ltmain.sh\n-ACLOCAL_M4 = $(top_srcdir)/aclocal.m4\n-am__aclocal_m4_deps = $(top_srcdir)/scripts/libtool.m4 \\\n-\t$(top_srcdir)/scripts/ltoptions.m4 \\\n-\t$(top_srcdir)/scripts/ltsugar.m4 \\\n-\t$(top_srcdir)/scripts/ltversion.m4 \\\n-\t$(top_srcdir)/scripts/lt~obsolete.m4 \\\n-\t$(top_srcdir)/configure.ac\n-am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \\\n-\t$(ACLOCAL_M4)\n-am__CONFIG_DISTCLEAN_FILES = config.status config.cache config.log \\\n- configure.lineno config.status.lineno\n-mkinstalldirs = $(install_sh) -d\n-CONFIG_HEADER = config.h\n-CONFIG_CLEAN_FILES = libpng.pc libpng-config\n-CONFIG_CLEAN_VPATH_FILES =\n-am__vpath_adj_setup = srcdirstrip=`echo \""$(srcdir)\"" | sed 's|.|.|g'`;\n-am__vpath_adj = case $$p in \\\n-    $(srcdir)/*) f=`echo \""$$p\"" | sed \""s|^$$srcdirstrip/||\""`;; \\\n-    *) f=$$p;; \\\n-  esac;\n-am__strip_dir = f=`echo $$p | sed -e 's|^.*/||'`;\n-am__install_max = 40\n-am__nobase_strip_setup = \\\n-  srcdirstrip=`echo \""$(srcdir)\"" | sed 's/[].[^$$\\\\*|]/\\\\\\\\&/g'`\n-am__nobase_strip = \\\n-  for p in $$list; do echo \""$$p\""; done | sed -e \""s|$$srcdirstrip/||\""\n-am__nobase_list = $(am__nobase_strip_setup); \\\n-  for p in $$list; do echo \""$$p $$p\""; done | \\\n-  sed \""s| $$srcdirstrip/| |;\""' / .*\\//!s/ .*/ ./; s,\\( .*\\)/[^/]*$$,\\1,' | \\\n-  $(AWK) 'BEGIN { files[\"".\""] = \""\"" } { files[$$2] = files[$$2] \"" \"" $$1; \\\n-    if (++n[$$2] == $(am__install_max)) \\\n-      { print $$2, files[$$2]; n[$$2] = 0; files[$$2] = \""\"" } } \\\n-    END { for (dir in files) print dir, files[dir] }'\n-am__base_list = \\\n-  sed '$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;s/\\n/ /g' | \\\n-  sed '$$!N;$$!N;$$!N;$$!N;s/\\n/ /g'\n-am__uninstall_files_from_dir = { \\\n-  test -z \""$$files\"" \\\n-    || { test ! -d \""$$dir\"" && test ! -f \""$$dir\"" && test ! -r \""$$dir\""; } \\\n-    || { echo \"" ( cd '$$dir' && rm -f\"" $$files \"")\""; \\\n-         $(am__cd) \""$$dir\"" && rm -f $$files; }; \\\n-  }\n-am__installdirs = \""$(DESTDIR)$(libdir)\"" \""$(DESTDIR)$(bindir)\"" \\\n-\t\""$(DESTDIR)$(bindir)\"" \""$(DESTDIR)$(man3dir)\"" \\\n-\t\""$(DESTDIR)$(man5dir)\"" \""$(DESTDIR)$(pkgconfigdir)\"" \\\n-\t\""$(DESTDIR)$(pkgincludedir)\"" \""$(DESTDIR)$(pkgincludedir)\""\n-LTLIBRARIES = $(lib_LTLIBRARIES)\n-libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_LIBADD =\n-am__libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_SOURCES_DIST = png.c \\\n-\tpngerror.c pngget.c pngmem.c pngpread.c pngread.c pngrio.c \\\n-\tpngrtran.c pngrutil.c pngset.c pngtrans.c pngwio.c pngwrite.c \\\n-\tpngwtran.c pngwutil.c png.h pngconf.h pngdebug.h pnginfo.h \\\n-\tpngpriv.h pngstruct.h pngusr.dfa arm/arm_init.c \\\n-\tarm/filter_neon.S arm/filter_neon_intrinsics.c\n-am__dirstamp = $(am__leading_dot)dirstamp\n-@PNG_ARM_NEON_TRUE@am__objects_1 = arm/arm_init.lo arm/filter_neon.lo \\\n-@PNG_ARM_NEON_TRUE@\tarm/filter_neon_intrinsics.lo\n-am_libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_OBJECTS = png.lo pngerror.lo \\\n-\tpngget.lo pngmem.lo pngpread.lo pngread.lo pngrio.lo \\\n-\tpngrtran.lo pngrutil.lo pngset.lo pngtrans.lo pngwio.lo \\\n-\tpngwrite.lo pngwtran.lo pngwutil.lo $(am__objects_1)\n-nodist_libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_OBJECTS =\n-libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_OBJECTS =  \\\n-\t$(am_libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_OBJECTS) \\\n-\t$(nodist_libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_OBJECTS)\n-AM_V_lt = $(am__v_lt_@AM_V@)\n-am__v_lt_ = $(am__v_lt_@AM_DEFAULT_V@)\n-am__v_lt_0 = --silent\n-am__v_lt_1 = \n-libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_LINK = $(LIBTOOL) $(AM_V_lt) \\\n-\t--tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link \\\n-\t$(CCLD) $(AM_CFLAGS) $(CFLAGS) \\\n-\t$(libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_LDFLAGS) $(LDFLAGS) -o \\\n-\t$@\n-PROGRAMS = $(bin_PROGRAMS)\n-am_png_fix_itxt_OBJECTS = contrib/tools/png-fix-itxt.$(OBJEXT)\n-png_fix_itxt_OBJECTS = $(am_png_fix_itxt_OBJECTS)\n-png_fix_itxt_LDADD = $(LDADD)\n-am_pngfix_OBJECTS = contrib/tools/pngfix.$(OBJEXT)\n-pngfix_OBJECTS = $(am_pngfix_OBJECTS)\n-pngfix_DEPENDENCIES = libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@.la\n-am_pngimage_OBJECTS = contrib/libtests/pngimage.$(OBJEXT)\n-pngimage_OBJECTS = $(am_pngimage_OBJECTS)\n-pngimage_DEPENDENCIES = libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@.la\n-am_pngstest_OBJECTS = contrib/libtests/pngstest.$(OBJEXT)\n-pngstest_OBJECTS = $(am_pngstest_OBJECTS)\n-pngstest_DEPENDENCIES = libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@.la\n-am_pngtest_OBJECTS = pngtest.$(OBJEXT)\n-pngtest_OBJECTS = $(am_pngtest_OBJECTS)\n-pngtest_DEPENDENCIES = libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@.la\n-am_pngunknown_OBJECTS = contrib/libtests/pngunknown.$(OBJEXT)\n-pngunknown_OBJECTS = $(am_pngunknown_OBJECTS)\n-pngunknown_DEPENDENCIES = libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@.la\n-am_pngvalid_OBJECTS = contrib/libtests/pngvalid.$(OBJEXT)\n-pngvalid_OBJECTS = $(am_pngvalid_OBJECTS)\n-pngvalid_DEPENDENCIES = libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@.la\n-SCRIPTS = $(bin_SCRIPTS)\n-AM_V_P = $(am__v_P_@AM_V@)\n-am__v_P_ = $(am__v_P_@AM_DEFAULT_V@)\n-am__v_P_0 = false\n-am__v_P_1 = :\n-AM_V_GEN = $(am__v_GEN_@AM_V@)\n-am__v_GEN_ = $(am__v_GEN_@AM_DEFAULT_V@)\n-am__v_GEN_0 = @echo \""  GEN     \"" $@;\n-am__v_GEN_1 = \n-AM_V_at = $(am__v_at_@AM_V@)\n-am__v_at_ = $(am__v_at_@AM_DEFAULT_V@)\n-am__v_at_0 = @\n-am__v_at_1 = \n-DEFAULT_INCLUDES = -I.@am__isrc@\n-depcomp = $(SHELL) $(top_srcdir)/depcomp\n-am__depfiles_maybe = depfiles\n-am__mv = mv -f\n-CPPASCOMPILE = $(CCAS) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) \\\n-\t$(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CCASFLAGS) $(CCASFLAGS)\n-LTCPPASCOMPILE = $(LIBTOOL) $(AM_V_lt) $(AM_LIBTOOLFLAGS) \\\n-\t$(LIBTOOLFLAGS) --mode=compile $(CCAS) $(DEFS) \\\n-\t$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \\\n-\t$(AM_CCASFLAGS) $(CCASFLAGS)\n-AM_V_CPPAS = $(am__v_CPPAS_@AM_V@)\n-am__v_CPPAS_ = $(am__v_CPPAS_@AM_DEFAULT_V@)\n-am__v_CPPAS_0 = @echo \""  CPPAS   \"" $@;\n-am__v_CPPAS_1 = \n-COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \\\n-\t$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)\n-LTCOMPILE = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \\\n-\t$(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) \\\n-\t$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \\\n-\t$(AM_CFLAGS) $(CFLAGS)\n-AM_V_CC = $(am__v_CC_@AM_V@)\n-am__v_CC_ = $(am__v_CC_@AM_DEFAULT_V@)\n-am__v_CC_0 = @echo \""  CC      \"" $@;\n-am__v_CC_1 = \n-CCLD = $(CC)\n-LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) \\\n-\t$(LIBTOOLFLAGS) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \\\n-\t$(AM_LDFLAGS) $(LDFLAGS) -o $@\n-AM_V_CCLD = $(am__v_CCLD_@AM_V@)\n-am__v_CCLD_ = $(am__v_CCLD_@AM_DEFAULT_V@)\n-am__v_CCLD_0 = @echo \""  CCLD    \"" $@;\n-am__v_CCLD_1 = \n-SOURCES = $(libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_SOURCES) \\\n-\t$(nodist_libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_SOURCES) \\\n-\t$(png_fix_itxt_SOURCES) $(pngfix_SOURCES) $(pngimage_SOURCES) \\\n-\t$(pngstest_SOURCES) $(pngtest_SOURCES) $(pngunknown_SOURCES) \\\n-\t$(pngvalid_SOURCES)\n-DIST_SOURCES =  \\\n-\t$(am__libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_SOURCES_DIST) \\\n-\t$(png_fix_itxt_SOURCES) $(pngfix_SOURCES) $(pngimage_SOURCES) \\\n-\t$(pngstest_SOURCES) $(pngtest_SOURCES) $(pngunknown_SOURCES) \\\n-\t$(pngvalid_SOURCES)\n-am__can_run_installinfo = \\\n-  case $$AM_UPDATE_INFO_DIR in \\\n-    n|no|NO) false;; \\\n-    *) (install-info --version) >/dev/null 2>&1;; \\\n-  esac\n-man3dir = $(mandir)/man3\n-man5dir = $(mandir)/man5\n-NROFF = nroff\n-MANS = $(dist_man_MANS)\n-DATA = $(pkgconfig_DATA)\n-HEADERS = $(nodist_pkginclude_HEADERS) $(pkginclude_HEADERS)\n-am__tagged_files = $(HEADERS) $(SOURCES) $(TAGS_FILES) \\\n-\t$(LISP)config.h.in\n-# Read a list of newline-separated strings from the standard input,\n-# and print each of them once, without duplicates.  Input order is\n-# *not* preserved.\n-am__uniquify_input = $(AWK) '\\\n-  BEGIN { nonempty = 0; } \\\n-  { items[$$0] = 1; nonempty = 1; } \\\n-  END { if (nonempty) { for (i in items) print i; }; } \\\n-'\n-# Make sure the list of sources is unique.  This is necessary because,\n-# e.g., the same source file might be shared among _SOURCES variables\n-# for different programs/libraries.\n-am__define_uniq_tagged_files = \\\n-  list='$(am__tagged_files)'; \\\n-  unique=`for i in $$list; do \\\n-    if test -f \""$$i\""; then echo $$i; else echo $(srcdir)/$$i; fi; \\\n-  done | $(am__uniquify_input)`\n-ETAGS = etags\n-CTAGS = ctags\n-CSCOPE = cscope\n-AM_RECURSIVE_TARGETS = cscope check recheck\n-am__tty_colors_dummy = \\\n-  mgn= red= grn= lgn= blu= brg= std=; \\\n-  am__color_tests=no\n-am__tty_colors = { \\\n-  $(am__tty_colors_dummy); \\\n-  if test \""X$(AM_COLOR_TESTS)\"" = Xno; then \\\n-    am__color_tests=no; \\\n-  elif test \""X$(AM_COLOR_TESTS)\"" = Xalways; then \\\n-    am__color_tests=yes; \\\n-  elif test \""X$$TERM\"" != Xdumb && { test -t 1; } 2>/dev/null; then \\\n-    am__color_tests=yes; \\\n-  fi; \\\n-  if test $$am__color_tests = yes; then \\\n-    red='\u001b[0;31m'; \\\n-    grn='\u001b[0;32m'; \\\n-    lgn='\u001b[1;32m'; \\\n-    blu='\u001b[1;34m'; \\\n-    mgn='\u001b[0;35m'; \\\n-    brg='\u001b[1m'; \\\n-    std='\u001b[m'; \\\n-  fi; \\\n-}\n-am__recheck_rx = ^[ \t]*:recheck:[ \t]*\n-am__global_test_result_rx = ^[ \t]*:global-test-result:[ \t]*\n-am__copy_in_global_log_rx = ^[ \t]*:copy-in-global-log:[ \t]*\n-# A command that, given a newline-separated list of test names on the\n-# standard input, print the name of the tests that are to be re-run\n-# upon \""make recheck\"".\n-am__list_recheck_tests = $(AWK) '{ \\\n-  recheck = 1; \\\n-  while ((rc = (getline line < ($$0 \"".trs\""))) != 0) \\\n-    { \\\n-      if (rc < 0) \\\n-        { \\\n-          if ((getline line2 < ($$0 \"".log\"")) < 0) \\\n-\t    recheck = 0; \\\n-          break; \\\n-        } \\\n-      else if (line ~ /$(am__recheck_rx)[nN][Oo]/) \\\n-        { \\\n-          recheck = 0; \\\n-          break; \\\n-        } \\\n-      else if (line ~ /$(am__recheck_rx)[yY][eE][sS]/) \\\n-        { \\\n-          break; \\\n-        } \\\n-    }; \\\n-  if (recheck) \\\n-    print $$0; \\\n-  close ($$0 \"".trs\""); \\\n-  close ($$0 \"".log\""); \\\n-}'\n-# A command that, given a newline-separated list of test names on the\n-# standard input, create the global log from their .trs and .log files.\n-am__create_global_log = $(AWK) ' \\\n-function fatal(msg) \\\n-{ \\\n-  print \""fatal: making $@: \"" msg | \""cat >&2\""; \\\n-  exit 1; \\\n-} \\\n-function rst_section(header) \\\n-{ \\\n-  print header; \\\n-  len = length(header); \\\n-  for (i = 1; i <= len; i = i + 1) \\\n-    printf \""=\""; \\\n-  printf \""\\n\\n\""; \\\n-} \\\n-{ \\\n-  copy_in_global_log = 1; \\\n-  global_test_result = \""RUN\""; \\\n-  while ((rc = (getline line < ($$0 \"".trs\""))) != 0) \\\n-    { \\\n-      if (rc < 0) \\\n-         fatal(\""failed to read from \"" $$0 \"".trs\""); \\\n-      if (line ~ /$(am__global_test_result_rx)/) \\\n-        { \\\n-          sub(\""$(am__global_test_result_rx)\"", \""\"", line); \\\n-          sub(\""[ \t]*$$\"", \""\"", line); \\\n-          global_test_result = line; \\\n-        } \\\n-      else if (line ~ /$(am__copy_in_global_log_rx)[nN][oO]/) \\\n-        copy_in_global_log = 0; \\\n-    }; \\\n-  if (copy_in_global_log) \\\n-    { \\\n-      rst_section(global_test_result \"": \"" $$0); \\\n-      while ((rc = (getline line < ($$0 \"".log\""))) != 0) \\\n-      { \\\n-        if (rc < 0) \\\n-          fatal(\""failed to read from \"" $$0 \"".log\""); \\\n-        print line; \\\n-      }; \\\n-      printf \""\\n\""; \\\n-    }; \\\n-  close ($$0 \"".trs\""); \\\n-  close ($$0 \"".log\""); \\\n-}'\n-# Restructured Text title.\n-am__rst_title = { sed 's/.*/   &   /;h;s/./=/g;p;x;s/ *$$//;p;g' && echo; }\n-# Solaris 10 'make', and several other traditional 'make' implementations,\n-# pass \""-e\"" to $(SHELL), and POSIX 2008 even requires this.  Work around it\n-# by disabling -e (using the XSI extension \""set +e\"") if it's set.\n-am__sh_e_setup = case $$- in *e*) set +e;; esac\n-# Default flags passed to test drivers.\n-am__common_driver_flags = \\\n-  --color-tests \""$$am__color_tests\"" \\\n-  --enable-hard-errors \""$$am__enable_hard_errors\"" \\\n-  --expect-failure \""$$am__expect_failure\""\n-# To be inserted before the command running the test.  Creates the\n-# directory for the log if needed.  Stores in $dir the directory\n-# containing $f, in $tst the test, in $log the log.  Executes the\n-# developer- defined test setup AM_TESTS_ENVIRONMENT (if any), and\n-# passes TESTS_ENVIRONMENT.  Set up options for the wrapper that\n-# will run the test scripts (or their associated LOG_COMPILER, if\n-# thy have one).\n-am__check_pre = \\\n-$(am__sh_e_setup);\t\t\t\t\t\\\n-$(am__vpath_adj_setup) $(am__vpath_adj)\t\t\t\\\n-$(am__tty_colors);\t\t\t\t\t\\\n-srcdir=$(srcdir); export srcdir;\t\t\t\\\n-case \""$@\"" in\t\t\t\t\t\t\\\n-  */*) am__odir=`echo \""./$@\"" | sed 's|/[^/]*$$||'`;;\t\\\n-    *) am__odir=.;; \t\t\t\t\t\\\n-esac;\t\t\t\t\t\t\t\\\n-test \""x$$am__odir\"" = x\"".\"" || test -d \""$$am__odir\"" \t\\\n-  || $(MKDIR_P) \""$$am__odir\"" || exit $$?;\t\t\\\n-if test -f \""./$$f\""; then dir=./;\t\t\t\\\n-elif test -f \""$$f\""; then dir=;\t\t\t\t\\\n-else dir=\""$(srcdir)/\""; fi;\t\t\t\t\\\n-tst=$$dir$$f; log='$@'; \t\t\t\t\\\n-if test -n '$(DISABLE_HARD_ERRORS)'; then\t\t\\\n-  am__enable_hard_errors=no; \t\t\t\t\\\n-else\t\t\t\t\t\t\t\\\n-  am__enable_hard_errors=yes; \t\t\t\t\\\n-fi; \t\t\t\t\t\t\t\\\n-case \"" $(XFAIL_TESTS) \"" in\t\t\t\t\\\n-  *[\\ \\\t]$$f[\\ \\\t]* | *[\\ \\\t]$$dir$$f[\\ \\\t]*) \\\n-    am__expect_failure=yes;;\t\t\t\t\\\n-  *)\t\t\t\t\t\t\t\\\n-    am__expect_failure=no;;\t\t\t\t\\\n-esac; \t\t\t\t\t\t\t\\\n-$(AM_TESTS_ENVIRONMENT) $(TESTS_ENVIRONMENT)\n-# A shell command to get the names of the tests scripts with any registered\n-# extension removed (i.e., equivalently, the names of the test logs, with\n-# the '.log' extension removed).  The result is saved in the shell variable\n-# '$bases'.  This honors runtime overriding of TESTS and TEST_LOGS.  Sadly,\n-# we cannot use something simpler, involving e.g., \""$(TEST_LOGS:.log=)\"",\n-# since that might cause problem with VPATH rewrites for suffix-less tests.\n-# See also 'test-harness-vpath-rewrite.sh' and 'test-trs-basic.sh'.\n-am__set_TESTS_bases = \\\n-  bases='$(TEST_LOGS)'; \\\n-  bases=`for i in $$bases; do echo $$i; done | sed 's/\\.log$$//'`; \\\n-  bases=`echo $$bases`\n-RECHECK_LOGS = $(TEST_LOGS)\n-TEST_SUITE_LOG = test-suite.log\n-TEST_EXTENSIONS = @EXEEXT@ .test\n-LOG_DRIVER = $(SHELL) $(top_srcdir)/test-driver\n-LOG_COMPILE = $(LOG_COMPILER) $(AM_LOG_FLAGS) $(LOG_FLAGS)\n-am__set_b = \\\n-  case '$@' in \\\n-    */*) \\\n-      case '$*' in \\\n-        */*) b='$*';; \\\n-          *) b=`echo '$@' | sed 's/\\.log$$//'`; \\\n-       esac;; \\\n-    *) \\\n-      b='$*';; \\\n-  esac\n-am__test_logs1 = $(TESTS:=.log)\n-am__test_logs2 = $(am__test_logs1:@EXEEXT@.log=.log)\n-TEST_LOGS = $(am__test_logs2:.test.log=.log)\n-TEST_LOG_DRIVER = $(SHELL) $(top_srcdir)/test-driver\n-TEST_LOG_COMPILE = $(TEST_LOG_COMPILER) $(AM_TEST_LOG_FLAGS) \\\n-\t$(TEST_LOG_FLAGS)\n-DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)\n-distdir = $(PACKAGE)-$(VERSION)\n-top_distdir = $(distdir)\n-am__remove_distdir = \\\n-  if test -d \""$(distdir)\""; then \\\n-    find \""$(distdir)\"" -type d ! -perm -200 -exec chmod u+w {} ';' \\\n-      && rm -rf \""$(distdir)\"" \\\n-      || { sleep 5 && rm -rf \""$(distdir)\""; }; \\\n-  else :; fi\n-am__post_remove_distdir = $(am__remove_distdir)\n-DIST_ARCHIVES = $(distdir).tar.gz $(distdir).tar.xz\n-GZIP_ENV = --best\n-DIST_TARGETS = dist-xz dist-gzip\n-distuninstallcheck_listfiles = find . -type f -print\n-am__distuninstallcheck_listfiles = $(distuninstallcheck_listfiles) \\\n-  | sed 's|^\\./|$(prefix)/|' | grep -v '$(infodir)/dir$$'\n-distcleancheck_listfiles = find . -type f -print\n-\n-#distribute headers in /usr/include/libpng/*\n-pkgincludedir = $(includedir)/$(PNGLIB_BASENAME)\n-ACLOCAL = @ACLOCAL@\n-AMTAR = @AMTAR@\n-AM_DEFAULT_VERBOSITY = @AM_DEFAULT_VERBOSITY@\n-AR = @AR@\n-AS = @AS@\n-AUTOCONF = @AUTOCONF@\n-AUTOHEADER = @AUTOHEADER@\n-AUTOMAKE = @AUTOMAKE@\n-AWK = @AWK@\n-CC = @CC@\n-CCAS = @CCAS@\n-CCASDEPMODE = @CCASDEPMODE@\n-CCASFLAGS = @CCASFLAGS@\n-CCDEPMODE = @CCDEPMODE@\n-CFLAGS = @CFLAGS@\n-CPP = @CPP@\n-CPPFLAGS = @CPPFLAGS@\n-CYGPATH_W = @CYGPATH_W@\n-DEFS = @DEFS@\n-DEPDIR = @DEPDIR@\n-\n-# DFNCPP is normally just CPP - the C preprocessor - but on Solaris and maybe\n-# other operating systems (NeXT?) the C preprocessor selected by configure\n-# checks input tokens for validity - effectively it performs part of the ANSI-C\n-# parsing - and therefore fails with the .df files.  configure.ac has special\n-# checks for this and sets DFNCPP appropriately.\n-DFNCPP = @DFNCPP@\n-DLLTOOL = @DLLTOOL@\n-DSYMUTIL = @DSYMUTIL@\n-DUMPBIN = @DUMPBIN@\n-ECHO_C = @ECHO_C@\n-ECHO_N = @ECHO_N@\n-ECHO_T = @ECHO_T@\n-EGREP = @EGREP@\n-EXEEXT = @EXEEXT@\n-FGREP = @FGREP@\n-GREP = @GREP@\n-INSTALL = @INSTALL@\n-INSTALL_DATA = @INSTALL_DATA@\n-INSTALL_PROGRAM = @INSTALL_PROGRAM@\n-INSTALL_SCRIPT = @INSTALL_SCRIPT@\n-INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@\n-LD = @LD@\n-LDFLAGS = @LDFLAGS@\n-LIBOBJS = @LIBOBJS@\n-LIBS = @LIBS@\n-LIBTOOL = @LIBTOOL@\n-LIPO = @LIPO@\n-LN_S = @LN_S@\n-LTLIBOBJS = @LTLIBOBJS@\n-MAINT = @MAINT@\n-MAKEINFO = @MAKEINFO@\n-MANIFEST_TOOL = @MANIFEST_TOOL@\n-MKDIR_P = @MKDIR_P@\n-NM = @NM@\n-NMEDIT = @NMEDIT@\n-OBJDUMP = @OBJDUMP@\n-OBJEXT = @OBJEXT@\n-OTOOL = @OTOOL@\n-OTOOL64 = @OTOOL64@\n-PACKAGE = @PACKAGE@\n-PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@\n-PACKAGE_NAME = @PACKAGE_NAME@\n-PACKAGE_STRING = @PACKAGE_STRING@\n-PACKAGE_TARNAME = @PACKAGE_TARNAME@\n-PACKAGE_URL = @PACKAGE_URL@\n-PACKAGE_VERSION = @PACKAGE_VERSION@\n-PATH_SEPARATOR = @PATH_SEPARATOR@\n-PNGLIB_MAJOR = @PNGLIB_MAJOR@\n-PNGLIB_MINOR = @PNGLIB_MINOR@\n-PNGLIB_RELEASE = @PNGLIB_RELEASE@\n-PNGLIB_VERSION = @PNGLIB_VERSION@\n-\n-# PNG_COPTS give extra options for the C compiler to be used on all compilation\n-# steps (unless targe_CFLAGS is specified; that will take precedence over\n-# AM_CFLAGS)\n-PNG_COPTS = @PNG_COPTS@\n-PNG_PREFIX = @PNG_PREFIX@\n-POW_LIB = @POW_LIB@\n-RANLIB = @RANLIB@\n-SED = @SED@\n-SET_MAKE = @SET_MAKE@\n-SHELL = @SHELL@\n-STRIP = @STRIP@\n-SYMBOL_PREFIX = @SYMBOL_PREFIX@\n-VERSION = @VERSION@\n-abs_builddir = @abs_builddir@\n-abs_srcdir = @abs_srcdir@\n-abs_top_builddir = @abs_top_builddir@\n-abs_top_srcdir = @abs_top_srcdir@\n-ac_ct_AR = @ac_ct_AR@\n-ac_ct_CC = @ac_ct_CC@\n-ac_ct_DUMPBIN = @ac_ct_DUMPBIN@\n-am__include = @am__include@\n-am__leading_dot = @am__leading_dot@\n-am__quote = @am__quote@\n-am__tar = @am__tar@\n-am__untar = @am__untar@\n-\n-# generate the -config scripts if required\n-binconfigs = libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@-config\n-bindir = @bindir@\n-build = @build@\n-build_alias = @build_alias@\n-build_cpu = @build_cpu@\n-build_os = @build_os@\n-build_vendor = @build_vendor@\n-builddir = @builddir@\n-datadir = @datadir@\n-datarootdir = @datarootdir@\n-docdir = @docdir@\n-dvidir = @dvidir@\n-exec_prefix = @exec_prefix@\n-host = @host@\n-host_alias = @host_alias@\n-host_cpu = @host_cpu@\n-host_os = @host_os@\n-host_vendor = @host_vendor@\n-htmldir = @htmldir@\n-includedir = @includedir@\n-infodir = @infodir@\n-install_sh = @install_sh@\n-libdir = @libdir@\n-libexecdir = @libexecdir@\n-localedir = @localedir@\n-localstatedir = @localstatedir@\n-mandir = @mandir@\n-mkdir_p = @mkdir_p@\n-oldincludedir = @oldincludedir@\n-pdfdir = @pdfdir@\n-\n-# pkg-config stuff, note that libpng.pc is always required in order\n-# to get the correct library\n-pkgconfigdir = @pkgconfigdir@\n-prefix = @prefix@\n-program_transform_name = @program_transform_name@\n-psdir = @psdir@\n-sbindir = @sbindir@\n-sharedstatedir = @sharedstatedir@\n-srcdir = @srcdir@\n-sysconfdir = @sysconfdir@\n-target_alias = @target_alias@\n-top_build_prefix = @top_build_prefix@\n-top_builddir = @top_builddir@\n-top_srcdir = @top_srcdir@\n-PNGLIB_BASENAME = libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@\n-ACLOCAL_AMFLAGS = -I scripts\n-\n-# This ensures that pnglibconf.h gets built at the start of 'make all' or\n-# 'make check', but it does not add dependencies to the individual programs,\n-# this is done below.\n-#\n-# IMPORTANT: always add the object modules of new programs to the list below\n-# because otherwise the sequence 'configure; make new-program' will *sometimes*\n-# result in the installed (system) pnglibconf.h being used and the result is\n-# always wrong and always very confusing.\n-BUILT_SOURCES = pnglibconf.h\n-pngtest_SOURCES = pngtest.c\n-pngtest_LDADD = libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@.la\n-pngvalid_SOURCES = contrib/libtests/pngvalid.c\n-pngvalid_LDADD = libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@.la\n-pngstest_SOURCES = contrib/libtests/pngstest.c\n-pngstest_LDADD = libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@.la\n-pngunknown_SOURCES = contrib/libtests/pngunknown.c\n-pngunknown_LDADD = libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@.la\n-pngimage_SOURCES = contrib/libtests/pngimage.c\n-pngimage_LDADD = libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@.la\n-pngfix_SOURCES = contrib/tools/pngfix.c\n-pngfix_LDADD = libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@.la\n-png_fix_itxt_SOURCES = contrib/tools/png-fix-itxt.c\n-\n-# Generally these are single line shell scripts to run a test with a particular\n-# set of parameters:\n-TESTS = \\\n-   tests/pngtest\\\n-   tests/pngvalid-gamma-16-to-8 tests/pngvalid-gamma-alpha-mode\\\n-   tests/pngvalid-gamma-background tests/pngvalid-gamma-expand16-alpha-mode\\\n-   tests/pngvalid-gamma-expand16-background\\\n-   tests/pngvalid-gamma-expand16-transform tests/pngvalid-gamma-sbit\\\n-   tests/pngvalid-gamma-threshold tests/pngvalid-gamma-transform\\\n-   tests/pngvalid-progressive-interlace-size\\\n-   tests/pngvalid-progressive-interlace-standard\\\n-   tests/pngvalid-progressive-interlace-transform\\\n-   tests/pngvalid-progressive-standard tests/pngvalid-standard\\\n-   tests/pngstest-0g01 tests/pngstest-0g02 tests/pngstest-0g04\\\n-   tests/pngstest-0g08 tests/pngstest-0g16 tests/pngstest-2c08\\\n-   tests/pngstest-2c16 tests/pngstest-3p01 tests/pngstest-3p02\\\n-   tests/pngstest-3p04 tests/pngstest-3p08 tests/pngstest-4a08\\\n-   tests/pngstest-4a16 tests/pngstest-6a08 tests/pngstest-6a16\\\n-   tests/pngstest-error tests/pngunknown-IDAT\\\n-   tests/pngunknown-discard tests/pngunknown-if-safe tests/pngunknown-sAPI\\\n-   tests/pngunknown-sTER tests/pngunknown-save tests/pngunknown-vpAg\\\n-   tests/pngimage-quick tests/pngimage-full\n-\n-\n-# These tests are expected, and required, to fail:\n-XFAIL_TESTS = tests/pngstest-error\n-\n-# man pages\n-dist_man_MANS = libpng.3 libpngpf.3 png.5\n-EXTRA_SCRIPTS = libpng-config libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@-config\n-bin_SCRIPTS = @binconfigs@\n-\n-# rules to build libpng, only build the old library on request\n-lib_LTLIBRARIES = libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@.la\n-# EXTRA_LTLIBRARIES= libpng.la\n-libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_SOURCES = png.c pngerror.c \\\n-\tpngget.c pngmem.c pngpread.c pngread.c pngrio.c pngrtran.c \\\n-\tpngrutil.c pngset.c pngtrans.c pngwio.c pngwrite.c pngwtran.c \\\n-\tpngwutil.c png.h pngconf.h pngdebug.h pnginfo.h pngpriv.h \\\n-\tpngstruct.h pngusr.dfa $(am__append_1)\n-nodist_libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_SOURCES = pnglibconf.h\n-libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_LDFLAGS = -no-undefined \\\n-\t-export-dynamic -version-number \\\n-\t@PNGLIB_MAJOR@@PNGLIB_MINOR@:@PNGLIB_RELEASE@:0 \\\n-\t$(am__append_2) $(am__append_3) $(am__append_4)\n-@HAVE_LD_VERSION_SCRIPT_FALSE@libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_DEPENDENCIES = libpng.sym\n-@HAVE_LD_VERSION_SCRIPT_TRUE@libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_DEPENDENCIES = libpng.vers\n-pkginclude_HEADERS = png.h pngconf.h\n-nodist_pkginclude_HEADERS = pnglibconf.h\n-pkgconfig_DATA = libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@.pc\n-\n-# Extra source distribution files, '${srcdir}' is used below to stop build files\n-# from those directories being included.  This only works if the configure is\n-# not done in the source directory!\n-EXTRA_DIST = \\\n-\tANNOUNCE CHANGES INSTALL LICENSE README TODO \\\n-\tpngtest.png pngbar.png pngnow.png pngbar.jpg autogen.sh \\\n-\t${srcdir}/contrib ${srcdir}/projects ${srcdir}/scripts \\\n-\t$(TESTS) $(XFAIL_TESTS) tests/pngstest \\\n-\tCMakeLists.txt example.c libpng-manual.txt\n-\n-SCRIPT_CLEANFILES = scripts/*.out scripts/*.chk scripts/pnglibconf.dfn\n-CLEANFILES = *.tf? pngout.png libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@.pc \\\n-\tlibpng@PNGLIB_MAJOR@@PNGLIB_MINOR@-config libpng.vers libpng.sym \\\n-\tcheck.new pnglibconf.* pngprefix.h symbols.new pngtest-log.txt \\\n-\t$(SCRIPT_CLEANFILES)\n-\n-MAINTAINERCLEANFILES = Makefile.in aclocal.m4 config.guess config.h.in \\\n-config.sub configure depcomp install-sh ltmain.sh missing\n-\n-AM_CFLAGS = ${PNG_COPTS}\n-SUFFIXES = .chk .dfn .out\n-\n-# We must use -DPNG_NO_USE_READ_MACROS here even when the library may actually\n-# be built with PNG_USE_READ_MACROS; this prevents the read macros from\n-# interfering with the symbol file format.\n-SYMBOL_CFLAGS = -DPNGLIB_LIBNAME='PNG@PNGLIB_MAJOR@@PNGLIB_MINOR@_0' \\\n-\t-DPNGLIB_VERSION='@PNGLIB_VERSION@' \\\n-\t-DSYMBOL_PREFIX='$(SYMBOL_PREFIX)' -DPNG_NO_USE_READ_MACROS \\\n-\t-DPNG_BUILDING_SYMBOL_TABLE $(am__append_5)\n-\n-# EXT_LIST is a list of the possibly library directory extensions, this exists\n-# because we can't find a good way of discovering the file extensions that are\n-# actually installed on a given system, so instead we check for every extension\n-# we have seen.\n-EXT_LIST = a dll.a so so.@PNGLIB_MAJOR@@PNGLIB_MINOR@.@PNGLIB_RELEASE@ la sl dylib\n-all: $(BUILT_SOURCES) config.h\n-\t$(MAKE) $(AM_MAKEFLAGS) all-am\n-\n-.SUFFIXES:\n-.SUFFIXES: .chk .dfn .out .S .c .lo .log .o .obj .test .test$(EXEEXT) .trs\n-am--refresh: Makefile\n-\t@:\n-$(srcdir)/Makefile.in: @MAINTAINER_MODE_TRUE@ $(srcdir)/Makefile.am  $(am__configure_deps)\n-\t@for dep in $?; do \\\n-\t  case '$(am__configure_deps)' in \\\n-\t    *$$dep*) \\\n-\t      echo ' cd $(srcdir) && $(AUTOMAKE) --foreign'; \\\n-\t      $(am__cd) $(srcdir) && $(AUTOMAKE) --foreign \\\n-\t\t&& exit 0; \\\n-\t      exit 1;; \\\n-\t  esac; \\\n-\tdone; \\\n-\techo ' cd $(top_srcdir) && $(AUTOMAKE) --foreign Makefile'; \\\n-\t$(am__cd) $(top_srcdir) && \\\n-\t  $(AUTOMAKE) --foreign Makefile\n-.PRECIOUS: Makefile\n-Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status\n-\t@case '$?' in \\\n-\t  *config.status*) \\\n-\t    echo ' $(SHELL) ./config.status'; \\\n-\t    $(SHELL) ./config.status;; \\\n-\t  *) \\\n-\t    echo ' cd $(top_builddir) && $(SHELL) ./config.status $@ $(am__depfiles_maybe)'; \\\n-\t    cd $(top_builddir) && $(SHELL) ./config.status $@ $(am__depfiles_maybe);; \\\n-\tesac;\n-\n-$(top_builddir)/config.status: $(top_srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)\n-\t$(SHELL) ./config.status --recheck\n-\n-$(top_srcdir)/configure: @MAINTAINER_MODE_TRUE@ $(am__configure_deps)\n-\t$(am__cd) $(srcdir) && $(AUTOCONF)\n-$(ACLOCAL_M4): @MAINTAINER_MODE_TRUE@ $(am__aclocal_m4_deps)\n-\t$(am__cd) $(srcdir) && $(ACLOCAL) $(ACLOCAL_AMFLAGS)\n-$(am__aclocal_m4_deps):\n-\n-config.h: stamp-h1\n-\t@test -f $@ || rm -f stamp-h1\n-\t@test -f $@ || $(MAKE) $(AM_MAKEFLAGS) stamp-h1\n-\n-stamp-h1: $(srcdir)/config.h.in $(top_builddir)/config.status\n-\t@rm -f stamp-h1\n-\tcd $(top_builddir) && $(SHELL) ./config.status config.h\n-$(srcdir)/config.h.in: @MAINTAINER_MODE_TRUE@ $(am__configure_deps) \n-\t($(am__cd) $(top_srcdir) && $(AUTOHEADER))\n-\trm -f stamp-h1\n-\ttouch $@\n-\n-distclean-hdr:\n-\t-rm -f config.h stamp-h1\n-libpng.pc: $(top_builddir)/config.status $(srcdir)/libpng.pc.in\n-\tcd $(top_builddir) && $(SHELL) ./config.status $@\n-libpng-config: $(top_builddir)/config.status $(srcdir)/libpng-config.in\n-\tcd $(top_builddir) && $(SHELL) ./config.status $@\n-\n-install-libLTLIBRARIES: $(lib_LTLIBRARIES)\n-\t@$(NORMAL_INSTALL)\n-\t@list='$(lib_LTLIBRARIES)'; test -n \""$(libdir)\"" || list=; \\\n-\tlist2=; for p in $$list; do \\\n-\t  if test -f $$p; then \\\n-\t    list2=\""$$list2 $$p\""; \\\n-\t  else :; fi; \\\n-\tdone; \\\n-\ttest -z \""$$list2\"" || { \\\n-\t  echo \"" $(MKDIR_P) '$(DESTDIR)$(libdir)'\""; \\\n-\t  $(MKDIR_P) \""$(DESTDIR)$(libdir)\"" || exit 1; \\\n-\t  echo \"" $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=install $(INSTALL) $(INSTALL_STRIP_FLAG) $$list2 '$(DESTDIR)$(libdir)'\""; \\\n-\t  $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=install $(INSTALL) $(INSTALL_STRIP_FLAG) $$list2 \""$(DESTDIR)$(libdir)\""; \\\n-\t}\n-\n-uninstall-libLTLIBRARIES:\n-\t@$(NORMAL_UNINSTALL)\n-\t@list='$(lib_LTLIBRARIES)'; test -n \""$(libdir)\"" || list=; \\\n-\tfor p in $$list; do \\\n-\t  $(am__strip_dir) \\\n-\t  echo \"" $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=uninstall rm -f '$(DESTDIR)$(libdir)/$$f'\""; \\\n-\t  $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=uninstall rm -f \""$(DESTDIR)$(libdir)/$$f\""; \\\n-\tdone\n-\n-clean-libLTLIBRARIES:\n-\t-test -z \""$(lib_LTLIBRARIES)\"" || rm -f $(lib_LTLIBRARIES)\n-\t@list='$(lib_LTLIBRARIES)'; \\\n-\tlocs=`for p in $$list; do echo $$p; done | \\\n-\t      sed 's|^[^/]*$$|.|; s|/[^/]*$$||; s|$$|/so_locations|' | \\\n-\t      sort -u`; \\\n-\ttest -z \""$$locs\"" || { \\\n-\t  echo rm -f $${locs}; \\\n-\t  rm -f $${locs}; \\\n-\t}\n-arm/$(am__dirstamp):\n-\t@$(MKDIR_P) arm\n-\t@: > arm/$(am__dirstamp)\n-arm/$(DEPDIR)/$(am__dirstamp):\n-\t@$(MKDIR_P) arm/$(DEPDIR)\n-\t@: > arm/$(DEPDIR)/$(am__dirstamp)\n-arm/arm_init.lo: arm/$(am__dirstamp) arm/$(DEPDIR)/$(am__dirstamp)\n-arm/filter_neon.lo: arm/$(am__dirstamp) arm/$(DEPDIR)/$(am__dirstamp)\n-arm/filter_neon_intrinsics.lo: arm/$(am__dirstamp) \\\n-\tarm/$(DEPDIR)/$(am__dirstamp)\n-\n-libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@.la: $(libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_OBJECTS) $(libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_DEPENDENCIES) $(EXTRA_libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_DEPENDENCIES) \n-\t$(AM_V_CCLD)$(libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_LINK) -rpath $(libdir) $(libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_OBJECTS) $(libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_LIBADD) $(LIBS)\n-install-binPROGRAMS: $(bin_PROGRAMS)\n-\t@$(NORMAL_INSTALL)\n-\t@list='$(bin_PROGRAMS)'; test -n \""$(bindir)\"" || list=; \\\n-\tif test -n \""$$list\""; then \\\n-\t  echo \"" $(MKDIR_P) '$(DESTDIR)$(bindir)'\""; \\\n-\t  $(MKDIR_P) \""$(DESTDIR)$(bindir)\"" || exit 1; \\\n-\tfi; \\\n-\tfor p in $$list; do echo \""$$p $$p\""; done | \\\n-\tsed 's/$(EXEEXT)$$//' | \\\n-\twhile read p p1; do if test -f $$p \\\n-\t || test -f $$p1 \\\n-\t  ; then echo \""$$p\""; echo \""$$p\""; else :; fi; \\\n-\tdone | \\\n-\tsed -e 'p;s,.*/,,;n;h' \\\n-\t    -e 's|.*|.|' \\\n-\t    -e 'p;x;s,.*/,,;s/$(EXEEXT)$$//;$(transform);s/$$/$(EXEEXT)/' | \\\n-\tsed 'N;N;N;s,\\n, ,g' | \\\n-\t$(AWK) 'BEGIN { files[\"".\""] = \""\""; dirs[\"".\""] = 1 } \\\n-\t  { d=$$3; if (dirs[d] != 1) { print \""d\"", d; dirs[d] = 1 } \\\n-\t    if ($$2 == $$4) files[d] = files[d] \"" \"" $$1; \\\n-\t    else { print \""f\"", $$3 \""/\"" $$4, $$1; } } \\\n-\t  END { for (d in files) print \""f\"", d, files[d] }' | \\\n-\twhile read type dir files; do \\\n-\t    if test \""$$dir\"" = .; then dir=; else dir=/$$dir; fi; \\\n-\t    test -z \""$$files\"" || { \\\n-\t    echo \"" $(INSTALL_PROGRAM_ENV) $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=install $(INSTALL_PROGRAM) $$files '$(DESTDIR)$(bindir)$$dir'\""; \\\n-\t    $(INSTALL_PROGRAM_ENV) $(LIBTOOL) $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=install $(INSTALL_PROGRAM) $$files \""$(DESTDIR)$(bindir)$$dir\"" || exit $$?; \\\n-\t    } \\\n-\t; done\n-\n-uninstall-binPROGRAMS:\n-\t@$(NORMAL_UNINSTALL)\n-\t@list='$(bin_PROGRAMS)'; test -n \""$(bindir)\"" || list=; \\\n-\tfiles=`for p in $$list; do echo \""$$p\""; done | \\\n-\t  sed -e 'h;s,^.*/,,;s/$(EXEEXT)$$//;$(transform)' \\\n-\t      -e 's/$$/$(EXEEXT)/' \\\n-\t`; \\\n-\ttest -n \""$$list\"" || exit 0; \\\n-\techo \"" ( cd '$(DESTDIR)$(bindir)' && rm -f\"" $$files \"")\""; \\\n-\tcd \""$(DESTDIR)$(bindir)\"" && rm -f $$files\n-\n-clean-binPROGRAMS:\n-\t@list='$(bin_PROGRAMS)'; test -n \""$$list\"" || exit 0; \\\n-\techo \"" rm -f\"" $$list; \\\n-\trm -f $$list || exit $$?; \\\n-\ttest -n \""$(EXEEXT)\"" || exit 0; \\\n-\tlist=`for p in $$list; do echo \""$$p\""; done | sed 's/$(EXEEXT)$$//'`; \\\n-\techo \"" rm -f\"" $$list; \\\n-\trm -f $$list\n-\n-clean-checkPROGRAMS:\n-\t@list='$(check_PROGRAMS)'; test -n \""$$list\"" || exit 0; \\\n-\techo \"" rm -f\"" $$list; \\\n-\trm -f $$list || exit $$?; \\\n-\ttest -n \""$(EXEEXT)\"" || exit 0; \\\n-\tlist=`for p in $$list; do echo \""$$p\""; done | sed 's/$(EXEEXT)$$//'`; \\\n-\techo \"" rm -f\"" $$list; \\\n-\trm -f $$list\n-contrib/tools/$(am__dirstamp):\n-\t@$(MKDIR_P) contrib/tools\n-\t@: > contrib/tools/$(am__dirstamp)\n-contrib/tools/$(DEPDIR)/$(am__dirstamp):\n-\t@$(MKDIR_P) contrib/tools/$(DEPDIR)\n-\t@: > contrib/tools/$(DEPDIR)/$(am__dirstamp)\n-contrib/tools/png-fix-itxt.$(OBJEXT): contrib/tools/$(am__dirstamp) \\\n-\tcontrib/tools/$(DEPDIR)/$(am__dirstamp)\n-\n-png-fix-itxt$(EXEEXT): $(png_fix_itxt_OBJECTS) $(png_fix_itxt_DEPENDENCIES) $(EXTRA_png_fix_itxt_DEPENDENCIES) \n-\t@rm -f png-fix-itxt$(EXEEXT)\n-\t$(AM_V_CCLD)$(LINK) $(png_fix_itxt_OBJECTS) $(png_fix_itxt_LDADD) $(LIBS)\n-contrib/tools/pngfix.$(OBJEXT): contrib/tools/$(am__dirstamp) \\\n-\tcontrib/tools/$(DEPDIR)/$(am__dirstamp)\n-\n-pngfix$(EXEEXT): $(pngfix_OBJECTS) $(pngfix_DEPENDENCIES) $(EXTRA_pngfix_DEPENDENCIES) \n-\t@rm -f pngfix$(EXEEXT)\n-\t$(AM_V_CCLD)$(LINK) $(pngfix_OBJECTS) $(pngfix_LDADD) $(LIBS)\n-contrib/libtests/$(am__dirstamp):\n-\t@$(MKDIR_P) contrib/libtests\n-\t@: > contrib/libtests/$(am__dirstamp)\n-contrib/libtests/$(DEPDIR)/$(am__dirstamp):\n-\t@$(MKDIR_P) contrib/libtests/$(DEPDIR)\n-\t@: > contrib/libtests/$(DEPDIR)/$(am__dirstamp)\n-contrib/libtests/pngimage.$(OBJEXT): contrib/libtests/$(am__dirstamp) \\\n-\tcontrib/libtests/$(DEPDIR)/$(am__dirstamp)\n-\n-pngimage$(EXEEXT): $(pngimage_OBJECTS) $(pngimage_DEPENDENCIES) $(EXTRA_pngimage_DEPENDENCIES) \n-\t@rm -f pngimage$(EXEEXT)\n-\t$(AM_V_CCLD)$(LINK) $(pngimage_OBJECTS) $(pngimage_LDADD) $(LIBS)\n-contrib/libtests/pngstest.$(OBJEXT): contrib/libtests/$(am__dirstamp) \\\n-\tcontrib/libtests/$(DEPDIR)/$(am__dirstamp)\n-\n-pngstest$(EXEEXT): $(pngstest_OBJECTS) $(pngstest_DEPENDENCIES) $(EXTRA_pngstest_DEPENDENCIES) \n-\t@rm -f pngstest$(EXEEXT)\n-\t$(AM_V_CCLD)$(LINK) $(pngstest_OBJECTS) $(pngstest_LDADD) $(LIBS)\n-\n-pngtest$(EXEEXT): $(pngtest_OBJECTS) $(pngtest_DEPENDENCIES) $(EXTRA_pngtest_DEPENDENCIES) \n-\t@rm -f pngtest$(EXEEXT)\n-\t$(AM_V_CCLD)$(LINK) $(pngtest_OBJECTS) $(pngtest_LDADD) $(LIBS)\n-contrib/libtests/pngunknown.$(OBJEXT):  \\\n-\tcontrib/libtests/$(am__dirstamp) \\\n-\tcontrib/libtests/$(DEPDIR)/$(am__dirstamp)\n-\n-pngunknown$(EXEEXT): $(pngunknown_OBJECTS) $(pngunknown_DEPENDENCIES) $(EXTRA_pngunknown_DEPENDENCIES) \n-\t@rm -f pngunknown$(EXEEXT)\n-\t$(AM_V_CCLD)$(LINK) $(pngunknown_OBJECTS) $(pngunknown_LDADD) $(LIBS)\n-contrib/libtests/pngvalid.$(OBJEXT): contrib/libtests/$(am__dirstamp) \\\n-\tcontrib/libtests/$(DEPDIR)/$(am__dirstamp)\n-\n-pngvalid$(EXEEXT): $(pngvalid_OBJECTS) $(pngvalid_DEPENDENCIES) $(EXTRA_pngvalid_DEPENDENCIES) \n-\t@rm -f pngvalid$(EXEEXT)\n-\t$(AM_V_CCLD)$(LINK) $(pngvalid_OBJECTS) $(pngvalid_LDADD) $(LIBS)\n-install-binSCRIPTS: $(bin_SCRIPTS)\n-\t@$(NORMAL_INSTALL)\n-\t@list='$(bin_SCRIPTS)'; test -n \""$(bindir)\"" || list=; \\\n-\tif test -n \""$$list\""; then \\\n-\t  echo \"" $(MKDIR_P) '$(DESTDIR)$(bindir)'\""; \\\n-\t  $(MKDIR_P) \""$(DESTDIR)$(bindir)\"" || exit 1; \\\n-\tfi; \\\n-\tfor p in $$list; do \\\n-\t  if test -f \""$$p\""; then d=; else d=\""$(srcdir)/\""; fi; \\\n-\t  if test -f \""$$d$$p\""; then echo \""$$d$$p\""; echo \""$$p\""; else :; fi; \\\n-\tdone | \\\n-\tsed -e 'p;s,.*/,,;n' \\\n-\t    -e 'h;s|.*|.|' \\\n-\t    -e 'p;x;s,.*/,,;$(transform)' | sed 'N;N;N;s,\\n, ,g' | \\\n-\t$(AWK) 'BEGIN { files[\"".\""] = \""\""; dirs[\"".\""] = 1; } \\\n-\t  { d=$$3; if (dirs[d] != 1) { print \""d\"", d; dirs[d] = 1 } \\\n-\t    if ($$2 == $$4) { files[d] = files[d] \"" \"" $$1; \\\n-\t      if (++n[d] == $(am__install_max)) { \\\n-\t\tprint \""f\"", d, files[d]; n[d] = 0; files[d] = \""\"" } } \\\n-\t    else { print \""f\"", d \""/\"" $$4, $$1 } } \\\n-\t  END { for (d in files) print \""f\"", d, files[d] }' | \\\n-\twhile read type dir files; do \\\n-\t     if test \""$$dir\"" = .; then dir=; else dir=/$$dir; fi; \\\n-\t     test -z \""$$files\"" || { \\\n-\t       echo \"" $(INSTALL_SCRIPT) $$files '$(DESTDIR)$(bindir)$$dir'\""; \\\n-\t       $(INSTALL_SCRIPT) $$files \""$(DESTDIR)$(bindir)$$dir\"" || exit $$?; \\\n-\t     } \\\n-\t; done\n-\n-uninstall-binSCRIPTS:\n-\t@$(NORMAL_UNINSTALL)\n-\t@list='$(bin_SCRIPTS)'; test -n \""$(bindir)\"" || exit 0; \\\n-\tfiles=`for p in $$list; do echo \""$$p\""; done | \\\n-\t       sed -e 's,.*/,,;$(transform)'`; \\\n-\tdir='$(DESTDIR)$(bindir)'; $(am__uninstall_files_from_dir)\n-\n-mostlyclean-compile:\n-\t-rm -f *.$(OBJEXT)\n-\t-rm -f arm/*.$(OBJEXT)\n-\t-rm -f arm/*.lo\n-\t-rm -f contrib/libtests/*.$(OBJEXT)\n-\t-rm -f contrib/tools/*.$(OBJEXT)\n-\n-distclean-compile:\n-\t-rm -f *.tab.c\n-\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/png.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/pngerror.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/pngget.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/pngmem.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/pngpread.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/pngread.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/pngrio.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/pngrtran.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/pngrutil.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/pngset.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/pngtest.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/pngtrans.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/pngwio.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/pngwrite.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/pngwtran.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/pngwutil.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@arm/$(DEPDIR)/arm_init.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@arm/$(DEPDIR)/filter_neon.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@arm/$(DEPDIR)/filter_neon_intrinsics.Plo@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@contrib/libtests/$(DEPDIR)/pngimage.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@contrib/libtests/$(DEPDIR)/pngstest.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@contrib/libtests/$(DEPDIR)/pngunknown.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@contrib/libtests/$(DEPDIR)/pngvalid.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@contrib/tools/$(DEPDIR)/png-fix-itxt.Po@am__quote@\n-@AMDEP_TRUE@@am__include@ @am__quote@contrib/tools/$(DEPDIR)/pngfix.Po@am__quote@\n-\n-.S.o:\n-@am__fastdepCCAS_TRUE@\t$(AM_V_CPPAS)depbase=`echo $@ | sed 's|[^/]*$$|$(DEPDIR)/&|;s|\\.o$$||'`;\\\n-@am__fastdepCCAS_TRUE@\t$(CPPASCOMPILE) -MT $@ -MD -MP -MF $$depbase.Tpo -c -o $@ $< &&\\\n-@am__fastdepCCAS_TRUE@\t$(am__mv) $$depbase.Tpo $$depbase.Po\n-@AMDEP_TRUE@@am__fastdepCCAS_FALSE@\t$(AM_V_CPPAS)source='$<' object='$@' libtool=no @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCCAS_FALSE@\tDEPDIR=$(DEPDIR) $(CCASDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCCAS_FALSE@\t$(AM_V_CPPAS@am__nodep@)$(CPPASCOMPILE) -c -o $@ $<\n-\n-.S.obj:\n-@am__fastdepCCAS_TRUE@\t$(AM_V_CPPAS)depbase=`echo $@ | sed 's|[^/]*$$|$(DEPDIR)/&|;s|\\.obj$$||'`;\\\n-@am__fastdepCCAS_TRUE@\t$(CPPASCOMPILE) -MT $@ -MD -MP -MF $$depbase.Tpo -c -o $@ `$(CYGPATH_W) '$<'` &&\\\n-@am__fastdepCCAS_TRUE@\t$(am__mv) $$depbase.Tpo $$depbase.Po\n-@AMDEP_TRUE@@am__fastdepCCAS_FALSE@\t$(AM_V_CPPAS)source='$<' object='$@' libtool=no @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCCAS_FALSE@\tDEPDIR=$(DEPDIR) $(CCASDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCCAS_FALSE@\t$(AM_V_CPPAS@am__nodep@)$(CPPASCOMPILE) -c -o $@ `$(CYGPATH_W) '$<'`\n-\n-.S.lo:\n-@am__fastdepCCAS_TRUE@\t$(AM_V_CPPAS)depbase=`echo $@ | sed 's|[^/]*$$|$(DEPDIR)/&|;s|\\.lo$$||'`;\\\n-@am__fastdepCCAS_TRUE@\t$(LTCPPASCOMPILE) -MT $@ -MD -MP -MF $$depbase.Tpo -c -o $@ $< &&\\\n-@am__fastdepCCAS_TRUE@\t$(am__mv) $$depbase.Tpo $$depbase.Plo\n-@AMDEP_TRUE@@am__fastdepCCAS_FALSE@\t$(AM_V_CPPAS)source='$<' object='$@' libtool=yes @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCCAS_FALSE@\tDEPDIR=$(DEPDIR) $(CCASDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCCAS_FALSE@\t$(AM_V_CPPAS@am__nodep@)$(LTCPPASCOMPILE) -c -o $@ $<\n-\n-.c.o:\n-@am__fastdepCC_TRUE@\t$(AM_V_CC)depbase=`echo $@ | sed 's|[^/]*$$|$(DEPDIR)/&|;s|\\.o$$||'`;\\\n-@am__fastdepCC_TRUE@\t$(COMPILE) -MT $@ -MD -MP -MF $$depbase.Tpo -c -o $@ $< &&\\\n-@am__fastdepCC_TRUE@\t$(am__mv) $$depbase.Tpo $$depbase.Po\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\t$(AM_V_CC)source='$<' object='$@' libtool=no @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCC_FALSE@\t$(AM_V_CC@am__nodep@)$(COMPILE) -c -o $@ $<\n-\n-.c.obj:\n-@am__fastdepCC_TRUE@\t$(AM_V_CC)depbase=`echo $@ | sed 's|[^/]*$$|$(DEPDIR)/&|;s|\\.obj$$||'`;\\\n-@am__fastdepCC_TRUE@\t$(COMPILE) -MT $@ -MD -MP -MF $$depbase.Tpo -c -o $@ `$(CYGPATH_W) '$<'` &&\\\n-@am__fastdepCC_TRUE@\t$(am__mv) $$depbase.Tpo $$depbase.Po\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\t$(AM_V_CC)source='$<' object='$@' libtool=no @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCC_FALSE@\t$(AM_V_CC@am__nodep@)$(COMPILE) -c -o $@ `$(CYGPATH_W) '$<'`\n-\n-.c.lo:\n-@am__fastdepCC_TRUE@\t$(AM_V_CC)depbase=`echo $@ | sed 's|[^/]*$$|$(DEPDIR)/&|;s|\\.lo$$||'`;\\\n-@am__fastdepCC_TRUE@\t$(LTCOMPILE) -MT $@ -MD -MP -MF $$depbase.Tpo -c -o $@ $< &&\\\n-@am__fastdepCC_TRUE@\t$(am__mv) $$depbase.Tpo $$depbase.Plo\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\t$(AM_V_CC)source='$<' object='$@' libtool=yes @AMDEPBACKSLASH@\n-@AMDEP_TRUE@@am__fastdepCC_FALSE@\tDEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@\n-@am__fastdepCC_FALSE@\t$(AM_V_CC@am__nodep@)$(LTCOMPILE) -c -o $@ $<\n-\n-mostlyclean-libtool:\n-\t-rm -f *.lo\n-\n-clean-libtool:\n-\t-rm -rf .libs _libs\n-\t-rm -rf arm/.libs arm/_libs\n-\n-distclean-libtool:\n-\t-rm -f libtool config.lt\n-install-man3: $(dist_man_MANS)\n-\t@$(NORMAL_INSTALL)\n-\t@list1=''; \\\n-\tlist2='$(dist_man_MANS)'; \\\n-\ttest -n \""$(man3dir)\"" \\\n-\t  && test -n \""`echo $$list1$$list2`\"" \\\n-\t  || exit 0; \\\n-\techo \"" $(MKDIR_P) '$(DESTDIR)$(man3dir)'\""; \\\n-\t$(MKDIR_P) \""$(DESTDIR)$(man3dir)\"" || exit 1; \\\n-\t{ for i in $$list1; do echo \""$$i\""; done;  \\\n-\tif test -n \""$$list2\""; then \\\n-\t  for i in $$list2; do echo \""$$i\""; done \\\n-\t    | sed -n '/\\.3[a-z]*$$/p'; \\\n-\tfi; \\\n-\t} | while read p; do \\\n-\t  if test -f $$p; then d=; else d=\""$(srcdir)/\""; fi; \\\n-\t  echo \""$$d$$p\""; echo \""$$p\""; \\\n-\tdone | \\\n-\tsed -e 'n;s,.*/,,;p;h;s,.*\\.,,;s,^[^3][0-9a-z]*$$,3,;x' \\\n-\t      -e 's,\\.[0-9a-z]*$$,,;$(transform);G;s,\\n,.,' | \\\n-\tsed 'N;N;s,\\n, ,g' | { \\\n-\tlist=; while read file base inst; do \\\n-\t  if test \""$$base\"" = \""$$inst\""; then list=\""$$list $$file\""; else \\\n-\t    echo \"" $(INSTALL_DATA) '$$file' '$(DESTDIR)$(man3dir)/$$inst'\""; \\\n-\t    $(INSTALL_DATA) \""$$file\"" \""$(DESTDIR)$(man3dir)/$$inst\"" || exit $$?; \\\n-\t  fi; \\\n-\tdone; \\\n-\tfor i in $$list; do echo \""$$i\""; done | $(am__base_list) | \\\n-\twhile read files; do \\\n-\t  test -z \""$$files\"" || { \\\n-\t    echo \"" $(INSTALL_DATA) $$files '$(DESTDIR)$(man3dir)'\""; \\\n-\t    $(INSTALL_DATA) $$files \""$(DESTDIR)$(man3dir)\"" || exit $$?; }; \\\n-\tdone; }\n-\n-uninstall-man3:\n-\t@$(NORMAL_UNINSTALL)\n-\t@list=''; test -n \""$(man3dir)\"" || exit 0; \\\n-\tfiles=`{ for i in $$list; do echo \""$$i\""; done; \\\n-\tl2='$(dist_man_MANS)'; for i in $$l2; do echo \""$$i\""; done | \\\n-\t  sed -n '/\\.3[a-z]*$$/p'; \\\n-\t} | sed -e 's,.*/,,;h;s,.*\\.,,;s,^[^3][0-9a-z]*$$,3,;x' \\\n-\t      -e 's,\\.[0-9a-z]*$$,,;$(transform);G;s,\\n,.,'`; \\\n-\tdir='$(DESTDIR)$(man3dir)'; $(am__uninstall_files_from_dir)\n-install-man5: $(dist_man_MANS)\n-\t@$(NORMAL_INSTALL)\n-\t@list1=''; \\\n-\tlist2='$(dist_man_MANS)'; \\\n-\ttest -n \""$(man5dir)\"" \\\n-\t  && test -n \""`echo $$list1$$list2`\"" \\\n-\t  || exit 0; \\\n-\techo \"" $(MKDIR_P) '$(DESTDIR)$(man5dir)'\""; \\\n-\t$(MKDIR_P) \""$(DESTDIR)$(man5dir)\"" || exit 1; \\\n-\t{ for i in $$list1; do echo \""$$i\""; done;  \\\n-\tif test -n \""$$list2\""; then \\\n-\t  for i in $$list2; do echo \""$$i\""; done \\\n-\t    | sed -n '/\\.5[a-z]*$$/p'; \\\n-\tfi; \\\n-\t} | while read p; do \\\n-\t  if test -f $$p; then d=; else d=\""$(srcdir)/\""; fi; \\\n-\t  echo \""$$d$$p\""; echo \""$$p\""; \\\n-\tdone | \\\n-\tsed -e 'n;s,.*/,,;p;h;s,.*\\.,,;s,^[^5][0-9a-z]*$$,5,;x' \\\n-\t      -e 's,\\.[0-9a-z]*$$,,;$(transform);G;s,\\n,.,' | \\\n-\tsed 'N;N;s,\\n, ,g' | { \\\n-\tlist=; while read file base inst; do \\\n-\t  if test \""$$base\"" = \""$$inst\""; then list=\""$$list $$file\""; else \\\n-\t    echo \"" $(INSTALL_DATA) '$$file' '$(DESTDIR)$(man5dir)/$$inst'\""; \\\n-\t    $(INSTALL_DATA) \""$$file\"" \""$(DESTDIR)$(man5dir)/$$inst\"" || exit $$?; \\\n-\t  fi; \\\n-\tdone; \\\n-\tfor i in $$list; do echo \""$$i\""; done | $(am__base_list) | \\\n-\twhile read files; do \\\n-\t  test -z \""$$files\"" || { \\\n-\t    echo \"" $(INSTALL_DATA) $$files '$(DESTDIR)$(man5dir)'\""; \\\n-\t    $(INSTALL_DATA) $$files \""$(DESTDIR)$(man5dir)\"" || exit $$?; }; \\\n-\tdone; }\n-\n-uninstall-man5:\n-\t@$(NORMAL_UNINSTALL)\n-\t@list=''; test -n \""$(man5dir)\"" || exit 0; \\\n-\tfiles=`{ for i in $$list; do echo \""$$i\""; done; \\\n-\tl2='$(dist_man_MANS)'; for i in $$l2; do echo \""$$i\""; done | \\\n-\t  sed -n '/\\.5[a-z]*$$/p'; \\\n-\t} | sed -e 's,.*/,,;h;s,.*\\.,,;s,^[^5][0-9a-z]*$$,5,;x' \\\n-\t      -e 's,\\.[0-9a-z]*$$,,;$(transform);G;s,\\n,.,'`; \\\n-\tdir='$(DESTDIR)$(man5dir)'; $(am__uninstall_files_from_dir)\n-install-pkgconfigDATA: $(pkgconfig_DATA)\n-\t@$(NORMAL_INSTALL)\n-\t@list='$(pkgconfig_DATA)'; test -n \""$(pkgconfigdir)\"" || list=; \\\n-\tif test -n \""$$list\""; then \\\n-\t  echo \"" $(MKDIR_P) '$(DESTDIR)$(pkgconfigdir)'\""; \\\n-\t  $(MKDIR_P) \""$(DESTDIR)$(pkgconfigdir)\"" || exit 1; \\\n-\tfi; \\\n-\tfor p in $$list; do \\\n-\t  if test -f \""$$p\""; then d=; else d=\""$(srcdir)/\""; fi; \\\n-\t  echo \""$$d$$p\""; \\\n-\tdone | $(am__base_list) | \\\n-\twhile read files; do \\\n-\t  echo \"" $(INSTALL_DATA) $$files '$(DESTDIR)$(pkgconfigdir)'\""; \\\n-\t  $(INSTALL_DATA) $$files \""$(DESTDIR)$(pkgconfigdir)\"" || exit $$?; \\\n-\tdone\n-\n-uninstall-pkgconfigDATA:\n-\t@$(NORMAL_UNINSTALL)\n-\t@list='$(pkgconfig_DATA)'; test -n \""$(pkgconfigdir)\"" || list=; \\\n-\tfiles=`for p in $$list; do echo $$p; done | sed -e 's|^.*/||'`; \\\n-\tdir='$(DESTDIR)$(pkgconfigdir)'; $(am__uninstall_files_from_dir)\n-install-nodist_pkgincludeHEADERS: $(nodist_pkginclude_HEADERS)\n-\t@$(NORMAL_INSTALL)\n-\t@list='$(nodist_pkginclude_HEADERS)'; test -n \""$(pkgincludedir)\"" || list=; \\\n-\tif test -n \""$$list\""; then \\\n-\t  echo \"" $(MKDIR_P) '$(DESTDIR)$(pkgincludedir)'\""; \\\n-\t  $(MKDIR_P) \""$(DESTDIR)$(pkgincludedir)\"" || exit 1; \\\n-\tfi; \\\n-\tfor p in $$list; do \\\n-\t  if test -f \""$$p\""; then d=; else d=\""$(srcdir)/\""; fi; \\\n-\t  echo \""$$d$$p\""; \\\n-\tdone | $(am__base_list) | \\\n-\twhile read files; do \\\n-\t  echo \"" $(INSTALL_HEADER) $$files '$(DESTDIR)$(pkgincludedir)'\""; \\\n-\t  $(INSTALL_HEADER) $$files \""$(DESTDIR)$(pkgincludedir)\"" || exit $$?; \\\n-\tdone\n-\n-uninstall-nodist_pkgincludeHEADERS:\n-\t@$(NORMAL_UNINSTALL)\n-\t@list='$(nodist_pkginclude_HEADERS)'; test -n \""$(pkgincludedir)\"" || list=; \\\n-\tfiles=`for p in $$list; do echo $$p; done | sed -e 's|^.*/||'`; \\\n-\tdir='$(DESTDIR)$(pkgincludedir)'; $(am__uninstall_files_from_dir)\n-install-pkgincludeHEADERS: $(pkginclude_HEADERS)\n-\t@$(NORMAL_INSTALL)\n-\t@list='$(pkginclude_HEADERS)'; test -n \""$(pkgincludedir)\"" || list=; \\\n-\tif test -n \""$$list\""; then \\\n-\t  echo \"" $(MKDIR_P) '$(DESTDIR)$(pkgincludedir)'\""; \\\n-\t  $(MKDIR_P) \""$(DESTDIR)$(pkgincludedir)\"" || exit 1; \\\n-\tfi; \\\n-\tfor p in $$list; do \\\n-\t  if test -f \""$$p\""; then d=; else d=\""$(srcdir)/\""; fi; \\\n-\t  echo \""$$d$$p\""; \\\n-\tdone | $(am__base_list) | \\\n-\twhile read files; do \\\n-\t  echo \"" $(INSTALL_HEADER) $$files '$(DESTDIR)$(pkgincludedir)'\""; \\\n-\t  $(INSTALL_HEADER) $$files \""$(DESTDIR)$(pkgincludedir)\"" || exit $$?; \\\n-\tdone\n-\n-uninstall-pkgincludeHEADERS:\n-\t@$(NORMAL_UNINSTALL)\n-\t@list='$(pkginclude_HEADERS)'; test -n \""$(pkgincludedir)\"" || list=; \\\n-\tfiles=`for p in $$list; do echo $$p; done | sed -e 's|^.*/||'`; \\\n-\tdir='$(DESTDIR)$(pkgincludedir)'; $(am__uninstall_files_from_dir)\n-\n-ID: $(am__tagged_files)\n-\t$(am__define_uniq_tagged_files); mkid -fID $$unique\n-tags: tags-am\n-TAGS: tags\n-\n-tags-am: $(TAGS_DEPENDENCIES) $(am__tagged_files)\n-\tset x; \\\n-\there=`pwd`; \\\n-\t$(am__define_uniq_tagged_files); \\\n-\tshift; \\\n-\tif test -z \""$(ETAGS_ARGS)$$*$$unique\""; then :; else \\\n-\t  test -n \""$$unique\"" || unique=$$empty_fix; \\\n-\t  if test $$# -gt 0; then \\\n-\t    $(ETAGS) $(ETAGSFLAGS) $(AM_ETAGSFLAGS) $(ETAGS_ARGS) \\\n-\t      \""$$@\"" $$unique; \\\n-\t  else \\\n-\t    $(ETAGS) $(ETAGSFLAGS) $(AM_ETAGSFLAGS) $(ETAGS_ARGS) \\\n-\t      $$unique; \\\n-\t  fi; \\\n-\tfi\n-ctags: ctags-am\n-\n-CTAGS: ctags\n-ctags-am: $(TAGS_DEPENDENCIES) $(am__tagged_files)\n-\t$(am__define_uniq_tagged_files); \\\n-\ttest -z \""$(CTAGS_ARGS)$$unique\"" \\\n-\t  || $(CTAGS) $(CTAGSFLAGS) $(AM_CTAGSFLAGS) $(CTAGS_ARGS) \\\n-\t     $$unique\n-\n-GTAGS:\n-\there=`$(am__cd) $(top_builddir) && pwd` \\\n-\t  && $(am__cd) $(top_srcdir) \\\n-\t  && gtags -i $(GTAGS_ARGS) \""$$here\""\n-cscope: cscope.files\n-\ttest ! -s cscope.files \\\n-\t  || $(CSCOPE) -b -q $(AM_CSCOPEFLAGS) $(CSCOPEFLAGS) -i cscope.files $(CSCOPE_ARGS)\n-clean-cscope:\n-\t-rm -f cscope.files\n-cscope.files: clean-cscope cscopelist\n-cscopelist: cscopelist-am\n-\n-cscopelist-am: $(am__tagged_files)\n-\tlist='$(am__tagged_files)'; \\\n-\tcase \""$(srcdir)\"" in \\\n-\t  [\\\\/]* | ?:[\\\\/]*) sdir=\""$(srcdir)\"" ;; \\\n-\t  *) sdir=$(subdir)/$(srcdir) ;; \\\n-\tesac; \\\n-\tfor i in $$list; do \\\n-\t  if test -f \""$$i\""; then \\\n-\t    echo \""$(subdir)/$$i\""; \\\n-\t  else \\\n-\t    echo \""$$sdir/$$i\""; \\\n-\t  fi; \\\n-\tdone >> $(top_builddir)/cscope.files\n-\n-distclean-tags:\n-\t-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags\n-\t-rm -f cscope.out cscope.in.out cscope.po.out cscope.files\n-\n-# Recover from deleted '.trs' file; this should ensure that\n-# \""rm -f foo.log; make foo.trs\"" re-run 'foo.test', and re-create\n-# both 'foo.log' and 'foo.trs'.  Break the recipe in two subshells\n-# to avoid problems with \""make -n\"".\n-.log.trs:\n-\trm -f $< $@\n-\t$(MAKE) $(AM_MAKEFLAGS) $<\n-\n-# Leading 'am--fnord' is there to ensure the list of targets does not\n-# expand to empty, as could happen e.g. with make check TESTS=''.\n-am--fnord $(TEST_LOGS) $(TEST_LOGS:.log=.trs): $(am__force_recheck)\n-am--force-recheck:\n-\t@:\n-\n-$(TEST_SUITE_LOG): $(TEST_LOGS)\n-\t@$(am__set_TESTS_bases); \\\n-\tam__f_ok () { test -f \""$$1\"" && test -r \""$$1\""; }; \\\n-\tredo_bases=`for i in $$bases; do \\\n-\t              am__f_ok $$i.trs && am__f_ok $$i.log || echo $$i; \\\n-\t            done`; \\\n-\tif test -n \""$$redo_bases\""; then \\\n-\t  redo_logs=`for i in $$redo_bases; do echo $$i.log; done`; \\\n-\t  redo_results=`for i in $$redo_bases; do echo $$i.trs; done`; \\\n-\t  if $(am__make_dryrun); then :; else \\\n-\t    rm -f $$redo_logs && rm -f $$redo_results || exit 1; \\\n-\t  fi; \\\n-\tfi; \\\n-\tif test -n \""$$am__remaking_logs\""; then \\\n-\t  echo \""fatal: making $(TEST_SUITE_LOG): possible infinite\"" \\\n-\t       \""recursion detected\"" >&2; \\\n-\telse \\\n-\t  am__remaking_logs=yes $(MAKE) $(AM_MAKEFLAGS) $$redo_logs; \\\n-\tfi; \\\n-\tif $(am__make_dryrun); then :; else \\\n-\t  st=0;  \\\n-\t  errmsg=\""fatal: making $(TEST_SUITE_LOG): failed to create\""; \\\n-\t  for i in $$redo_bases; do \\\n-\t    test -f $$i.trs && test -r $$i.trs \\\n-\t      || { echo \""$$errmsg $$i.trs\"" >&2; st=1; }; \\\n-\t    test -f $$i.log && test -r $$i.log \\\n-\t      || { echo \""$$errmsg $$i.log\"" >&2; st=1; }; \\\n-\t  done; \\\n-\t  test $$st -eq 0 || exit 1; \\\n-\tfi\n-\t@$(am__sh_e_setup); $(am__tty_colors); $(am__set_TESTS_bases); \\\n-\tws='[ \t]'; \\\n-\tresults=`for b in $$bases; do echo $$b.trs; done`; \\\n-\ttest -n \""$$results\"" || results=/dev/null; \\\n-\tall=`  grep \""^$$ws*:test-result:\""           $$results | wc -l`; \\\n-\tpass=` grep \""^$$ws*:test-result:$$ws*PASS\""  $$results | wc -l`; \\\n-\tfail=` grep \""^$$ws*:test-result:$$ws*FAIL\""  $$results | wc -l`; \\\n-\tskip=` grep \""^$$ws*:test-result:$$ws*SKIP\""  $$results | wc -l`; \\\n-\txfail=`grep \""^$$ws*:test-result:$$ws*XFAIL\"" $$results | wc -l`; \\\n-\txpass=`grep \""^$$ws*:test-result:$$ws*XPASS\"" $$results | wc -l`; \\\n-\terror=`grep \""^$$ws*:test-result:$$ws*ERROR\"" $$results | wc -l`; \\\n-\tif test `expr $$fail + $$xpass + $$error` -eq 0; then \\\n-\t  success=true; \\\n-\telse \\\n-\t  success=false; \\\n-\tfi; \\\n-\tbr='==================='; br=$$br$$br$$br$$br; \\\n-\tresult_count () \\\n-\t{ \\\n-\t    if test x\""$$1\"" = x\""--maybe-color\""; then \\\n-\t      maybe_colorize=yes; \\\n-\t    elif test x\""$$1\"" = x\""--no-color\""; then \\\n-\t      maybe_colorize=no; \\\n-\t    else \\\n-\t      echo \""$@: invalid 'result_count' usage\"" >&2; exit 4; \\\n-\t    fi; \\\n-\t    shift; \\\n-\t    desc=$$1 count=$$2; \\\n-\t    if test $$maybe_colorize = yes && test $$count -gt 0; then \\\n-\t      color_start=$$3 color_end=$$std; \\\n-\t    else \\\n-\t      color_start= color_end=; \\\n-\t    fi; \\\n-\t    echo \""$${color_start}# $$desc $$count$${color_end}\""; \\\n-\t}; \\\n-\tcreate_testsuite_report () \\\n-\t{ \\\n-\t  result_count $$1 \""TOTAL:\"" $$all   \""$$brg\""; \\\n-\t  result_count $$1 \""PASS: \"" $$pass  \""$$grn\""; \\\n-\t  result_count $$1 \""SKIP: \"" $$skip  \""$$blu\""; \\\n-\t  result_count $$1 \""XFAIL:\"" $$xfail \""$$lgn\""; \\\n-\t  result_count $$1 \""FAIL: \"" $$fail  \""$$red\""; \\\n-\t  result_count $$1 \""XPASS:\"" $$xpass \""$$red\""; \\\n-\t  result_count $$1 \""ERROR:\"" $$error \""$$mgn\""; \\\n-\t}; \\\n-\t{\t\t\t\t\t\t\t\t\\\n-\t  echo \""$(PACKAGE_STRING): $(subdir)/$(TEST_SUITE_LOG)\"" |\t\\\n-\t    $(am__rst_title);\t\t\t\t\t\t\\\n-\t  create_testsuite_report --no-color;\t\t\t\t\\\n-\t  echo;\t\t\t\t\t\t\t\t\\\n-\t  echo \"".. contents:: :depth: 2\"";\t\t\t\t\\\n-\t  echo;\t\t\t\t\t\t\t\t\\\n-\t  for b in $$bases; do echo $$b; done\t\t\t\t\\\n-\t    | $(am__create_global_log);\t\t\t\t\t\\\n-\t} >$(TEST_SUITE_LOG).tmp || exit 1;\t\t\t\t\\\n-\tmv $(TEST_SUITE_LOG).tmp $(TEST_SUITE_LOG);\t\t\t\\\n-\tif $$success; then\t\t\t\t\t\t\\\n-\t  col=\""$$grn\"";\t\t\t\t\t\t\t\\\n-\t else\t\t\t\t\t\t\t\t\\\n-\t  col=\""$$red\"";\t\t\t\t\t\t\t\\\n-\t  test x\""$$VERBOSE\"" = x || cat $(TEST_SUITE_LOG);\t\t\\\n-\tfi;\t\t\t\t\t\t\t\t\\\n-\techo \""$${col}$$br$${std}\""; \t\t\t\t\t\\\n-\techo \""$${col}Testsuite summary for $(PACKAGE_STRING)$${std}\"";\t\\\n-\techo \""$${col}$$br$${std}\""; \t\t\t\t\t\\\n-\tcreate_testsuite_report --maybe-color;\t\t\t\t\\\n-\techo \""$$col$$br$$std\"";\t\t\t\t\t\t\\\n-\tif $$success; then :; else\t\t\t\t\t\\\n-\t  echo \""$${col}See $(subdir)/$(TEST_SUITE_LOG)$${std}\"";\t\t\\\n-\t  if test -n \""$(PACKAGE_BUGREPORT)\""; then\t\t\t\\\n-\t    echo \""$${col}Please report to $(PACKAGE_BUGREPORT)$${std}\"";\t\\\n-\t  fi;\t\t\t\t\t\t\t\t\\\n-\t  echo \""$$col$$br$$std\"";\t\t\t\t\t\\\n-\tfi;\t\t\t\t\t\t\t\t\\\n-\t$$success || exit 1\n-\n-check-TESTS:\n-\t@list='$(RECHECK_LOGS)';           test -z \""$$list\"" || rm -f $$list\n-\t@list='$(RECHECK_LOGS:.log=.trs)'; test -z \""$$list\"" || rm -f $$list\n-\t@test -z \""$(TEST_SUITE_LOG)\"" || rm -f $(TEST_SUITE_LOG)\n-\t@set +e; $(am__set_TESTS_bases); \\\n-\tlog_list=`for i in $$bases; do echo $$i.log; done`; \\\n-\ttrs_list=`for i in $$bases; do echo $$i.trs; done`; \\\n-\tlog_list=`echo $$log_list`; trs_list=`echo $$trs_list`; \\\n-\t$(MAKE) $(AM_MAKEFLAGS) $(TEST_SUITE_LOG) TEST_LOGS=\""$$log_list\""; \\\n-\texit $$?;\n-recheck: all $(check_PROGRAMS)\n-\t@test -z \""$(TEST_SUITE_LOG)\"" || rm -f $(TEST_SUITE_LOG)\n-\t@set +e; $(am__set_TESTS_bases); \\\n-\tbases=`for i in $$bases; do echo $$i; done \\\n-\t         | $(am__list_recheck_tests)` || exit 1; \\\n-\tlog_list=`for i in $$bases; do echo $$i.log; done`; \\\n-\tlog_list=`echo $$log_list`; \\\n-\t$(MAKE) $(AM_MAKEFLAGS) $(TEST_SUITE_LOG) \\\n-\t        am__force_recheck=am--force-recheck \\\n-\t        TEST_LOGS=\""$$log_list\""; \\\n-\texit $$?\n-tests/pngtest.log: tests/pngtest\n-\t@p='tests/pngtest'; \\\n-\tb='tests/pngtest'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngvalid-gamma-16-to-8.log: tests/pngvalid-gamma-16-to-8\n-\t@p='tests/pngvalid-gamma-16-to-8'; \\\n-\tb='tests/pngvalid-gamma-16-to-8'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngvalid-gamma-alpha-mode.log: tests/pngvalid-gamma-alpha-mode\n-\t@p='tests/pngvalid-gamma-alpha-mode'; \\\n-\tb='tests/pngvalid-gamma-alpha-mode'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngvalid-gamma-background.log: tests/pngvalid-gamma-background\n-\t@p='tests/pngvalid-gamma-background'; \\\n-\tb='tests/pngvalid-gamma-background'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngvalid-gamma-expand16-alpha-mode.log: tests/pngvalid-gamma-expand16-alpha-mode\n-\t@p='tests/pngvalid-gamma-expand16-alpha-mode'; \\\n-\tb='tests/pngvalid-gamma-expand16-alpha-mode'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngvalid-gamma-expand16-background.log: tests/pngvalid-gamma-expand16-background\n-\t@p='tests/pngvalid-gamma-expand16-background'; \\\n-\tb='tests/pngvalid-gamma-expand16-background'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngvalid-gamma-expand16-transform.log: tests/pngvalid-gamma-expand16-transform\n-\t@p='tests/pngvalid-gamma-expand16-transform'; \\\n-\tb='tests/pngvalid-gamma-expand16-transform'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngvalid-gamma-sbit.log: tests/pngvalid-gamma-sbit\n-\t@p='tests/pngvalid-gamma-sbit'; \\\n-\tb='tests/pngvalid-gamma-sbit'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngvalid-gamma-threshold.log: tests/pngvalid-gamma-threshold\n-\t@p='tests/pngvalid-gamma-threshold'; \\\n-\tb='tests/pngvalid-gamma-threshold'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngvalid-gamma-transform.log: tests/pngvalid-gamma-transform\n-\t@p='tests/pngvalid-gamma-transform'; \\\n-\tb='tests/pngvalid-gamma-transform'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngvalid-progressive-interlace-size.log: tests/pngvalid-progressive-interlace-size\n-\t@p='tests/pngvalid-progressive-interlace-size'; \\\n-\tb='tests/pngvalid-progressive-interlace-size'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngvalid-progressive-interlace-standard.log: tests/pngvalid-progressive-interlace-standard\n-\t@p='tests/pngvalid-progressive-interlace-standard'; \\\n-\tb='tests/pngvalid-progressive-interlace-standard'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngvalid-progressive-interlace-transform.log: tests/pngvalid-progressive-interlace-transform\n-\t@p='tests/pngvalid-progressive-interlace-transform'; \\\n-\tb='tests/pngvalid-progressive-interlace-transform'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngvalid-progressive-standard.log: tests/pngvalid-progressive-standard\n-\t@p='tests/pngvalid-progressive-standard'; \\\n-\tb='tests/pngvalid-progressive-standard'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngvalid-standard.log: tests/pngvalid-standard\n-\t@p='tests/pngvalid-standard'; \\\n-\tb='tests/pngvalid-standard'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngstest-0g01.log: tests/pngstest-0g01\n-\t@p='tests/pngstest-0g01'; \\\n-\tb='tests/pngstest-0g01'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngstest-0g02.log: tests/pngstest-0g02\n-\t@p='tests/pngstest-0g02'; \\\n-\tb='tests/pngstest-0g02'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngstest-0g04.log: tests/pngstest-0g04\n-\t@p='tests/pngstest-0g04'; \\\n-\tb='tests/pngstest-0g04'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngstest-0g08.log: tests/pngstest-0g08\n-\t@p='tests/pngstest-0g08'; \\\n-\tb='tests/pngstest-0g08'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngstest-0g16.log: tests/pngstest-0g16\n-\t@p='tests/pngstest-0g16'; \\\n-\tb='tests/pngstest-0g16'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngstest-2c08.log: tests/pngstest-2c08\n-\t@p='tests/pngstest-2c08'; \\\n-\tb='tests/pngstest-2c08'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngstest-2c16.log: tests/pngstest-2c16\n-\t@p='tests/pngstest-2c16'; \\\n-\tb='tests/pngstest-2c16'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngstest-3p01.log: tests/pngstest-3p01\n-\t@p='tests/pngstest-3p01'; \\\n-\tb='tests/pngstest-3p01'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngstest-3p02.log: tests/pngstest-3p02\n-\t@p='tests/pngstest-3p02'; \\\n-\tb='tests/pngstest-3p02'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngstest-3p04.log: tests/pngstest-3p04\n-\t@p='tests/pngstest-3p04'; \\\n-\tb='tests/pngstest-3p04'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngstest-3p08.log: tests/pngstest-3p08\n-\t@p='tests/pngstest-3p08'; \\\n-\tb='tests/pngstest-3p08'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngstest-4a08.log: tests/pngstest-4a08\n-\t@p='tests/pngstest-4a08'; \\\n-\tb='tests/pngstest-4a08'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngstest-4a16.log: tests/pngstest-4a16\n-\t@p='tests/pngstest-4a16'; \\\n-\tb='tests/pngstest-4a16'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngstest-6a08.log: tests/pngstest-6a08\n-\t@p='tests/pngstest-6a08'; \\\n-\tb='tests/pngstest-6a08'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngstest-6a16.log: tests/pngstest-6a16\n-\t@p='tests/pngstest-6a16'; \\\n-\tb='tests/pngstest-6a16'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngstest-error.log: tests/pngstest-error\n-\t@p='tests/pngstest-error'; \\\n-\tb='tests/pngstest-error'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngunknown-IDAT.log: tests/pngunknown-IDAT\n-\t@p='tests/pngunknown-IDAT'; \\\n-\tb='tests/pngunknown-IDAT'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngunknown-discard.log: tests/pngunknown-discard\n-\t@p='tests/pngunknown-discard'; \\\n-\tb='tests/pngunknown-discard'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngunknown-if-safe.log: tests/pngunknown-if-safe\n-\t@p='tests/pngunknown-if-safe'; \\\n-\tb='tests/pngunknown-if-safe'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngunknown-sAPI.log: tests/pngunknown-sAPI\n-\t@p='tests/pngunknown-sAPI'; \\\n-\tb='tests/pngunknown-sAPI'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngunknown-sTER.log: tests/pngunknown-sTER\n-\t@p='tests/pngunknown-sTER'; \\\n-\tb='tests/pngunknown-sTER'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngunknown-save.log: tests/pngunknown-save\n-\t@p='tests/pngunknown-save'; \\\n-\tb='tests/pngunknown-save'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngunknown-vpAg.log: tests/pngunknown-vpAg\n-\t@p='tests/pngunknown-vpAg'; \\\n-\tb='tests/pngunknown-vpAg'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngimage-quick.log: tests/pngimage-quick\n-\t@p='tests/pngimage-quick'; \\\n-\tb='tests/pngimage-quick'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-tests/pngimage-full.log: tests/pngimage-full\n-\t@p='tests/pngimage-full'; \\\n-\tb='tests/pngimage-full'; \\\n-\t$(am__check_pre) $(LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_LOG_DRIVER_FLAGS) $(LOG_DRIVER_FLAGS) -- $(LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-.test.log:\n-\t@p='$<'; \\\n-\t$(am__set_b); \\\n-\t$(am__check_pre) $(TEST_LOG_DRIVER) --test-name \""$$f\"" \\\n-\t--log-file $$b.log --trs-file $$b.trs \\\n-\t$(am__common_driver_flags) $(AM_TEST_LOG_DRIVER_FLAGS) $(TEST_LOG_DRIVER_FLAGS) -- $(TEST_LOG_COMPILE) \\\n-\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-@am__EXEEXT_TRUE@.test$(EXEEXT).log:\n-@am__EXEEXT_TRUE@\t@p='$<'; \\\n-@am__EXEEXT_TRUE@\t$(am__set_b); \\\n-@am__EXEEXT_TRUE@\t$(am__check_pre) $(TEST_LOG_DRIVER) --test-name \""$$f\"" \\\n-@am__EXEEXT_TRUE@\t--log-file $$b.log --trs-file $$b.trs \\\n-@am__EXEEXT_TRUE@\t$(am__common_driver_flags) $(AM_TEST_LOG_DRIVER_FLAGS) $(TEST_LOG_DRIVER_FLAGS) -- $(TEST_LOG_COMPILE) \\\n-@am__EXEEXT_TRUE@\t\""$$tst\"" $(AM_TESTS_FD_REDIRECT)\n-\n-distdir: $(DISTFILES)\n-\t$(am__remove_distdir)\n-\ttest -d \""$(distdir)\"" || mkdir \""$(distdir)\""\n-\t@srcdirstrip=`echo \""$(srcdir)\"" | sed 's/[].[^$$\\\\*]/\\\\\\\\&/g'`; \\\n-\ttopsrcdirstrip=`echo \""$(top_srcdir)\"" | sed 's/[].[^$$\\\\*]/\\\\\\\\&/g'`; \\\n-\tlist='$(DISTFILES)'; \\\n-\t  dist_files=`for file in $$list; do echo $$file; done | \\\n-\t  sed -e \""s|^$$srcdirstrip/||;t\"" \\\n-\t      -e \""s|^$$topsrcdirstrip/|$(top_builddir)/|;t\""`; \\\n-\tcase $$dist_files in \\\n-\t  */*) $(MKDIR_P) `echo \""$$dist_files\"" | \\\n-\t\t\t   sed '/\\//!d;s|^|$(distdir)/|;s,/[^/]*$$,,' | \\\n-\t\t\t   sort -u` ;; \\\n-\tesac; \\\n-\tfor file in $$dist_files; do \\\n-\t  if test -f $$file || test -d $$file; then d=.; else d=$(srcdir); fi; \\\n-\t  if test -d $$d/$$file; then \\\n-\t    dir=`echo \""/$$file\"" | sed -e 's,/[^/]*$$,,'`; \\\n-\t    if test -d \""$(distdir)/$$file\""; then \\\n-\t      find \""$(distdir)/$$file\"" -type d ! -perm -700 -exec chmod u+rwx {} \\;; \\\n-\t    fi; \\\n-\t    if test -d $(srcdir)/$$file && test $$d != $(srcdir); then \\\n-\t      cp -fpR $(srcdir)/$$file \""$(distdir)$$dir\"" || exit 1; \\\n-\t      find \""$(distdir)/$$file\"" -type d ! -perm -700 -exec chmod u+rwx {} \\;; \\\n-\t    fi; \\\n-\t    cp -fpR $$d/$$file \""$(distdir)$$dir\"" || exit 1; \\\n-\t  else \\\n-\t    test -f \""$(distdir)/$$file\"" \\\n-\t    || cp -p $$d/$$file \""$(distdir)/$$file\"" \\\n-\t    || exit 1; \\\n-\t  fi; \\\n-\tdone\n-\t$(MAKE) $(AM_MAKEFLAGS) \\\n-\t  top_distdir=\""$(top_distdir)\"" distdir=\""$(distdir)\"" \\\n-\t  dist-hook\n-\t-test -n \""$(am__skip_mode_fix)\"" \\\n-\t|| find \""$(distdir)\"" -type d ! -perm -755 \\\n-\t\t-exec chmod u+rwx,go+rx {} \\; -o \\\n-\t  ! -type d ! -perm -444 -links 1 -exec chmod a+r {} \\; -o \\\n-\t  ! -type d ! -perm -400 -exec chmod a+r {} \\; -o \\\n-\t  ! -type d ! -perm -444 -exec $(install_sh) -c -m a+r {} {} \\; \\\n-\t|| chmod -R a+r \""$(distdir)\""\n-dist-gzip: distdir\n-\ttardir=$(distdir) && $(am__tar) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).tar.gz\n-\t$(am__post_remove_distdir)\n-\n-dist-bzip2: distdir\n-\ttardir=$(distdir) && $(am__tar) | BZIP2=$${BZIP2--9} bzip2 -c >$(distdir).tar.bz2\n-\t$(am__post_remove_distdir)\n-\n-dist-lzip: distdir\n-\ttardir=$(distdir) && $(am__tar) | lzip -c $${LZIP_OPT--9} >$(distdir).tar.lz\n-\t$(am__post_remove_distdir)\n-dist-xz: distdir\n-\ttardir=$(distdir) && $(am__tar) | XZ_OPT=$${XZ_OPT--e} xz -c >$(distdir).tar.xz\n-\t$(am__post_remove_distdir)\n-\n-dist-tarZ: distdir\n-\t@echo WARNING: \""Support for shar distribution archives is\"" \\\n-\t               \""deprecated.\"" >&2\n-\t@echo WARNING: \""It will be removed altogether in Automake 2.0\"" >&2\n-\ttardir=$(distdir) && $(am__tar) | compress -c >$(distdir).tar.Z\n-\t$(am__post_remove_distdir)\n-\n-dist-shar: distdir\n-\t@echo WARNING: \""Support for distribution archives compressed with\"" \\\n-\t\t       \""legacy program 'compress' is deprecated.\"" >&2\n-\t@echo WARNING: \""It will be removed altogether in Automake 2.0\"" >&2\n-\tshar $(distdir) | GZIP=$(GZIP_ENV) gzip -c >$(distdir).shar.gz\n-\t$(am__post_remove_distdir)\n-\n-dist-zip: distdir\n-\t-rm -f $(distdir).zip\n-\tzip -rq $(distdir).zip $(distdir)\n-\t$(am__post_remove_distdir)\n-\n-dist dist-all:\n-\t$(MAKE) $(AM_MAKEFLAGS) $(DIST_TARGETS) am__post_remove_distdir='@:'\n-\t$(am__post_remove_distdir)\n-\n-# This target untars the dist file and tries a VPATH configuration.  Then\n-# it guarantees that the distribution is self-contained by making another\n-# tarfile.\n-distcheck: dist\n-\tcase '$(DIST_ARCHIVES)' in \\\n-\t*.tar.gz*) \\\n-\t  GZIP=$(GZIP_ENV) gzip -dc $(distdir).tar.gz | $(am__untar) ;;\\\n-\t*.tar.bz2*) \\\n-\t  bzip2 -dc $(distdir).tar.bz2 | $(am__untar) ;;\\\n-\t*.tar.lz*) \\\n-\t  lzip -dc $(distdir).tar.lz | $(am__untar) ;;\\\n-\t*.tar.xz*) \\\n-\t  xz -dc $(distdir).tar.xz | $(am__untar) ;;\\\n-\t*.tar.Z*) \\\n-\t  uncompress -c $(distdir).tar.Z | $(am__untar) ;;\\\n-\t*.shar.gz*) \\\n-\t  GZIP=$(GZIP_ENV) gzip -dc $(distdir).shar.gz | unshar ;;\\\n-\t*.zip*) \\\n-\t  unzip $(distdir).zip ;;\\\n-\tesac\n-\tchmod -R a-w $(distdir)\n-\tchmod u+w $(distdir)\n-\tmkdir $(distdir)/_build $(distdir)/_inst\n-\tchmod a-w $(distdir)\n-\ttest -d $(distdir)/_build || exit 0; \\\n-\tdc_install_base=`$(am__cd) $(distdir)/_inst && pwd | sed -e 's,^[^:\\\\/]:[\\\\/],/,'` \\\n-\t  && dc_destdir=\""$${TMPDIR-/tmp}/am-dc-$$$$/\"" \\\n-\t  && am__cwd=`pwd` \\\n-\t  && $(am__cd) $(distdir)/_build \\\n-\t  && ../configure \\\n-\t    $(AM_DISTCHECK_CONFIGURE_FLAGS) \\\n-\t    $(DISTCHECK_CONFIGURE_FLAGS) \\\n-\t    --srcdir=.. --prefix=\""$$dc_install_base\"" \\\n-\t  && $(MAKE) $(AM_MAKEFLAGS) \\\n-\t  && $(MAKE) $(AM_MAKEFLAGS) dvi \\\n-\t  && $(MAKE) $(AM_MAKEFLAGS) check \\\n-\t  && $(MAKE) $(AM_MAKEFLAGS) install \\\n-\t  && $(MAKE) $(AM_MAKEFLAGS) installcheck \\\n-\t  && $(MAKE) $(AM_MAKEFLAGS) uninstall \\\n-\t  && $(MAKE) $(AM_MAKEFLAGS) distuninstallcheck_dir=\""$$dc_install_base\"" \\\n-\t        distuninstallcheck \\\n-\t  && chmod -R a-w \""$$dc_install_base\"" \\\n-\t  && ({ \\\n-\t       (cd ../.. && umask 077 && mkdir \""$$dc_destdir\"") \\\n-\t       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR=\""$$dc_destdir\"" install \\\n-\t       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR=\""$$dc_destdir\"" uninstall \\\n-\t       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR=\""$$dc_destdir\"" \\\n-\t            distuninstallcheck_dir=\""$$dc_destdir\"" distuninstallcheck; \\\n-\t      } || { rm -rf \""$$dc_destdir\""; exit 1; }) \\\n-\t  && rm -rf \""$$dc_destdir\"" \\\n-\t  && $(MAKE) $(AM_MAKEFLAGS) dist \\\n-\t  && rm -rf $(DIST_ARCHIVES) \\\n-\t  && $(MAKE) $(AM_MAKEFLAGS) distcleancheck \\\n-\t  && cd \""$$am__cwd\"" \\\n-\t  || exit 1\n-\t$(am__post_remove_distdir)\n-\t@(echo \""$(distdir) archives ready for distribution: \""; \\\n-\t  list='$(DIST_ARCHIVES)'; for i in $$list; do echo $$i; done) | \\\n-\t  sed -e 1h -e 1s/./=/g -e 1p -e 1x -e '$$p' -e '$$x'\n-distuninstallcheck:\n-\t@test -n '$(distuninstallcheck_dir)' || { \\\n-\t  echo 'ERROR: trying to run $@ with an empty' \\\n-\t       '$$(distuninstallcheck_dir)' >&2; \\\n-\t  exit 1; \\\n-\t}; \\\n-\t$(am__cd) '$(distuninstallcheck_dir)' || { \\\n-\t  echo 'ERROR: cannot chdir into $(distuninstallcheck_dir)' >&2; \\\n-\t  exit 1; \\\n-\t}; \\\n-\ttest `$(am__distuninstallcheck_listfiles) | wc -l` -eq 0 \\\n-\t   || { echo \""ERROR: files left after uninstall:\"" ; \\\n-\t        if test -n \""$(DESTDIR)\""; then \\\n-\t          echo \""  (check DESTDIR support)\""; \\\n-\t        fi ; \\\n-\t        $(distuninstallcheck_listfiles) ; \\\n-\t        exit 1; } >&2\n-distcleancheck: distclean\n-\t@if test '$(srcdir)' = . ; then \\\n-\t  echo \""ERROR: distcleancheck can only run from a VPATH build\"" ; \\\n-\t  exit 1 ; \\\n-\tfi\n-\t@test `$(distcleancheck_listfiles) | wc -l` -eq 0 \\\n-\t  || { echo \""ERROR: files left in build directory after distclean:\"" ; \\\n-\t       $(distcleancheck_listfiles) ; \\\n-\t       exit 1; } >&2\n-check-am: all-am\n-\t$(MAKE) $(AM_MAKEFLAGS) $(check_PROGRAMS)\n-\t$(MAKE) $(AM_MAKEFLAGS) check-TESTS\n-check: $(BUILT_SOURCES)\n-\t$(MAKE) $(AM_MAKEFLAGS) check-am\n-all-am: Makefile $(LTLIBRARIES) $(PROGRAMS) $(SCRIPTS) $(MANS) $(DATA) \\\n-\t\t$(HEADERS) config.h\n-install-binPROGRAMS: install-libLTLIBRARIES\n-\n-installdirs:\n-\tfor dir in \""$(DESTDIR)$(libdir)\"" \""$(DESTDIR)$(bindir)\"" \""$(DESTDIR)$(bindir)\"" \""$(DESTDIR)$(man3dir)\"" \""$(DESTDIR)$(man5dir)\"" \""$(DESTDIR)$(pkgconfigdir)\"" \""$(DESTDIR)$(pkgincludedir)\"" \""$(DESTDIR)$(pkgincludedir)\""; do \\\n-\t  test -z \""$$dir\"" || $(MKDIR_P) \""$$dir\""; \\\n-\tdone\n-install: $(BUILT_SOURCES)\n-\t$(MAKE) $(AM_MAKEFLAGS) install-am\n-install-exec: install-exec-am\n-install-data: install-data-am\n-uninstall: uninstall-am\n-\n-install-am: all-am\n-\t@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am\n-\n-installcheck: installcheck-am\n-install-strip:\n-\tif test -z '$(STRIP)'; then \\\n-\t  $(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM=\""$(INSTALL_STRIP_PROGRAM)\"" \\\n-\t    install_sh_PROGRAM=\""$(INSTALL_STRIP_PROGRAM)\"" INSTALL_STRIP_FLAG=-s \\\n-\t      install; \\\n-\telse \\\n-\t  $(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM=\""$(INSTALL_STRIP_PROGRAM)\"" \\\n-\t    install_sh_PROGRAM=\""$(INSTALL_STRIP_PROGRAM)\"" INSTALL_STRIP_FLAG=-s \\\n-\t    \""INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'\"" install; \\\n-\tfi\n-mostlyclean-generic:\n-\t-test -z \""$(TEST_LOGS)\"" || rm -f $(TEST_LOGS)\n-\t-test -z \""$(TEST_LOGS:.log=.trs)\"" || rm -f $(TEST_LOGS:.log=.trs)\n-\t-test -z \""$(TEST_SUITE_LOG)\"" || rm -f $(TEST_SUITE_LOG)\n-\n-clean-generic:\n-\t-test -z \""$(CLEANFILES)\"" || rm -f $(CLEANFILES)\n-\n-distclean-generic:\n-\t-test -z \""$(CONFIG_CLEAN_FILES)\"" || rm -f $(CONFIG_CLEAN_FILES)\n-\t-test . = \""$(srcdir)\"" || test -z \""$(CONFIG_CLEAN_VPATH_FILES)\"" || rm -f $(CONFIG_CLEAN_VPATH_FILES)\n-\t-rm -f arm/$(DEPDIR)/$(am__dirstamp)\n-\t-rm -f arm/$(am__dirstamp)\n-\t-rm -f contrib/libtests/$(DEPDIR)/$(am__dirstamp)\n-\t-rm -f contrib/libtests/$(am__dirstamp)\n-\t-rm -f contrib/tools/$(DEPDIR)/$(am__dirstamp)\n-\t-rm -f contrib/tools/$(am__dirstamp)\n-\n-maintainer-clean-generic:\n-\t@echo \""This command is intended for maintainers to use\""\n-\t@echo \""it deletes files that may require special tools to rebuild.\""\n-\t-test -z \""$(BUILT_SOURCES)\"" || rm -f $(BUILT_SOURCES)\n-\t-test -z \""$(MAINTAINERCLEANFILES)\"" || rm -f $(MAINTAINERCLEANFILES)\n-@DO_INSTALL_LIBPNG_CONFIG_FALSE@@DO_INSTALL_LINKS_FALSE@install-exec-hook:\n-@DO_INSTALL_LIBPNG_PC_FALSE@@DO_INSTALL_LINKS_FALSE@install-data-hook:\n-@DO_INSTALL_LIBPNG_CONFIG_FALSE@@DO_INSTALL_LIBPNG_PC_FALSE@@DO_INSTALL_LINKS_FALSE@uninstall-hook:\n-clean: clean-am\n-\n-clean-am: clean-binPROGRAMS clean-checkPROGRAMS clean-generic \\\n-\tclean-libLTLIBRARIES clean-libtool mostlyclean-am\n-\n-distclean: distclean-am\n-\t-rm -f $(am__CONFIG_DISTCLEAN_FILES)\n-\t-rm -rf ./$(DEPDIR) arm/$(DEPDIR) contrib/libtests/$(DEPDIR) contrib/tools/$(DEPDIR)\n-\t-rm -f Makefile\n-distclean-am: clean-am distclean-compile distclean-generic \\\n-\tdistclean-hdr distclean-libtool distclean-tags\n-\n-dvi: dvi-am\n-\n-dvi-am:\n-\n-html: html-am\n-\n-html-am:\n-\n-info: info-am\n-\n-info-am:\n-\n-install-data-am: install-man install-nodist_pkgincludeHEADERS \\\n-\tinstall-pkgconfigDATA install-pkgincludeHEADERS\n-\t@$(NORMAL_INSTALL)\n-\t$(MAKE) $(AM_MAKEFLAGS) install-data-hook\n-install-dvi: install-dvi-am\n-\n-install-dvi-am:\n-\n-install-exec-am: install-binPROGRAMS install-binSCRIPTS \\\n-\tinstall-libLTLIBRARIES\n-\t@$(NORMAL_INSTALL)\n-\t$(MAKE) $(AM_MAKEFLAGS) install-exec-hook\n-install-html: install-html-am\n-\n-install-html-am:\n-\n-install-info: install-info-am\n-\n-install-info-am:\n-\n-install-man: install-man3 install-man5\n-\n-install-pdf: install-pdf-am\n-\n-install-pdf-am:\n-\n-install-ps: install-ps-am\n-\n-install-ps-am:\n-\n-installcheck-am:\n-\n-maintainer-clean: maintainer-clean-am\n-\t-rm -f $(am__CONFIG_DISTCLEAN_FILES)\n-\t-rm -rf $(top_srcdir)/autom4te.cache\n-\t-rm -rf ./$(DEPDIR) arm/$(DEPDIR) contrib/libtests/$(DEPDIR) contrib/tools/$(DEPDIR)\n-\t-rm -f Makefile\n-maintainer-clean-am: distclean-am maintainer-clean-generic\n-\n-mostlyclean: mostlyclean-am\n-\n-mostlyclean-am: mostlyclean-compile mostlyclean-generic \\\n-\tmostlyclean-libtool\n-\n-pdf: pdf-am\n-\n-pdf-am:\n-\n-ps: ps-am\n-\n-ps-am:\n-\n-uninstall-am: uninstall-binPROGRAMS uninstall-binSCRIPTS \\\n-\tuninstall-libLTLIBRARIES uninstall-man \\\n-\tuninstall-nodist_pkgincludeHEADERS uninstall-pkgconfigDATA \\\n-\tuninstall-pkgincludeHEADERS\n-\t@$(NORMAL_INSTALL)\n-\t$(MAKE) $(AM_MAKEFLAGS) uninstall-hook\n-uninstall-man: uninstall-man3 uninstall-man5\n-\n-.MAKE: all check check-am install install-am install-data-am \\\n-\tinstall-exec-am install-strip uninstall-am\n-\n-.PHONY: CTAGS GTAGS TAGS all all-am am--refresh check check-TESTS \\\n-\tcheck-am clean clean-binPROGRAMS clean-checkPROGRAMS \\\n-\tclean-cscope clean-generic clean-libLTLIBRARIES clean-libtool \\\n-\tcscope cscopelist-am ctags ctags-am dist dist-all dist-bzip2 \\\n-\tdist-gzip dist-hook dist-lzip dist-shar dist-tarZ dist-xz \\\n-\tdist-zip distcheck distclean distclean-compile \\\n-\tdistclean-generic distclean-hdr distclean-libtool \\\n-\tdistclean-tags distcleancheck distdir distuninstallcheck dvi \\\n-\tdvi-am html html-am info info-am install install-am \\\n-\tinstall-binPROGRAMS install-binSCRIPTS install-data \\\n-\tinstall-data-am install-data-hook install-dvi install-dvi-am \\\n-\tinstall-exec install-exec-am install-exec-hook install-html \\\n-\tinstall-html-am install-info install-info-am \\\n-\tinstall-libLTLIBRARIES install-man install-man3 install-man5 \\\n-\tinstall-nodist_pkgincludeHEADERS install-pdf install-pdf-am \\\n-\tinstall-pkgconfigDATA install-pkgincludeHEADERS install-ps \\\n-\tinstall-ps-am install-strip installcheck installcheck-am \\\n-\tinstalldirs maintainer-clean maintainer-clean-generic \\\n-\tmostlyclean mostlyclean-compile mostlyclean-generic \\\n-\tmostlyclean-libtool pdf pdf-am ps ps-am recheck tags tags-am \\\n-\tuninstall uninstall-am uninstall-binPROGRAMS \\\n-\tuninstall-binSCRIPTS uninstall-hook uninstall-libLTLIBRARIES \\\n-\tuninstall-man uninstall-man3 uninstall-man5 \\\n-\tuninstall-nodist_pkgincludeHEADERS uninstall-pkgconfigDATA \\\n-\tuninstall-pkgincludeHEADERS\n-\n-\n-$(PNGLIB_BASENAME).pc: libpng.pc\n-\tcp libpng.pc $@\n-\n-$(PNGLIB_BASENAME)-config: libpng-config\n-\tcp libpng-config $@\n-\n-scripts/sym.out scripts/vers.out: png.h pngconf.h pnglibconf.h\n-scripts/prefix.out: png.h pngconf.h pnglibconf.out\n-scripts/symbols.out: png.h pngconf.h $(srcdir)/scripts/pnglibconf.h.prebuilt\n-scripts/intprefix.out: pnglibconf.h\n-\n-libpng.sym: scripts/sym.out\n-\trm -f $@\n-\tcp $? $@\n-libpng.vers: scripts/vers.out\n-\trm -f $@\n-\tcp $? $@\n-\n-# Rename functions in scripts/prefix.out with a PNG_PREFIX prefix.\n-# Rename macros in scripts/macro.lst from PNG_PREFIXpng_ to PNG_ (the actual\n-# implementation of the macro).\n-@DO_PNG_PREFIX_TRUE@pnglibconf.h: pnglibconf.out scripts/prefix.out scripts/macro.lst\n-@DO_PNG_PREFIX_TRUE@\trm -f $@\n-@DO_PNG_PREFIX_TRUE@\t$(AWK) 's==0 && NR>1{print prev}\\\n-@DO_PNG_PREFIX_TRUE@\t   s==0{prev=$$0}\\\n-@DO_PNG_PREFIX_TRUE@\t   s==1{print \""#define\"", $$1, \""@PNG_PREFIX@\"" $$1}\\\n-@DO_PNG_PREFIX_TRUE@\t   s==2{print \""#define @PNG_PREFIX@png_\"" $$1, \""PNG_\"" $$1}\\\n-@DO_PNG_PREFIX_TRUE@\t   END{print prev}' s=0 pnglibconf.out s=1 scripts/prefix.out\\\n-@DO_PNG_PREFIX_TRUE@\t   s=2 ${srcdir}/scripts/macro.lst >pnglibconf.tf8\n-@DO_PNG_PREFIX_TRUE@\tmv pnglibconf.tf8 $@\n-\n-@DO_PNG_PREFIX_TRUE@pngprefix.h: scripts/intprefix.out\n-@DO_PNG_PREFIX_TRUE@\trm -f pngprefix.tf1\n-@DO_PNG_PREFIX_TRUE@\t$(AWK) '{print \""#define\"", $$1, \""@PNG_PREFIX@\"" $$1}' $? >pngprefix.tf1\n-@DO_PNG_PREFIX_TRUE@\tmv pngprefix.tf1 $@\n-@DO_PNG_PREFIX_FALSE@pnglibconf.h: pnglibconf.out\n-@DO_PNG_PREFIX_FALSE@\trm -f $@\n-@DO_PNG_PREFIX_FALSE@\tcp $? $@\n-\n-@DO_PNG_PREFIX_FALSE@pngprefix.h: # is empty\n-@DO_PNG_PREFIX_FALSE@\t:>$@\n-\n-$(srcdir)/scripts/pnglibconf.h.prebuilt:\n-\t@echo \""Attempting to build $@\"" >&2\n-\t@echo \""This is a machine generated file, but if you want to make\"" >&2\n-\t@echo \""a new one simply make 'scripts/pnglibconf.out', copy that\"" >&2\n-\t@echo \""AND set PNG_ZLIB_VERNUM to 0 (you MUST do this)\"" >&2\n-\t@exit 1\n-\n-# The following is necessary to ensure that the local pnglibconf.h is used, not\n-# an installed one (this can happen immediately after on a clean system if\n-# 'make test' is the first thing the user does.)  Only files which include\n-# one of the png source files (typically png.h or pngpriv.h) need to be listed\n-# here:\n-pngtest.o: pnglibconf.h\n-\n-contrib/libtests/makepng.o: pnglibconf.h\n-contrib/libtests/pngstest.o: pnglibconf.h\n-contrib/libtests/pngunknown.o: pnglibconf.h\n-contrib/libtests/pngimage.o: pnglibconf.h\n-contrib/libtests/pngvalid.o: pnglibconf.h\n-contrib/libtests/readpng.o: pnglibconf.h\n-contrib/libtests/tarith.o: pnglibconf.h\n-contrib/libtests/timepng.o: pnglibconf.h\n-\n-contrib/tools/makesRGB.o: pnglibconf.h\n-contrib/tools/pngfix.o: pnglibconf.h\n-\n-.dfn.out:\n-\trm -f $@ $*.c $*.tf[12]\n-\ttest -d scripts || mkdir scripts || test -d scripts\n-\techo '#include \""$<\""' >$*.c\n-\t$(DFNCPP) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES)\\\n-\t    $(CPPFLAGS) $(SYMBOL_CFLAGS) $*.c > $*.tf1\n-\t$(AWK) -f \""${srcdir}/scripts/dfn.awk\"" out=\""$*.tf2\"" $*.tf1 1>&2\n-\trm -f $*.c $*.tf1\n-\tmv $*.tf2 $@\n-\n-# The .dfn file for pnglibconf.h is machine generated\n-pnglibconf.dfn: scripts/pnglibconf.dfa scripts/options.awk pngconf.h pngusr.dfa $(DFA_XTRA)\n-\trm -f $@ $*.tf[45]\n-\t$(AWK) -f ${srcdir}/scripts/options.awk out=$*.tf4 version=search\\\n-\t    ${srcdir}/pngconf.h ${srcdir}/scripts/pnglibconf.dfa\\\n-\t    ${srcdir}/pngusr.dfa $(DFA_XTRA) 1>&2\n-\t$(AWK) -f ${srcdir}/scripts/options.awk out=$*.tf5 $*.tf4 1>&2\n-\trm $*.tf4\n-\tmv $*.tf5 $@\n-\n-# Symbol checks (.def and .out files should match)\n-scripts/symbols.chk: scripts/checksym.awk scripts/symbols.def scripts/symbols.out\n-\n-.out.chk:\n-\trm -f $@ $*.new\n-\t$(AWK) -f ${srcdir}/scripts/checksym.awk ${srcdir}/scripts/${*F}.def\\\n-\t    of=\""$*.new\"" $< >&2\n-\tmv $*.new $@\n-\n-# used on demand to regenerate the standard header, CPPFLAGS should\n-# be empty - no non-standard defines\n-scripts/pnglibconf.dfn: scripts/pnglibconf.dfa scripts/options.awk pngconf.h\n-\trm -f $@ pnglibconf.tf[67]\n-\ttest -z \""$(CPPFLAGS)\""\n-\techo \""com @PNGLIB_VERSION@ STANDARD API DEFINITION\"" |\\\n-\t$(AWK) -f ${srcdir}/scripts/options.awk out=pnglibconf.tf6\\\n-\t    logunsupported=1 version=search ${srcdir}/pngconf.h -\\\n-\t    ${srcdir}/scripts/pnglibconf.dfa 1>&2\n-\t$(AWK) -f ${srcdir}/scripts/options.awk out=pnglibconf.tf7\\\n-\t    pnglibconf.tf6 1>&2\n-\trm pnglibconf.tf6\n-\tmv pnglibconf.tf7 $@\n-\n-$(libpng@PNGLIB_MAJOR@@PNGLIB_MINOR@_la_OBJECTS): png.h pngconf.h \\\n-\tpnglibconf.h pngpriv.h pngdebug.h pnginfo.h pngstruct.h pngprefix.h\n-\n-test: check-am\n-\n-# Extra checks\n-check: scripts/symbols.chk\n-\n-# Don't distribute the generated script files\n-dist-hook:\n-\tcd '$(top_distdir)'; rm -f $(SCRIPT_CLEANFILES)\n-\n-# Make links between installed files with release-specific names and the generic\n-# file names.  If this install rule is run the generic names will be deleted and\n-# recreated - this has obvious issues for systems with multiple installations.\n-\n-install-header-links:\n-\t@set -ex; cd '$(DESTDIR)$(includedir)'; for f in $(HEADERS); do \\\n-\t   rm -f \""$$f\""; $(LN_S) \""$(PNGLIB_BASENAME)/$$f\"" \""$$f\""; done\n-\n-uninstall-header-links:\n-\tcd '$(DESTDIR)$(includedir)'; rm -f $(HEADERS)\n-\n-install-libpng-pc:\n-\t@set -ex; cd '$(DESTDIR)$(pkgconfigdir)'; rm -f libpng.pc; \\\n-\t   $(LN_S) '$(PNGLIB_BASENAME).pc' libpng.pc\n-\n-uninstall-libpng-pc:\n-\trm -f '$(DESTDIR)$(pkgconfigdir)/libpng.pc'\n-\n-install-library-links:\n-\t@set -x; cd '$(DESTDIR)$(libdir)';\\\n-\tfor ext in $(EXT_LIST); do\\\n-\t   rm -f \""libpng.$$ext\"";\\\n-           if test -f \""$(PNGLIB_BASENAME).$$ext\""; then\\\n-              $(LN_S) \""$(PNGLIB_BASENAME).$$ext\"" \""libpng.$$ext\"" || exit 1;\\\n-           fi;\\\n-\tdone\n-\n-uninstall-library-links:\n-\t@set -x; cd '$(DESTDIR)$(libdir)'; for ext in $(EXT_LIST); do\\\n-\t   rm -f \""libpng.$$ext\""; done\n-\n-install-libpng-config:\n-\t@set -ex; cd '$(DESTDIR)$(bindir)'; rm -f libpng-config; \\\n-\t   $(LN_S) '$(PNGLIB_BASENAME)-config' libpng-config\n-\n-uninstall-libpng-config:\n-\trm -f '$(DESTDIR)$(bindir)/libpng-config'\n-\n-# If --enable-unversioned-links is specified the header and lib file links\n-# will be automatically made on a 'make install':\n-\n-@DO_INSTALL_LINKS_TRUE@install-data-hook: install-header-links\n-@DO_INSTALL_LINKS_TRUE@uninstall-hook: uninstall-header-links\n-@DO_INSTALL_LINKS_TRUE@install-exec-hook: install-library-links\n-@DO_INSTALL_LINKS_TRUE@uninstall-hook: uninstall-library-links\n-\n-# Likewise, --install-pc causes libpng.pc to be constructed:\n-\n-@DO_INSTALL_LIBPNG_PC_TRUE@install-data-hook: install-libpng-pc\n-@DO_INSTALL_LIBPNG_PC_TRUE@uninstall-hook: uninstall-libpng-pc\n-\n-# And --install-config:\n-\n-@DO_INSTALL_LIBPNG_CONFIG_TRUE@install-exec-hook: install-libpng-config\n-@DO_INSTALL_LIBPNG_CONFIG_TRUE@uninstall-hook: uninstall-libpng-config\n-\n-# The following addition ensures that 'make all' always builds the test programs\n-# too.  It used to, but some change either in libpng or configure stopped this\n-# working.\n-all-am: $(check_PROGRAMS)\n-\n-# Tell versions [3.59,3.63) of GNU make to not export all variables.\n-# Otherwise a system limit (for SysV at least) may be exceeded.\n-.NOEXPORT:\n""}<_**next**_>{""filename"": ""NOTICE"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/NOTICE"", ""patch"": ""@@ -10,21 +10,18 @@\n\n \n This code is released under the libpng license.\n \n-libpng versions 1.2.6, August 15, 2004, through 1.6.3, July 18, 2013, are\n-Copyright (c) 2004, 2006-2013 Glenn Randers-Pehrson, and are\n-distributed according to the same disclaimer and license as libpng-1.2.5\n-with the following individual added to the list of Contributing Authors\n-\n-   Cosmin Truta\n-\n-libpng versions 1.0.7, July 1, 2000, through 1.2.5 - October 3, 2002, are\n-Copyright (c) 2000-2002 Glenn Randers-Pehrson, and are\n-distributed according to the same disclaimer and license as libpng-1.0.6\n-with the following individuals added to the list of Contributing Authors\n+libpng versions 1.0.7, July 1, 2000, through 1.6.19, November 12, 2015, are\n+Copyright (c) 2000-2002, 2004, 2006-2015 Glenn Randers-Pehrson, are\n+derived from libpng-1.0.6, and are distributed according to the same\n+disclaimer and license as libpng-1.0.6 with the following individuals\n+added to the list of Contributing Authors:\n \n    Simon-Pierre Cadieux\n    Eric S. Raymond\n+   Mans Rullgard\n+   Cosmin Truta\n    Gilles Vollant\n+   James Yu\n \n and with the following additions to the disclaimer:\n \n@@ -36,18 +33,20 @@\n\n    the user.\n \n libpng versions 0.97, January 1998, through 1.0.6, March 20, 2000, are\n-Copyright (c) 1998, 1999 Glenn Randers-Pehrson, and are\n-distributed according to the same disclaimer and license as libpng-0.96,\n-with the following individuals added to the list of Contributing Authors:\n+Copyright (c) 1998-2000 Glenn Randers-Pehrson, are derived from\n+libpng-0.96, and are distributed according to the same disclaimer and\n+license as libpng-0.96, with the following individuals added to the list\n+of Contributing Authors:\n \n    Tom Lane\n    Glenn Randers-Pehrson\n    Willem van Schaik\n \n libpng versions 0.89, June 1996, through 0.96, May 1997, are\n-Copyright (c) 1996, 1997 Andreas Dilger\n-Distributed according to the same disclaimer and license as libpng-0.88,\n-with the following individuals added to the list of Contributing Authors:\n+Copyright (c) 1996-1997 Andreas Dilger, are derived from libpng-0.88,\n+and are distributed according to the same disclaimer and license as\n+libpng-0.88, with the following individuals added to the list of\n+Contributing Authors:\n \n    John Bowler\n    Kevin Bracey\n@@ -57,7 +56,7 @@\n\n    Tom Tanner\n \n libpng versions 0.5, May 1995, through 0.88, January 1996, are\n-Copyright (c) 1995, 1996 Guy Eric Schalnat, Group 42, Inc.\n+Copyright (c) 1995-1996 Guy Eric Schalnat, Group 42, Inc.\n \n For the purposes of this copyright and license, \""Contributing Authors\""\n is defined as the following set of individuals:\n@@ -80,13 +79,13 @@\n\n source code, or portions hereof, for any purpose, without fee, subject\n to the following restrictions:\n \n-1. The origin of this source code must not be misrepresented.\n+  1. The origin of this source code must not be misrepresented.\n \n-2. Altered versions must be plainly marked as such and must not\n-   be misrepresented as being the original source.\n+  2. Altered versions must be plainly marked as such and must not\n+     be misrepresented as being the original source.\n \n-3. This Copyright notice may not be removed or altered from any\n-   source or altered source distribution.\n+  3. This Copyright notice may not be removed or altered from any\n+     source or altered source distribution.\n \n The Contributing Authors and Group 42, Inc. specifically permit, without\n fee, and encourage the use of this source code as a component to\n@@ -94,18 +93,20 @@\n\n source code in a product, acknowledgment is not required but would be\n appreciated.\n \n+END OF COPYRIGHT NOTICE, DISCLAIMER, and LICENSE.\n \n A \""png_get_copyright\"" function is available, for convenient use in \""about\""\n boxes and the like:\n \n-   printf(\""%s\"",png_get_copyright(NULL));\n+   printf(\""%s\"", png_get_copyright(NULL));\n \n Also, the PNG logo (in PNG format, of course) is supplied in the\n files \""pngbar.png\"" and \""pngbar.jpg (88x31) and \""pngnow.png\"" (98x31).\n \n-Libpng is OSI Certified Open Source Software.  OSI Certified Open Source is a\n-certification mark of the Open Source Initiative.\n+Libpng is OSI Certified Open Source Software.  OSI Certified Open Source is\n+a certification mark of the Open Source Initiative. OSI has not addressed\n+the additional disclaimers inserted at version 1.0.7.\n \n Glenn Randers-Pehrson\n glennrp at users.sourceforge.net\n-July 18, 2013\n+November 12, 2015\n""}<_**next**_>{""filename"": ""README"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/README"", ""patch"": ""@@ -1,4 +1,4 @@\n\n-README for libpng version 1.6.10 - March 6, 2014 (shared library 16.0)\n+README for libpng version 1.6.20 - December 3, 2015 (shared library 16.0)\n See the note about version numbers near the top of png.h\n \n See INSTALL for instructions on how to install libpng.\n@@ -23,18 +23,25 @@\n\n png_uint_32, which will affect shared-library applications that use\n this function.\n \n-To avoid problems with changes to the internals of png_info_struct,\n+To avoid problems with changes to the internals of png info_struct,\n new APIs have been made available in 0.95 to avoid direct application\n access to info_ptr.  These functions are the png_set_<chunk> and\n png_get_<chunk> functions.  These functions should be used when\n accessing/storing the info_struct data, rather than manipulating it\n directly, to avoid such problems in the future.\n \n-It is important to note that the APIs do not make current programs\n+It is important to note that the APIs did not make current programs\n that access the info struct directly incompatible with the new\n-library.  However, it is strongly suggested that new programs use\n-the new APIs (as shown in example.c and pngtest.c), and older programs\n-be converted to the new format, to facilitate upgrades in the future.\n+library, through libpng-1.2.x.  In libpng-1.4.x, which was meant to\n+be a transitional release, members of the png_struct and the\n+info_struct can still be accessed, but the compiler will issue a\n+warning about deprecated usage.  Since libpng-1.5.0, direct access\n+to these structs is not allowed, and the definitions of the structs\n+reside in private pngstruct.h and pnginfo.h header files that are not\n+accessible to applications.  It is strongly suggested that new\n+programs use the new APIs (as shown in example.c and pngtest.c), and\n+older programs be converted to the new format, to facilitate upgrades\n+in the future.\n ****\n \n Additions since 0.90 include the ability to compile libpng as a\n@@ -87,6 +94,12 @@\n\n [DOWNLOAD] area, and at ftp://ftp.simplesystems.org.  If you can't find it\n in any of those places, e-mail me, and I'll help you find it.\n \n+I am not a lawyer, but I believe that the Export Control Classification\n+Number (ECCN) for libpng is EAR99, which means not subject to export\n+controls or International Traffic in Arms Regulations (ITAR) because it\n+is open source, publicly available software, that does not contain any\n+encryption software.  See the EAR, paragraphs 734.3(b)(3) and 734.7(b).\n+\n If you have any code changes, requests, problems, etc., please e-mail\n them to me.  Also, I'd appreciate any make files or project files,\n and any modifications you needed to make to get libpng to compile,\n@@ -121,7 +134,7 @@\n\n to others, if necessary.\n \n Please do not send suggestions on how to change PNG.  We have\n-been discussing PNG for nineteen years now, and it is official and\n+been discussing PNG for twenty years now, and it is official and\n finished.  If you have suggestions for libpng, however, I'll\n gladly listen.  Even if your suggestion is not used immediately,\n it may be used later.\n@@ -177,7 +190,7 @@\n\n        pngminus         =>  Simple pnm2png and png2pnm programs\n        pngsuite         =>  Test images\n        tools            =>  Various tools\n-       visupng      =>  Contains a MSVC workspace for VisualPng\n+       visupng          =>  Contains a MSVC workspace for VisualPng\n       projects      =>  Contains project files and workspaces for\n                         building a DLL\n        owatcom          =>  Contains a WATCOM project for building libpng\n""}<_**next**_>{""filename"": ""README.android"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/README.android"", ""patch"": ""@@ -0,0 +1,19 @@\n\n+Any Android specific modifications to upstream libpng (1.6.20) should\n+be listed here:\n+\n+(1) Android has added the following files.\n+    pngusr.h\n+    Android.mk\n+    CleanSpec.mk\n+    MODULE_LICENSE_BSD_LIKE\n+    README.version\n+\n+(2) pnglibconf.h\n+    This is copied from scripts/pnglibconf.h.prebuilt.\n+    Android has undefined PNG_WARNINGS_SUPPORTED.\n+\n+(3) Removed contrib/testpngs/\n+    There is no reason to check in all of these files if we won't\n+    be using them.\n+\n+(4) PNG_INDEX_SUPPORTED optimizations.\n""}<_**next**_>{""filename"": ""README.version"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/README.version"", ""patch"": ""@@ -0,0 +1,3 @@\n\n+URL: http://prdownloads.sourceforge.net/libpng/libpng-1.6.20.tar.gz?download\n+Version: 1.6.20\n+BugComponent: 87896\n""}<_**next**_>{""filename"": ""TODO"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/TODO"", ""patch"": ""@@ -6,6 +6,7 @@\n\n Fix problem with C++ and EXTERN \""C\"".\n cHRM transformation.\n Remove setjmp/longjmp usage in favor of returning error codes.\n+Palette creation.\n Add \""grayscale->palette\"" transformation and \""palette->grayscale\"" detection.\n Improved dithering.\n Multi-lingual error and warning message support.\n""}<_**next**_>{""filename"": ""aclocal.m4"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca%5E/aclocal.m4"", ""patch"": ""@@ -1,1210 +0,0 @@\n\n-# generated automatically by aclocal 1.14.1 -*- Autoconf -*-\n-\n-# Copyright (C) 1996-2013 Free Software Foundation, Inc.\n-\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY, to the extent permitted by law; without\n-# even the implied warranty of MERCHANTABILITY or FITNESS FOR A\n-# PARTICULAR PURPOSE.\n-\n-m4_ifndef([AC_CONFIG_MACRO_DIRS], [m4_defun([_AM_CONFIG_MACRO_DIRS], [])m4_defun([AC_CONFIG_MACRO_DIRS], [_AM_CONFIG_MACRO_DIRS($@)])])\n-m4_ifndef([AC_AUTOCONF_VERSION],\n-  [m4_copy([m4_PACKAGE_VERSION], [AC_AUTOCONF_VERSION])])dnl\n-m4_if(m4_defn([AC_AUTOCONF_VERSION]), [2.69],,\n-[m4_warning([this file was generated for autoconf 2.69.\n-You have another version of autoconf.  It may work, but is not guaranteed to.\n-If you have problems, you may need to regenerate the build system entirely.\n-To do so, use the procedure documented by the package, typically 'autoreconf'.])])\n-\n-# Copyright (C) 2002-2013 Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# AM_AUTOMAKE_VERSION(VERSION)\n-# ----------------------------\n-# Automake X.Y traces this macro to ensure aclocal.m4 has been\n-# generated from the m4 files accompanying Automake X.Y.\n-# (This private macro should not be called outside this file.)\n-AC_DEFUN([AM_AUTOMAKE_VERSION],\n-[am__api_version='1.14'\n-dnl Some users find AM_AUTOMAKE_VERSION and mistake it for a way to\n-dnl require some minimum version.  Point them to the right macro.\n-m4_if([$1], [1.14.1], [],\n-      [AC_FATAL([Do not call $0, use AM_INIT_AUTOMAKE([$1]).])])dnl\n-])\n-\n-# _AM_AUTOCONF_VERSION(VERSION)\n-# -----------------------------\n-# aclocal traces this macro to find the Autoconf version.\n-# This is a private macro too.  Using m4_define simplifies\n-# the logic in aclocal, which can simply ignore this definition.\n-m4_define([_AM_AUTOCONF_VERSION], [])\n-\n-# AM_SET_CURRENT_AUTOMAKE_VERSION\n-# -------------------------------\n-# Call AM_AUTOMAKE_VERSION and AM_AUTOMAKE_VERSION so they can be traced.\n-# This function is AC_REQUIREd by AM_INIT_AUTOMAKE.\n-AC_DEFUN([AM_SET_CURRENT_AUTOMAKE_VERSION],\n-[AM_AUTOMAKE_VERSION([1.14.1])dnl\n-m4_ifndef([AC_AUTOCONF_VERSION],\n-  [m4_copy([m4_PACKAGE_VERSION], [AC_AUTOCONF_VERSION])])dnl\n-_AM_AUTOCONF_VERSION(m4_defn([AC_AUTOCONF_VERSION]))])\n-\n-# Figure out how to run the assembler.                      -*- Autoconf -*-\n-\n-# Copyright (C) 2001-2013 Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# AM_PROG_AS\n-# ----------\n-AC_DEFUN([AM_PROG_AS],\n-[# By default we simply use the C compiler to build assembly code.\n-AC_REQUIRE([AC_PROG_CC])\n-test \""${CCAS+set}\"" = set || CCAS=$CC\n-test \""${CCASFLAGS+set}\"" = set || CCASFLAGS=$CFLAGS\n-AC_ARG_VAR([CCAS],      [assembler compiler command (defaults to CC)])\n-AC_ARG_VAR([CCASFLAGS], [assembler compiler flags (defaults to CFLAGS)])\n-_AM_IF_OPTION([no-dependencies],, [_AM_DEPENDENCIES([CCAS])])dnl\n-])\n-\n-# AM_AUX_DIR_EXPAND                                         -*- Autoconf -*-\n-\n-# Copyright (C) 2001-2013 Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# For projects using AC_CONFIG_AUX_DIR([foo]), Autoconf sets\n-# $ac_aux_dir to '$srcdir/foo'.  In other projects, it is set to\n-# '$srcdir', '$srcdir/..', or '$srcdir/../..'.\n-#\n-# Of course, Automake must honor this variable whenever it calls a\n-# tool from the auxiliary directory.  The problem is that $srcdir (and\n-# therefore $ac_aux_dir as well) can be either absolute or relative,\n-# depending on how configure is run.  This is pretty annoying, since\n-# it makes $ac_aux_dir quite unusable in subdirectories: in the top\n-# source directory, any form will work fine, but in subdirectories a\n-# relative path needs to be adjusted first.\n-#\n-# $ac_aux_dir/missing\n-#    fails when called from a subdirectory if $ac_aux_dir is relative\n-# $top_srcdir/$ac_aux_dir/missing\n-#    fails if $ac_aux_dir is absolute,\n-#    fails when called from a subdirectory in a VPATH build with\n-#          a relative $ac_aux_dir\n-#\n-# The reason of the latter failure is that $top_srcdir and $ac_aux_dir\n-# are both prefixed by $srcdir.  In an in-source build this is usually\n-# harmless because $srcdir is '.', but things will broke when you\n-# start a VPATH build or use an absolute $srcdir.\n-#\n-# So we could use something similar to $top_srcdir/$ac_aux_dir/missing,\n-# iff we strip the leading $srcdir from $ac_aux_dir.  That would be:\n-#   am_aux_dir='\\$(top_srcdir)/'`expr \""$ac_aux_dir\"" : \""$srcdir//*\\(.*\\)\""`\n-# and then we would define $MISSING as\n-#   MISSING=\""\\${SHELL} $am_aux_dir/missing\""\n-# This will work as long as MISSING is not called from configure, because\n-# unfortunately $(top_srcdir) has no meaning in configure.\n-# However there are other variables, like CC, which are often used in\n-# configure, and could therefore not use this \""fixed\"" $ac_aux_dir.\n-#\n-# Another solution, used here, is to always expand $ac_aux_dir to an\n-# absolute PATH.  The drawback is that using absolute paths prevent a\n-# configured tree to be moved without reconfiguration.\n-\n-AC_DEFUN([AM_AUX_DIR_EXPAND],\n-[dnl Rely on autoconf to set up CDPATH properly.\n-AC_PREREQ([2.50])dnl\n-# expand $ac_aux_dir to an absolute path\n-am_aux_dir=`cd $ac_aux_dir && pwd`\n-])\n-\n-# AM_CONDITIONAL                                            -*- Autoconf -*-\n-\n-# Copyright (C) 1997-2013 Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# AM_CONDITIONAL(NAME, SHELL-CONDITION)\n-# -------------------------------------\n-# Define a conditional.\n-AC_DEFUN([AM_CONDITIONAL],\n-[AC_PREREQ([2.52])dnl\n- m4_if([$1], [TRUE],  [AC_FATAL([$0: invalid condition: $1])],\n-       [$1], [FALSE], [AC_FATAL([$0: invalid condition: $1])])dnl\n-AC_SUBST([$1_TRUE])dnl\n-AC_SUBST([$1_FALSE])dnl\n-_AM_SUBST_NOTMAKE([$1_TRUE])dnl\n-_AM_SUBST_NOTMAKE([$1_FALSE])dnl\n-m4_define([_AM_COND_VALUE_$1], [$2])dnl\n-if $2; then\n-  $1_TRUE=\n-  $1_FALSE='#'\n-else\n-  $1_TRUE='#'\n-  $1_FALSE=\n-fi\n-AC_CONFIG_COMMANDS_PRE(\n-[if test -z \""${$1_TRUE}\"" && test -z \""${$1_FALSE}\""; then\n-  AC_MSG_ERROR([[conditional \""$1\"" was never defined.\n-Usually this means the macro was only invoked conditionally.]])\n-fi])])\n-\n-# Copyright (C) 1999-2013 Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-\n-# There are a few dirty hacks below to avoid letting 'AC_PROG_CC' be\n-# written in clear, in which case automake, when reading aclocal.m4,\n-# will think it sees a *use*, and therefore will trigger all it's\n-# C support machinery.  Also note that it means that autoscan, seeing\n-# CC etc. in the Makefile, will ask for an AC_PROG_CC use...\n-\n-\n-# _AM_DEPENDENCIES(NAME)\n-# ----------------------\n-# See how the compiler implements dependency checking.\n-# NAME is \""CC\"", \""CXX\"", \""OBJC\"", \""OBJCXX\"", \""UPC\"", or \""GJC\"".\n-# We try a few techniques and use that to set a single cache variable.\n-#\n-# We don't AC_REQUIRE the corresponding AC_PROG_CC since the latter was\n-# modified to invoke _AM_DEPENDENCIES(CC); we would have a circular\n-# dependency, and given that the user is not expected to run this macro,\n-# just rely on AC_PROG_CC.\n-AC_DEFUN([_AM_DEPENDENCIES],\n-[AC_REQUIRE([AM_SET_DEPDIR])dnl\n-AC_REQUIRE([AM_OUTPUT_DEPENDENCY_COMMANDS])dnl\n-AC_REQUIRE([AM_MAKE_INCLUDE])dnl\n-AC_REQUIRE([AM_DEP_TRACK])dnl\n-\n-m4_if([$1], [CC],   [depcc=\""$CC\""   am_compiler_list=],\n-      [$1], [CXX],  [depcc=\""$CXX\""  am_compiler_list=],\n-      [$1], [OBJC], [depcc=\""$OBJC\"" am_compiler_list='gcc3 gcc'],\n-      [$1], [OBJCXX], [depcc=\""$OBJCXX\"" am_compiler_list='gcc3 gcc'],\n-      [$1], [UPC],  [depcc=\""$UPC\""  am_compiler_list=],\n-      [$1], [GCJ],  [depcc=\""$GCJ\""  am_compiler_list='gcc3 gcc'],\n-                    [depcc=\""$$1\""   am_compiler_list=])\n-\n-AC_CACHE_CHECK([dependency style of $depcc],\n-               [am_cv_$1_dependencies_compiler_type],\n-[if test -z \""$AMDEP_TRUE\"" && test -f \""$am_depcomp\""; then\n-  # We make a subdir and do the tests there.  Otherwise we can end up\n-  # making bogus files that we don't know about and never remove.  For\n-  # instance it was reported that on HP-UX the gcc test will end up\n-  # making a dummy file named 'D' -- because '-MD' means \""put the output\n-  # in D\"".\n-  rm -rf conftest.dir\n-  mkdir conftest.dir\n-  # Copy depcomp to subdir because otherwise we won't find it if we're\n-  # using a relative directory.\n-  cp \""$am_depcomp\"" conftest.dir\n-  cd conftest.dir\n-  # We will build objects and dependencies in a subdirectory because\n-  # it helps to detect inapplicable dependency modes.  For instance\n-  # both Tru64's cc and ICC support -MD to output dependencies as a\n-  # side effect of compilation, but ICC will put the dependencies in\n-  # the current directory while Tru64 will put them in the object\n-  # directory.\n-  mkdir sub\n-\n-  am_cv_$1_dependencies_compiler_type=none\n-  if test \""$am_compiler_list\"" = \""\""; then\n-     am_compiler_list=`sed -n ['s/^#*\\([a-zA-Z0-9]*\\))$/\\1/p'] < ./depcomp`\n-  fi\n-  am__universal=false\n-  m4_case([$1], [CC],\n-    [case \"" $depcc \"" in #(\n-     *\\ -arch\\ *\\ -arch\\ *) am__universal=true ;;\n-     esac],\n-    [CXX],\n-    [case \"" $depcc \"" in #(\n-     *\\ -arch\\ *\\ -arch\\ *) am__universal=true ;;\n-     esac])\n-\n-  for depmode in $am_compiler_list; do\n-    # Setup a source with many dependencies, because some compilers\n-    # like to wrap large dependency lists on column 80 (with \\), and\n-    # we should not choose a depcomp mode which is confused by this.\n-    #\n-    # We need to recreate these files for each test, as the compiler may\n-    # overwrite some of them when testing with obscure command lines.\n-    # This happens at least with the AIX C compiler.\n-    : > sub/conftest.c\n-    for i in 1 2 3 4 5 6; do\n-      echo '#include \""conftst'$i'.h\""' >> sub/conftest.c\n-      # Using \"": > sub/conftst$i.h\"" creates only sub/conftst1.h with\n-      # Solaris 10 /bin/sh.\n-      echo '/* dummy */' > sub/conftst$i.h\n-    done\n-    echo \""${am__include} ${am__quote}sub/conftest.Po${am__quote}\"" > confmf\n-\n-    # We check with '-c' and '-o' for the sake of the \""dashmstdout\""\n-    # mode.  It turns out that the SunPro C++ compiler does not properly\n-    # handle '-M -o', and we need to detect this.  Also, some Intel\n-    # versions had trouble with output in subdirs.\n-    am__obj=sub/conftest.${OBJEXT-o}\n-    am__minus_obj=\""-o $am__obj\""\n-    case $depmode in\n-    gcc)\n-      # This depmode causes a compiler race in universal mode.\n-      test \""$am__universal\"" = false || continue\n-      ;;\n-    nosideeffect)\n-      # After this tag, mechanisms are not by side-effect, so they'll\n-      # only be used when explicitly requested.\n-      if test \""x$enable_dependency_tracking\"" = xyes; then\n-\tcontinue\n-      else\n-\tbreak\n-      fi\n-      ;;\n-    msvc7 | msvc7msys | msvisualcpp | msvcmsys)\n-      # This compiler won't grok '-c -o', but also, the minuso test has\n-      # not run yet.  These depmodes are late enough in the game, and\n-      # so weak that their functioning should not be impacted.\n-      am__obj=conftest.${OBJEXT-o}\n-      am__minus_obj=\n-      ;;\n-    none) break ;;\n-    esac\n-    if depmode=$depmode \\\n-       source=sub/conftest.c object=$am__obj \\\n-       depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \\\n-       $SHELL ./depcomp $depcc -c $am__minus_obj sub/conftest.c \\\n-         >/dev/null 2>conftest.err &&\n-       grep sub/conftst1.h sub/conftest.Po > /dev/null 2>&1 &&\n-       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&\n-       grep $am__obj sub/conftest.Po > /dev/null 2>&1 &&\n-       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then\n-      # icc doesn't choke on unknown options, it will just issue warnings\n-      # or remarks (even with -Werror).  So we grep stderr for any message\n-      # that says an option was ignored or not supported.\n-      # When given -MP, icc 7.0 and 7.1 complain thusly:\n-      #   icc: Command line warning: ignoring option '-M'; no argument required\n-      # The diagnosis changed in icc 8.0:\n-      #   icc: Command line remark: option '-MP' not supported\n-      if (grep 'ignoring option' conftest.err ||\n-          grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else\n-        am_cv_$1_dependencies_compiler_type=$depmode\n-        break\n-      fi\n-    fi\n-  done\n-\n-  cd ..\n-  rm -rf conftest.dir\n-else\n-  am_cv_$1_dependencies_compiler_type=none\n-fi\n-])\n-AC_SUBST([$1DEPMODE], [depmode=$am_cv_$1_dependencies_compiler_type])\n-AM_CONDITIONAL([am__fastdep$1], [\n-  test \""x$enable_dependency_tracking\"" != xno \\\n-  && test \""$am_cv_$1_dependencies_compiler_type\"" = gcc3])\n-])\n-\n-\n-# AM_SET_DEPDIR\n-# -------------\n-# Choose a directory name for dependency files.\n-# This macro is AC_REQUIREd in _AM_DEPENDENCIES.\n-AC_DEFUN([AM_SET_DEPDIR],\n-[AC_REQUIRE([AM_SET_LEADING_DOT])dnl\n-AC_SUBST([DEPDIR], [\""${am__leading_dot}deps\""])dnl\n-])\n-\n-\n-# AM_DEP_TRACK\n-# ------------\n-AC_DEFUN([AM_DEP_TRACK],\n-[AC_ARG_ENABLE([dependency-tracking], [dnl\n-AS_HELP_STRING(\n-  [--enable-dependency-tracking],\n-  [do not reject slow dependency extractors])\n-AS_HELP_STRING(\n-  [--disable-dependency-tracking],\n-  [speeds up one-time build])])\n-if test \""x$enable_dependency_tracking\"" != xno; then\n-  am_depcomp=\""$ac_aux_dir/depcomp\""\n-  AMDEPBACKSLASH='\\'\n-  am__nodep='_no'\n-fi\n-AM_CONDITIONAL([AMDEP], [test \""x$enable_dependency_tracking\"" != xno])\n-AC_SUBST([AMDEPBACKSLASH])dnl\n-_AM_SUBST_NOTMAKE([AMDEPBACKSLASH])dnl\n-AC_SUBST([am__nodep])dnl\n-_AM_SUBST_NOTMAKE([am__nodep])dnl\n-])\n-\n-# Generate code to set up dependency tracking.              -*- Autoconf -*-\n-\n-# Copyright (C) 1999-2013 Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-\n-# _AM_OUTPUT_DEPENDENCY_COMMANDS\n-# ------------------------------\n-AC_DEFUN([_AM_OUTPUT_DEPENDENCY_COMMANDS],\n-[{\n-  # Older Autoconf quotes --file arguments for eval, but not when files\n-  # are listed without --file.  Let's play safe and only enable the eval\n-  # if we detect the quoting.\n-  case $CONFIG_FILES in\n-  *\\'*) eval set x \""$CONFIG_FILES\"" ;;\n-  *)   set x $CONFIG_FILES ;;\n-  esac\n-  shift\n-  for mf\n-  do\n-    # Strip MF so we end up with the name of the file.\n-    mf=`echo \""$mf\"" | sed -e 's/:.*$//'`\n-    # Check whether this is an Automake generated Makefile or not.\n-    # We used to match only the files named 'Makefile.in', but\n-    # some people rename them; so instead we look at the file content.\n-    # Grep'ing the first line is not enough: some people post-process\n-    # each Makefile.in and add a new line on top of each file to say so.\n-    # Grep'ing the whole file is not good either: AIX grep has a line\n-    # limit of 2048, but all sed's we know have understand at least 4000.\n-    if sed -n 's,^#.*generated by automake.*,X,p' \""$mf\"" | grep X >/dev/null 2>&1; then\n-      dirpart=`AS_DIRNAME(\""$mf\"")`\n-    else\n-      continue\n-    fi\n-    # Extract the definition of DEPDIR, am__include, and am__quote\n-    # from the Makefile without running 'make'.\n-    DEPDIR=`sed -n 's/^DEPDIR = //p' < \""$mf\""`\n-    test -z \""$DEPDIR\"" && continue\n-    am__include=`sed -n 's/^am__include = //p' < \""$mf\""`\n-    test -z \""$am__include\"" && continue\n-    am__quote=`sed -n 's/^am__quote = //p' < \""$mf\""`\n-    # Find all dependency output files, they are included files with\n-    # $(DEPDIR) in their names.  We invoke sed twice because it is the\n-    # simplest approach to changing $(DEPDIR) to its actual value in the\n-    # expansion.\n-    for file in `sed -n \""\n-      s/^$am__include $am__quote\\(.*(DEPDIR).*\\)$am__quote\""'$/\\1/p' <\""$mf\"" | \\\n-\t sed -e 's/\\$(DEPDIR)/'\""$DEPDIR\""'/g'`; do\n-      # Make sure the directory exists.\n-      test -f \""$dirpart/$file\"" && continue\n-      fdir=`AS_DIRNAME([\""$file\""])`\n-      AS_MKDIR_P([$dirpart/$fdir])\n-      # echo \""creating $dirpart/$file\""\n-      echo '# dummy' > \""$dirpart/$file\""\n-    done\n-  done\n-}\n-])# _AM_OUTPUT_DEPENDENCY_COMMANDS\n-\n-\n-# AM_OUTPUT_DEPENDENCY_COMMANDS\n-# -----------------------------\n-# This macro should only be invoked once -- use via AC_REQUIRE.\n-#\n-# This code is only required when automatic dependency tracking\n-# is enabled.  FIXME.  This creates each '.P' file that we will\n-# need in order to bootstrap the dependency handling code.\n-AC_DEFUN([AM_OUTPUT_DEPENDENCY_COMMANDS],\n-[AC_CONFIG_COMMANDS([depfiles],\n-     [test x\""$AMDEP_TRUE\"" != x\""\"" || _AM_OUTPUT_DEPENDENCY_COMMANDS],\n-     [AMDEP_TRUE=\""$AMDEP_TRUE\"" ac_aux_dir=\""$ac_aux_dir\""])\n-])\n-\n-# Do all the work for Automake.                             -*- Autoconf -*-\n-\n-# Copyright (C) 1996-2013 Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# This macro actually does too much.  Some checks are only needed if\n-# your package does certain things.  But this isn't really a big deal.\n-\n-dnl Redefine AC_PROG_CC to automatically invoke _AM_PROG_CC_C_O.\n-m4_define([AC_PROG_CC],\n-m4_defn([AC_PROG_CC])\n-[_AM_PROG_CC_C_O\n-])\n-\n-# AM_INIT_AUTOMAKE(PACKAGE, VERSION, [NO-DEFINE])\n-# AM_INIT_AUTOMAKE([OPTIONS])\n-# -----------------------------------------------\n-# The call with PACKAGE and VERSION arguments is the old style\n-# call (pre autoconf-2.50), which is being phased out.  PACKAGE\n-# and VERSION should now be passed to AC_INIT and removed from\n-# the call to AM_INIT_AUTOMAKE.\n-# We support both call styles for the transition.  After\n-# the next Automake release, Autoconf can make the AC_INIT\n-# arguments mandatory, and then we can depend on a new Autoconf\n-# release and drop the old call support.\n-AC_DEFUN([AM_INIT_AUTOMAKE],\n-[AC_PREREQ([2.65])dnl\n-dnl Autoconf wants to disallow AM_ names.  We explicitly allow\n-dnl the ones we care about.\n-m4_pattern_allow([^AM_[A-Z]+FLAGS$])dnl\n-AC_REQUIRE([AM_SET_CURRENT_AUTOMAKE_VERSION])dnl\n-AC_REQUIRE([AC_PROG_INSTALL])dnl\n-if test \""`cd $srcdir && pwd`\"" != \""`pwd`\""; then\n-  # Use -I$(srcdir) only when $(srcdir) != ., so that make's output\n-  # is not polluted with repeated \""-I.\""\n-  AC_SUBST([am__isrc], [' -I$(srcdir)'])_AM_SUBST_NOTMAKE([am__isrc])dnl\n-  # test to see if srcdir already configured\n-  if test -f $srcdir/config.status; then\n-    AC_MSG_ERROR([source directory already configured; run \""make distclean\"" there first])\n-  fi\n-fi\n-\n-# test whether we have cygpath\n-if test -z \""$CYGPATH_W\""; then\n-  if (cygpath --version) >/dev/null 2>/dev/null; then\n-    CYGPATH_W='cygpath -w'\n-  else\n-    CYGPATH_W=echo\n-  fi\n-fi\n-AC_SUBST([CYGPATH_W])\n-\n-# Define the identity of the package.\n-dnl Distinguish between old-style and new-style calls.\n-m4_ifval([$2],\n-[AC_DIAGNOSE([obsolete],\n-             [$0: two- and three-arguments forms are deprecated.])\n-m4_ifval([$3], [_AM_SET_OPTION([no-define])])dnl\n- AC_SUBST([PACKAGE], [$1])dnl\n- AC_SUBST([VERSION], [$2])],\n-[_AM_SET_OPTIONS([$1])dnl\n-dnl Diagnose old-style AC_INIT with new-style AM_AUTOMAKE_INIT.\n-m4_if(\n-  m4_ifdef([AC_PACKAGE_NAME], [ok]):m4_ifdef([AC_PACKAGE_VERSION], [ok]),\n-  [ok:ok],,\n-  [m4_fatal([AC_INIT should be called with package and version arguments])])dnl\n- AC_SUBST([PACKAGE], ['AC_PACKAGE_TARNAME'])dnl\n- AC_SUBST([VERSION], ['AC_PACKAGE_VERSION'])])dnl\n-\n-_AM_IF_OPTION([no-define],,\n-[AC_DEFINE_UNQUOTED([PACKAGE], [\""$PACKAGE\""], [Name of package])\n- AC_DEFINE_UNQUOTED([VERSION], [\""$VERSION\""], [Version number of package])])dnl\n-\n-# Some tools Automake needs.\n-AC_REQUIRE([AM_SANITY_CHECK])dnl\n-AC_REQUIRE([AC_ARG_PROGRAM])dnl\n-AM_MISSING_PROG([ACLOCAL], [aclocal-${am__api_version}])\n-AM_MISSING_PROG([AUTOCONF], [autoconf])\n-AM_MISSING_PROG([AUTOMAKE], [automake-${am__api_version}])\n-AM_MISSING_PROG([AUTOHEADER], [autoheader])\n-AM_MISSING_PROG([MAKEINFO], [makeinfo])\n-AC_REQUIRE([AM_PROG_INSTALL_SH])dnl\n-AC_REQUIRE([AM_PROG_INSTALL_STRIP])dnl\n-AC_REQUIRE([AC_PROG_MKDIR_P])dnl\n-# For better backward compatibility.  To be removed once Automake 1.9.x\n-# dies out for good.  For more background, see:\n-# <http://lists.gnu.org/archive/html/automake/2012-07/msg00001.html>\n-# <http://lists.gnu.org/archive/html/automake/2012-07/msg00014.html>\n-AC_SUBST([mkdir_p], ['$(MKDIR_P)'])\n-# We need awk for the \""check\"" target.  The system \""awk\"" is bad on\n-# some platforms.\n-AC_REQUIRE([AC_PROG_AWK])dnl\n-AC_REQUIRE([AC_PROG_MAKE_SET])dnl\n-AC_REQUIRE([AM_SET_LEADING_DOT])dnl\n-_AM_IF_OPTION([tar-ustar], [_AM_PROG_TAR([ustar])],\n-\t      [_AM_IF_OPTION([tar-pax], [_AM_PROG_TAR([pax])],\n-\t\t\t     [_AM_PROG_TAR([v7])])])\n-_AM_IF_OPTION([no-dependencies],,\n-[AC_PROVIDE_IFELSE([AC_PROG_CC],\n-\t\t  [_AM_DEPENDENCIES([CC])],\n-\t\t  [m4_define([AC_PROG_CC],\n-\t\t\t     m4_defn([AC_PROG_CC])[_AM_DEPENDENCIES([CC])])])dnl\n-AC_PROVIDE_IFELSE([AC_PROG_CXX],\n-\t\t  [_AM_DEPENDENCIES([CXX])],\n-\t\t  [m4_define([AC_PROG_CXX],\n-\t\t\t     m4_defn([AC_PROG_CXX])[_AM_DEPENDENCIES([CXX])])])dnl\n-AC_PROVIDE_IFELSE([AC_PROG_OBJC],\n-\t\t  [_AM_DEPENDENCIES([OBJC])],\n-\t\t  [m4_define([AC_PROG_OBJC],\n-\t\t\t     m4_defn([AC_PROG_OBJC])[_AM_DEPENDENCIES([OBJC])])])dnl\n-AC_PROVIDE_IFELSE([AC_PROG_OBJCXX],\n-\t\t  [_AM_DEPENDENCIES([OBJCXX])],\n-\t\t  [m4_define([AC_PROG_OBJCXX],\n-\t\t\t     m4_defn([AC_PROG_OBJCXX])[_AM_DEPENDENCIES([OBJCXX])])])dnl\n-])\n-AC_REQUIRE([AM_SILENT_RULES])dnl\n-dnl The testsuite driver may need to know about EXEEXT, so add the\n-dnl 'am__EXEEXT' conditional if _AM_COMPILER_EXEEXT was seen.  This\n-dnl macro is hooked onto _AC_COMPILER_EXEEXT early, see below.\n-AC_CONFIG_COMMANDS_PRE(dnl\n-[m4_provide_if([_AM_COMPILER_EXEEXT],\n-  [AM_CONDITIONAL([am__EXEEXT], [test -n \""$EXEEXT\""])])])dnl\n-\n-# POSIX will say in a future version that running \""rm -f\"" with no argument\n-# is OK; and we want to be able to make that assumption in our Makefile\n-# recipes.  So use an aggressive probe to check that the usage we want is\n-# actually supported \""in the wild\"" to an acceptable degree.\n-# See automake bug#10828.\n-# To make any issue more visible, cause the running configure to be aborted\n-# by default if the 'rm' program in use doesn't match our expectations; the\n-# user can still override this though.\n-if rm -f && rm -fr && rm -rf; then : OK; else\n-  cat >&2 <<'END'\n-Oops!\n-\n-Your 'rm' program seems unable to run without file operands specified\n-on the command line, even when the '-f' option is present.  This is contrary\n-to the behaviour of most rm programs out there, and not conforming with\n-the upcoming POSIX standard: <http://austingroupbugs.net/view.php?id=542>\n-\n-Please tell bug-automake@gnu.org about your system, including the value\n-of your $PATH and any error possibly output before this message.  This\n-can help us improve future automake versions.\n-\n-END\n-  if test x\""$ACCEPT_INFERIOR_RM_PROGRAM\"" = x\""yes\""; then\n-    echo 'Configuration will proceed anyway, since you have set the' >&2\n-    echo 'ACCEPT_INFERIOR_RM_PROGRAM variable to \""yes\""' >&2\n-    echo >&2\n-  else\n-    cat >&2 <<'END'\n-Aborting the configuration process, to ensure you take notice of the issue.\n-\n-You can download and install GNU coreutils to get an 'rm' implementation\n-that behaves properly: <http://www.gnu.org/software/coreutils/>.\n-\n-If you want to complete the configuration process using your problematic\n-'rm' anyway, export the environment variable ACCEPT_INFERIOR_RM_PROGRAM\n-to \""yes\"", and re-run configure.\n-\n-END\n-    AC_MSG_ERROR([Your 'rm' program is bad, sorry.])\n-  fi\n-fi])\n-\n-dnl Hook into '_AC_COMPILER_EXEEXT' early to learn its expansion.  Do not\n-dnl add the conditional right here, as _AC_COMPILER_EXEEXT may be further\n-dnl mangled by Autoconf and run in a shell conditional statement.\n-m4_define([_AC_COMPILER_EXEEXT],\n-m4_defn([_AC_COMPILER_EXEEXT])[m4_provide([_AM_COMPILER_EXEEXT])])\n-\n-# When config.status generates a header, we must update the stamp-h file.\n-# This file resides in the same directory as the config header\n-# that is generated.  The stamp files are numbered to have different names.\n-\n-# Autoconf calls _AC_AM_CONFIG_HEADER_HOOK (when defined) in the\n-# loop where config.status creates the headers, so we can generate\n-# our stamp files there.\n-AC_DEFUN([_AC_AM_CONFIG_HEADER_HOOK],\n-[# Compute $1's index in $config_headers.\n-_am_arg=$1\n-_am_stamp_count=1\n-for _am_header in $config_headers :; do\n-  case $_am_header in\n-    $_am_arg | $_am_arg:* )\n-      break ;;\n-    * )\n-      _am_stamp_count=`expr $_am_stamp_count + 1` ;;\n-  esac\n-done\n-echo \""timestamp for $_am_arg\"" >`AS_DIRNAME([\""$_am_arg\""])`/stamp-h[]$_am_stamp_count])\n-\n-# Copyright (C) 2001-2013 Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# AM_PROG_INSTALL_SH\n-# ------------------\n-# Define $install_sh.\n-AC_DEFUN([AM_PROG_INSTALL_SH],\n-[AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl\n-if test x\""${install_sh}\"" != xset; then\n-  case $am_aux_dir in\n-  *\\ * | *\\\t*)\n-    install_sh=\""\\${SHELL} '$am_aux_dir/install-sh'\"" ;;\n-  *)\n-    install_sh=\""\\${SHELL} $am_aux_dir/install-sh\""\n-  esac\n-fi\n-AC_SUBST([install_sh])])\n-\n-# Copyright (C) 2003-2013 Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# Check whether the underlying file-system supports filenames\n-# with a leading dot.  For instance MS-DOS doesn't.\n-AC_DEFUN([AM_SET_LEADING_DOT],\n-[rm -rf .tst 2>/dev/null\n-mkdir .tst 2>/dev/null\n-if test -d .tst; then\n-  am__leading_dot=.\n-else\n-  am__leading_dot=_\n-fi\n-rmdir .tst 2>/dev/null\n-AC_SUBST([am__leading_dot])])\n-\n-# Add --enable-maintainer-mode option to configure.         -*- Autoconf -*-\n-# From Jim Meyering\n-\n-# Copyright (C) 1996-2013 Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# AM_MAINTAINER_MODE([DEFAULT-MODE])\n-# ----------------------------------\n-# Control maintainer-specific portions of Makefiles.\n-# Default is to disable them, unless 'enable' is passed literally.\n-# For symmetry, 'disable' may be passed as well.  Anyway, the user\n-# can override the default with the --enable/--disable switch.\n-AC_DEFUN([AM_MAINTAINER_MODE],\n-[m4_case(m4_default([$1], [disable]),\n-       [enable], [m4_define([am_maintainer_other], [disable])],\n-       [disable], [m4_define([am_maintainer_other], [enable])],\n-       [m4_define([am_maintainer_other], [enable])\n-        m4_warn([syntax], [unexpected argument to AM@&t@_MAINTAINER_MODE: $1])])\n-AC_MSG_CHECKING([whether to enable maintainer-specific portions of Makefiles])\n-  dnl maintainer-mode's default is 'disable' unless 'enable' is passed\n-  AC_ARG_ENABLE([maintainer-mode],\n-    [AS_HELP_STRING([--]am_maintainer_other[-maintainer-mode],\n-      am_maintainer_other[ make rules and dependencies not useful\n-      (and sometimes confusing) to the casual installer])],\n-    [USE_MAINTAINER_MODE=$enableval],\n-    [USE_MAINTAINER_MODE=]m4_if(am_maintainer_other, [enable], [no], [yes]))\n-  AC_MSG_RESULT([$USE_MAINTAINER_MODE])\n-  AM_CONDITIONAL([MAINTAINER_MODE], [test $USE_MAINTAINER_MODE = yes])\n-  MAINT=$MAINTAINER_MODE_TRUE\n-  AC_SUBST([MAINT])dnl\n-]\n-)\n-\n-# Check to see how 'make' treats includes.\t            -*- Autoconf -*-\n-\n-# Copyright (C) 2001-2013 Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# AM_MAKE_INCLUDE()\n-# -----------------\n-# Check to see how make treats includes.\n-AC_DEFUN([AM_MAKE_INCLUDE],\n-[am_make=${MAKE-make}\n-cat > confinc << 'END'\n-am__doit:\n-\t@echo this is the am__doit target\n-.PHONY: am__doit\n-END\n-# If we don't find an include directive, just comment out the code.\n-AC_MSG_CHECKING([for style of include used by $am_make])\n-am__include=\""#\""\n-am__quote=\n-_am_result=none\n-# First try GNU make style include.\n-echo \""include confinc\"" > confmf\n-# Ignore all kinds of additional output from 'make'.\n-case `$am_make -s -f confmf 2> /dev/null` in #(\n-*the\\ am__doit\\ target*)\n-  am__include=include\n-  am__quote=\n-  _am_result=GNU\n-  ;;\n-esac\n-# Now try BSD make style include.\n-if test \""$am__include\"" = \""#\""; then\n-   echo '.include \""confinc\""' > confmf\n-   case `$am_make -s -f confmf 2> /dev/null` in #(\n-   *the\\ am__doit\\ target*)\n-     am__include=.include\n-     am__quote=\""\\\""\""\n-     _am_result=BSD\n-     ;;\n-   esac\n-fi\n-AC_SUBST([am__include])\n-AC_SUBST([am__quote])\n-AC_MSG_RESULT([$_am_result])\n-rm -f confinc confmf\n-])\n-\n-# Fake the existence of programs that GNU maintainers use.  -*- Autoconf -*-\n-\n-# Copyright (C) 1997-2013 Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# AM_MISSING_PROG(NAME, PROGRAM)\n-# ------------------------------\n-AC_DEFUN([AM_MISSING_PROG],\n-[AC_REQUIRE([AM_MISSING_HAS_RUN])\n-$1=${$1-\""${am_missing_run}$2\""}\n-AC_SUBST($1)])\n-\n-# AM_MISSING_HAS_RUN\n-# ------------------\n-# Define MISSING if not defined so far and test if it is modern enough.\n-# If it is, set am_missing_run to use it, otherwise, to nothing.\n-AC_DEFUN([AM_MISSING_HAS_RUN],\n-[AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl\n-AC_REQUIRE_AUX_FILE([missing])dnl\n-if test x\""${MISSING+set}\"" != xset; then\n-  case $am_aux_dir in\n-  *\\ * | *\\\t*)\n-    MISSING=\""\\${SHELL} \\\""$am_aux_dir/missing\\\""\"" ;;\n-  *)\n-    MISSING=\""\\${SHELL} $am_aux_dir/missing\"" ;;\n-  esac\n-fi\n-# Use eval to expand $SHELL\n-if eval \""$MISSING --is-lightweight\""; then\n-  am_missing_run=\""$MISSING \""\n-else\n-  am_missing_run=\n-  AC_MSG_WARN(['missing' script is too old or missing])\n-fi\n-])\n-\n-# Helper functions for option handling.                     -*- Autoconf -*-\n-\n-# Copyright (C) 2001-2013 Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# _AM_MANGLE_OPTION(NAME)\n-# -----------------------\n-AC_DEFUN([_AM_MANGLE_OPTION],\n-[[_AM_OPTION_]m4_bpatsubst($1, [[^a-zA-Z0-9_]], [_])])\n-\n-# _AM_SET_OPTION(NAME)\n-# --------------------\n-# Set option NAME.  Presently that only means defining a flag for this option.\n-AC_DEFUN([_AM_SET_OPTION],\n-[m4_define(_AM_MANGLE_OPTION([$1]), [1])])\n-\n-# _AM_SET_OPTIONS(OPTIONS)\n-# ------------------------\n-# OPTIONS is a space-separated list of Automake options.\n-AC_DEFUN([_AM_SET_OPTIONS],\n-[m4_foreach_w([_AM_Option], [$1], [_AM_SET_OPTION(_AM_Option)])])\n-\n-# _AM_IF_OPTION(OPTION, IF-SET, [IF-NOT-SET])\n-# -------------------------------------------\n-# Execute IF-SET if OPTION is set, IF-NOT-SET otherwise.\n-AC_DEFUN([_AM_IF_OPTION],\n-[m4_ifset(_AM_MANGLE_OPTION([$1]), [$2], [$3])])\n-\n-# Copyright (C) 1999-2013 Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# _AM_PROG_CC_C_O\n-# ---------------\n-# Like AC_PROG_CC_C_O, but changed for automake.  We rewrite AC_PROG_CC\n-# to automatically call this.\n-AC_DEFUN([_AM_PROG_CC_C_O],\n-[AC_REQUIRE([AM_AUX_DIR_EXPAND])dnl\n-AC_REQUIRE_AUX_FILE([compile])dnl\n-AC_LANG_PUSH([C])dnl\n-AC_CACHE_CHECK(\n-  [whether $CC understands -c and -o together],\n-  [am_cv_prog_cc_c_o],\n-  [AC_LANG_CONFTEST([AC_LANG_PROGRAM([])])\n-  # Make sure it works both with $CC and with simple cc.\n-  # Following AC_PROG_CC_C_O, we do the test twice because some\n-  # compilers refuse to overwrite an existing .o file with -o,\n-  # though they will create one.\n-  am_cv_prog_cc_c_o=yes\n-  for am_i in 1 2; do\n-    if AM_RUN_LOG([$CC -c conftest.$ac_ext -o conftest2.$ac_objext]) \\\n-         && test -f conftest2.$ac_objext; then\n-      : OK\n-    else\n-      am_cv_prog_cc_c_o=no\n-      break\n-    fi\n-  done\n-  rm -f core conftest*\n-  unset am_i])\n-if test \""$am_cv_prog_cc_c_o\"" != yes; then\n-   # Losing compiler, so override with the script.\n-   # FIXME: It is wrong to rewrite CC.\n-   # But if we don't then we get into trouble of one sort or another.\n-   # A longer-term fix would be to have automake use am__CC in this case,\n-   # and then we could set am__CC=\""\\$(top_srcdir)/compile \\$(CC)\""\n-   CC=\""$am_aux_dir/compile $CC\""\n-fi\n-AC_LANG_POP([C])])\n-\n-# For backward compatibility.\n-AC_DEFUN_ONCE([AM_PROG_CC_C_O], [AC_REQUIRE([AC_PROG_CC])])\n-\n-# Copyright (C) 2001-2013 Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# AM_RUN_LOG(COMMAND)\n-# -------------------\n-# Run COMMAND, save the exit status in ac_status, and log it.\n-# (This has been adapted from Autoconf's _AC_RUN_LOG macro.)\n-AC_DEFUN([AM_RUN_LOG],\n-[{ echo \""$as_me:$LINENO: $1\"" >&AS_MESSAGE_LOG_FD\n-   ($1) >&AS_MESSAGE_LOG_FD 2>&AS_MESSAGE_LOG_FD\n-   ac_status=$?\n-   echo \""$as_me:$LINENO: \\$? = $ac_status\"" >&AS_MESSAGE_LOG_FD\n-   (exit $ac_status); }])\n-\n-# Check to make sure that the build environment is sane.    -*- Autoconf -*-\n-\n-# Copyright (C) 1996-2013 Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# AM_SANITY_CHECK\n-# ---------------\n-AC_DEFUN([AM_SANITY_CHECK],\n-[AC_MSG_CHECKING([whether build environment is sane])\n-# Reject unsafe characters in $srcdir or the absolute working directory\n-# name.  Accept space and tab only in the latter.\n-am_lf='\n-'\n-case `pwd` in\n-  *[[\\\\\\\""\\#\\$\\&\\'\\`$am_lf]]*)\n-    AC_MSG_ERROR([unsafe absolute working directory name]);;\n-esac\n-case $srcdir in\n-  *[[\\\\\\\""\\#\\$\\&\\'\\`$am_lf\\ \\\t]]*)\n-    AC_MSG_ERROR([unsafe srcdir value: '$srcdir']);;\n-esac\n-\n-# Do 'set' in a subshell so we don't clobber the current shell's\n-# arguments.  Must try -L first in case configure is actually a\n-# symlink; some systems play weird games with the mod time of symlinks\n-# (eg FreeBSD returns the mod time of the symlink's containing\n-# directory).\n-if (\n-   am_has_slept=no\n-   for am_try in 1 2; do\n-     echo \""timestamp, slept: $am_has_slept\"" > conftest.file\n-     set X `ls -Lt \""$srcdir/configure\"" conftest.file 2> /dev/null`\n-     if test \""$[*]\"" = \""X\""; then\n-\t# -L didn't work.\n-\tset X `ls -t \""$srcdir/configure\"" conftest.file`\n-     fi\n-     if test \""$[*]\"" != \""X $srcdir/configure conftest.file\"" \\\n-\t&& test \""$[*]\"" != \""X conftest.file $srcdir/configure\""; then\n-\n-\t# If neither matched, then we have a broken ls.  This can happen\n-\t# if, for instance, CONFIG_SHELL is bash and it inherits a\n-\t# broken ls alias from the environment.  This has actually\n-\t# happened.  Such a system could not be considered \""sane\"".\n-\tAC_MSG_ERROR([ls -t appears to fail.  Make sure there is not a broken\n-  alias in your environment])\n-     fi\n-     if test \""$[2]\"" = conftest.file || test $am_try -eq 2; then\n-       break\n-     fi\n-     # Just in case.\n-     sleep 1\n-     am_has_slept=yes\n-   done\n-   test \""$[2]\"" = conftest.file\n-   )\n-then\n-   # Ok.\n-   :\n-else\n-   AC_MSG_ERROR([newly created file is older than distributed files!\n-Check your system clock])\n-fi\n-AC_MSG_RESULT([yes])\n-# If we didn't sleep, we still need to ensure time stamps of config.status and\n-# generated files are strictly newer.\n-am_sleep_pid=\n-if grep 'slept: no' conftest.file >/dev/null 2>&1; then\n-  ( sleep 1 ) &\n-  am_sleep_pid=$!\n-fi\n-AC_CONFIG_COMMANDS_PRE(\n-  [AC_MSG_CHECKING([that generated files are newer than configure])\n-   if test -n \""$am_sleep_pid\""; then\n-     # Hide warnings about reused PIDs.\n-     wait $am_sleep_pid 2>/dev/null\n-   fi\n-   AC_MSG_RESULT([done])])\n-rm -f conftest.file\n-])\n-\n-# Copyright (C) 2009-2013 Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# AM_SILENT_RULES([DEFAULT])\n-# --------------------------\n-# Enable less verbose build rules; with the default set to DEFAULT\n-# (\""yes\"" being less verbose, \""no\"" or empty being verbose).\n-AC_DEFUN([AM_SILENT_RULES],\n-[AC_ARG_ENABLE([silent-rules], [dnl\n-AS_HELP_STRING(\n-  [--enable-silent-rules],\n-  [less verbose build output (undo: \""make V=1\"")])\n-AS_HELP_STRING(\n-  [--disable-silent-rules],\n-  [verbose build output (undo: \""make V=0\"")])dnl\n-])\n-case $enable_silent_rules in @%:@ (((\n-  yes) AM_DEFAULT_VERBOSITY=0;;\n-   no) AM_DEFAULT_VERBOSITY=1;;\n-    *) AM_DEFAULT_VERBOSITY=m4_if([$1], [yes], [0], [1]);;\n-esac\n-dnl\n-dnl A few 'make' implementations (e.g., NonStop OS and NextStep)\n-dnl do not support nested variable expansions.\n-dnl See automake bug#9928 and bug#10237.\n-am_make=${MAKE-make}\n-AC_CACHE_CHECK([whether $am_make supports nested variables],\n-   [am_cv_make_support_nested_variables],\n-   [if AS_ECHO([['TRUE=$(BAR$(V))\n-BAR0=false\n-BAR1=true\n-V=1\n-am__doit:\n-\t@$(TRUE)\n-.PHONY: am__doit']]) | $am_make -f - >/dev/null 2>&1; then\n-  am_cv_make_support_nested_variables=yes\n-else\n-  am_cv_make_support_nested_variables=no\n-fi])\n-if test $am_cv_make_support_nested_variables = yes; then\n-  dnl Using '$V' instead of '$(V)' breaks IRIX make.\n-  AM_V='$(V)'\n-  AM_DEFAULT_V='$(AM_DEFAULT_VERBOSITY)'\n-else\n-  AM_V=$AM_DEFAULT_VERBOSITY\n-  AM_DEFAULT_V=$AM_DEFAULT_VERBOSITY\n-fi\n-AC_SUBST([AM_V])dnl\n-AM_SUBST_NOTMAKE([AM_V])dnl\n-AC_SUBST([AM_DEFAULT_V])dnl\n-AM_SUBST_NOTMAKE([AM_DEFAULT_V])dnl\n-AC_SUBST([AM_DEFAULT_VERBOSITY])dnl\n-AM_BACKSLASH='\\'\n-AC_SUBST([AM_BACKSLASH])dnl\n-_AM_SUBST_NOTMAKE([AM_BACKSLASH])dnl\n-])\n-\n-# Copyright (C) 2001-2013 Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# AM_PROG_INSTALL_STRIP\n-# ---------------------\n-# One issue with vendor 'install' (even GNU) is that you can't\n-# specify the program used to strip binaries.  This is especially\n-# annoying in cross-compiling environments, where the build's strip\n-# is unlikely to handle the host's binaries.\n-# Fortunately install-sh will honor a STRIPPROG variable, so we\n-# always use install-sh in \""make install-strip\"", and initialize\n-# STRIPPROG with the value of the STRIP variable (set by the user).\n-AC_DEFUN([AM_PROG_INSTALL_STRIP],\n-[AC_REQUIRE([AM_PROG_INSTALL_SH])dnl\n-# Installed binaries are usually stripped using 'strip' when the user\n-# run \""make install-strip\"".  However 'strip' might not be the right\n-# tool to use in cross-compilation environments, therefore Automake\n-# will honor the 'STRIP' environment variable to overrule this program.\n-dnl Don't test for $cross_compiling = yes, because it might be 'maybe'.\n-if test \""$cross_compiling\"" != no; then\n-  AC_CHECK_TOOL([STRIP], [strip], :)\n-fi\n-INSTALL_STRIP_PROGRAM=\""\\$(install_sh) -c -s\""\n-AC_SUBST([INSTALL_STRIP_PROGRAM])])\n-\n-# Copyright (C) 2006-2013 Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# _AM_SUBST_NOTMAKE(VARIABLE)\n-# ---------------------------\n-# Prevent Automake from outputting VARIABLE = @VARIABLE@ in Makefile.in.\n-# This macro is traced by Automake.\n-AC_DEFUN([_AM_SUBST_NOTMAKE])\n-\n-# AM_SUBST_NOTMAKE(VARIABLE)\n-# --------------------------\n-# Public sister of _AM_SUBST_NOTMAKE.\n-AC_DEFUN([AM_SUBST_NOTMAKE], [_AM_SUBST_NOTMAKE($@)])\n-\n-# Check how to create a tarball.                            -*- Autoconf -*-\n-\n-# Copyright (C) 2004-2013 Free Software Foundation, Inc.\n-#\n-# This file is free software; the Free Software Foundation\n-# gives unlimited permission to copy and/or distribute it,\n-# with or without modifications, as long as this notice is preserved.\n-\n-# _AM_PROG_TAR(FORMAT)\n-# --------------------\n-# Check how to create a tarball in format FORMAT.\n-# FORMAT should be one of 'v7', 'ustar', or 'pax'.\n-#\n-# Substitute a variable $(am__tar) that is a command\n-# writing to stdout a FORMAT-tarball containing the directory\n-# $tardir.\n-#     tardir=directory && $(am__tar) > result.tar\n-#\n-# Substitute a variable $(am__untar) that extract such\n-# a tarball read from stdin.\n-#     $(am__untar) < result.tar\n-#\n-AC_DEFUN([_AM_PROG_TAR],\n-[# Always define AMTAR for backward compatibility.  Yes, it's still used\n-# in the wild :-(  We should find a proper way to deprecate it ...\n-AC_SUBST([AMTAR], ['$${TAR-tar}'])\n-\n-# We'll loop over all known methods to create a tar archive until one works.\n-_am_tools='gnutar m4_if([$1], [ustar], [plaintar]) pax cpio none'\n-\n-m4_if([$1], [v7],\n-  [am__tar='$${TAR-tar} chof - \""$$tardir\""' am__untar='$${TAR-tar} xf -'],\n-\n-  [m4_case([$1],\n-    [ustar],\n-     [# The POSIX 1988 'ustar' format is defined with fixed-size fields.\n-      # There is notably a 21 bits limit for the UID and the GID.  In fact,\n-      # the 'pax' utility can hang on bigger UID/GID (see automake bug#8343\n-      # and bug#13588).\n-      am_max_uid=2097151 # 2^21 - 1\n-      am_max_gid=$am_max_uid\n-      # The $UID and $GID variables are not portable, so we need to resort\n-      # to the POSIX-mandated id(1) utility.  Errors in the 'id' calls\n-      # below are definitely unexpected, so allow the users to see them\n-      # (that is, avoid stderr redirection).\n-      am_uid=`id -u || echo unknown`\n-      am_gid=`id -g || echo unknown`\n-      AC_MSG_CHECKING([whether UID '$am_uid' is supported by ustar format])\n-      if test $am_uid -le $am_max_uid; then\n-         AC_MSG_RESULT([yes])\n-      else\n-         AC_MSG_RESULT([no])\n-         _am_tools=none\n-      fi\n-      AC_MSG_CHECKING([whether GID '$am_gid' is supported by ustar format])\n-      if test $am_gid -le $am_max_gid; then\n-         AC_MSG_RESULT([yes])\n-      else\n-        AC_MSG_RESULT([no])\n-        _am_tools=none\n-      fi],\n-\n-  [pax],\n-    [],\n-\n-  [m4_fatal([Unknown tar format])])\n-\n-  AC_MSG_CHECKING([how to create a $1 tar archive])\n-\n-  # Go ahead even if we have the value already cached.  We do so because we\n-  # need to set the values for the 'am__tar' and 'am__untar' variables.\n-  _am_tools=${am_cv_prog_tar_$1-$_am_tools}\n-\n-  for _am_tool in $_am_tools; do\n-    case $_am_tool in\n-    gnutar)\n-      for _am_tar in tar gnutar gtar; do\n-        AM_RUN_LOG([$_am_tar --version]) && break\n-      done\n-      am__tar=\""$_am_tar --format=m4_if([$1], [pax], [posix], [$1]) -chf - \""'\""$$tardir\""'\n-      am__tar_=\""$_am_tar --format=m4_if([$1], [pax], [posix], [$1]) -chf - \""'\""$tardir\""'\n-      am__untar=\""$_am_tar -xf -\""\n-      ;;\n-    plaintar)\n-      # Must skip GNU tar: if it does not support --format= it doesn't create\n-      # ustar tarball either.\n-      (tar --version) >/dev/null 2>&1 && continue\n-      am__tar='tar chf - \""$$tardir\""'\n-      am__tar_='tar chf - \""$tardir\""'\n-      am__untar='tar xf -'\n-      ;;\n-    pax)\n-      am__tar='pax -L -x $1 -w \""$$tardir\""'\n-      am__tar_='pax -L -x $1 -w \""$tardir\""'\n-      am__untar='pax -r'\n-      ;;\n-    cpio)\n-      am__tar='find \""$$tardir\"" -print | cpio -o -H $1 -L'\n-      am__tar_='find \""$tardir\"" -print | cpio -o -H $1 -L'\n-      am__untar='cpio -i -H $1 -d'\n-      ;;\n-    none)\n-      am__tar=false\n-      am__tar_=false\n-      am__untar=false\n-      ;;\n-    esac\n-\n-    # If the value was cached, stop now.  We just wanted to have am__tar\n-    # and am__untar set.\n-    test -n \""${am_cv_prog_tar_$1}\"" && break\n-\n-    # tar/untar a dummy directory, and stop if the command works.\n-    rm -rf conftest.dir\n-    mkdir conftest.dir\n-    echo GrepMe > conftest.dir/file\n-    AM_RUN_LOG([tardir=conftest.dir && eval $am__tar_ >conftest.tar])\n-    rm -rf conftest.dir\n-    if test -s conftest.tar; then\n-      AM_RUN_LOG([$am__untar <conftest.tar])\n-      AM_RUN_LOG([cat conftest.dir/file])\n-      grep GrepMe conftest.dir/file >/dev/null 2>&1 && break\n-    fi\n-  done\n-  rm -rf conftest.dir\n-\n-  AC_CACHE_VAL([am_cv_prog_tar_$1], [am_cv_prog_tar_$1=$_am_tool])\n-  AC_MSG_RESULT([$am_cv_prog_tar_$1])])\n-\n-AC_SUBST([am__tar])\n-AC_SUBST([am__untar])\n-]) # _AM_PROG_TAR\n-\n-m4_include([scripts/libtool.m4])\n-m4_include([scripts/ltoptions.m4])\n-m4_include([scripts/ltsugar.m4])\n-m4_include([scripts/ltversion.m4])\n-m4_include([scripts/lt~obsolete.m4])\n""}<_**next**_>{""filename"": ""arm/arm_init.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/arm/arm_init.c"", ""patch"": ""@@ -3,7 +3,7 @@\n\n  *\n  * Copyright (c) 2014 Glenn Randers-Pehrson\n  * Written by Mans Rullgard, 2011.\n- * Last changed in libpng 1.6.10 [March 6, 2014]\n+ * Last changed in libpng 1.6.16 [December 22, 2014]\n  *\n  * This code is released under the libpng license.\n  * For conditions of distribution and use, see the disclaimer\n@@ -17,12 +17,13 @@\n\n #include \""../pngpriv.h\""\n \n #ifdef PNG_READ_SUPPORTED\n+\n #if PNG_ARM_NEON_OPT > 0\n #ifdef PNG_ARM_NEON_CHECK_SUPPORTED /* Do run-time checks */\n /* WARNING: it is strongly recommended that you do not build libpng with\n  * run-time checks for CPU features if at all possible.  In the case of the ARM\n  * NEON instructions there is no processor-specific way of detecting the\n- * presense of the required support, therefore run-time detectioon is extremely\n+ * presence of the required support, therefore run-time detection is extremely\n  * OS specific.\n  *\n  * You may set the macro PNG_ARM_NEON_FILE to the file name of file containing\n@@ -130,4 +131,4 @@\n\n    }\n }\n #endif /* PNG_ARM_NEON_OPT > 0 */\n-#endif /* PNG_READ_SUPPORTED */\n+#endif /* READ */\n""}<_**next**_>{""filename"": ""arm/filter_neon.S"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/arm/filter_neon.S"", ""patch"": ""@@ -1,18 +1,17 @@\n\n \n /* filter_neon.S - NEON optimised filter functions\n  *\n- * Copyright (c) 2013 Glenn Randers-Pehrson\n+ * Copyright (c) 2014 Glenn Randers-Pehrson\n  * Written by Mans Rullgard, 2011.\n- * Last changed in libpng 1.6.8 [December 19, 2013]\n+ * Last changed in libpng 1.6.16 [December 22, 2014]\n  *\n  * This code is released under the libpng license.\n  * For conditions of distribution and use, see the disclaimer\n  * and license in png.h\n  */\n \n-/* This is required to get the symbol renames, which are #defines, and also\n- * includes the definition (or not) of PNG_ARM_NEON_OPT and\n- * PNG_ARM_NEON_IMPLEMENTATION.\n+/* This is required to get the symbol renames, which are #defines, and the\n+ * definitions (or not) of PNG_ARM_NEON_OPT and PNG_ARM_NEON_IMPLEMENTATION.\n  */\n #define PNG_VERSION_INFO_ONLY\n #include \""../pngpriv.h\""\n@@ -21,6 +20,8 @@\n\n .section .note.GNU-stack,\""\"",%progbits /* mark stack as non-executable */\n #endif\n \n+#ifdef PNG_READ_SUPPORTED\n+\n /* Assembler NEON support - only works for 32-bit ARM (i.e. it does not work for\n  * ARM64).  The code in arm/filter_neon_intrinsics.c supports ARM64, however it\n  * only works if -mfpu=neon is specified on the GCC command line.  See pngpriv.h\n@@ -28,7 +29,6 @@\n\n  */\n #if PNG_ARM_NEON_IMPLEMENTATION == 2 /* hand-coded assembler */\n \n-#ifdef PNG_READ_SUPPORTED\n #if PNG_ARM_NEON_OPT > 0\n \n #ifdef __ELF__\n@@ -47,6 +47,13 @@\n\n         .purgem endfunc\n     .endm\n         .text\n+\n+        /* Explicitly specifying alignment here because some versions of\n+         * GAS don't align code correctly.  This is harmless in correctly\n+         * written versions of GAS.\n+         */\n+        .align 2\n+\n     .if \\export\n         .global \\name\n     .endif\n@@ -242,5 +249,5 @@\n\n         pop             {r4,pc}\n endfunc\n #endif /* PNG_ARM_NEON_OPT > 0 */\n-#endif /* PNG_READ_SUPPORTED */\n #endif /* PNG_ARM_NEON_IMPLEMENTATION == 2 (assembler) */\n+#endif /* READ */\n""}<_**next**_>{""filename"": ""arm/filter_neon_intrinsics.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/arm/filter_neon_intrinsics.c"", ""patch"": ""@@ -1,11 +1,11 @@\n\n \n /* filter_neon_intrinsics.c - NEON optimised filter functions\n  *\n- * Copyright (c) 2013 Glenn Randers-Pehrson\n+ * Copyright (c) 2014 Glenn Randers-Pehrson\n  * Written by James Yu <james.yu at linaro.org>, October 2013.\n  * Based on filter_neon.S, written by Mans Rullgard, 2011.\n  *\n- * Last changed in libpng 1.6.8 [December 19, 2013]\n+ * Last changed in libpng 1.6.16 [December 22, 2014]\n  *\n  * This code is released under the libpng license.\n  * For conditions of distribution and use, see the disclaimer\n@@ -14,6 +14,8 @@\n\n \n #include \""../pngpriv.h\""\n \n+#ifdef PNG_READ_SUPPORTED\n+\n /* This code requires -mfpu=neon on the command line: */\n #if PNG_ARM_NEON_IMPLEMENTATION == 1 /* intrinsics code from pngpriv.h */\n \n@@ -35,7 +37,6 @@\n\n #define png_ldr(type,pointer)\\\n    (temp_pointer = png_ptr(type,pointer), *temp_pointer)\n \n-#ifdef PNG_READ_SUPPORTED\n #if PNG_ARM_NEON_OPT > 0\n \n void\n@@ -368,5 +369,5 @@\n\n }\n \n #endif /* PNG_ARM_NEON_OPT > 0 */\n-#endif /* PNG_READ_SUPPORTED */\n #endif /* PNG_ARM_NEON_IMPLEMENTATION == 1 (intrinsics) */\n+#endif /* READ */\n""}<_**next**_>{""filename"": ""autogen.sh"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/autogen.sh"", ""patch"": ""@@ -73,12 +73,13 @@\n\n # present bad things are happening.\n #\n # The autotools generated files:\n-libpng_autotools_files=\""Makefile.in aclocal.m4 config.guess config.h.in\\\n-   config.sub configure depcomp install-sh ltmain.sh missing test-driver\""\n+libpng_autotools_files=\""Makefile.in aclocal.m4 config.guess config.h.in\n+   config.sub configure depcomp install-sh ltmain.sh missing\\\n+   test-driver\""\n #\n # Files generated by versions of configue >2.68 or automake >1.13 (i.e. later\n # versions than those required by configure.ac):\n-libpng_autotools_extra=\""compile\""\n+libpng_autotools_extra=\""compile config.h.in~\""\n #\n # These are separate because 'maintainer-clean' does not remove them.\n libpng_libtool_files=\""scripts/libtool.m4 scripts/ltoptions.m4\\\n""}<_**next**_>{""filename"": ""compile"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca%5E/compile"", ""patch"": ""@@ -1,347 +0,0 @@\n\n-#! /bin/sh\n-# Wrapper for compilers which do not understand '-c -o'.\n-\n-scriptversion=2012-10-14.11; # UTC\n-\n-# Copyright (C) 1999-2013 Free Software Foundation, Inc.\n-# Written by Tom Tromey <tromey@cygnus.com>.\n-#\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-#\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-#\n-# You should have received a copy of the GNU General Public License\n-# along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-\n-# As a special exception to the GNU General Public License, if you\n-# distribute this file as part of a program that contains a\n-# configuration script generated by Autoconf, you may include it under\n-# the same distribution terms that you use for the rest of that program.\n-\n-# This file is maintained in Automake, please report\n-# bugs to <bug-automake@gnu.org> or send patches to\n-# <automake-patches@gnu.org>.\n-\n-nl='\n-'\n-\n-# We need space, tab and new line, in precisely that order.  Quoting is\n-# there to prevent tools from complaining about whitespace usage.\n-IFS=\"" \""\""\t$nl\""\n-\n-file_conv=\n-\n-# func_file_conv build_file lazy\n-# Convert a $build file to $host form and store it in $file\n-# Currently only supports Windows hosts. If the determined conversion\n-# type is listed in (the comma separated) LAZY, no conversion will\n-# take place.\n-func_file_conv ()\n-{\n-  file=$1\n-  case $file in\n-    / | /[!/]*) # absolute file, and not a UNC file\n-      if test -z \""$file_conv\""; then\n-\t# lazily determine how to convert abs files\n-\tcase `uname -s` in\n-\t  MINGW*)\n-\t    file_conv=mingw\n-\t    ;;\n-\t  CYGWIN*)\n-\t    file_conv=cygwin\n-\t    ;;\n-\t  *)\n-\t    file_conv=wine\n-\t    ;;\n-\tesac\n-      fi\n-      case $file_conv/,$2, in\n-\t*,$file_conv,*)\n-\t  ;;\n-\tmingw/*)\n-\t  file=`cmd //C echo \""$file \"" | sed -e 's/\""\\(.*\\) \"" *$/\\1/'`\n-\t  ;;\n-\tcygwin/*)\n-\t  file=`cygpath -m \""$file\"" || echo \""$file\""`\n-\t  ;;\n-\twine/*)\n-\t  file=`winepath -w \""$file\"" || echo \""$file\""`\n-\t  ;;\n-      esac\n-      ;;\n-  esac\n-}\n-\n-# func_cl_dashL linkdir\n-# Make cl look for libraries in LINKDIR\n-func_cl_dashL ()\n-{\n-  func_file_conv \""$1\""\n-  if test -z \""$lib_path\""; then\n-    lib_path=$file\n-  else\n-    lib_path=\""$lib_path;$file\""\n-  fi\n-  linker_opts=\""$linker_opts -LIBPATH:$file\""\n-}\n-\n-# func_cl_dashl library\n-# Do a library search-path lookup for cl\n-func_cl_dashl ()\n-{\n-  lib=$1\n-  found=no\n-  save_IFS=$IFS\n-  IFS=';'\n-  for dir in $lib_path $LIB\n-  do\n-    IFS=$save_IFS\n-    if $shared && test -f \""$dir/$lib.dll.lib\""; then\n-      found=yes\n-      lib=$dir/$lib.dll.lib\n-      break\n-    fi\n-    if test -f \""$dir/$lib.lib\""; then\n-      found=yes\n-      lib=$dir/$lib.lib\n-      break\n-    fi\n-    if test -f \""$dir/lib$lib.a\""; then\n-      found=yes\n-      lib=$dir/lib$lib.a\n-      break\n-    fi\n-  done\n-  IFS=$save_IFS\n-\n-  if test \""$found\"" != yes; then\n-    lib=$lib.lib\n-  fi\n-}\n-\n-# func_cl_wrapper cl arg...\n-# Adjust compile command to suit cl\n-func_cl_wrapper ()\n-{\n-  # Assume a capable shell\n-  lib_path=\n-  shared=:\n-  linker_opts=\n-  for arg\n-  do\n-    if test -n \""$eat\""; then\n-      eat=\n-    else\n-      case $1 in\n-\t-o)\n-\t  # configure might choose to run compile as 'compile cc -o foo foo.c'.\n-\t  eat=1\n-\t  case $2 in\n-\t    *.o | *.[oO][bB][jJ])\n-\t      func_file_conv \""$2\""\n-\t      set x \""$@\"" -Fo\""$file\""\n-\t      shift\n-\t      ;;\n-\t    *)\n-\t      func_file_conv \""$2\""\n-\t      set x \""$@\"" -Fe\""$file\""\n-\t      shift\n-\t      ;;\n-\t  esac\n-\t  ;;\n-\t-I)\n-\t  eat=1\n-\t  func_file_conv \""$2\"" mingw\n-\t  set x \""$@\"" -I\""$file\""\n-\t  shift\n-\t  ;;\n-\t-I*)\n-\t  func_file_conv \""${1#-I}\"" mingw\n-\t  set x \""$@\"" -I\""$file\""\n-\t  shift\n-\t  ;;\n-\t-l)\n-\t  eat=1\n-\t  func_cl_dashl \""$2\""\n-\t  set x \""$@\"" \""$lib\""\n-\t  shift\n-\t  ;;\n-\t-l*)\n-\t  func_cl_dashl \""${1#-l}\""\n-\t  set x \""$@\"" \""$lib\""\n-\t  shift\n-\t  ;;\n-\t-L)\n-\t  eat=1\n-\t  func_cl_dashL \""$2\""\n-\t  ;;\n-\t-L*)\n-\t  func_cl_dashL \""${1#-L}\""\n-\t  ;;\n-\t-static)\n-\t  shared=false\n-\t  ;;\n-\t-Wl,*)\n-\t  arg=${1#-Wl,}\n-\t  save_ifs=\""$IFS\""; IFS=','\n-\t  for flag in $arg; do\n-\t    IFS=\""$save_ifs\""\n-\t    linker_opts=\""$linker_opts $flag\""\n-\t  done\n-\t  IFS=\""$save_ifs\""\n-\t  ;;\n-\t-Xlinker)\n-\t  eat=1\n-\t  linker_opts=\""$linker_opts $2\""\n-\t  ;;\n-\t-*)\n-\t  set x \""$@\"" \""$1\""\n-\t  shift\n-\t  ;;\n-\t*.cc | *.CC | *.cxx | *.CXX | *.[cC]++)\n-\t  func_file_conv \""$1\""\n-\t  set x \""$@\"" -Tp\""$file\""\n-\t  shift\n-\t  ;;\n-\t*.c | *.cpp | *.CPP | *.lib | *.LIB | *.Lib | *.OBJ | *.obj | *.[oO])\n-\t  func_file_conv \""$1\"" mingw\n-\t  set x \""$@\"" \""$file\""\n-\t  shift\n-\t  ;;\n-\t*)\n-\t  set x \""$@\"" \""$1\""\n-\t  shift\n-\t  ;;\n-      esac\n-    fi\n-    shift\n-  done\n-  if test -n \""$linker_opts\""; then\n-    linker_opts=\""-link$linker_opts\""\n-  fi\n-  exec \""$@\"" $linker_opts\n-  exit 1\n-}\n-\n-eat=\n-\n-case $1 in\n-  '')\n-     echo \""$0: No command.  Try '$0 --help' for more information.\"" 1>&2\n-     exit 1;\n-     ;;\n-  -h | --h*)\n-    cat <<\\EOF\n-Usage: compile [--help] [--version] PROGRAM [ARGS]\n-\n-Wrapper for compilers which do not understand '-c -o'.\n-Remove '-o dest.o' from ARGS, run PROGRAM with the remaining\n-arguments, and rename the output as expected.\n-\n-If you are trying to build a whole package this is not the\n-right script to run: please start by reading the file 'INSTALL'.\n-\n-Report bugs to <bug-automake@gnu.org>.\n-EOF\n-    exit $?\n-    ;;\n-  -v | --v*)\n-    echo \""compile $scriptversion\""\n-    exit $?\n-    ;;\n-  cl | *[/\\\\]cl | cl.exe | *[/\\\\]cl.exe )\n-    func_cl_wrapper \""$@\""      # Doesn't return...\n-    ;;\n-esac\n-\n-ofile=\n-cfile=\n-\n-for arg\n-do\n-  if test -n \""$eat\""; then\n-    eat=\n-  else\n-    case $1 in\n-      -o)\n-\t# configure might choose to run compile as 'compile cc -o foo foo.c'.\n-\t# So we strip '-o arg' only if arg is an object.\n-\teat=1\n-\tcase $2 in\n-\t  *.o | *.obj)\n-\t    ofile=$2\n-\t    ;;\n-\t  *)\n-\t    set x \""$@\"" -o \""$2\""\n-\t    shift\n-\t    ;;\n-\tesac\n-\t;;\n-      *.c)\n-\tcfile=$1\n-\tset x \""$@\"" \""$1\""\n-\tshift\n-\t;;\n-      *)\n-\tset x \""$@\"" \""$1\""\n-\tshift\n-\t;;\n-    esac\n-  fi\n-  shift\n-done\n-\n-if test -z \""$ofile\"" || test -z \""$cfile\""; then\n-  # If no '-o' option was seen then we might have been invoked from a\n-  # pattern rule where we don't need one.  That is ok -- this is a\n-  # normal compilation that the losing compiler can handle.  If no\n-  # '.c' file was seen then we are probably linking.  That is also\n-  # ok.\n-  exec \""$@\""\n-fi\n-\n-# Name of file we expect compiler to create.\n-cofile=`echo \""$cfile\"" | sed 's|^.*[\\\\/]||; s|^[a-zA-Z]:||; s/\\.c$/.o/'`\n-\n-# Create the lock directory.\n-# Note: use '[/\\\\:.-]' here to ensure that we don't use the same name\n-# that we are using for the .o file.  Also, base the name on the expected\n-# object file name, since that is what matters with a parallel build.\n-lockdir=`echo \""$cofile\"" | sed -e 's|[/\\\\:.-]|_|g'`.d\n-while true; do\n-  if mkdir \""$lockdir\"" >/dev/null 2>&1; then\n-    break\n-  fi\n-  sleep 1\n-done\n-# FIXME: race condition here if user kills between mkdir and trap.\n-trap \""rmdir '$lockdir'; exit 1\"" 1 2 15\n-\n-# Run the compile.\n-\""$@\""\n-ret=$?\n-\n-if test -f \""$cofile\""; then\n-  test \""$cofile\"" = \""$ofile\"" || mv \""$cofile\"" \""$ofile\""\n-elif test -f \""${cofile}bj\""; then\n-  test \""${cofile}bj\"" = \""$ofile\"" || mv \""${cofile}bj\"" \""$ofile\""\n-fi\n-\n-rmdir \""$lockdir\""\n-exit $ret\n-\n-# Local Variables:\n-# mode: shell-script\n-# sh-indentation: 2\n-# eval: (add-hook 'write-file-hooks 'time-stamp)\n-# time-stamp-start: \""scriptversion=\""\n-# time-stamp-format: \""%:y-%02m-%02d.%02H\""\n-# time-stamp-time-zone: \""UTC\""\n-# time-stamp-end: \""; # UTC\""\n-# End:\n""}<_**next**_>{""filename"": ""config.guess"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca%5E/config.guess"", ""patch"": ""@@ -1,1568 +0,0 @@\n\n-#! /bin/sh\n-# Attempt to guess a canonical system name.\n-#   Copyright 1992-2013 Free Software Foundation, Inc.\n-\n-timestamp='2013-11-29'\n-\n-# This file is free software; you can redistribute it and/or modify it\n-# under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 3 of the License, or\n-# (at your option) any later version.\n-#\n-# This program is distributed in the hope that it will be useful, but\n-# WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-# General Public License for more details.\n-#\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, see <http://www.gnu.org/licenses/>.\n-#\n-# As a special exception to the GNU General Public License, if you\n-# distribute this file as part of a program that contains a\n-# configuration script generated by Autoconf, you may include it under\n-# the same distribution terms that you use for the rest of that\n-# program.  This Exception is an additional permission under section 7\n-# of the GNU General Public License, version 3 (\""GPLv3\"").\n-#\n-# Originally written by Per Bothner.\n-#\n-# You can get the latest version of this script from:\n-# http://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.guess;hb=HEAD\n-#\n-# Please send patches with a ChangeLog entry to config-patches@gnu.org.\n-\n-\n-me=`echo \""$0\"" | sed -e 's,.*/,,'`\n-\n-usage=\""\\\n-Usage: $0 [OPTION]\n-\n-Output the configuration name of the system \\`$me' is run on.\n-\n-Operation modes:\n-  -h, --help         print this help, then exit\n-  -t, --time-stamp   print date of last modification, then exit\n-  -v, --version      print version number, then exit\n-\n-Report bugs and patches to <config-patches@gnu.org>.\""\n-\n-version=\""\\\n-GNU config.guess ($timestamp)\n-\n-Originally written by Per Bothner.\n-Copyright 1992-2013 Free Software Foundation, Inc.\n-\n-This is free software; see the source for copying conditions.  There is NO\n-warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\""\n-\n-help=\""\n-Try \\`$me --help' for more information.\""\n-\n-# Parse command line\n-while test $# -gt 0 ; do\n-  case $1 in\n-    --time-stamp | --time* | -t )\n-       echo \""$timestamp\"" ; exit ;;\n-    --version | -v )\n-       echo \""$version\"" ; exit ;;\n-    --help | --h* | -h )\n-       echo \""$usage\""; exit ;;\n-    -- )     # Stop option processing\n-       shift; break ;;\n-    - )\t# Use stdin as input.\n-       break ;;\n-    -* )\n-       echo \""$me: invalid option $1$help\"" >&2\n-       exit 1 ;;\n-    * )\n-       break ;;\n-  esac\n-done\n-\n-if test $# != 0; then\n-  echo \""$me: too many arguments$help\"" >&2\n-  exit 1\n-fi\n-\n-trap 'exit 1' 1 2 15\n-\n-# CC_FOR_BUILD -- compiler used by this script. Note that the use of a\n-# compiler to aid in system detection is discouraged as it requires\n-# temporary files to be created and, as you can see below, it is a\n-# headache to deal with in a portable fashion.\n-\n-# Historically, `CC_FOR_BUILD' used to be named `HOST_CC'. We still\n-# use `HOST_CC' if defined, but it is deprecated.\n-\n-# Portable tmp directory creation inspired by the Autoconf team.\n-\n-set_cc_for_build='\n-trap \""exitcode=\\$?; (rm -f \\$tmpfiles 2>/dev/null; rmdir \\$tmp 2>/dev/null) && exit \\$exitcode\"" 0 ;\n-trap \""rm -f \\$tmpfiles 2>/dev/null; rmdir \\$tmp 2>/dev/null; exit 1\"" 1 2 13 15 ;\n-: ${TMPDIR=/tmp} ;\n- { tmp=`(umask 077 && mktemp -d \""$TMPDIR/cgXXXXXX\"") 2>/dev/null` && test -n \""$tmp\"" && test -d \""$tmp\"" ; } ||\n- { test -n \""$RANDOM\"" && tmp=$TMPDIR/cg$$-$RANDOM && (umask 077 && mkdir $tmp) ; } ||\n- { tmp=$TMPDIR/cg-$$ && (umask 077 && mkdir $tmp) && echo \""Warning: creating insecure temp directory\"" >&2 ; } ||\n- { echo \""$me: cannot create a temporary directory in $TMPDIR\"" >&2 ; exit 1 ; } ;\n-dummy=$tmp/dummy ;\n-tmpfiles=\""$dummy.c $dummy.o $dummy.rel $dummy\"" ;\n-case $CC_FOR_BUILD,$HOST_CC,$CC in\n- ,,)    echo \""int x;\"" > $dummy.c ;\n-\tfor c in cc gcc c89 c99 ; do\n-\t  if ($c -c -o $dummy.o $dummy.c) >/dev/null 2>&1 ; then\n-\t     CC_FOR_BUILD=\""$c\""; break ;\n-\t  fi ;\n-\tdone ;\n-\tif test x\""$CC_FOR_BUILD\"" = x ; then\n-\t  CC_FOR_BUILD=no_compiler_found ;\n-\tfi\n-\t;;\n- ,,*)   CC_FOR_BUILD=$CC ;;\n- ,*,*)  CC_FOR_BUILD=$HOST_CC ;;\n-esac ; set_cc_for_build= ;'\n-\n-# This is needed to find uname on a Pyramid OSx when run in the BSD universe.\n-# (ghazi@noc.rutgers.edu 1994-08-24)\n-if (test -f /.attbin/uname) >/dev/null 2>&1 ; then\n-\tPATH=$PATH:/.attbin ; export PATH\n-fi\n-\n-UNAME_MACHINE=`(uname -m) 2>/dev/null` || UNAME_MACHINE=unknown\n-UNAME_RELEASE=`(uname -r) 2>/dev/null` || UNAME_RELEASE=unknown\n-UNAME_SYSTEM=`(uname -s) 2>/dev/null`  || UNAME_SYSTEM=unknown\n-UNAME_VERSION=`(uname -v) 2>/dev/null` || UNAME_VERSION=unknown\n-\n-case \""${UNAME_SYSTEM}\"" in\n-Linux|GNU|GNU/*)\n-\t# If the system lacks a compiler, then just pick glibc.\n-\t# We could probably try harder.\n-\tLIBC=gnu\n-\n-\teval $set_cc_for_build\n-\tcat <<-EOF > $dummy.c\n-\t#include <features.h>\n-\t#if defined(__UCLIBC__)\n-\tLIBC=uclibc\n-\t#elif defined(__dietlibc__)\n-\tLIBC=dietlibc\n-\t#else\n-\tLIBC=gnu\n-\t#endif\n-\tEOF\n-\teval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep '^LIBC'`\n-\t;;\n-esac\n-\n-# Note: order is significant - the case branches are not exclusive.\n-\n-case \""${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}\"" in\n-    *:NetBSD:*:*)\n-\t# NetBSD (nbsd) targets should (where applicable) match one or\n-\t# more of the tuples: *-*-netbsdelf*, *-*-netbsdaout*,\n-\t# *-*-netbsdecoff* and *-*-netbsd*.  For targets that recently\n-\t# switched to ELF, *-*-netbsd* would select the old\n-\t# object file format.  This provides both forward\n-\t# compatibility and a consistent mechanism for selecting the\n-\t# object file format.\n-\t#\n-\t# Note: NetBSD doesn't particularly care about the vendor\n-\t# portion of the name.  We always set it to \""unknown\"".\n-\tsysctl=\""sysctl -n hw.machine_arch\""\n-\tUNAME_MACHINE_ARCH=`(/sbin/$sysctl 2>/dev/null || \\\n-\t    /usr/sbin/$sysctl 2>/dev/null || echo unknown)`\n-\tcase \""${UNAME_MACHINE_ARCH}\"" in\n-\t    armeb) machine=armeb-unknown ;;\n-\t    arm*) machine=arm-unknown ;;\n-\t    sh3el) machine=shl-unknown ;;\n-\t    sh3eb) machine=sh-unknown ;;\n-\t    sh5el) machine=sh5le-unknown ;;\n-\t    *) machine=${UNAME_MACHINE_ARCH}-unknown ;;\n-\tesac\n-\t# The Operating System including object format, if it has switched\n-\t# to ELF recently, or will in the future.\n-\tcase \""${UNAME_MACHINE_ARCH}\"" in\n-\t    arm*|i386|m68k|ns32k|sh3*|sparc|vax)\n-\t\teval $set_cc_for_build\n-\t\tif echo __ELF__ | $CC_FOR_BUILD -E - 2>/dev/null \\\n-\t\t\t| grep -q __ELF__\n-\t\tthen\n-\t\t    # Once all utilities can be ECOFF (netbsdecoff) or a.out (netbsdaout).\n-\t\t    # Return netbsd for either.  FIX?\n-\t\t    os=netbsd\n-\t\telse\n-\t\t    os=netbsdelf\n-\t\tfi\n-\t\t;;\n-\t    *)\n-\t\tos=netbsd\n-\t\t;;\n-\tesac\n-\t# The OS release\n-\t# Debian GNU/NetBSD machines have a different userland, and\n-\t# thus, need a distinct triplet. However, they do not need\n-\t# kernel version information, so it can be replaced with a\n-\t# suitable tag, in the style of linux-gnu.\n-\tcase \""${UNAME_VERSION}\"" in\n-\t    Debian*)\n-\t\trelease='-gnu'\n-\t\t;;\n-\t    *)\n-\t\trelease=`echo ${UNAME_RELEASE}|sed -e 's/[-_].*/\\./'`\n-\t\t;;\n-\tesac\n-\t# Since CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM:\n-\t# contains redundant information, the shorter form:\n-\t# CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM is used.\n-\techo \""${machine}-${os}${release}\""\n-\texit ;;\n-    *:Bitrig:*:*)\n-\tUNAME_MACHINE_ARCH=`arch | sed 's/Bitrig.//'`\n-\techo ${UNAME_MACHINE_ARCH}-unknown-bitrig${UNAME_RELEASE}\n-\texit ;;\n-    *:OpenBSD:*:*)\n-\tUNAME_MACHINE_ARCH=`arch | sed 's/OpenBSD.//'`\n-\techo ${UNAME_MACHINE_ARCH}-unknown-openbsd${UNAME_RELEASE}\n-\texit ;;\n-    *:ekkoBSD:*:*)\n-\techo ${UNAME_MACHINE}-unknown-ekkobsd${UNAME_RELEASE}\n-\texit ;;\n-    *:SolidBSD:*:*)\n-\techo ${UNAME_MACHINE}-unknown-solidbsd${UNAME_RELEASE}\n-\texit ;;\n-    macppc:MirBSD:*:*)\n-\techo powerpc-unknown-mirbsd${UNAME_RELEASE}\n-\texit ;;\n-    *:MirBSD:*:*)\n-\techo ${UNAME_MACHINE}-unknown-mirbsd${UNAME_RELEASE}\n-\texit ;;\n-    alpha:OSF1:*:*)\n-\tcase $UNAME_RELEASE in\n-\t*4.0)\n-\t\tUNAME_RELEASE=`/usr/sbin/sizer -v | awk '{print $3}'`\n-\t\t;;\n-\t*5.*)\n-\t\tUNAME_RELEASE=`/usr/sbin/sizer -v | awk '{print $4}'`\n-\t\t;;\n-\tesac\n-\t# According to Compaq, /usr/sbin/psrinfo has been available on\n-\t# OSF/1 and Tru64 systems produced since 1995.  I hope that\n-\t# covers most systems running today.  This code pipes the CPU\n-\t# types through head -n 1, so we only detect the type of CPU 0.\n-\tALPHA_CPU_TYPE=`/usr/sbin/psrinfo -v | sed -n -e 's/^  The alpha \\(.*\\) processor.*$/\\1/p' | head -n 1`\n-\tcase \""$ALPHA_CPU_TYPE\"" in\n-\t    \""EV4 (21064)\"")\n-\t\tUNAME_MACHINE=\""alpha\"" ;;\n-\t    \""EV4.5 (21064)\"")\n-\t\tUNAME_MACHINE=\""alpha\"" ;;\n-\t    \""LCA4 (21066/21068)\"")\n-\t\tUNAME_MACHINE=\""alpha\"" ;;\n-\t    \""EV5 (21164)\"")\n-\t\tUNAME_MACHINE=\""alphaev5\"" ;;\n-\t    \""EV5.6 (21164A)\"")\n-\t\tUNAME_MACHINE=\""alphaev56\"" ;;\n-\t    \""EV5.6 (21164PC)\"")\n-\t\tUNAME_MACHINE=\""alphapca56\"" ;;\n-\t    \""EV5.7 (21164PC)\"")\n-\t\tUNAME_MACHINE=\""alphapca57\"" ;;\n-\t    \""EV6 (21264)\"")\n-\t\tUNAME_MACHINE=\""alphaev6\"" ;;\n-\t    \""EV6.7 (21264A)\"")\n-\t\tUNAME_MACHINE=\""alphaev67\"" ;;\n-\t    \""EV6.8CB (21264C)\"")\n-\t\tUNAME_MACHINE=\""alphaev68\"" ;;\n-\t    \""EV6.8AL (21264B)\"")\n-\t\tUNAME_MACHINE=\""alphaev68\"" ;;\n-\t    \""EV6.8CX (21264D)\"")\n-\t\tUNAME_MACHINE=\""alphaev68\"" ;;\n-\t    \""EV6.9A (21264/EV69A)\"")\n-\t\tUNAME_MACHINE=\""alphaev69\"" ;;\n-\t    \""EV7 (21364)\"")\n-\t\tUNAME_MACHINE=\""alphaev7\"" ;;\n-\t    \""EV7.9 (21364A)\"")\n-\t\tUNAME_MACHINE=\""alphaev79\"" ;;\n-\tesac\n-\t# A Pn.n version is a patched version.\n-\t# A Vn.n version is a released version.\n-\t# A Tn.n version is a released field test version.\n-\t# A Xn.n version is an unreleased experimental baselevel.\n-\t# 1.2 uses \""1.2\"" for uname -r.\n-\techo ${UNAME_MACHINE}-dec-osf`echo ${UNAME_RELEASE} | sed -e 's/^[PVTX]//' | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz'`\n-\t# Reset EXIT trap before exiting to avoid spurious non-zero exit code.\n-\texitcode=$?\n-\ttrap '' 0\n-\texit $exitcode ;;\n-    Alpha\\ *:Windows_NT*:*)\n-\t# How do we know it's Interix rather than the generic POSIX subsystem?\n-\t# Should we change UNAME_MACHINE based on the output of uname instead\n-\t# of the specific Alpha model?\n-\techo alpha-pc-interix\n-\texit ;;\n-    21064:Windows_NT:50:3)\n-\techo alpha-dec-winnt3.5\n-\texit ;;\n-    Amiga*:UNIX_System_V:4.0:*)\n-\techo m68k-unknown-sysv4\n-\texit ;;\n-    *:[Aa]miga[Oo][Ss]:*:*)\n-\techo ${UNAME_MACHINE}-unknown-amigaos\n-\texit ;;\n-    *:[Mm]orph[Oo][Ss]:*:*)\n-\techo ${UNAME_MACHINE}-unknown-morphos\n-\texit ;;\n-    *:OS/390:*:*)\n-\techo i370-ibm-openedition\n-\texit ;;\n-    *:z/VM:*:*)\n-\techo s390-ibm-zvmoe\n-\texit ;;\n-    *:OS400:*:*)\n-\techo powerpc-ibm-os400\n-\texit ;;\n-    arm:RISC*:1.[012]*:*|arm:riscix:1.[012]*:*)\n-\techo arm-acorn-riscix${UNAME_RELEASE}\n-\texit ;;\n-    arm*:riscos:*:*|arm*:RISCOS:*:*)\n-\techo arm-unknown-riscos\n-\texit ;;\n-    SR2?01:HI-UX/MPP:*:* | SR8000:HI-UX/MPP:*:*)\n-\techo hppa1.1-hitachi-hiuxmpp\n-\texit ;;\n-    Pyramid*:OSx*:*:* | MIS*:OSx*:*:* | MIS*:SMP_DC-OSx*:*:*)\n-\t# akee@wpdis03.wpafb.af.mil (Earle F. Ake) contributed MIS and NILE.\n-\tif test \""`(/bin/universe) 2>/dev/null`\"" = att ; then\n-\t\techo pyramid-pyramid-sysv3\n-\telse\n-\t\techo pyramid-pyramid-bsd\n-\tfi\n-\texit ;;\n-    NILE*:*:*:dcosx)\n-\techo pyramid-pyramid-svr4\n-\texit ;;\n-    DRS?6000:unix:4.0:6*)\n-\techo sparc-icl-nx6\n-\texit ;;\n-    DRS?6000:UNIX_SV:4.2*:7* | DRS?6000:isis:4.2*:7*)\n-\tcase `/usr/bin/uname -p` in\n-\t    sparc) echo sparc-icl-nx7; exit ;;\n-\tesac ;;\n-    s390x:SunOS:*:*)\n-\techo ${UNAME_MACHINE}-ibm-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`\n-\texit ;;\n-    sun4H:SunOS:5.*:*)\n-\techo sparc-hal-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`\n-\texit ;;\n-    sun4*:SunOS:5.*:* | tadpole*:SunOS:5.*:*)\n-\techo sparc-sun-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`\n-\texit ;;\n-    i86pc:AuroraUX:5.*:* | i86xen:AuroraUX:5.*:*)\n-\techo i386-pc-auroraux${UNAME_RELEASE}\n-\texit ;;\n-    i86pc:SunOS:5.*:* | i86xen:SunOS:5.*:*)\n-\teval $set_cc_for_build\n-\tSUN_ARCH=\""i386\""\n-\t# If there is a compiler, see if it is configured for 64-bit objects.\n-\t# Note that the Sun cc does not turn __LP64__ into 1 like gcc does.\n-\t# This test works for both compilers.\n-\tif [ \""$CC_FOR_BUILD\"" != 'no_compiler_found' ]; then\n-\t    if (echo '#ifdef __amd64'; echo IS_64BIT_ARCH; echo '#endif') | \\\n-\t\t(CCOPTS= $CC_FOR_BUILD -E - 2>/dev/null) | \\\n-\t\tgrep IS_64BIT_ARCH >/dev/null\n-\t    then\n-\t\tSUN_ARCH=\""x86_64\""\n-\t    fi\n-\tfi\n-\techo ${SUN_ARCH}-pc-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`\n-\texit ;;\n-    sun4*:SunOS:6*:*)\n-\t# According to config.sub, this is the proper way to canonicalize\n-\t# SunOS6.  Hard to guess exactly what SunOS6 will be like, but\n-\t# it's likely to be more like Solaris than SunOS4.\n-\techo sparc-sun-solaris3`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`\n-\texit ;;\n-    sun4*:SunOS:*:*)\n-\tcase \""`/usr/bin/arch -k`\"" in\n-\t    Series*|S4*)\n-\t\tUNAME_RELEASE=`uname -v`\n-\t\t;;\n-\tesac\n-\t# Japanese Language versions have a version number like `4.1.3-JL'.\n-\techo sparc-sun-sunos`echo ${UNAME_RELEASE}|sed -e 's/-/_/'`\n-\texit ;;\n-    sun3*:SunOS:*:*)\n-\techo m68k-sun-sunos${UNAME_RELEASE}\n-\texit ;;\n-    sun*:*:4.2BSD:*)\n-\tUNAME_RELEASE=`(sed 1q /etc/motd | awk '{print substr($5,1,3)}') 2>/dev/null`\n-\ttest \""x${UNAME_RELEASE}\"" = \""x\"" && UNAME_RELEASE=3\n-\tcase \""`/bin/arch`\"" in\n-\t    sun3)\n-\t\techo m68k-sun-sunos${UNAME_RELEASE}\n-\t\t;;\n-\t    sun4)\n-\t\techo sparc-sun-sunos${UNAME_RELEASE}\n-\t\t;;\n-\tesac\n-\texit ;;\n-    aushp:SunOS:*:*)\n-\techo sparc-auspex-sunos${UNAME_RELEASE}\n-\texit ;;\n-    # The situation for MiNT is a little confusing.  The machine name\n-    # can be virtually everything (everything which is not\n-    # \""atarist\"" or \""atariste\"" at least should have a processor\n-    # > m68000).  The system name ranges from \""MiNT\"" over \""FreeMiNT\""\n-    # to the lowercase version \""mint\"" (or \""freemint\"").  Finally\n-    # the system name \""TOS\"" denotes a system which is actually not\n-    # MiNT.  But MiNT is downward compatible to TOS, so this should\n-    # be no problem.\n-    atarist[e]:*MiNT:*:* | atarist[e]:*mint:*:* | atarist[e]:*TOS:*:*)\n-\techo m68k-atari-mint${UNAME_RELEASE}\n-\texit ;;\n-    atari*:*MiNT:*:* | atari*:*mint:*:* | atarist[e]:*TOS:*:*)\n-\techo m68k-atari-mint${UNAME_RELEASE}\n-\texit ;;\n-    *falcon*:*MiNT:*:* | *falcon*:*mint:*:* | *falcon*:*TOS:*:*)\n-\techo m68k-atari-mint${UNAME_RELEASE}\n-\texit ;;\n-    milan*:*MiNT:*:* | milan*:*mint:*:* | *milan*:*TOS:*:*)\n-\techo m68k-milan-mint${UNAME_RELEASE}\n-\texit ;;\n-    hades*:*MiNT:*:* | hades*:*mint:*:* | *hades*:*TOS:*:*)\n-\techo m68k-hades-mint${UNAME_RELEASE}\n-\texit ;;\n-    *:*MiNT:*:* | *:*mint:*:* | *:*TOS:*:*)\n-\techo m68k-unknown-mint${UNAME_RELEASE}\n-\texit ;;\n-    m68k:machten:*:*)\n-\techo m68k-apple-machten${UNAME_RELEASE}\n-\texit ;;\n-    powerpc:machten:*:*)\n-\techo powerpc-apple-machten${UNAME_RELEASE}\n-\texit ;;\n-    RISC*:Mach:*:*)\n-\techo mips-dec-mach_bsd4.3\n-\texit ;;\n-    RISC*:ULTRIX:*:*)\n-\techo mips-dec-ultrix${UNAME_RELEASE}\n-\texit ;;\n-    VAX*:ULTRIX*:*:*)\n-\techo vax-dec-ultrix${UNAME_RELEASE}\n-\texit ;;\n-    2020:CLIX:*:* | 2430:CLIX:*:*)\n-\techo clipper-intergraph-clix${UNAME_RELEASE}\n-\texit ;;\n-    mips:*:*:UMIPS | mips:*:*:RISCos)\n-\teval $set_cc_for_build\n-\tsed 's/^\t//' << EOF >$dummy.c\n-#ifdef __cplusplus\n-#include <stdio.h>  /* for printf() prototype */\n-\tint main (int argc, char *argv[]) {\n-#else\n-\tint main (argc, argv) int argc; char *argv[]; {\n-#endif\n-\t#if defined (host_mips) && defined (MIPSEB)\n-\t#if defined (SYSTYPE_SYSV)\n-\t  printf (\""mips-mips-riscos%ssysv\\n\"", argv[1]); exit (0);\n-\t#endif\n-\t#if defined (SYSTYPE_SVR4)\n-\t  printf (\""mips-mips-riscos%ssvr4\\n\"", argv[1]); exit (0);\n-\t#endif\n-\t#if defined (SYSTYPE_BSD43) || defined(SYSTYPE_BSD)\n-\t  printf (\""mips-mips-riscos%sbsd\\n\"", argv[1]); exit (0);\n-\t#endif\n-\t#endif\n-\t  exit (-1);\n-\t}\n-EOF\n-\t$CC_FOR_BUILD -o $dummy $dummy.c &&\n-\t  dummyarg=`echo \""${UNAME_RELEASE}\"" | sed -n 's/\\([0-9]*\\).*/\\1/p'` &&\n-\t  SYSTEM_NAME=`$dummy $dummyarg` &&\n-\t    { echo \""$SYSTEM_NAME\""; exit; }\n-\techo mips-mips-riscos${UNAME_RELEASE}\n-\texit ;;\n-    Motorola:PowerMAX_OS:*:*)\n-\techo powerpc-motorola-powermax\n-\texit ;;\n-    Motorola:*:4.3:PL8-*)\n-\techo powerpc-harris-powermax\n-\texit ;;\n-    Night_Hawk:*:*:PowerMAX_OS | Synergy:PowerMAX_OS:*:*)\n-\techo powerpc-harris-powermax\n-\texit ;;\n-    Night_Hawk:Power_UNIX:*:*)\n-\techo powerpc-harris-powerunix\n-\texit ;;\n-    m88k:CX/UX:7*:*)\n-\techo m88k-harris-cxux7\n-\texit ;;\n-    m88k:*:4*:R4*)\n-\techo m88k-motorola-sysv4\n-\texit ;;\n-    m88k:*:3*:R3*)\n-\techo m88k-motorola-sysv3\n-\texit ;;\n-    AViiON:dgux:*:*)\n-\t# DG/UX returns AViiON for all architectures\n-\tUNAME_PROCESSOR=`/usr/bin/uname -p`\n-\tif [ $UNAME_PROCESSOR = mc88100 ] || [ $UNAME_PROCESSOR = mc88110 ]\n-\tthen\n-\t    if [ ${TARGET_BINARY_INTERFACE}x = m88kdguxelfx ] || \\\n-\t       [ ${TARGET_BINARY_INTERFACE}x = x ]\n-\t    then\n-\t\techo m88k-dg-dgux${UNAME_RELEASE}\n-\t    else\n-\t\techo m88k-dg-dguxbcs${UNAME_RELEASE}\n-\t    fi\n-\telse\n-\t    echo i586-dg-dgux${UNAME_RELEASE}\n-\tfi\n-\texit ;;\n-    M88*:DolphinOS:*:*)\t# DolphinOS (SVR3)\n-\techo m88k-dolphin-sysv3\n-\texit ;;\n-    M88*:*:R3*:*)\n-\t# Delta 88k system running SVR3\n-\techo m88k-motorola-sysv3\n-\texit ;;\n-    XD88*:*:*:*) # Tektronix XD88 system running UTekV (SVR3)\n-\techo m88k-tektronix-sysv3\n-\texit ;;\n-    Tek43[0-9][0-9]:UTek:*:*) # Tektronix 4300 system running UTek (BSD)\n-\techo m68k-tektronix-bsd\n-\texit ;;\n-    *:IRIX*:*:*)\n-\techo mips-sgi-irix`echo ${UNAME_RELEASE}|sed -e 's/-/_/g'`\n-\texit ;;\n-    ????????:AIX?:[12].1:2)   # AIX 2.2.1 or AIX 2.1.1 is RT/PC AIX.\n-\techo romp-ibm-aix     # uname -m gives an 8 hex-code CPU id\n-\texit ;;               # Note that: echo \""'`uname -s`'\"" gives 'AIX '\n-    i*86:AIX:*:*)\n-\techo i386-ibm-aix\n-\texit ;;\n-    ia64:AIX:*:*)\n-\tif [ -x /usr/bin/oslevel ] ; then\n-\t\tIBM_REV=`/usr/bin/oslevel`\n-\telse\n-\t\tIBM_REV=${UNAME_VERSION}.${UNAME_RELEASE}\n-\tfi\n-\techo ${UNAME_MACHINE}-ibm-aix${IBM_REV}\n-\texit ;;\n-    *:AIX:2:3)\n-\tif grep bos325 /usr/include/stdio.h >/dev/null 2>&1; then\n-\t\teval $set_cc_for_build\n-\t\tsed 's/^\t\t//' << EOF >$dummy.c\n-\t\t#include <sys/systemcfg.h>\n-\n-\t\tmain()\n-\t\t\t{\n-\t\t\tif (!__power_pc())\n-\t\t\t\texit(1);\n-\t\t\tputs(\""powerpc-ibm-aix3.2.5\"");\n-\t\t\texit(0);\n-\t\t\t}\n-EOF\n-\t\tif $CC_FOR_BUILD -o $dummy $dummy.c && SYSTEM_NAME=`$dummy`\n-\t\tthen\n-\t\t\techo \""$SYSTEM_NAME\""\n-\t\telse\n-\t\t\techo rs6000-ibm-aix3.2.5\n-\t\tfi\n-\telif grep bos324 /usr/include/stdio.h >/dev/null 2>&1; then\n-\t\techo rs6000-ibm-aix3.2.4\n-\telse\n-\t\techo rs6000-ibm-aix3.2\n-\tfi\n-\texit ;;\n-    *:AIX:*:[4567])\n-\tIBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | sed 1q | awk '{ print $1 }'`\n-\tif /usr/sbin/lsattr -El ${IBM_CPU_ID} | grep ' POWER' >/dev/null 2>&1; then\n-\t\tIBM_ARCH=rs6000\n-\telse\n-\t\tIBM_ARCH=powerpc\n-\tfi\n-\tif [ -x /usr/bin/oslevel ] ; then\n-\t\tIBM_REV=`/usr/bin/oslevel`\n-\telse\n-\t\tIBM_REV=${UNAME_VERSION}.${UNAME_RELEASE}\n-\tfi\n-\techo ${IBM_ARCH}-ibm-aix${IBM_REV}\n-\texit ;;\n-    *:AIX:*:*)\n-\techo rs6000-ibm-aix\n-\texit ;;\n-    ibmrt:4.4BSD:*|romp-ibm:BSD:*)\n-\techo romp-ibm-bsd4.4\n-\texit ;;\n-    ibmrt:*BSD:*|romp-ibm:BSD:*)            # covers RT/PC BSD and\n-\techo romp-ibm-bsd${UNAME_RELEASE}   # 4.3 with uname added to\n-\texit ;;                             # report: romp-ibm BSD 4.3\n-    *:BOSX:*:*)\n-\techo rs6000-bull-bosx\n-\texit ;;\n-    DPX/2?00:B.O.S.:*:*)\n-\techo m68k-bull-sysv3\n-\texit ;;\n-    9000/[34]??:4.3bsd:1.*:*)\n-\techo m68k-hp-bsd\n-\texit ;;\n-    hp300:4.4BSD:*:* | 9000/[34]??:4.3bsd:2.*:*)\n-\techo m68k-hp-bsd4.4\n-\texit ;;\n-    9000/[34678]??:HP-UX:*:*)\n-\tHPUX_REV=`echo ${UNAME_RELEASE}|sed -e 's/[^.]*.[0B]*//'`\n-\tcase \""${UNAME_MACHINE}\"" in\n-\t    9000/31? )            HP_ARCH=m68000 ;;\n-\t    9000/[34]?? )         HP_ARCH=m68k ;;\n-\t    9000/[678][0-9][0-9])\n-\t\tif [ -x /usr/bin/getconf ]; then\n-\t\t    sc_cpu_version=`/usr/bin/getconf SC_CPU_VERSION 2>/dev/null`\n-\t\t    sc_kernel_bits=`/usr/bin/getconf SC_KERNEL_BITS 2>/dev/null`\n-\t\t    case \""${sc_cpu_version}\"" in\n-\t\t      523) HP_ARCH=\""hppa1.0\"" ;; # CPU_PA_RISC1_0\n-\t\t      528) HP_ARCH=\""hppa1.1\"" ;; # CPU_PA_RISC1_1\n-\t\t      532)                      # CPU_PA_RISC2_0\n-\t\t\tcase \""${sc_kernel_bits}\"" in\n-\t\t\t  32) HP_ARCH=\""hppa2.0n\"" ;;\n-\t\t\t  64) HP_ARCH=\""hppa2.0w\"" ;;\n-\t\t\t  '') HP_ARCH=\""hppa2.0\"" ;;   # HP-UX 10.20\n-\t\t\tesac ;;\n-\t\t    esac\n-\t\tfi\n-\t\tif [ \""${HP_ARCH}\"" = \""\"" ]; then\n-\t\t    eval $set_cc_for_build\n-\t\t    sed 's/^\t\t//' << EOF >$dummy.c\n-\n-\t\t#define _HPUX_SOURCE\n-\t\t#include <stdlib.h>\n-\t\t#include <unistd.h>\n-\n-\t\tint main ()\n-\t\t{\n-\t\t#if defined(_SC_KERNEL_BITS)\n-\t\t    long bits = sysconf(_SC_KERNEL_BITS);\n-\t\t#endif\n-\t\t    long cpu  = sysconf (_SC_CPU_VERSION);\n-\n-\t\t    switch (cpu)\n-\t\t\t{\n-\t\t\tcase CPU_PA_RISC1_0: puts (\""hppa1.0\""); break;\n-\t\t\tcase CPU_PA_RISC1_1: puts (\""hppa1.1\""); break;\n-\t\t\tcase CPU_PA_RISC2_0:\n-\t\t#if defined(_SC_KERNEL_BITS)\n-\t\t\t    switch (bits)\n-\t\t\t\t{\n-\t\t\t\tcase 64: puts (\""hppa2.0w\""); break;\n-\t\t\t\tcase 32: puts (\""hppa2.0n\""); break;\n-\t\t\t\tdefault: puts (\""hppa2.0\""); break;\n-\t\t\t\t} break;\n-\t\t#else  /* !defined(_SC_KERNEL_BITS) */\n-\t\t\t    puts (\""hppa2.0\""); break;\n-\t\t#endif\n-\t\t\tdefault: puts (\""hppa1.0\""); break;\n-\t\t\t}\n-\t\t    exit (0);\n-\t\t}\n-EOF\n-\t\t    (CCOPTS= $CC_FOR_BUILD -o $dummy $dummy.c 2>/dev/null) && HP_ARCH=`$dummy`\n-\t\t    test -z \""$HP_ARCH\"" && HP_ARCH=hppa\n-\t\tfi ;;\n-\tesac\n-\tif [ ${HP_ARCH} = \""hppa2.0w\"" ]\n-\tthen\n-\t    eval $set_cc_for_build\n-\n-\t    # hppa2.0w-hp-hpux* has a 64-bit kernel and a compiler generating\n-\t    # 32-bit code.  hppa64-hp-hpux* has the same kernel and a compiler\n-\t    # generating 64-bit code.  GNU and HP use different nomenclature:\n-\t    #\n-\t    # $ CC_FOR_BUILD=cc ./config.guess\n-\t    # => hppa2.0w-hp-hpux11.23\n-\t    # $ CC_FOR_BUILD=\""cc +DA2.0w\"" ./config.guess\n-\t    # => hppa64-hp-hpux11.23\n-\n-\t    if echo __LP64__ | (CCOPTS= $CC_FOR_BUILD -E - 2>/dev/null) |\n-\t\tgrep -q __LP64__\n-\t    then\n-\t\tHP_ARCH=\""hppa2.0w\""\n-\t    else\n-\t\tHP_ARCH=\""hppa64\""\n-\t    fi\n-\tfi\n-\techo ${HP_ARCH}-hp-hpux${HPUX_REV}\n-\texit ;;\n-    ia64:HP-UX:*:*)\n-\tHPUX_REV=`echo ${UNAME_RELEASE}|sed -e 's/[^.]*.[0B]*//'`\n-\techo ia64-hp-hpux${HPUX_REV}\n-\texit ;;\n-    3050*:HI-UX:*:*)\n-\teval $set_cc_for_build\n-\tsed 's/^\t//' << EOF >$dummy.c\n-\t#include <unistd.h>\n-\tint\n-\tmain ()\n-\t{\n-\t  long cpu = sysconf (_SC_CPU_VERSION);\n-\t  /* The order matters, because CPU_IS_HP_MC68K erroneously returns\n-\t     true for CPU_PA_RISC1_0.  CPU_IS_PA_RISC returns correct\n-\t     results, however.  */\n-\t  if (CPU_IS_PA_RISC (cpu))\n-\t    {\n-\t      switch (cpu)\n-\t\t{\n-\t\t  case CPU_PA_RISC1_0: puts (\""hppa1.0-hitachi-hiuxwe2\""); break;\n-\t\t  case CPU_PA_RISC1_1: puts (\""hppa1.1-hitachi-hiuxwe2\""); break;\n-\t\t  case CPU_PA_RISC2_0: puts (\""hppa2.0-hitachi-hiuxwe2\""); break;\n-\t\t  default: puts (\""hppa-hitachi-hiuxwe2\""); break;\n-\t\t}\n-\t    }\n-\t  else if (CPU_IS_HP_MC68K (cpu))\n-\t    puts (\""m68k-hitachi-hiuxwe2\"");\n-\t  else puts (\""unknown-hitachi-hiuxwe2\"");\n-\t  exit (0);\n-\t}\n-EOF\n-\t$CC_FOR_BUILD -o $dummy $dummy.c && SYSTEM_NAME=`$dummy` &&\n-\t\t{ echo \""$SYSTEM_NAME\""; exit; }\n-\techo unknown-hitachi-hiuxwe2\n-\texit ;;\n-    9000/7??:4.3bsd:*:* | 9000/8?[79]:4.3bsd:*:* )\n-\techo hppa1.1-hp-bsd\n-\texit ;;\n-    9000/8??:4.3bsd:*:*)\n-\techo hppa1.0-hp-bsd\n-\texit ;;\n-    *9??*:MPE/iX:*:* | *3000*:MPE/iX:*:*)\n-\techo hppa1.0-hp-mpeix\n-\texit ;;\n-    hp7??:OSF1:*:* | hp8?[79]:OSF1:*:* )\n-\techo hppa1.1-hp-osf\n-\texit ;;\n-    hp8??:OSF1:*:*)\n-\techo hppa1.0-hp-osf\n-\texit ;;\n-    i*86:OSF1:*:*)\n-\tif [ -x /usr/sbin/sysversion ] ; then\n-\t    echo ${UNAME_MACHINE}-unknown-osf1mk\n-\telse\n-\t    echo ${UNAME_MACHINE}-unknown-osf1\n-\tfi\n-\texit ;;\n-    parisc*:Lites*:*:*)\n-\techo hppa1.1-hp-lites\n-\texit ;;\n-    C1*:ConvexOS:*:* | convex:ConvexOS:C1*:*)\n-\techo c1-convex-bsd\n-\texit ;;\n-    C2*:ConvexOS:*:* | convex:ConvexOS:C2*:*)\n-\tif getsysinfo -f scalar_acc\n-\tthen echo c32-convex-bsd\n-\telse echo c2-convex-bsd\n-\tfi\n-\texit ;;\n-    C34*:ConvexOS:*:* | convex:ConvexOS:C34*:*)\n-\techo c34-convex-bsd\n-\texit ;;\n-    C38*:ConvexOS:*:* | convex:ConvexOS:C38*:*)\n-\techo c38-convex-bsd\n-\texit ;;\n-    C4*:ConvexOS:*:* | convex:ConvexOS:C4*:*)\n-\techo c4-convex-bsd\n-\texit ;;\n-    CRAY*Y-MP:*:*:*)\n-\techo ymp-cray-unicos${UNAME_RELEASE} | sed -e 's/\\.[^.]*$/.X/'\n-\texit ;;\n-    CRAY*[A-Z]90:*:*:*)\n-\techo ${UNAME_MACHINE}-cray-unicos${UNAME_RELEASE} \\\n-\t| sed -e 's/CRAY.*\\([A-Z]90\\)/\\1/' \\\n-\t      -e y/ABCDEFGHIJKLMNOPQRSTUVWXYZ/abcdefghijklmnopqrstuvwxyz/ \\\n-\t      -e 's/\\.[^.]*$/.X/'\n-\texit ;;\n-    CRAY*TS:*:*:*)\n-\techo t90-cray-unicos${UNAME_RELEASE} | sed -e 's/\\.[^.]*$/.X/'\n-\texit ;;\n-    CRAY*T3E:*:*:*)\n-\techo alphaev5-cray-unicosmk${UNAME_RELEASE} | sed -e 's/\\.[^.]*$/.X/'\n-\texit ;;\n-    CRAY*SV1:*:*:*)\n-\techo sv1-cray-unicos${UNAME_RELEASE} | sed -e 's/\\.[^.]*$/.X/'\n-\texit ;;\n-    *:UNICOS/mp:*:*)\n-\techo craynv-cray-unicosmp${UNAME_RELEASE} | sed -e 's/\\.[^.]*$/.X/'\n-\texit ;;\n-    F30[01]:UNIX_System_V:*:* | F700:UNIX_System_V:*:*)\n-\tFUJITSU_PROC=`uname -m | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz'`\n-\tFUJITSU_SYS=`uname -p | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz' | sed -e 's/\\///'`\n-\tFUJITSU_REL=`echo ${UNAME_RELEASE} | sed -e 's/ /_/'`\n-\techo \""${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}\""\n-\texit ;;\n-    5000:UNIX_System_V:4.*:*)\n-\tFUJITSU_SYS=`uname -p | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz' | sed -e 's/\\///'`\n-\tFUJITSU_REL=`echo ${UNAME_RELEASE} | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz' | sed -e 's/ /_/'`\n-\techo \""sparc-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}\""\n-\texit ;;\n-    i*86:BSD/386:*:* | i*86:BSD/OS:*:* | *:Ascend\\ Embedded/OS:*:*)\n-\techo ${UNAME_MACHINE}-pc-bsdi${UNAME_RELEASE}\n-\texit ;;\n-    sparc*:BSD/OS:*:*)\n-\techo sparc-unknown-bsdi${UNAME_RELEASE}\n-\texit ;;\n-    *:BSD/OS:*:*)\n-\techo ${UNAME_MACHINE}-unknown-bsdi${UNAME_RELEASE}\n-\texit ;;\n-    *:FreeBSD:*:*)\n-\tUNAME_PROCESSOR=`/usr/bin/uname -p`\n-\tcase ${UNAME_PROCESSOR} in\n-\t    amd64)\n-\t\techo x86_64-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'` ;;\n-\t    *)\n-\t\techo ${UNAME_PROCESSOR}-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'` ;;\n-\tesac\n-\texit ;;\n-    i*:CYGWIN*:*)\n-\techo ${UNAME_MACHINE}-pc-cygwin\n-\texit ;;\n-    *:MINGW64*:*)\n-\techo ${UNAME_MACHINE}-pc-mingw64\n-\texit ;;\n-    *:MINGW*:*)\n-\techo ${UNAME_MACHINE}-pc-mingw32\n-\texit ;;\n-    i*:MSYS*:*)\n-\techo ${UNAME_MACHINE}-pc-msys\n-\texit ;;\n-    i*:windows32*:*)\n-\t# uname -m includes \""-pc\"" on this system.\n-\techo ${UNAME_MACHINE}-mingw32\n-\texit ;;\n-    i*:PW*:*)\n-\techo ${UNAME_MACHINE}-pc-pw32\n-\texit ;;\n-    *:Interix*:*)\n-\tcase ${UNAME_MACHINE} in\n-\t    x86)\n-\t\techo i586-pc-interix${UNAME_RELEASE}\n-\t\texit ;;\n-\t    authenticamd | genuineintel | EM64T)\n-\t\techo x86_64-unknown-interix${UNAME_RELEASE}\n-\t\texit ;;\n-\t    IA64)\n-\t\techo ia64-unknown-interix${UNAME_RELEASE}\n-\t\texit ;;\n-\tesac ;;\n-    [345]86:Windows_95:* | [345]86:Windows_98:* | [345]86:Windows_NT:*)\n-\techo i${UNAME_MACHINE}-pc-mks\n-\texit ;;\n-    8664:Windows_NT:*)\n-\techo x86_64-pc-mks\n-\texit ;;\n-    i*:Windows_NT*:* | Pentium*:Windows_NT*:*)\n-\t# How do we know it's Interix rather than the generic POSIX subsystem?\n-\t# It also conflicts with pre-2.0 versions of AT&T UWIN. Should we\n-\t# UNAME_MACHINE based on the output of uname instead of i386?\n-\techo i586-pc-interix\n-\texit ;;\n-    i*:UWIN*:*)\n-\techo ${UNAME_MACHINE}-pc-uwin\n-\texit ;;\n-    amd64:CYGWIN*:*:* | x86_64:CYGWIN*:*:*)\n-\techo x86_64-unknown-cygwin\n-\texit ;;\n-    p*:CYGWIN*:*)\n-\techo powerpcle-unknown-cygwin\n-\texit ;;\n-    prep*:SunOS:5.*:*)\n-\techo powerpcle-unknown-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`\n-\texit ;;\n-    *:GNU:*:*)\n-\t# the GNU system\n-\techo `echo ${UNAME_MACHINE}|sed -e 's,[-/].*$,,'`-unknown-${LIBC}`echo ${UNAME_RELEASE}|sed -e 's,/.*$,,'`\n-\texit ;;\n-    *:GNU/*:*:*)\n-\t# other systems with GNU libc and userland\n-\techo ${UNAME_MACHINE}-unknown-`echo ${UNAME_SYSTEM} | sed 's,^[^/]*/,,' | tr '[A-Z]' '[a-z]'``echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`-${LIBC}\n-\texit ;;\n-    i*86:Minix:*:*)\n-\techo ${UNAME_MACHINE}-pc-minix\n-\texit ;;\n-    aarch64:Linux:*:*)\n-\techo ${UNAME_MACHINE}-unknown-linux-${LIBC}\n-\texit ;;\n-    aarch64_be:Linux:*:*)\n-\tUNAME_MACHINE=aarch64_be\n-\techo ${UNAME_MACHINE}-unknown-linux-${LIBC}\n-\texit ;;\n-    alpha:Linux:*:*)\n-\tcase `sed -n '/^cpu model/s/^.*: \\(.*\\)/\\1/p' < /proc/cpuinfo` in\n-\t  EV5)   UNAME_MACHINE=alphaev5 ;;\n-\t  EV56)  UNAME_MACHINE=alphaev56 ;;\n-\t  PCA56) UNAME_MACHINE=alphapca56 ;;\n-\t  PCA57) UNAME_MACHINE=alphapca56 ;;\n-\t  EV6)   UNAME_MACHINE=alphaev6 ;;\n-\t  EV67)  UNAME_MACHINE=alphaev67 ;;\n-\t  EV68*) UNAME_MACHINE=alphaev68 ;;\n-\tesac\n-\tobjdump --private-headers /bin/sh | grep -q ld.so.1\n-\tif test \""$?\"" = 0 ; then LIBC=\""gnulibc1\"" ; fi\n-\techo ${UNAME_MACHINE}-unknown-linux-${LIBC}\n-\texit ;;\n-    arc:Linux:*:* | arceb:Linux:*:*)\n-\techo ${UNAME_MACHINE}-unknown-linux-${LIBC}\n-\texit ;;\n-    arm*:Linux:*:*)\n-\teval $set_cc_for_build\n-\tif echo __ARM_EABI__ | $CC_FOR_BUILD -E - 2>/dev/null \\\n-\t    | grep -q __ARM_EABI__\n-\tthen\n-\t    echo ${UNAME_MACHINE}-unknown-linux-${LIBC}\n-\telse\n-\t    if echo __ARM_PCS_VFP | $CC_FOR_BUILD -E - 2>/dev/null \\\n-\t\t| grep -q __ARM_PCS_VFP\n-\t    then\n-\t\techo ${UNAME_MACHINE}-unknown-linux-${LIBC}eabi\n-\t    else\n-\t\techo ${UNAME_MACHINE}-unknown-linux-${LIBC}eabihf\n-\t    fi\n-\tfi\n-\texit ;;\n-    avr32*:Linux:*:*)\n-\techo ${UNAME_MACHINE}-unknown-linux-${LIBC}\n-\texit ;;\n-    cris:Linux:*:*)\n-\techo ${UNAME_MACHINE}-axis-linux-${LIBC}\n-\texit ;;\n-    crisv32:Linux:*:*)\n-\techo ${UNAME_MACHINE}-axis-linux-${LIBC}\n-\texit ;;\n-    frv:Linux:*:*)\n-\techo ${UNAME_MACHINE}-unknown-linux-${LIBC}\n-\texit ;;\n-    hexagon:Linux:*:*)\n-\techo ${UNAME_MACHINE}-unknown-linux-${LIBC}\n-\texit ;;\n-    i*86:Linux:*:*)\n-\techo ${UNAME_MACHINE}-pc-linux-${LIBC}\n-\texit ;;\n-    ia64:Linux:*:*)\n-\techo ${UNAME_MACHINE}-unknown-linux-${LIBC}\n-\texit ;;\n-    m32r*:Linux:*:*)\n-\techo ${UNAME_MACHINE}-unknown-linux-${LIBC}\n-\texit ;;\n-    m68*:Linux:*:*)\n-\techo ${UNAME_MACHINE}-unknown-linux-${LIBC}\n-\texit ;;\n-    mips:Linux:*:* | mips64:Linux:*:*)\n-\teval $set_cc_for_build\n-\tsed 's/^\t//' << EOF >$dummy.c\n-\t#undef CPU\n-\t#undef ${UNAME_MACHINE}\n-\t#undef ${UNAME_MACHINE}el\n-\t#if defined(__MIPSEL__) || defined(__MIPSEL) || defined(_MIPSEL) || defined(MIPSEL)\n-\tCPU=${UNAME_MACHINE}el\n-\t#else\n-\t#if defined(__MIPSEB__) || defined(__MIPSEB) || defined(_MIPSEB) || defined(MIPSEB)\n-\tCPU=${UNAME_MACHINE}\n-\t#else\n-\tCPU=\n-\t#endif\n-\t#endif\n-EOF\n-\teval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep '^CPU'`\n-\ttest x\""${CPU}\"" != x && { echo \""${CPU}-unknown-linux-${LIBC}\""; exit; }\n-\t;;\n-    or1k:Linux:*:*)\n-\techo ${UNAME_MACHINE}-unknown-linux-${LIBC}\n-\texit ;;\n-    or32:Linux:*:*)\n-\techo ${UNAME_MACHINE}-unknown-linux-${LIBC}\n-\texit ;;\n-    padre:Linux:*:*)\n-\techo sparc-unknown-linux-${LIBC}\n-\texit ;;\n-    parisc64:Linux:*:* | hppa64:Linux:*:*)\n-\techo hppa64-unknown-linux-${LIBC}\n-\texit ;;\n-    parisc:Linux:*:* | hppa:Linux:*:*)\n-\t# Look for CPU level\n-\tcase `grep '^cpu[^a-z]*:' /proc/cpuinfo 2>/dev/null | cut -d' ' -f2` in\n-\t  PA7*) echo hppa1.1-unknown-linux-${LIBC} ;;\n-\t  PA8*) echo hppa2.0-unknown-linux-${LIBC} ;;\n-\t  *)    echo hppa-unknown-linux-${LIBC} ;;\n-\tesac\n-\texit ;;\n-    ppc64:Linux:*:*)\n-\techo powerpc64-unknown-linux-${LIBC}\n-\texit ;;\n-    ppc:Linux:*:*)\n-\techo powerpc-unknown-linux-${LIBC}\n-\texit ;;\n-    ppc64le:Linux:*:*)\n-\techo powerpc64le-unknown-linux-${LIBC}\n-\texit ;;\n-    ppcle:Linux:*:*)\n-\techo powerpcle-unknown-linux-${LIBC}\n-\texit ;;\n-    s390:Linux:*:* | s390x:Linux:*:*)\n-\techo ${UNAME_MACHINE}-ibm-linux-${LIBC}\n-\texit ;;\n-    sh64*:Linux:*:*)\n-\techo ${UNAME_MACHINE}-unknown-linux-${LIBC}\n-\texit ;;\n-    sh*:Linux:*:*)\n-\techo ${UNAME_MACHINE}-unknown-linux-${LIBC}\n-\texit ;;\n-    sparc:Linux:*:* | sparc64:Linux:*:*)\n-\techo ${UNAME_MACHINE}-unknown-linux-${LIBC}\n-\texit ;;\n-    tile*:Linux:*:*)\n-\techo ${UNAME_MACHINE}-unknown-linux-${LIBC}\n-\texit ;;\n-    vax:Linux:*:*)\n-\techo ${UNAME_MACHINE}-dec-linux-${LIBC}\n-\texit ;;\n-    x86_64:Linux:*:*)\n-\techo ${UNAME_MACHINE}-unknown-linux-${LIBC}\n-\texit ;;\n-    xtensa*:Linux:*:*)\n-\techo ${UNAME_MACHINE}-unknown-linux-${LIBC}\n-\texit ;;\n-    i*86:DYNIX/ptx:4*:*)\n-\t# ptx 4.0 does uname -s correctly, with DYNIX/ptx in there.\n-\t# earlier versions are messed up and put the nodename in both\n-\t# sysname and nodename.\n-\techo i386-sequent-sysv4\n-\texit ;;\n-    i*86:UNIX_SV:4.2MP:2.*)\n-\t# Unixware is an offshoot of SVR4, but it has its own version\n-\t# number series starting with 2...\n-\t# I am not positive that other SVR4 systems won't match this,\n-\t# I just have to hope.  -- rms.\n-\t# Use sysv4.2uw... so that sysv4* matches it.\n-\techo ${UNAME_MACHINE}-pc-sysv4.2uw${UNAME_VERSION}\n-\texit ;;\n-    i*86:OS/2:*:*)\n-\t# If we were able to find `uname', then EMX Unix compatibility\n-\t# is probably installed.\n-\techo ${UNAME_MACHINE}-pc-os2-emx\n-\texit ;;\n-    i*86:XTS-300:*:STOP)\n-\techo ${UNAME_MACHINE}-unknown-stop\n-\texit ;;\n-    i*86:atheos:*:*)\n-\techo ${UNAME_MACHINE}-unknown-atheos\n-\texit ;;\n-    i*86:syllable:*:*)\n-\techo ${UNAME_MACHINE}-pc-syllable\n-\texit ;;\n-    i*86:LynxOS:2.*:* | i*86:LynxOS:3.[01]*:* | i*86:LynxOS:4.[02]*:*)\n-\techo i386-unknown-lynxos${UNAME_RELEASE}\n-\texit ;;\n-    i*86:*DOS:*:*)\n-\techo ${UNAME_MACHINE}-pc-msdosdjgpp\n-\texit ;;\n-    i*86:*:4.*:* | i*86:SYSTEM_V:4.*:*)\n-\tUNAME_REL=`echo ${UNAME_RELEASE} | sed 's/\\/MP$//'`\n-\tif grep Novell /usr/include/link.h >/dev/null 2>/dev/null; then\n-\t\techo ${UNAME_MACHINE}-univel-sysv${UNAME_REL}\n-\telse\n-\t\techo ${UNAME_MACHINE}-pc-sysv${UNAME_REL}\n-\tfi\n-\texit ;;\n-    i*86:*:5:[678]*)\n-\t# UnixWare 7.x, OpenUNIX and OpenServer 6.\n-\tcase `/bin/uname -X | grep \""^Machine\""` in\n-\t    *486*)\t     UNAME_MACHINE=i486 ;;\n-\t    *Pentium)\t     UNAME_MACHINE=i586 ;;\n-\t    *Pent*|*Celeron) UNAME_MACHINE=i686 ;;\n-\tesac\n-\techo ${UNAME_MACHINE}-unknown-sysv${UNAME_RELEASE}${UNAME_SYSTEM}${UNAME_VERSION}\n-\texit ;;\n-    i*86:*:3.2:*)\n-\tif test -f /usr/options/cb.name; then\n-\t\tUNAME_REL=`sed -n 's/.*Version //p' </usr/options/cb.name`\n-\t\techo ${UNAME_MACHINE}-pc-isc$UNAME_REL\n-\telif /bin/uname -X 2>/dev/null >/dev/null ; then\n-\t\tUNAME_REL=`(/bin/uname -X|grep Release|sed -e 's/.*= //')`\n-\t\t(/bin/uname -X|grep i80486 >/dev/null) && UNAME_MACHINE=i486\n-\t\t(/bin/uname -X|grep '^Machine.*Pentium' >/dev/null) \\\n-\t\t\t&& UNAME_MACHINE=i586\n-\t\t(/bin/uname -X|grep '^Machine.*Pent *II' >/dev/null) \\\n-\t\t\t&& UNAME_MACHINE=i686\n-\t\t(/bin/uname -X|grep '^Machine.*Pentium Pro' >/dev/null) \\\n-\t\t\t&& UNAME_MACHINE=i686\n-\t\techo ${UNAME_MACHINE}-pc-sco$UNAME_REL\n-\telse\n-\t\techo ${UNAME_MACHINE}-pc-sysv32\n-\tfi\n-\texit ;;\n-    pc:*:*:*)\n-\t# Left here for compatibility:\n-\t# uname -m prints for DJGPP always 'pc', but it prints nothing about\n-\t# the processor, so we play safe by assuming i586.\n-\t# Note: whatever this is, it MUST be the same as what config.sub\n-\t# prints for the \""djgpp\"" host, or else GDB configury will decide that\n-\t# this is a cross-build.\n-\techo i586-pc-msdosdjgpp\n-\texit ;;\n-    Intel:Mach:3*:*)\n-\techo i386-pc-mach3\n-\texit ;;\n-    paragon:*:*:*)\n-\techo i860-intel-osf1\n-\texit ;;\n-    i860:*:4.*:*) # i860-SVR4\n-\tif grep Stardent /usr/include/sys/uadmin.h >/dev/null 2>&1 ; then\n-\t  echo i860-stardent-sysv${UNAME_RELEASE} # Stardent Vistra i860-SVR4\n-\telse # Add other i860-SVR4 vendors below as they are discovered.\n-\t  echo i860-unknown-sysv${UNAME_RELEASE}  # Unknown i860-SVR4\n-\tfi\n-\texit ;;\n-    mini*:CTIX:SYS*5:*)\n-\t# \""miniframe\""\n-\techo m68010-convergent-sysv\n-\texit ;;\n-    mc68k:UNIX:SYSTEM5:3.51m)\n-\techo m68k-convergent-sysv\n-\texit ;;\n-    M680?0:D-NIX:5.3:*)\n-\techo m68k-diab-dnix\n-\texit ;;\n-    M68*:*:R3V[5678]*:*)\n-\ttest -r /sysV68 && { echo 'm68k-motorola-sysv'; exit; } ;;\n-    3[345]??:*:4.0:3.0 | 3[34]??A:*:4.0:3.0 | 3[34]??,*:*:4.0:3.0 | 3[34]??/*:*:4.0:3.0 | 4400:*:4.0:3.0 | 4850:*:4.0:3.0 | SKA40:*:4.0:3.0 | SDS2:*:4.0:3.0 | SHG2:*:4.0:3.0 | S7501*:*:4.0:3.0)\n-\tOS_REL=''\n-\ttest -r /etc/.relid \\\n-\t&& OS_REL=.`sed -n 's/[^ ]* [^ ]* \\([0-9][0-9]\\).*/\\1/p' < /etc/.relid`\n-\t/bin/uname -p 2>/dev/null | grep 86 >/dev/null \\\n-\t  && { echo i486-ncr-sysv4.3${OS_REL}; exit; }\n-\t/bin/uname -p 2>/dev/null | /bin/grep entium >/dev/null \\\n-\t  && { echo i586-ncr-sysv4.3${OS_REL}; exit; } ;;\n-    3[34]??:*:4.0:* | 3[34]??,*:*:4.0:*)\n-\t/bin/uname -p 2>/dev/null | grep 86 >/dev/null \\\n-\t  && { echo i486-ncr-sysv4; exit; } ;;\n-    NCR*:*:4.2:* | MPRAS*:*:4.2:*)\n-\tOS_REL='.3'\n-\ttest -r /etc/.relid \\\n-\t    && OS_REL=.`sed -n 's/[^ ]* [^ ]* \\([0-9][0-9]\\).*/\\1/p' < /etc/.relid`\n-\t/bin/uname -p 2>/dev/null | grep 86 >/dev/null \\\n-\t    && { echo i486-ncr-sysv4.3${OS_REL}; exit; }\n-\t/bin/uname -p 2>/dev/null | /bin/grep entium >/dev/null \\\n-\t    && { echo i586-ncr-sysv4.3${OS_REL}; exit; }\n-\t/bin/uname -p 2>/dev/null | /bin/grep pteron >/dev/null \\\n-\t    && { echo i586-ncr-sysv4.3${OS_REL}; exit; } ;;\n-    m68*:LynxOS:2.*:* | m68*:LynxOS:3.0*:*)\n-\techo m68k-unknown-lynxos${UNAME_RELEASE}\n-\texit ;;\n-    mc68030:UNIX_System_V:4.*:*)\n-\techo m68k-atari-sysv4\n-\texit ;;\n-    TSUNAMI:LynxOS:2.*:*)\n-\techo sparc-unknown-lynxos${UNAME_RELEASE}\n-\texit ;;\n-    rs6000:LynxOS:2.*:*)\n-\techo rs6000-unknown-lynxos${UNAME_RELEASE}\n-\texit ;;\n-    PowerPC:LynxOS:2.*:* | PowerPC:LynxOS:3.[01]*:* | PowerPC:LynxOS:4.[02]*:*)\n-\techo powerpc-unknown-lynxos${UNAME_RELEASE}\n-\texit ;;\n-    SM[BE]S:UNIX_SV:*:*)\n-\techo mips-dde-sysv${UNAME_RELEASE}\n-\texit ;;\n-    RM*:ReliantUNIX-*:*:*)\n-\techo mips-sni-sysv4\n-\texit ;;\n-    RM*:SINIX-*:*:*)\n-\techo mips-sni-sysv4\n-\texit ;;\n-    *:SINIX-*:*:*)\n-\tif uname -p 2>/dev/null >/dev/null ; then\n-\t\tUNAME_MACHINE=`(uname -p) 2>/dev/null`\n-\t\techo ${UNAME_MACHINE}-sni-sysv4\n-\telse\n-\t\techo ns32k-sni-sysv\n-\tfi\n-\texit ;;\n-    PENTIUM:*:4.0*:*)\t# Unisys `ClearPath HMP IX 4000' SVR4/MP effort\n-\t\t\t# says <Richard.M.Bartel@ccMail.Census.GOV>\n-\techo i586-unisys-sysv4\n-\texit ;;\n-    *:UNIX_System_V:4*:FTX*)\n-\t# From Gerald Hewes <hewes@openmarket.com>.\n-\t# How about differentiating between stratus architectures? -djm\n-\techo hppa1.1-stratus-sysv4\n-\texit ;;\n-    *:*:*:FTX*)\n-\t# From seanf@swdc.stratus.com.\n-\techo i860-stratus-sysv4\n-\texit ;;\n-    i*86:VOS:*:*)\n-\t# From Paul.Green@stratus.com.\n-\techo ${UNAME_MACHINE}-stratus-vos\n-\texit ;;\n-    *:VOS:*:*)\n-\t# From Paul.Green@stratus.com.\n-\techo hppa1.1-stratus-vos\n-\texit ;;\n-    mc68*:A/UX:*:*)\n-\techo m68k-apple-aux${UNAME_RELEASE}\n-\texit ;;\n-    news*:NEWS-OS:6*:*)\n-\techo mips-sony-newsos6\n-\texit ;;\n-    R[34]000:*System_V*:*:* | R4000:UNIX_SYSV:*:* | R*000:UNIX_SV:*:*)\n-\tif [ -d /usr/nec ]; then\n-\t\techo mips-nec-sysv${UNAME_RELEASE}\n-\telse\n-\t\techo mips-unknown-sysv${UNAME_RELEASE}\n-\tfi\n-\texit ;;\n-    BeBox:BeOS:*:*)\t# BeOS running on hardware made by Be, PPC only.\n-\techo powerpc-be-beos\n-\texit ;;\n-    BeMac:BeOS:*:*)\t# BeOS running on Mac or Mac clone, PPC only.\n-\techo powerpc-apple-beos\n-\texit ;;\n-    BePC:BeOS:*:*)\t# BeOS running on Intel PC compatible.\n-\techo i586-pc-beos\n-\texit ;;\n-    BePC:Haiku:*:*)\t# Haiku running on Intel PC compatible.\n-\techo i586-pc-haiku\n-\texit ;;\n-    x86_64:Haiku:*:*)\n-\techo x86_64-unknown-haiku\n-\texit ;;\n-    SX-4:SUPER-UX:*:*)\n-\techo sx4-nec-superux${UNAME_RELEASE}\n-\texit ;;\n-    SX-5:SUPER-UX:*:*)\n-\techo sx5-nec-superux${UNAME_RELEASE}\n-\texit ;;\n-    SX-6:SUPER-UX:*:*)\n-\techo sx6-nec-superux${UNAME_RELEASE}\n-\texit ;;\n-    SX-7:SUPER-UX:*:*)\n-\techo sx7-nec-superux${UNAME_RELEASE}\n-\texit ;;\n-    SX-8:SUPER-UX:*:*)\n-\techo sx8-nec-superux${UNAME_RELEASE}\n-\texit ;;\n-    SX-8R:SUPER-UX:*:*)\n-\techo sx8r-nec-superux${UNAME_RELEASE}\n-\texit ;;\n-    Power*:Rhapsody:*:*)\n-\techo powerpc-apple-rhapsody${UNAME_RELEASE}\n-\texit ;;\n-    *:Rhapsody:*:*)\n-\techo ${UNAME_MACHINE}-apple-rhapsody${UNAME_RELEASE}\n-\texit ;;\n-    *:Darwin:*:*)\n-\tUNAME_PROCESSOR=`uname -p` || UNAME_PROCESSOR=unknown\n-\teval $set_cc_for_build\n-\tif test \""$UNAME_PROCESSOR\"" = unknown ; then\n-\t    UNAME_PROCESSOR=powerpc\n-\tfi\n-\tif test `echo \""$UNAME_RELEASE\"" | sed -e 's/\\..*//'` -le 10 ; then\n-\t    if [ \""$CC_FOR_BUILD\"" != 'no_compiler_found' ]; then\n-\t\tif (echo '#ifdef __LP64__'; echo IS_64BIT_ARCH; echo '#endif') | \\\n-\t\t    (CCOPTS= $CC_FOR_BUILD -E - 2>/dev/null) | \\\n-\t\t    grep IS_64BIT_ARCH >/dev/null\n-\t\tthen\n-\t\t    case $UNAME_PROCESSOR in\n-\t\t\ti386) UNAME_PROCESSOR=x86_64 ;;\n-\t\t\tpowerpc) UNAME_PROCESSOR=powerpc64 ;;\n-\t\t    esac\n-\t\tfi\n-\t    fi\n-\telif test \""$UNAME_PROCESSOR\"" = i386 ; then\n-\t    # Avoid executing cc on OS X 10.9, as it ships with a stub\n-\t    # that puts up a graphical alert prompting to install\n-\t    # developer tools.  Any system running Mac OS X 10.7 or\n-\t    # later (Darwin 11 and later) is required to have a 64-bit\n-\t    # processor. This is not true of the ARM version of Darwin\n-\t    # that Apple uses in portable devices.\n-\t    UNAME_PROCESSOR=x86_64\n-\tfi\n-\techo ${UNAME_PROCESSOR}-apple-darwin${UNAME_RELEASE}\n-\texit ;;\n-    *:procnto*:*:* | *:QNX:[0123456789]*:*)\n-\tUNAME_PROCESSOR=`uname -p`\n-\tif test \""$UNAME_PROCESSOR\"" = \""x86\""; then\n-\t\tUNAME_PROCESSOR=i386\n-\t\tUNAME_MACHINE=pc\n-\tfi\n-\techo ${UNAME_PROCESSOR}-${UNAME_MACHINE}-nto-qnx${UNAME_RELEASE}\n-\texit ;;\n-    *:QNX:*:4*)\n-\techo i386-pc-qnx\n-\texit ;;\n-    NEO-?:NONSTOP_KERNEL:*:*)\n-\techo neo-tandem-nsk${UNAME_RELEASE}\n-\texit ;;\n-    NSE-*:NONSTOP_KERNEL:*:*)\n-\techo nse-tandem-nsk${UNAME_RELEASE}\n-\texit ;;\n-    NSR-?:NONSTOP_KERNEL:*:*)\n-\techo nsr-tandem-nsk${UNAME_RELEASE}\n-\texit ;;\n-    *:NonStop-UX:*:*)\n-\techo mips-compaq-nonstopux\n-\texit ;;\n-    BS2000:POSIX*:*:*)\n-\techo bs2000-siemens-sysv\n-\texit ;;\n-    DS/*:UNIX_System_V:*:*)\n-\techo ${UNAME_MACHINE}-${UNAME_SYSTEM}-${UNAME_RELEASE}\n-\texit ;;\n-    *:Plan9:*:*)\n-\t# \""uname -m\"" is not consistent, so use $cputype instead. 386\n-\t# is converted to i386 for consistency with other x86\n-\t# operating systems.\n-\tif test \""$cputype\"" = \""386\""; then\n-\t    UNAME_MACHINE=i386\n-\telse\n-\t    UNAME_MACHINE=\""$cputype\""\n-\tfi\n-\techo ${UNAME_MACHINE}-unknown-plan9\n-\texit ;;\n-    *:TOPS-10:*:*)\n-\techo pdp10-unknown-tops10\n-\texit ;;\n-    *:TENEX:*:*)\n-\techo pdp10-unknown-tenex\n-\texit ;;\n-    KS10:TOPS-20:*:* | KL10:TOPS-20:*:* | TYPE4:TOPS-20:*:*)\n-\techo pdp10-dec-tops20\n-\texit ;;\n-    XKL-1:TOPS-20:*:* | TYPE5:TOPS-20:*:*)\n-\techo pdp10-xkl-tops20\n-\texit ;;\n-    *:TOPS-20:*:*)\n-\techo pdp10-unknown-tops20\n-\texit ;;\n-    *:ITS:*:*)\n-\techo pdp10-unknown-its\n-\texit ;;\n-    SEI:*:*:SEIUX)\n-\techo mips-sei-seiux${UNAME_RELEASE}\n-\texit ;;\n-    *:DragonFly:*:*)\n-\techo ${UNAME_MACHINE}-unknown-dragonfly`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`\n-\texit ;;\n-    *:*VMS:*:*)\n-\tUNAME_MACHINE=`(uname -p) 2>/dev/null`\n-\tcase \""${UNAME_MACHINE}\"" in\n-\t    A*) echo alpha-dec-vms ; exit ;;\n-\t    I*) echo ia64-dec-vms ; exit ;;\n-\t    V*) echo vax-dec-vms ; exit ;;\n-\tesac ;;\n-    *:XENIX:*:SysV)\n-\techo i386-pc-xenix\n-\texit ;;\n-    i*86:skyos:*:*)\n-\techo ${UNAME_MACHINE}-pc-skyos`echo ${UNAME_RELEASE}` | sed -e 's/ .*$//'\n-\texit ;;\n-    i*86:rdos:*:*)\n-\techo ${UNAME_MACHINE}-pc-rdos\n-\texit ;;\n-    i*86:AROS:*:*)\n-\techo ${UNAME_MACHINE}-pc-aros\n-\texit ;;\n-    x86_64:VMkernel:*:*)\n-\techo ${UNAME_MACHINE}-unknown-esx\n-\texit ;;\n-esac\n-\n-eval $set_cc_for_build\n-cat >$dummy.c <<EOF\n-#ifdef _SEQUENT_\n-# include <sys/types.h>\n-# include <sys/utsname.h>\n-#endif\n-main ()\n-{\n-#if defined (sony)\n-#if defined (MIPSEB)\n-  /* BFD wants \""bsd\"" instead of \""newsos\"".  Perhaps BFD should be changed,\n-     I don't know....  */\n-  printf (\""mips-sony-bsd\\n\""); exit (0);\n-#else\n-#include <sys/param.h>\n-  printf (\""m68k-sony-newsos%s\\n\"",\n-#ifdef NEWSOS4\n-\t\""4\""\n-#else\n-\t\""\""\n-#endif\n-\t); exit (0);\n-#endif\n-#endif\n-\n-#if defined (__arm) && defined (__acorn) && defined (__unix)\n-  printf (\""arm-acorn-riscix\\n\""); exit (0);\n-#endif\n-\n-#if defined (hp300) && !defined (hpux)\n-  printf (\""m68k-hp-bsd\\n\""); exit (0);\n-#endif\n-\n-#if defined (NeXT)\n-#if !defined (__ARCHITECTURE__)\n-#define __ARCHITECTURE__ \""m68k\""\n-#endif\n-  int version;\n-  version=`(hostinfo | sed -n 's/.*NeXT Mach \\([0-9]*\\).*/\\1/p') 2>/dev/null`;\n-  if (version < 4)\n-    printf (\""%s-next-nextstep%d\\n\"", __ARCHITECTURE__, version);\n-  else\n-    printf (\""%s-next-openstep%d\\n\"", __ARCHITECTURE__, version);\n-  exit (0);\n-#endif\n-\n-#if defined (MULTIMAX) || defined (n16)\n-#if defined (UMAXV)\n-  printf (\""ns32k-encore-sysv\\n\""); exit (0);\n-#else\n-#if defined (CMU)\n-  printf (\""ns32k-encore-mach\\n\""); exit (0);\n-#else\n-  printf (\""ns32k-encore-bsd\\n\""); exit (0);\n-#endif\n-#endif\n-#endif\n-\n-#if defined (__386BSD__)\n-  printf (\""i386-pc-bsd\\n\""); exit (0);\n-#endif\n-\n-#if defined (sequent)\n-#if defined (i386)\n-  printf (\""i386-sequent-dynix\\n\""); exit (0);\n-#endif\n-#if defined (ns32000)\n-  printf (\""ns32k-sequent-dynix\\n\""); exit (0);\n-#endif\n-#endif\n-\n-#if defined (_SEQUENT_)\n-    struct utsname un;\n-\n-    uname(&un);\n-\n-    if (strncmp(un.version, \""V2\"", 2) == 0) {\n-\tprintf (\""i386-sequent-ptx2\\n\""); exit (0);\n-    }\n-    if (strncmp(un.version, \""V1\"", 2) == 0) { /* XXX is V1 correct? */\n-\tprintf (\""i386-sequent-ptx1\\n\""); exit (0);\n-    }\n-    printf (\""i386-sequent-ptx\\n\""); exit (0);\n-\n-#endif\n-\n-#if defined (vax)\n-# if !defined (ultrix)\n-#  include <sys/param.h>\n-#  if defined (BSD)\n-#   if BSD == 43\n-      printf (\""vax-dec-bsd4.3\\n\""); exit (0);\n-#   else\n-#    if BSD == 199006\n-      printf (\""vax-dec-bsd4.3reno\\n\""); exit (0);\n-#    else\n-      printf (\""vax-dec-bsd\\n\""); exit (0);\n-#    endif\n-#   endif\n-#  else\n-    printf (\""vax-dec-bsd\\n\""); exit (0);\n-#  endif\n-# else\n-    printf (\""vax-dec-ultrix\\n\""); exit (0);\n-# endif\n-#endif\n-\n-#if defined (alliant) && defined (i860)\n-  printf (\""i860-alliant-bsd\\n\""); exit (0);\n-#endif\n-\n-  exit (1);\n-}\n-EOF\n-\n-$CC_FOR_BUILD -o $dummy $dummy.c 2>/dev/null && SYSTEM_NAME=`$dummy` &&\n-\t{ echo \""$SYSTEM_NAME\""; exit; }\n-\n-# Apollos put the system type in the environment.\n-\n-test -d /usr/apollo && { echo ${ISP}-apollo-${SYSTYPE}; exit; }\n-\n-# Convex versions that predate uname can use getsysinfo(1)\n-\n-if [ -x /usr/convex/getsysinfo ]\n-then\n-    case `getsysinfo -f cpu_type` in\n-    c1*)\n-\techo c1-convex-bsd\n-\texit ;;\n-    c2*)\n-\tif getsysinfo -f scalar_acc\n-\tthen echo c32-convex-bsd\n-\telse echo c2-convex-bsd\n-\tfi\n-\texit ;;\n-    c34*)\n-\techo c34-convex-bsd\n-\texit ;;\n-    c38*)\n-\techo c38-convex-bsd\n-\texit ;;\n-    c4*)\n-\techo c4-convex-bsd\n-\texit ;;\n-    esac\n-fi\n-\n-cat >&2 <<EOF\n-$0: unable to guess system type\n-\n-This script, last modified $timestamp, has failed to recognize\n-the operating system you are using. It is advised that you\n-download the most up to date version of the config scripts from\n-\n-  http://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.guess;hb=HEAD\n-and\n-  http://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.sub;hb=HEAD\n-\n-If the version you run ($0) is already up to date, please\n-send the following data and any information you think might be\n-pertinent to <config-patches@gnu.org> in order to provide the needed\n-information to handle your system.\n-\n-config.guess timestamp = $timestamp\n-\n-uname -m = `(uname -m) 2>/dev/null || echo unknown`\n-uname -r = `(uname -r) 2>/dev/null || echo unknown`\n-uname -s = `(uname -s) 2>/dev/null || echo unknown`\n-uname -v = `(uname -v) 2>/dev/null || echo unknown`\n-\n-/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null`\n-/bin/uname -X     = `(/bin/uname -X) 2>/dev/null`\n-\n-hostinfo               = `(hostinfo) 2>/dev/null`\n-/bin/universe          = `(/bin/universe) 2>/dev/null`\n-/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null`\n-/bin/arch              = `(/bin/arch) 2>/dev/null`\n-/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null`\n-/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null`\n-\n-UNAME_MACHINE = ${UNAME_MACHINE}\n-UNAME_RELEASE = ${UNAME_RELEASE}\n-UNAME_SYSTEM  = ${UNAME_SYSTEM}\n-UNAME_VERSION = ${UNAME_VERSION}\n-EOF\n-\n-exit 1\n-\n-# Local variables:\n-# eval: (add-hook 'write-file-hooks 'time-stamp)\n-# time-stamp-start: \""timestamp='\""\n-# time-stamp-format: \""%:y-%02m-%02d\""\n-# time-stamp-end: \""'\""\n-# End:\n""}<_**next**_>{""filename"": ""config.h.in"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca%5E/config.h.in"", ""patch"": ""@@ -1,109 +0,0 @@\n\n-/* config.h.in.  Generated from configure.ac by autoheader.  */\n-\n-/* Define to 1 if you have the <dlfcn.h> header file. */\n-#undef HAVE_DLFCN_H\n-\n-/* Define to 1 if you have the `feenableexcept' function. */\n-#undef HAVE_FEENABLEEXCEPT\n-\n-/* Define to 1 if you have the <inttypes.h> header file. */\n-#undef HAVE_INTTYPES_H\n-\n-/* Define to 1 if you have the `m' library (-lm). */\n-#undef HAVE_LIBM\n-\n-/* Define to 1 if you have the `z' library (-lz). */\n-#undef HAVE_LIBZ\n-\n-/* Define to 1 if you have the <memory.h> header file. */\n-#undef HAVE_MEMORY_H\n-\n-/* Define to 1 if you have the `memset' function. */\n-#undef HAVE_MEMSET\n-\n-/* Define to 1 if you have the `pow' function. */\n-#undef HAVE_POW\n-\n-/* Define to 1 if you have the <stdint.h> header file. */\n-#undef HAVE_STDINT_H\n-\n-/* Define to 1 if you have the <stdlib.h> header file. */\n-#undef HAVE_STDLIB_H\n-\n-/* Define to 1 if you have the <strings.h> header file. */\n-#undef HAVE_STRINGS_H\n-\n-/* Define to 1 if you have the <string.h> header file. */\n-#undef HAVE_STRING_H\n-\n-/* Define to 1 if you have the <sys/stat.h> header file. */\n-#undef HAVE_SYS_STAT_H\n-\n-/* Define to 1 if you have the <sys/types.h> header file. */\n-#undef HAVE_SYS_TYPES_H\n-\n-/* Define to 1 if you have the <unistd.h> header file. */\n-#undef HAVE_UNISTD_H\n-\n-/* Define to the sub-directory in which libtool stores uninstalled libraries.\n-   */\n-#undef LT_OBJDIR\n-\n-/* Name of package */\n-#undef PACKAGE\n-\n-/* Define to the address where bug reports for this package should be sent. */\n-#undef PACKAGE_BUGREPORT\n-\n-/* Define to the full name of this package. */\n-#undef PACKAGE_NAME\n-\n-/* Define to the full name and version of this package. */\n-#undef PACKAGE_STRING\n-\n-/* Define to the one symbol short name of this package. */\n-#undef PACKAGE_TARNAME\n-\n-/* Define to the home page for this package. */\n-#undef PACKAGE_URL\n-\n-/* Define to the version of this package. */\n-#undef PACKAGE_VERSION\n-\n-/* Turn on ARM Neon optimizations at run-time */\n-#undef PNG_ARM_NEON_API_SUPPORTED\n-\n-/* Check for ARM Neon support at run-time */\n-#undef PNG_ARM_NEON_CHECK_SUPPORTED\n-\n-/* Enable ARM Neon optimizations */\n-#undef PNG_ARM_NEON_OPT\n-\n-/* Define to 1 if you have the ANSI C header files. */\n-#undef STDC_HEADERS\n-\n-/* Define to 1 if your <sys/time.h> declares `struct tm'. */\n-#undef TM_IN_SYS_TIME\n-\n-/* Version number of package */\n-#undef VERSION\n-\n-/* Define to empty if `const' does not conform to ANSI C. */\n-#undef const\n-\n-/* Define to the equivalent of the C99 'restrict' keyword, or to\n-   nothing if this is not supported.  Do not define if restrict is\n-   supported directly.  */\n-#undef restrict\n-/* Work around a bug in Sun C++: it does not support _Restrict or\n-   __restrict__, even though the corresponding Sun C compiler ends up with\n-   \""#define restrict _Restrict\"" or \""#define restrict __restrict__\"" in the\n-   previous line.  Perhaps some future version of Sun C++ will work with\n-   restrict; if so, hopefully it defines __RESTRICT like Sun C does.  */\n-#if defined __SUNPRO_CC && !defined __RESTRICT\n-# define _Restrict\n-# define __restrict__\n-#endif\n-\n-/* Define to `unsigned int' if <sys/types.h> does not define. */\n-#undef size_t\n""}<_**next**_>{""filename"": ""config.sub"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca%5E/config.sub"", ""patch"": ""@@ -1,1793 +0,0 @@\n\n-#! /bin/sh\n-# Configuration validation subroutine script.\n-#   Copyright 1992-2013 Free Software Foundation, Inc.\n-\n-timestamp='2013-10-01'\n-\n-# This file is free software; you can redistribute it and/or modify it\n-# under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 3 of the License, or\n-# (at your option) any later version.\n-#\n-# This program is distributed in the hope that it will be useful, but\n-# WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-# General Public License for more details.\n-#\n-# You should have received a copy of the GNU General Public License\n-# along with this program; if not, see <http://www.gnu.org/licenses/>.\n-#\n-# As a special exception to the GNU General Public License, if you\n-# distribute this file as part of a program that contains a\n-# configuration script generated by Autoconf, you may include it under\n-# the same distribution terms that you use for the rest of that\n-# program.  This Exception is an additional permission under section 7\n-# of the GNU General Public License, version 3 (\""GPLv3\"").\n-\n-\n-# Please send patches with a ChangeLog entry to config-patches@gnu.org.\n-#\n-# Configuration subroutine to validate and canonicalize a configuration type.\n-# Supply the specified configuration type as an argument.\n-# If it is invalid, we print an error message on stderr and exit with code 1.\n-# Otherwise, we print the canonical config type on stdout and succeed.\n-\n-# You can get the latest version of this script from:\n-# http://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.sub;hb=HEAD\n-\n-# This file is supposed to be the same for all GNU packages\n-# and recognize all the CPU types, system types and aliases\n-# that are meaningful with *any* GNU software.\n-# Each package is responsible for reporting which valid configurations\n-# it does not support.  The user should be able to distinguish\n-# a failure to support a valid configuration from a meaningless\n-# configuration.\n-\n-# The goal of this file is to map all the various variations of a given\n-# machine specification into a single specification in the form:\n-#\tCPU_TYPE-MANUFACTURER-OPERATING_SYSTEM\n-# or in some cases, the newer four-part form:\n-#\tCPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM\n-# It is wrong to echo any other type of specification.\n-\n-me=`echo \""$0\"" | sed -e 's,.*/,,'`\n-\n-usage=\""\\\n-Usage: $0 [OPTION] CPU-MFR-OPSYS\n-       $0 [OPTION] ALIAS\n-\n-Canonicalize a configuration name.\n-\n-Operation modes:\n-  -h, --help         print this help, then exit\n-  -t, --time-stamp   print date of last modification, then exit\n-  -v, --version      print version number, then exit\n-\n-Report bugs and patches to <config-patches@gnu.org>.\""\n-\n-version=\""\\\n-GNU config.sub ($timestamp)\n-\n-Copyright 1992-2013 Free Software Foundation, Inc.\n-\n-This is free software; see the source for copying conditions.  There is NO\n-warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\""\n-\n-help=\""\n-Try \\`$me --help' for more information.\""\n-\n-# Parse command line\n-while test $# -gt 0 ; do\n-  case $1 in\n-    --time-stamp | --time* | -t )\n-       echo \""$timestamp\"" ; exit ;;\n-    --version | -v )\n-       echo \""$version\"" ; exit ;;\n-    --help | --h* | -h )\n-       echo \""$usage\""; exit ;;\n-    -- )     # Stop option processing\n-       shift; break ;;\n-    - )\t# Use stdin as input.\n-       break ;;\n-    -* )\n-       echo \""$me: invalid option $1$help\""\n-       exit 1 ;;\n-\n-    *local*)\n-       # First pass through any local machine types.\n-       echo $1\n-       exit ;;\n-\n-    * )\n-       break ;;\n-  esac\n-done\n-\n-case $# in\n- 0) echo \""$me: missing argument$help\"" >&2\n-    exit 1;;\n- 1) ;;\n- *) echo \""$me: too many arguments$help\"" >&2\n-    exit 1;;\n-esac\n-\n-# Separate what the user gave into CPU-COMPANY and OS or KERNEL-OS (if any).\n-# Here we must recognize all the valid KERNEL-OS combinations.\n-maybe_os=`echo $1 | sed 's/^\\(.*\\)-\\([^-]*-[^-]*\\)$/\\2/'`\n-case $maybe_os in\n-  nto-qnx* | linux-gnu* | linux-android* | linux-dietlibc | linux-newlib* | \\\n-  linux-musl* | linux-uclibc* | uclinux-uclibc* | uclinux-gnu* | kfreebsd*-gnu* | \\\n-  knetbsd*-gnu* | netbsd*-gnu* | \\\n-  kopensolaris*-gnu* | \\\n-  storm-chaos* | os2-emx* | rtmk-nova*)\n-    os=-$maybe_os\n-    basic_machine=`echo $1 | sed 's/^\\(.*\\)-\\([^-]*-[^-]*\\)$/\\1/'`\n-    ;;\n-  android-linux)\n-    os=-linux-android\n-    basic_machine=`echo $1 | sed 's/^\\(.*\\)-\\([^-]*-[^-]*\\)$/\\1/'`-unknown\n-    ;;\n-  *)\n-    basic_machine=`echo $1 | sed 's/-[^-]*$//'`\n-    if [ $basic_machine != $1 ]\n-    then os=`echo $1 | sed 's/.*-/-/'`\n-    else os=; fi\n-    ;;\n-esac\n-\n-### Let's recognize common machines as not being operating systems so\n-### that things like config.sub decstation-3100 work.  We also\n-### recognize some manufacturers as not being operating systems, so we\n-### can provide default operating systems below.\n-case $os in\n-\t-sun*os*)\n-\t\t# Prevent following clause from handling this invalid input.\n-\t\t;;\n-\t-dec* | -mips* | -sequent* | -encore* | -pc532* | -sgi* | -sony* | \\\n-\t-att* | -7300* | -3300* | -delta* | -motorola* | -sun[234]* | \\\n-\t-unicom* | -ibm* | -next | -hp | -isi* | -apollo | -altos* | \\\n-\t-convergent* | -ncr* | -news | -32* | -3600* | -3100* | -hitachi* |\\\n-\t-c[123]* | -convex* | -sun | -crds | -omron* | -dg | -ultra | -tti* | \\\n-\t-harris | -dolphin | -highlevel | -gould | -cbm | -ns | -masscomp | \\\n-\t-apple | -axis | -knuth | -cray | -microblaze*)\n-\t\tos=\n-\t\tbasic_machine=$1\n-\t\t;;\n-\t-bluegene*)\n-\t\tos=-cnk\n-\t\t;;\n-\t-sim | -cisco | -oki | -wec | -winbond)\n-\t\tos=\n-\t\tbasic_machine=$1\n-\t\t;;\n-\t-scout)\n-\t\t;;\n-\t-wrs)\n-\t\tos=-vxworks\n-\t\tbasic_machine=$1\n-\t\t;;\n-\t-chorusos*)\n-\t\tos=-chorusos\n-\t\tbasic_machine=$1\n-\t\t;;\n-\t-chorusrdb)\n-\t\tos=-chorusrdb\n-\t\tbasic_machine=$1\n-\t\t;;\n-\t-hiux*)\n-\t\tos=-hiuxwe2\n-\t\t;;\n-\t-sco6)\n-\t\tos=-sco5v6\n-\t\tbasic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`\n-\t\t;;\n-\t-sco5)\n-\t\tos=-sco3.2v5\n-\t\tbasic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`\n-\t\t;;\n-\t-sco4)\n-\t\tos=-sco3.2v4\n-\t\tbasic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`\n-\t\t;;\n-\t-sco3.2.[4-9]*)\n-\t\tos=`echo $os | sed -e 's/sco3.2./sco3.2v/'`\n-\t\tbasic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`\n-\t\t;;\n-\t-sco3.2v[4-9]*)\n-\t\t# Don't forget version if it is 3.2v4 or newer.\n-\t\tbasic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`\n-\t\t;;\n-\t-sco5v6*)\n-\t\t# Don't forget version if it is 3.2v4 or newer.\n-\t\tbasic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`\n-\t\t;;\n-\t-sco*)\n-\t\tos=-sco3.2v2\n-\t\tbasic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`\n-\t\t;;\n-\t-udk*)\n-\t\tbasic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`\n-\t\t;;\n-\t-isc)\n-\t\tos=-isc2.2\n-\t\tbasic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`\n-\t\t;;\n-\t-clix*)\n-\t\tbasic_machine=clipper-intergraph\n-\t\t;;\n-\t-isc*)\n-\t\tbasic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`\n-\t\t;;\n-\t-lynx*178)\n-\t\tos=-lynxos178\n-\t\t;;\n-\t-lynx*5)\n-\t\tos=-lynxos5\n-\t\t;;\n-\t-lynx*)\n-\t\tos=-lynxos\n-\t\t;;\n-\t-ptx*)\n-\t\tbasic_machine=`echo $1 | sed -e 's/86-.*/86-sequent/'`\n-\t\t;;\n-\t-windowsnt*)\n-\t\tos=`echo $os | sed -e 's/windowsnt/winnt/'`\n-\t\t;;\n-\t-psos*)\n-\t\tos=-psos\n-\t\t;;\n-\t-mint | -mint[0-9]*)\n-\t\tbasic_machine=m68k-atari\n-\t\tos=-mint\n-\t\t;;\n-esac\n-\n-# Decode aliases for certain CPU-COMPANY combinations.\n-case $basic_machine in\n-\t# Recognize the basic CPU types without company name.\n-\t# Some are omitted here because they have special meanings below.\n-\t1750a | 580 \\\n-\t| a29k \\\n-\t| aarch64 | aarch64_be \\\n-\t| alpha | alphaev[4-8] | alphaev56 | alphaev6[78] | alphapca5[67] \\\n-\t| alpha64 | alpha64ev[4-8] | alpha64ev56 | alpha64ev6[78] | alpha64pca5[67] \\\n-\t| am33_2.0 \\\n-\t| arc | arceb \\\n-\t| arm | arm[bl]e | arme[lb] | armv[2-8] | armv[3-8][lb] | armv7[arm] \\\n-\t| avr | avr32 \\\n-\t| be32 | be64 \\\n-\t| bfin \\\n-\t| c4x | c8051 | clipper \\\n-\t| d10v | d30v | dlx | dsp16xx \\\n-\t| epiphany \\\n-\t| fido | fr30 | frv \\\n-\t| h8300 | h8500 | hppa | hppa1.[01] | hppa2.0 | hppa2.0[nw] | hppa64 \\\n-\t| hexagon \\\n-\t| i370 | i860 | i960 | ia64 \\\n-\t| ip2k | iq2000 \\\n-\t| k1om \\\n-\t| le32 | le64 \\\n-\t| lm32 \\\n-\t| m32c | m32r | m32rle | m68000 | m68k | m88k \\\n-\t| maxq | mb | microblaze | microblazeel | mcore | mep | metag \\\n-\t| mips | mipsbe | mipseb | mipsel | mipsle \\\n-\t| mips16 \\\n-\t| mips64 | mips64el \\\n-\t| mips64octeon | mips64octeonel \\\n-\t| mips64orion | mips64orionel \\\n-\t| mips64r5900 | mips64r5900el \\\n-\t| mips64vr | mips64vrel \\\n-\t| mips64vr4100 | mips64vr4100el \\\n-\t| mips64vr4300 | mips64vr4300el \\\n-\t| mips64vr5000 | mips64vr5000el \\\n-\t| mips64vr5900 | mips64vr5900el \\\n-\t| mipsisa32 | mipsisa32el \\\n-\t| mipsisa32r2 | mipsisa32r2el \\\n-\t| mipsisa64 | mipsisa64el \\\n-\t| mipsisa64r2 | mipsisa64r2el \\\n-\t| mipsisa64sb1 | mipsisa64sb1el \\\n-\t| mipsisa64sr71k | mipsisa64sr71kel \\\n-\t| mipsr5900 | mipsr5900el \\\n-\t| mipstx39 | mipstx39el \\\n-\t| mn10200 | mn10300 \\\n-\t| moxie \\\n-\t| mt \\\n-\t| msp430 \\\n-\t| nds32 | nds32le | nds32be \\\n-\t| nios | nios2 | nios2eb | nios2el \\\n-\t| ns16k | ns32k \\\n-\t| open8 \\\n-\t| or1k | or32 \\\n-\t| pdp10 | pdp11 | pj | pjl \\\n-\t| powerpc | powerpc64 | powerpc64le | powerpcle \\\n-\t| pyramid \\\n-\t| rl78 | rx \\\n-\t| score \\\n-\t| sh | sh[1234] | sh[24]a | sh[24]aeb | sh[23]e | sh[34]eb | sheb | shbe | shle | sh[1234]le | sh3ele \\\n-\t| sh64 | sh64le \\\n-\t| sparc | sparc64 | sparc64b | sparc64v | sparc86x | sparclet | sparclite \\\n-\t| sparcv8 | sparcv9 | sparcv9b | sparcv9v \\\n-\t| spu \\\n-\t| tahoe | tic4x | tic54x | tic55x | tic6x | tic80 | tron \\\n-\t| ubicom32 \\\n-\t| v850 | v850e | v850e1 | v850e2 | v850es | v850e2v3 \\\n-\t| we32k \\\n-\t| x86 | xc16x | xstormy16 | xtensa \\\n-\t| z8k | z80)\n-\t\tbasic_machine=$basic_machine-unknown\n-\t\t;;\n-\tc54x)\n-\t\tbasic_machine=tic54x-unknown\n-\t\t;;\n-\tc55x)\n-\t\tbasic_machine=tic55x-unknown\n-\t\t;;\n-\tc6x)\n-\t\tbasic_machine=tic6x-unknown\n-\t\t;;\n-\tm6811 | m68hc11 | m6812 | m68hc12 | m68hcs12x | nvptx | picochip)\n-\t\tbasic_machine=$basic_machine-unknown\n-\t\tos=-none\n-\t\t;;\n-\tm88110 | m680[12346]0 | m683?2 | m68360 | m5200 | v70 | w65 | z8k)\n-\t\t;;\n-\tms1)\n-\t\tbasic_machine=mt-unknown\n-\t\t;;\n-\n-\tstrongarm | thumb | xscale)\n-\t\tbasic_machine=arm-unknown\n-\t\t;;\n-\txgate)\n-\t\tbasic_machine=$basic_machine-unknown\n-\t\tos=-none\n-\t\t;;\n-\txscaleeb)\n-\t\tbasic_machine=armeb-unknown\n-\t\t;;\n-\n-\txscaleel)\n-\t\tbasic_machine=armel-unknown\n-\t\t;;\n-\n-\t# We use `pc' rather than `unknown'\n-\t# because (1) that's what they normally are, and\n-\t# (2) the word \""unknown\"" tends to confuse beginning users.\n-\ti*86 | x86_64)\n-\t  basic_machine=$basic_machine-pc\n-\t  ;;\n-\t# Object if more than one company name word.\n-\t*-*-*)\n-\t\techo Invalid configuration \\`$1\\': machine \\`$basic_machine\\' not recognized 1>&2\n-\t\texit 1\n-\t\t;;\n-\t# Recognize the basic CPU types with company name.\n-\t580-* \\\n-\t| a29k-* \\\n-\t| aarch64-* | aarch64_be-* \\\n-\t| alpha-* | alphaev[4-8]-* | alphaev56-* | alphaev6[78]-* \\\n-\t| alpha64-* | alpha64ev[4-8]-* | alpha64ev56-* | alpha64ev6[78]-* \\\n-\t| alphapca5[67]-* | alpha64pca5[67]-* | arc-* | arceb-* \\\n-\t| arm-*  | armbe-* | armle-* | armeb-* | armv*-* \\\n-\t| avr-* | avr32-* \\\n-\t| be32-* | be64-* \\\n-\t| bfin-* | bs2000-* \\\n-\t| c[123]* | c30-* | [cjt]90-* | c4x-* \\\n-\t| c8051-* | clipper-* | craynv-* | cydra-* \\\n-\t| d10v-* | d30v-* | dlx-* \\\n-\t| elxsi-* \\\n-\t| f30[01]-* | f700-* | fido-* | fr30-* | frv-* | fx80-* \\\n-\t| h8300-* | h8500-* \\\n-\t| hppa-* | hppa1.[01]-* | hppa2.0-* | hppa2.0[nw]-* | hppa64-* \\\n-\t| hexagon-* \\\n-\t| i*86-* | i860-* | i960-* | ia64-* \\\n-\t| ip2k-* | iq2000-* \\\n-\t| k1om-* \\\n-\t| le32-* | le64-* \\\n-\t| lm32-* \\\n-\t| m32c-* | m32r-* | m32rle-* \\\n-\t| m68000-* | m680[012346]0-* | m68360-* | m683?2-* | m68k-* \\\n-\t| m88110-* | m88k-* | maxq-* | mcore-* | metag-* \\\n-\t| microblaze-* | microblazeel-* \\\n-\t| mips-* | mipsbe-* | mipseb-* | mipsel-* | mipsle-* \\\n-\t| mips16-* \\\n-\t| mips64-* | mips64el-* \\\n-\t| mips64octeon-* | mips64octeonel-* \\\n-\t| mips64orion-* | mips64orionel-* \\\n-\t| mips64r5900-* | mips64r5900el-* \\\n-\t| mips64vr-* | mips64vrel-* \\\n-\t| mips64vr4100-* | mips64vr4100el-* \\\n-\t| mips64vr4300-* | mips64vr4300el-* \\\n-\t| mips64vr5000-* | mips64vr5000el-* \\\n-\t| mips64vr5900-* | mips64vr5900el-* \\\n-\t| mipsisa32-* | mipsisa32el-* \\\n-\t| mipsisa32r2-* | mipsisa32r2el-* \\\n-\t| mipsisa64-* | mipsisa64el-* \\\n-\t| mipsisa64r2-* | mipsisa64r2el-* \\\n-\t| mipsisa64sb1-* | mipsisa64sb1el-* \\\n-\t| mipsisa64sr71k-* | mipsisa64sr71kel-* \\\n-\t| mipsr5900-* | mipsr5900el-* \\\n-\t| mipstx39-* | mipstx39el-* \\\n-\t| mmix-* \\\n-\t| mt-* \\\n-\t| msp430-* \\\n-\t| nds32-* | nds32le-* | nds32be-* \\\n-\t| nios-* | nios2-* | nios2eb-* | nios2el-* \\\n-\t| none-* | np1-* | ns16k-* | ns32k-* \\\n-\t| open8-* \\\n-\t| orion-* \\\n-\t| pdp10-* | pdp11-* | pj-* | pjl-* | pn-* | power-* \\\n-\t| powerpc-* | powerpc64-* | powerpc64le-* | powerpcle-* \\\n-\t| pyramid-* \\\n-\t| rl78-* | romp-* | rs6000-* | rx-* \\\n-\t| sh-* | sh[1234]-* | sh[24]a-* | sh[24]aeb-* | sh[23]e-* | sh[34]eb-* | sheb-* | shbe-* \\\n-\t| shle-* | sh[1234]le-* | sh3ele-* | sh64-* | sh64le-* \\\n-\t| sparc-* | sparc64-* | sparc64b-* | sparc64v-* | sparc86x-* | sparclet-* \\\n-\t| sparclite-* \\\n-\t| sparcv8-* | sparcv9-* | sparcv9b-* | sparcv9v-* | sv1-* | sx?-* \\\n-\t| tahoe-* \\\n-\t| tic30-* | tic4x-* | tic54x-* | tic55x-* | tic6x-* | tic80-* \\\n-\t| tile*-* \\\n-\t| tron-* \\\n-\t| ubicom32-* \\\n-\t| v850-* | v850e-* | v850e1-* | v850es-* | v850e2-* | v850e2v3-* \\\n-\t| vax-* \\\n-\t| we32k-* \\\n-\t| x86-* | x86_64-* | xc16x-* | xps100-* \\\n-\t| xstormy16-* | xtensa*-* \\\n-\t| ymp-* \\\n-\t| z8k-* | z80-*)\n-\t\t;;\n-\t# Recognize the basic CPU types without company name, with glob match.\n-\txtensa*)\n-\t\tbasic_machine=$basic_machine-unknown\n-\t\t;;\n-\t# Recognize the various machine names and aliases which stand\n-\t# for a CPU type and a company and sometimes even an OS.\n-\t386bsd)\n-\t\tbasic_machine=i386-unknown\n-\t\tos=-bsd\n-\t\t;;\n-\t3b1 | 7300 | 7300-att | att-7300 | pc7300 | safari | unixpc)\n-\t\tbasic_machine=m68000-att\n-\t\t;;\n-\t3b*)\n-\t\tbasic_machine=we32k-att\n-\t\t;;\n-\ta29khif)\n-\t\tbasic_machine=a29k-amd\n-\t\tos=-udi\n-\t\t;;\n-\tabacus)\n-\t\tbasic_machine=abacus-unknown\n-\t\t;;\n-\tadobe68k)\n-\t\tbasic_machine=m68010-adobe\n-\t\tos=-scout\n-\t\t;;\n-\talliant | fx80)\n-\t\tbasic_machine=fx80-alliant\n-\t\t;;\n-\taltos | altos3068)\n-\t\tbasic_machine=m68k-altos\n-\t\t;;\n-\tam29k)\n-\t\tbasic_machine=a29k-none\n-\t\tos=-bsd\n-\t\t;;\n-\tamd64)\n-\t\tbasic_machine=x86_64-pc\n-\t\t;;\n-\tamd64-*)\n-\t\tbasic_machine=x86_64-`echo $basic_machine | sed 's/^[^-]*-//'`\n-\t\t;;\n-\tamdahl)\n-\t\tbasic_machine=580-amdahl\n-\t\tos=-sysv\n-\t\t;;\n-\tamiga | amiga-*)\n-\t\tbasic_machine=m68k-unknown\n-\t\t;;\n-\tamigaos | amigados)\n-\t\tbasic_machine=m68k-unknown\n-\t\tos=-amigaos\n-\t\t;;\n-\tamigaunix | amix)\n-\t\tbasic_machine=m68k-unknown\n-\t\tos=-sysv4\n-\t\t;;\n-\tapollo68)\n-\t\tbasic_machine=m68k-apollo\n-\t\tos=-sysv\n-\t\t;;\n-\tapollo68bsd)\n-\t\tbasic_machine=m68k-apollo\n-\t\tos=-bsd\n-\t\t;;\n-\taros)\n-\t\tbasic_machine=i386-pc\n-\t\tos=-aros\n-\t\t;;\n-\taux)\n-\t\tbasic_machine=m68k-apple\n-\t\tos=-aux\n-\t\t;;\n-\tbalance)\n-\t\tbasic_machine=ns32k-sequent\n-\t\tos=-dynix\n-\t\t;;\n-\tblackfin)\n-\t\tbasic_machine=bfin-unknown\n-\t\tos=-linux\n-\t\t;;\n-\tblackfin-*)\n-\t\tbasic_machine=bfin-`echo $basic_machine | sed 's/^[^-]*-//'`\n-\t\tos=-linux\n-\t\t;;\n-\tbluegene*)\n-\t\tbasic_machine=powerpc-ibm\n-\t\tos=-cnk\n-\t\t;;\n-\tc54x-*)\n-\t\tbasic_machine=tic54x-`echo $basic_machine | sed 's/^[^-]*-//'`\n-\t\t;;\n-\tc55x-*)\n-\t\tbasic_machine=tic55x-`echo $basic_machine | sed 's/^[^-]*-//'`\n-\t\t;;\n-\tc6x-*)\n-\t\tbasic_machine=tic6x-`echo $basic_machine | sed 's/^[^-]*-//'`\n-\t\t;;\n-\tc90)\n-\t\tbasic_machine=c90-cray\n-\t\tos=-unicos\n-\t\t;;\n-\tcegcc)\n-\t\tbasic_machine=arm-unknown\n-\t\tos=-cegcc\n-\t\t;;\n-\tconvex-c1)\n-\t\tbasic_machine=c1-convex\n-\t\tos=-bsd\n-\t\t;;\n-\tconvex-c2)\n-\t\tbasic_machine=c2-convex\n-\t\tos=-bsd\n-\t\t;;\n-\tconvex-c32)\n-\t\tbasic_machine=c32-convex\n-\t\tos=-bsd\n-\t\t;;\n-\tconvex-c34)\n-\t\tbasic_machine=c34-convex\n-\t\tos=-bsd\n-\t\t;;\n-\tconvex-c38)\n-\t\tbasic_machine=c38-convex\n-\t\tos=-bsd\n-\t\t;;\n-\tcray | j90)\n-\t\tbasic_machine=j90-cray\n-\t\tos=-unicos\n-\t\t;;\n-\tcraynv)\n-\t\tbasic_machine=craynv-cray\n-\t\tos=-unicosmp\n-\t\t;;\n-\tcr16 | cr16-*)\n-\t\tbasic_machine=cr16-unknown\n-\t\tos=-elf\n-\t\t;;\n-\tcrds | unos)\n-\t\tbasic_machine=m68k-crds\n-\t\t;;\n-\tcrisv32 | crisv32-* | etraxfs*)\n-\t\tbasic_machine=crisv32-axis\n-\t\t;;\n-\tcris | cris-* | etrax*)\n-\t\tbasic_machine=cris-axis\n-\t\t;;\n-\tcrx)\n-\t\tbasic_machine=crx-unknown\n-\t\tos=-elf\n-\t\t;;\n-\tda30 | da30-*)\n-\t\tbasic_machine=m68k-da30\n-\t\t;;\n-\tdecstation | decstation-3100 | pmax | pmax-* | pmin | dec3100 | decstatn)\n-\t\tbasic_machine=mips-dec\n-\t\t;;\n-\tdecsystem10* | dec10*)\n-\t\tbasic_machine=pdp10-dec\n-\t\tos=-tops10\n-\t\t;;\n-\tdecsystem20* | dec20*)\n-\t\tbasic_machine=pdp10-dec\n-\t\tos=-tops20\n-\t\t;;\n-\tdelta | 3300 | motorola-3300 | motorola-delta \\\n-\t      | 3300-motorola | delta-motorola)\n-\t\tbasic_machine=m68k-motorola\n-\t\t;;\n-\tdelta88)\n-\t\tbasic_machine=m88k-motorola\n-\t\tos=-sysv3\n-\t\t;;\n-\tdicos)\n-\t\tbasic_machine=i686-pc\n-\t\tos=-dicos\n-\t\t;;\n-\tdjgpp)\n-\t\tbasic_machine=i586-pc\n-\t\tos=-msdosdjgpp\n-\t\t;;\n-\tdpx20 | dpx20-*)\n-\t\tbasic_machine=rs6000-bull\n-\t\tos=-bosx\n-\t\t;;\n-\tdpx2* | dpx2*-bull)\n-\t\tbasic_machine=m68k-bull\n-\t\tos=-sysv3\n-\t\t;;\n-\tebmon29k)\n-\t\tbasic_machine=a29k-amd\n-\t\tos=-ebmon\n-\t\t;;\n-\telxsi)\n-\t\tbasic_machine=elxsi-elxsi\n-\t\tos=-bsd\n-\t\t;;\n-\tencore | umax | mmax)\n-\t\tbasic_machine=ns32k-encore\n-\t\t;;\n-\tes1800 | OSE68k | ose68k | ose | OSE)\n-\t\tbasic_machine=m68k-ericsson\n-\t\tos=-ose\n-\t\t;;\n-\tfx2800)\n-\t\tbasic_machine=i860-alliant\n-\t\t;;\n-\tgenix)\n-\t\tbasic_machine=ns32k-ns\n-\t\t;;\n-\tgmicro)\n-\t\tbasic_machine=tron-gmicro\n-\t\tos=-sysv\n-\t\t;;\n-\tgo32)\n-\t\tbasic_machine=i386-pc\n-\t\tos=-go32\n-\t\t;;\n-\th3050r* | hiux*)\n-\t\tbasic_machine=hppa1.1-hitachi\n-\t\tos=-hiuxwe2\n-\t\t;;\n-\th8300hms)\n-\t\tbasic_machine=h8300-hitachi\n-\t\tos=-hms\n-\t\t;;\n-\th8300xray)\n-\t\tbasic_machine=h8300-hitachi\n-\t\tos=-xray\n-\t\t;;\n-\th8500hms)\n-\t\tbasic_machine=h8500-hitachi\n-\t\tos=-hms\n-\t\t;;\n-\tharris)\n-\t\tbasic_machine=m88k-harris\n-\t\tos=-sysv3\n-\t\t;;\n-\thp300-*)\n-\t\tbasic_machine=m68k-hp\n-\t\t;;\n-\thp300bsd)\n-\t\tbasic_machine=m68k-hp\n-\t\tos=-bsd\n-\t\t;;\n-\thp300hpux)\n-\t\tbasic_machine=m68k-hp\n-\t\tos=-hpux\n-\t\t;;\n-\thp3k9[0-9][0-9] | hp9[0-9][0-9])\n-\t\tbasic_machine=hppa1.0-hp\n-\t\t;;\n-\thp9k2[0-9][0-9] | hp9k31[0-9])\n-\t\tbasic_machine=m68000-hp\n-\t\t;;\n-\thp9k3[2-9][0-9])\n-\t\tbasic_machine=m68k-hp\n-\t\t;;\n-\thp9k6[0-9][0-9] | hp6[0-9][0-9])\n-\t\tbasic_machine=hppa1.0-hp\n-\t\t;;\n-\thp9k7[0-79][0-9] | hp7[0-79][0-9])\n-\t\tbasic_machine=hppa1.1-hp\n-\t\t;;\n-\thp9k78[0-9] | hp78[0-9])\n-\t\t# FIXME: really hppa2.0-hp\n-\t\tbasic_machine=hppa1.1-hp\n-\t\t;;\n-\thp9k8[67]1 | hp8[67]1 | hp9k80[24] | hp80[24] | hp9k8[78]9 | hp8[78]9 | hp9k893 | hp893)\n-\t\t# FIXME: really hppa2.0-hp\n-\t\tbasic_machine=hppa1.1-hp\n-\t\t;;\n-\thp9k8[0-9][13679] | hp8[0-9][13679])\n-\t\tbasic_machine=hppa1.1-hp\n-\t\t;;\n-\thp9k8[0-9][0-9] | hp8[0-9][0-9])\n-\t\tbasic_machine=hppa1.0-hp\n-\t\t;;\n-\thppa-next)\n-\t\tos=-nextstep3\n-\t\t;;\n-\thppaosf)\n-\t\tbasic_machine=hppa1.1-hp\n-\t\tos=-osf\n-\t\t;;\n-\thppro)\n-\t\tbasic_machine=hppa1.1-hp\n-\t\tos=-proelf\n-\t\t;;\n-\ti370-ibm* | ibm*)\n-\t\tbasic_machine=i370-ibm\n-\t\t;;\n-\ti*86v32)\n-\t\tbasic_machine=`echo $1 | sed -e 's/86.*/86-pc/'`\n-\t\tos=-sysv32\n-\t\t;;\n-\ti*86v4*)\n-\t\tbasic_machine=`echo $1 | sed -e 's/86.*/86-pc/'`\n-\t\tos=-sysv4\n-\t\t;;\n-\ti*86v)\n-\t\tbasic_machine=`echo $1 | sed -e 's/86.*/86-pc/'`\n-\t\tos=-sysv\n-\t\t;;\n-\ti*86sol2)\n-\t\tbasic_machine=`echo $1 | sed -e 's/86.*/86-pc/'`\n-\t\tos=-solaris2\n-\t\t;;\n-\ti386mach)\n-\t\tbasic_machine=i386-mach\n-\t\tos=-mach\n-\t\t;;\n-\ti386-vsta | vsta)\n-\t\tbasic_machine=i386-unknown\n-\t\tos=-vsta\n-\t\t;;\n-\tiris | iris4d)\n-\t\tbasic_machine=mips-sgi\n-\t\tcase $os in\n-\t\t    -irix*)\n-\t\t\t;;\n-\t\t    *)\n-\t\t\tos=-irix4\n-\t\t\t;;\n-\t\tesac\n-\t\t;;\n-\tisi68 | isi)\n-\t\tbasic_machine=m68k-isi\n-\t\tos=-sysv\n-\t\t;;\n-\tm68knommu)\n-\t\tbasic_machine=m68k-unknown\n-\t\tos=-linux\n-\t\t;;\n-\tm68knommu-*)\n-\t\tbasic_machine=m68k-`echo $basic_machine | sed 's/^[^-]*-//'`\n-\t\tos=-linux\n-\t\t;;\n-\tm88k-omron*)\n-\t\tbasic_machine=m88k-omron\n-\t\t;;\n-\tmagnum | m3230)\n-\t\tbasic_machine=mips-mips\n-\t\tos=-sysv\n-\t\t;;\n-\tmerlin)\n-\t\tbasic_machine=ns32k-utek\n-\t\tos=-sysv\n-\t\t;;\n-\tmicroblaze*)\n-\t\tbasic_machine=microblaze-xilinx\n-\t\t;;\n-\tmingw64)\n-\t\tbasic_machine=x86_64-pc\n-\t\tos=-mingw64\n-\t\t;;\n-\tmingw32)\n-\t\tbasic_machine=i686-pc\n-\t\tos=-mingw32\n-\t\t;;\n-\tmingw32ce)\n-\t\tbasic_machine=arm-unknown\n-\t\tos=-mingw32ce\n-\t\t;;\n-\tminiframe)\n-\t\tbasic_machine=m68000-convergent\n-\t\t;;\n-\t*mint | -mint[0-9]* | *MiNT | *MiNT[0-9]*)\n-\t\tbasic_machine=m68k-atari\n-\t\tos=-mint\n-\t\t;;\n-\tmips3*-*)\n-\t\tbasic_machine=`echo $basic_machine | sed -e 's/mips3/mips64/'`\n-\t\t;;\n-\tmips3*)\n-\t\tbasic_machine=`echo $basic_machine | sed -e 's/mips3/mips64/'`-unknown\n-\t\t;;\n-\tmonitor)\n-\t\tbasic_machine=m68k-rom68k\n-\t\tos=-coff\n-\t\t;;\n-\tmorphos)\n-\t\tbasic_machine=powerpc-unknown\n-\t\tos=-morphos\n-\t\t;;\n-\tmsdos)\n-\t\tbasic_machine=i386-pc\n-\t\tos=-msdos\n-\t\t;;\n-\tms1-*)\n-\t\tbasic_machine=`echo $basic_machine | sed -e 's/ms1-/mt-/'`\n-\t\t;;\n-\tmsys)\n-\t\tbasic_machine=i686-pc\n-\t\tos=-msys\n-\t\t;;\n-\tmvs)\n-\t\tbasic_machine=i370-ibm\n-\t\tos=-mvs\n-\t\t;;\n-\tnacl)\n-\t\tbasic_machine=le32-unknown\n-\t\tos=-nacl\n-\t\t;;\n-\tncr3000)\n-\t\tbasic_machine=i486-ncr\n-\t\tos=-sysv4\n-\t\t;;\n-\tnetbsd386)\n-\t\tbasic_machine=i386-unknown\n-\t\tos=-netbsd\n-\t\t;;\n-\tnetwinder)\n-\t\tbasic_machine=armv4l-rebel\n-\t\tos=-linux\n-\t\t;;\n-\tnews | news700 | news800 | news900)\n-\t\tbasic_machine=m68k-sony\n-\t\tos=-newsos\n-\t\t;;\n-\tnews1000)\n-\t\tbasic_machine=m68030-sony\n-\t\tos=-newsos\n-\t\t;;\n-\tnews-3600 | risc-news)\n-\t\tbasic_machine=mips-sony\n-\t\tos=-newsos\n-\t\t;;\n-\tnecv70)\n-\t\tbasic_machine=v70-nec\n-\t\tos=-sysv\n-\t\t;;\n-\tnext | m*-next )\n-\t\tbasic_machine=m68k-next\n-\t\tcase $os in\n-\t\t    -nextstep* )\n-\t\t\t;;\n-\t\t    -ns2*)\n-\t\t      os=-nextstep2\n-\t\t\t;;\n-\t\t    *)\n-\t\t      os=-nextstep3\n-\t\t\t;;\n-\t\tesac\n-\t\t;;\n-\tnh3000)\n-\t\tbasic_machine=m68k-harris\n-\t\tos=-cxux\n-\t\t;;\n-\tnh[45]000)\n-\t\tbasic_machine=m88k-harris\n-\t\tos=-cxux\n-\t\t;;\n-\tnindy960)\n-\t\tbasic_machine=i960-intel\n-\t\tos=-nindy\n-\t\t;;\n-\tmon960)\n-\t\tbasic_machine=i960-intel\n-\t\tos=-mon960\n-\t\t;;\n-\tnonstopux)\n-\t\tbasic_machine=mips-compaq\n-\t\tos=-nonstopux\n-\t\t;;\n-\tnp1)\n-\t\tbasic_machine=np1-gould\n-\t\t;;\n-\tneo-tandem)\n-\t\tbasic_machine=neo-tandem\n-\t\t;;\n-\tnse-tandem)\n-\t\tbasic_machine=nse-tandem\n-\t\t;;\n-\tnsr-tandem)\n-\t\tbasic_machine=nsr-tandem\n-\t\t;;\n-\top50n-* | op60c-*)\n-\t\tbasic_machine=hppa1.1-oki\n-\t\tos=-proelf\n-\t\t;;\n-\topenrisc | openrisc-*)\n-\t\tbasic_machine=or32-unknown\n-\t\t;;\n-\tos400)\n-\t\tbasic_machine=powerpc-ibm\n-\t\tos=-os400\n-\t\t;;\n-\tOSE68000 | ose68000)\n-\t\tbasic_machine=m68000-ericsson\n-\t\tos=-ose\n-\t\t;;\n-\tos68k)\n-\t\tbasic_machine=m68k-none\n-\t\tos=-os68k\n-\t\t;;\n-\tpa-hitachi)\n-\t\tbasic_machine=hppa1.1-hitachi\n-\t\tos=-hiuxwe2\n-\t\t;;\n-\tparagon)\n-\t\tbasic_machine=i860-intel\n-\t\tos=-osf\n-\t\t;;\n-\tparisc)\n-\t\tbasic_machine=hppa-unknown\n-\t\tos=-linux\n-\t\t;;\n-\tparisc-*)\n-\t\tbasic_machine=hppa-`echo $basic_machine | sed 's/^[^-]*-//'`\n-\t\tos=-linux\n-\t\t;;\n-\tpbd)\n-\t\tbasic_machine=sparc-tti\n-\t\t;;\n-\tpbb)\n-\t\tbasic_machine=m68k-tti\n-\t\t;;\n-\tpc532 | pc532-*)\n-\t\tbasic_machine=ns32k-pc532\n-\t\t;;\n-\tpc98)\n-\t\tbasic_machine=i386-pc\n-\t\t;;\n-\tpc98-*)\n-\t\tbasic_machine=i386-`echo $basic_machine | sed 's/^[^-]*-//'`\n-\t\t;;\n-\tpentium | p5 | k5 | k6 | nexgen | viac3)\n-\t\tbasic_machine=i586-pc\n-\t\t;;\n-\tpentiumpro | p6 | 6x86 | athlon | athlon_*)\n-\t\tbasic_machine=i686-pc\n-\t\t;;\n-\tpentiumii | pentium2 | pentiumiii | pentium3)\n-\t\tbasic_machine=i686-pc\n-\t\t;;\n-\tpentium4)\n-\t\tbasic_machine=i786-pc\n-\t\t;;\n-\tpentium-* | p5-* | k5-* | k6-* | nexgen-* | viac3-*)\n-\t\tbasic_machine=i586-`echo $basic_machine | sed 's/^[^-]*-//'`\n-\t\t;;\n-\tpentiumpro-* | p6-* | 6x86-* | athlon-*)\n-\t\tbasic_machine=i686-`echo $basic_machine | sed 's/^[^-]*-//'`\n-\t\t;;\n-\tpentiumii-* | pentium2-* | pentiumiii-* | pentium3-*)\n-\t\tbasic_machine=i686-`echo $basic_machine | sed 's/^[^-]*-//'`\n-\t\t;;\n-\tpentium4-*)\n-\t\tbasic_machine=i786-`echo $basic_machine | sed 's/^[^-]*-//'`\n-\t\t;;\n-\tpn)\n-\t\tbasic_machine=pn-gould\n-\t\t;;\n-\tpower)\tbasic_machine=power-ibm\n-\t\t;;\n-\tppc | ppcbe)\tbasic_machine=powerpc-unknown\n-\t\t;;\n-\tppc-* | ppcbe-*)\n-\t\tbasic_machine=powerpc-`echo $basic_machine | sed 's/^[^-]*-//'`\n-\t\t;;\n-\tppcle | powerpclittle | ppc-le | powerpc-little)\n-\t\tbasic_machine=powerpcle-unknown\n-\t\t;;\n-\tppcle-* | powerpclittle-*)\n-\t\tbasic_machine=powerpcle-`echo $basic_machine | sed 's/^[^-]*-//'`\n-\t\t;;\n-\tppc64)\tbasic_machine=powerpc64-unknown\n-\t\t;;\n-\tppc64-*) basic_machine=powerpc64-`echo $basic_machine | sed 's/^[^-]*-//'`\n-\t\t;;\n-\tppc64le | powerpc64little | ppc64-le | powerpc64-little)\n-\t\tbasic_machine=powerpc64le-unknown\n-\t\t;;\n-\tppc64le-* | powerpc64little-*)\n-\t\tbasic_machine=powerpc64le-`echo $basic_machine | sed 's/^[^-]*-//'`\n-\t\t;;\n-\tps2)\n-\t\tbasic_machine=i386-ibm\n-\t\t;;\n-\tpw32)\n-\t\tbasic_machine=i586-unknown\n-\t\tos=-pw32\n-\t\t;;\n-\trdos | rdos64)\n-\t\tbasic_machine=x86_64-pc\n-\t\tos=-rdos\n-\t\t;;\n-\trdos32)\n-\t\tbasic_machine=i386-pc\n-\t\tos=-rdos\n-\t\t;;\n-\trom68k)\n-\t\tbasic_machine=m68k-rom68k\n-\t\tos=-coff\n-\t\t;;\n-\trm[46]00)\n-\t\tbasic_machine=mips-siemens\n-\t\t;;\n-\trtpc | rtpc-*)\n-\t\tbasic_machine=romp-ibm\n-\t\t;;\n-\ts390 | s390-*)\n-\t\tbasic_machine=s390-ibm\n-\t\t;;\n-\ts390x | s390x-*)\n-\t\tbasic_machine=s390x-ibm\n-\t\t;;\n-\tsa29200)\n-\t\tbasic_machine=a29k-amd\n-\t\tos=-udi\n-\t\t;;\n-\tsb1)\n-\t\tbasic_machine=mipsisa64sb1-unknown\n-\t\t;;\n-\tsb1el)\n-\t\tbasic_machine=mipsisa64sb1el-unknown\n-\t\t;;\n-\tsde)\n-\t\tbasic_machine=mipsisa32-sde\n-\t\tos=-elf\n-\t\t;;\n-\tsei)\n-\t\tbasic_machine=mips-sei\n-\t\tos=-seiux\n-\t\t;;\n-\tsequent)\n-\t\tbasic_machine=i386-sequent\n-\t\t;;\n-\tsh)\n-\t\tbasic_machine=sh-hitachi\n-\t\tos=-hms\n-\t\t;;\n-\tsh5el)\n-\t\tbasic_machine=sh5le-unknown\n-\t\t;;\n-\tsh64)\n-\t\tbasic_machine=sh64-unknown\n-\t\t;;\n-\tsparclite-wrs | simso-wrs)\n-\t\tbasic_machine=sparclite-wrs\n-\t\tos=-vxworks\n-\t\t;;\n-\tsps7)\n-\t\tbasic_machine=m68k-bull\n-\t\tos=-sysv2\n-\t\t;;\n-\tspur)\n-\t\tbasic_machine=spur-unknown\n-\t\t;;\n-\tst2000)\n-\t\tbasic_machine=m68k-tandem\n-\t\t;;\n-\tstratus)\n-\t\tbasic_machine=i860-stratus\n-\t\tos=-sysv4\n-\t\t;;\n-\tstrongarm-* | thumb-*)\n-\t\tbasic_machine=arm-`echo $basic_machine | sed 's/^[^-]*-//'`\n-\t\t;;\n-\tsun2)\n-\t\tbasic_machine=m68000-sun\n-\t\t;;\n-\tsun2os3)\n-\t\tbasic_machine=m68000-sun\n-\t\tos=-sunos3\n-\t\t;;\n-\tsun2os4)\n-\t\tbasic_machine=m68000-sun\n-\t\tos=-sunos4\n-\t\t;;\n-\tsun3os3)\n-\t\tbasic_machine=m68k-sun\n-\t\tos=-sunos3\n-\t\t;;\n-\tsun3os4)\n-\t\tbasic_machine=m68k-sun\n-\t\tos=-sunos4\n-\t\t;;\n-\tsun4os3)\n-\t\tbasic_machine=sparc-sun\n-\t\tos=-sunos3\n-\t\t;;\n-\tsun4os4)\n-\t\tbasic_machine=sparc-sun\n-\t\tos=-sunos4\n-\t\t;;\n-\tsun4sol2)\n-\t\tbasic_machine=sparc-sun\n-\t\tos=-solaris2\n-\t\t;;\n-\tsun3 | sun3-*)\n-\t\tbasic_machine=m68k-sun\n-\t\t;;\n-\tsun4)\n-\t\tbasic_machine=sparc-sun\n-\t\t;;\n-\tsun386 | sun386i | roadrunner)\n-\t\tbasic_machine=i386-sun\n-\t\t;;\n-\tsv1)\n-\t\tbasic_machine=sv1-cray\n-\t\tos=-unicos\n-\t\t;;\n-\tsymmetry)\n-\t\tbasic_machine=i386-sequent\n-\t\tos=-dynix\n-\t\t;;\n-\tt3e)\n-\t\tbasic_machine=alphaev5-cray\n-\t\tos=-unicos\n-\t\t;;\n-\tt90)\n-\t\tbasic_machine=t90-cray\n-\t\tos=-unicos\n-\t\t;;\n-\ttile*)\n-\t\tbasic_machine=$basic_machine-unknown\n-\t\tos=-linux-gnu\n-\t\t;;\n-\ttx39)\n-\t\tbasic_machine=mipstx39-unknown\n-\t\t;;\n-\ttx39el)\n-\t\tbasic_machine=mipstx39el-unknown\n-\t\t;;\n-\ttoad1)\n-\t\tbasic_machine=pdp10-xkl\n-\t\tos=-tops20\n-\t\t;;\n-\ttower | tower-32)\n-\t\tbasic_machine=m68k-ncr\n-\t\t;;\n-\ttpf)\n-\t\tbasic_machine=s390x-ibm\n-\t\tos=-tpf\n-\t\t;;\n-\tudi29k)\n-\t\tbasic_machine=a29k-amd\n-\t\tos=-udi\n-\t\t;;\n-\tultra3)\n-\t\tbasic_machine=a29k-nyu\n-\t\tos=-sym1\n-\t\t;;\n-\tv810 | necv810)\n-\t\tbasic_machine=v810-nec\n-\t\tos=-none\n-\t\t;;\n-\tvaxv)\n-\t\tbasic_machine=vax-dec\n-\t\tos=-sysv\n-\t\t;;\n-\tvms)\n-\t\tbasic_machine=vax-dec\n-\t\tos=-vms\n-\t\t;;\n-\tvpp*|vx|vx-*)\n-\t\tbasic_machine=f301-fujitsu\n-\t\t;;\n-\tvxworks960)\n-\t\tbasic_machine=i960-wrs\n-\t\tos=-vxworks\n-\t\t;;\n-\tvxworks68)\n-\t\tbasic_machine=m68k-wrs\n-\t\tos=-vxworks\n-\t\t;;\n-\tvxworks29k)\n-\t\tbasic_machine=a29k-wrs\n-\t\tos=-vxworks\n-\t\t;;\n-\tw65*)\n-\t\tbasic_machine=w65-wdc\n-\t\tos=-none\n-\t\t;;\n-\tw89k-*)\n-\t\tbasic_machine=hppa1.1-winbond\n-\t\tos=-proelf\n-\t\t;;\n-\txbox)\n-\t\tbasic_machine=i686-pc\n-\t\tos=-mingw32\n-\t\t;;\n-\txps | xps100)\n-\t\tbasic_machine=xps100-honeywell\n-\t\t;;\n-\txscale-* | xscalee[bl]-*)\n-\t\tbasic_machine=`echo $basic_machine | sed 's/^xscale/arm/'`\n-\t\t;;\n-\tymp)\n-\t\tbasic_machine=ymp-cray\n-\t\tos=-unicos\n-\t\t;;\n-\tz8k-*-coff)\n-\t\tbasic_machine=z8k-unknown\n-\t\tos=-sim\n-\t\t;;\n-\tz80-*-coff)\n-\t\tbasic_machine=z80-unknown\n-\t\tos=-sim\n-\t\t;;\n-\tnone)\n-\t\tbasic_machine=none-none\n-\t\tos=-none\n-\t\t;;\n-\n-# Here we handle the default manufacturer of certain CPU types.  It is in\n-# some cases the only manufacturer, in others, it is the most popular.\n-\tw89k)\n-\t\tbasic_machine=hppa1.1-winbond\n-\t\t;;\n-\top50n)\n-\t\tbasic_machine=hppa1.1-oki\n-\t\t;;\n-\top60c)\n-\t\tbasic_machine=hppa1.1-oki\n-\t\t;;\n-\tromp)\n-\t\tbasic_machine=romp-ibm\n-\t\t;;\n-\tmmix)\n-\t\tbasic_machine=mmix-knuth\n-\t\t;;\n-\trs6000)\n-\t\tbasic_machine=rs6000-ibm\n-\t\t;;\n-\tvax)\n-\t\tbasic_machine=vax-dec\n-\t\t;;\n-\tpdp10)\n-\t\t# there are many clones, so DEC is not a safe bet\n-\t\tbasic_machine=pdp10-unknown\n-\t\t;;\n-\tpdp11)\n-\t\tbasic_machine=pdp11-dec\n-\t\t;;\n-\twe32k)\n-\t\tbasic_machine=we32k-att\n-\t\t;;\n-\tsh[1234] | sh[24]a | sh[24]aeb | sh[34]eb | sh[1234]le | sh[23]ele)\n-\t\tbasic_machine=sh-unknown\n-\t\t;;\n-\tsparc | sparcv8 | sparcv9 | sparcv9b | sparcv9v)\n-\t\tbasic_machine=sparc-sun\n-\t\t;;\n-\tcydra)\n-\t\tbasic_machine=cydra-cydrome\n-\t\t;;\n-\torion)\n-\t\tbasic_machine=orion-highlevel\n-\t\t;;\n-\torion105)\n-\t\tbasic_machine=clipper-highlevel\n-\t\t;;\n-\tmac | mpw | mac-mpw)\n-\t\tbasic_machine=m68k-apple\n-\t\t;;\n-\tpmac | pmac-mpw)\n-\t\tbasic_machine=powerpc-apple\n-\t\t;;\n-\t*-unknown)\n-\t\t# Make sure to match an already-canonicalized machine name.\n-\t\t;;\n-\t*)\n-\t\techo Invalid configuration \\`$1\\': machine \\`$basic_machine\\' not recognized 1>&2\n-\t\texit 1\n-\t\t;;\n-esac\n-\n-# Here we canonicalize certain aliases for manufacturers.\n-case $basic_machine in\n-\t*-digital*)\n-\t\tbasic_machine=`echo $basic_machine | sed 's/digital.*/dec/'`\n-\t\t;;\n-\t*-commodore*)\n-\t\tbasic_machine=`echo $basic_machine | sed 's/commodore.*/cbm/'`\n-\t\t;;\n-\t*)\n-\t\t;;\n-esac\n-\n-# Decode manufacturer-specific aliases for certain operating systems.\n-\n-if [ x\""$os\"" != x\""\"" ]\n-then\n-case $os in\n-\t# First match some system type aliases\n-\t# that might get confused with valid system types.\n-\t# -solaris* is a basic system type, with this one exception.\n-\t-auroraux)\n-\t\tos=-auroraux\n-\t\t;;\n-\t-solaris1 | -solaris1.*)\n-\t\tos=`echo $os | sed -e 's|solaris1|sunos4|'`\n-\t\t;;\n-\t-solaris)\n-\t\tos=-solaris2\n-\t\t;;\n-\t-svr4*)\n-\t\tos=-sysv4\n-\t\t;;\n-\t-unixware*)\n-\t\tos=-sysv4.2uw\n-\t\t;;\n-\t-gnu/linux*)\n-\t\tos=`echo $os | sed -e 's|gnu/linux|linux-gnu|'`\n-\t\t;;\n-\t# First accept the basic system types.\n-\t# The portable systems comes first.\n-\t# Each alternative MUST END IN A *, to match a version number.\n-\t# -sysv* is not here because it comes later, after sysvr4.\n-\t-gnu* | -bsd* | -mach* | -minix* | -genix* | -ultrix* | -irix* \\\n-\t      | -*vms* | -sco* | -esix* | -isc* | -aix* | -cnk* | -sunos | -sunos[34]*\\\n-\t      | -hpux* | -unos* | -osf* | -luna* | -dgux* | -auroraux* | -solaris* \\\n-\t      | -sym* | -kopensolaris* | -plan9* \\\n-\t      | -amigaos* | -amigados* | -msdos* | -newsos* | -unicos* | -aof* \\\n-\t      | -aos* | -aros* \\\n-\t      | -nindy* | -vxsim* | -vxworks* | -ebmon* | -hms* | -mvs* \\\n-\t      | -clix* | -riscos* | -uniplus* | -iris* | -rtu* | -xenix* \\\n-\t      | -hiux* | -386bsd* | -knetbsd* | -mirbsd* | -netbsd* \\\n-\t      | -bitrig* | -openbsd* | -solidbsd* \\\n-\t      | -ekkobsd* | -kfreebsd* | -freebsd* | -riscix* | -lynxos* \\\n-\t      | -bosx* | -nextstep* | -cxux* | -aout* | -elf* | -oabi* \\\n-\t      | -ptx* | -coff* | -ecoff* | -winnt* | -domain* | -vsta* \\\n-\t      | -udi* | -eabi* | -lites* | -ieee* | -go32* | -aux* \\\n-\t      | -chorusos* | -chorusrdb* | -cegcc* \\\n-\t      | -cygwin* | -msys* | -pe* | -psos* | -moss* | -proelf* | -rtems* \\\n-\t      | -mingw32* | -mingw64* | -linux-gnu* | -linux-android* \\\n-\t      | -linux-newlib* | -linux-musl* | -linux-uclibc* \\\n-\t      | -uxpv* | -beos* | -mpeix* | -udk* \\\n-\t      | -interix* | -uwin* | -mks* | -rhapsody* | -darwin* | -opened* \\\n-\t      | -openstep* | -oskit* | -conix* | -pw32* | -nonstopux* \\\n-\t      | -storm-chaos* | -tops10* | -tenex* | -tops20* | -its* \\\n-\t      | -os2* | -vos* | -palmos* | -uclinux* | -nucleus* \\\n-\t      | -morphos* | -superux* | -rtmk* | -rtmk-nova* | -windiss* \\\n-\t      | -powermax* | -dnix* | -nx6 | -nx7 | -sei* | -dragonfly* \\\n-\t      | -skyos* | -haiku* | -rdos* | -toppers* | -drops* | -es*)\n-\t# Remember, each alternative MUST END IN *, to match a version number.\n-\t\t;;\n-\t-qnx*)\n-\t\tcase $basic_machine in\n-\t\t    x86-* | i*86-*)\n-\t\t\t;;\n-\t\t    *)\n-\t\t\tos=-nto$os\n-\t\t\t;;\n-\t\tesac\n-\t\t;;\n-\t-nto-qnx*)\n-\t\t;;\n-\t-nto*)\n-\t\tos=`echo $os | sed -e 's|nto|nto-qnx|'`\n-\t\t;;\n-\t-sim | -es1800* | -hms* | -xray | -os68k* | -none* | -v88r* \\\n-\t      | -windows* | -osx | -abug | -netware* | -os9* | -beos* | -haiku* \\\n-\t      | -macos* | -mpw* | -magic* | -mmixware* | -mon960* | -lnews*)\n-\t\t;;\n-\t-mac*)\n-\t\tos=`echo $os | sed -e 's|mac|macos|'`\n-\t\t;;\n-\t-linux-dietlibc)\n-\t\tos=-linux-dietlibc\n-\t\t;;\n-\t-linux*)\n-\t\tos=`echo $os | sed -e 's|linux|linux-gnu|'`\n-\t\t;;\n-\t-sunos5*)\n-\t\tos=`echo $os | sed -e 's|sunos5|solaris2|'`\n-\t\t;;\n-\t-sunos6*)\n-\t\tos=`echo $os | sed -e 's|sunos6|solaris3|'`\n-\t\t;;\n-\t-opened*)\n-\t\tos=-openedition\n-\t\t;;\n-\t-os400*)\n-\t\tos=-os400\n-\t\t;;\n-\t-wince*)\n-\t\tos=-wince\n-\t\t;;\n-\t-osfrose*)\n-\t\tos=-osfrose\n-\t\t;;\n-\t-osf*)\n-\t\tos=-osf\n-\t\t;;\n-\t-utek*)\n-\t\tos=-bsd\n-\t\t;;\n-\t-dynix*)\n-\t\tos=-bsd\n-\t\t;;\n-\t-acis*)\n-\t\tos=-aos\n-\t\t;;\n-\t-atheos*)\n-\t\tos=-atheos\n-\t\t;;\n-\t-syllable*)\n-\t\tos=-syllable\n-\t\t;;\n-\t-386bsd)\n-\t\tos=-bsd\n-\t\t;;\n-\t-ctix* | -uts*)\n-\t\tos=-sysv\n-\t\t;;\n-\t-nova*)\n-\t\tos=-rtmk-nova\n-\t\t;;\n-\t-ns2 )\n-\t\tos=-nextstep2\n-\t\t;;\n-\t-nsk*)\n-\t\tos=-nsk\n-\t\t;;\n-\t# Preserve the version number of sinix5.\n-\t-sinix5.*)\n-\t\tos=`echo $os | sed -e 's|sinix|sysv|'`\n-\t\t;;\n-\t-sinix*)\n-\t\tos=-sysv4\n-\t\t;;\n-\t-tpf*)\n-\t\tos=-tpf\n-\t\t;;\n-\t-triton*)\n-\t\tos=-sysv3\n-\t\t;;\n-\t-oss*)\n-\t\tos=-sysv3\n-\t\t;;\n-\t-svr4)\n-\t\tos=-sysv4\n-\t\t;;\n-\t-svr3)\n-\t\tos=-sysv3\n-\t\t;;\n-\t-sysvr4)\n-\t\tos=-sysv4\n-\t\t;;\n-\t# This must come after -sysvr4.\n-\t-sysv*)\n-\t\t;;\n-\t-ose*)\n-\t\tos=-ose\n-\t\t;;\n-\t-es1800*)\n-\t\tos=-ose\n-\t\t;;\n-\t-xenix)\n-\t\tos=-xenix\n-\t\t;;\n-\t-*mint | -mint[0-9]* | -*MiNT | -MiNT[0-9]*)\n-\t\tos=-mint\n-\t\t;;\n-\t-aros*)\n-\t\tos=-aros\n-\t\t;;\n-\t-zvmoe)\n-\t\tos=-zvmoe\n-\t\t;;\n-\t-dicos*)\n-\t\tos=-dicos\n-\t\t;;\n-\t-nacl*)\n-\t\t;;\n-\t-none)\n-\t\t;;\n-\t*)\n-\t\t# Get rid of the `-' at the beginning of $os.\n-\t\tos=`echo $os | sed 's/[^-]*-//'`\n-\t\techo Invalid configuration \\`$1\\': system \\`$os\\' not recognized 1>&2\n-\t\texit 1\n-\t\t;;\n-esac\n-else\n-\n-# Here we handle the default operating systems that come with various machines.\n-# The value should be what the vendor currently ships out the door with their\n-# machine or put another way, the most popular os provided with the machine.\n-\n-# Note that if you're going to try to match \""-MANUFACTURER\"" here (say,\n-# \""-sun\""), then you have to tell the case statement up towards the top\n-# that MANUFACTURER isn't an operating system.  Otherwise, code above\n-# will signal an error saying that MANUFACTURER isn't an operating\n-# system, and we'll never get to this point.\n-\n-case $basic_machine in\n-\tscore-*)\n-\t\tos=-elf\n-\t\t;;\n-\tspu-*)\n-\t\tos=-elf\n-\t\t;;\n-\t*-acorn)\n-\t\tos=-riscix1.2\n-\t\t;;\n-\tarm*-rebel)\n-\t\tos=-linux\n-\t\t;;\n-\tarm*-semi)\n-\t\tos=-aout\n-\t\t;;\n-\tc4x-* | tic4x-*)\n-\t\tos=-coff\n-\t\t;;\n-\tc8051-*)\n-\t\tos=-elf\n-\t\t;;\n-\thexagon-*)\n-\t\tos=-elf\n-\t\t;;\n-\ttic54x-*)\n-\t\tos=-coff\n-\t\t;;\n-\ttic55x-*)\n-\t\tos=-coff\n-\t\t;;\n-\ttic6x-*)\n-\t\tos=-coff\n-\t\t;;\n-\t# This must come before the *-dec entry.\n-\tpdp10-*)\n-\t\tos=-tops20\n-\t\t;;\n-\tpdp11-*)\n-\t\tos=-none\n-\t\t;;\n-\t*-dec | vax-*)\n-\t\tos=-ultrix4.2\n-\t\t;;\n-\tm68*-apollo)\n-\t\tos=-domain\n-\t\t;;\n-\ti386-sun)\n-\t\tos=-sunos4.0.2\n-\t\t;;\n-\tm68000-sun)\n-\t\tos=-sunos3\n-\t\t;;\n-\tm68*-cisco)\n-\t\tos=-aout\n-\t\t;;\n-\tmep-*)\n-\t\tos=-elf\n-\t\t;;\n-\tmips*-cisco)\n-\t\tos=-elf\n-\t\t;;\n-\tmips*-*)\n-\t\tos=-elf\n-\t\t;;\n-\tor1k-*)\n-\t\tos=-elf\n-\t\t;;\n-\tor32-*)\n-\t\tos=-coff\n-\t\t;;\n-\t*-tti)\t# must be before sparc entry or we get the wrong os.\n-\t\tos=-sysv3\n-\t\t;;\n-\tsparc-* | *-sun)\n-\t\tos=-sunos4.1.1\n-\t\t;;\n-\t*-be)\n-\t\tos=-beos\n-\t\t;;\n-\t*-haiku)\n-\t\tos=-haiku\n-\t\t;;\n-\t*-ibm)\n-\t\tos=-aix\n-\t\t;;\n-\t*-knuth)\n-\t\tos=-mmixware\n-\t\t;;\n-\t*-wec)\n-\t\tos=-proelf\n-\t\t;;\n-\t*-winbond)\n-\t\tos=-proelf\n-\t\t;;\n-\t*-oki)\n-\t\tos=-proelf\n-\t\t;;\n-\t*-hp)\n-\t\tos=-hpux\n-\t\t;;\n-\t*-hitachi)\n-\t\tos=-hiux\n-\t\t;;\n-\ti860-* | *-att | *-ncr | *-altos | *-motorola | *-convergent)\n-\t\tos=-sysv\n-\t\t;;\n-\t*-cbm)\n-\t\tos=-amigaos\n-\t\t;;\n-\t*-dg)\n-\t\tos=-dgux\n-\t\t;;\n-\t*-dolphin)\n-\t\tos=-sysv3\n-\t\t;;\n-\tm68k-ccur)\n-\t\tos=-rtu\n-\t\t;;\n-\tm88k-omron*)\n-\t\tos=-luna\n-\t\t;;\n-\t*-next )\n-\t\tos=-nextstep\n-\t\t;;\n-\t*-sequent)\n-\t\tos=-ptx\n-\t\t;;\n-\t*-crds)\n-\t\tos=-unos\n-\t\t;;\n-\t*-ns)\n-\t\tos=-genix\n-\t\t;;\n-\ti370-*)\n-\t\tos=-mvs\n-\t\t;;\n-\t*-next)\n-\t\tos=-nextstep3\n-\t\t;;\n-\t*-gould)\n-\t\tos=-sysv\n-\t\t;;\n-\t*-highlevel)\n-\t\tos=-bsd\n-\t\t;;\n-\t*-encore)\n-\t\tos=-bsd\n-\t\t;;\n-\t*-sgi)\n-\t\tos=-irix\n-\t\t;;\n-\t*-siemens)\n-\t\tos=-sysv4\n-\t\t;;\n-\t*-masscomp)\n-\t\tos=-rtu\n-\t\t;;\n-\tf30[01]-fujitsu | f700-fujitsu)\n-\t\tos=-uxpv\n-\t\t;;\n-\t*-rom68k)\n-\t\tos=-coff\n-\t\t;;\n-\t*-*bug)\n-\t\tos=-coff\n-\t\t;;\n-\t*-apple)\n-\t\tos=-macos\n-\t\t;;\n-\t*-atari*)\n-\t\tos=-mint\n-\t\t;;\n-\t*)\n-\t\tos=-none\n-\t\t;;\n-esac\n-fi\n-\n-# Here we handle the case where we know the os, and the CPU type, but not the\n-# manufacturer.  We pick the logical manufacturer.\n-vendor=unknown\n-case $basic_machine in\n-\t*-unknown)\n-\t\tcase $os in\n-\t\t\t-riscix*)\n-\t\t\t\tvendor=acorn\n-\t\t\t\t;;\n-\t\t\t-sunos*)\n-\t\t\t\tvendor=sun\n-\t\t\t\t;;\n-\t\t\t-cnk*|-aix*)\n-\t\t\t\tvendor=ibm\n-\t\t\t\t;;\n-\t\t\t-beos*)\n-\t\t\t\tvendor=be\n-\t\t\t\t;;\n-\t\t\t-hpux*)\n-\t\t\t\tvendor=hp\n-\t\t\t\t;;\n-\t\t\t-mpeix*)\n-\t\t\t\tvendor=hp\n-\t\t\t\t;;\n-\t\t\t-hiux*)\n-\t\t\t\tvendor=hitachi\n-\t\t\t\t;;\n-\t\t\t-unos*)\n-\t\t\t\tvendor=crds\n-\t\t\t\t;;\n-\t\t\t-dgux*)\n-\t\t\t\tvendor=dg\n-\t\t\t\t;;\n-\t\t\t-luna*)\n-\t\t\t\tvendor=omron\n-\t\t\t\t;;\n-\t\t\t-genix*)\n-\t\t\t\tvendor=ns\n-\t\t\t\t;;\n-\t\t\t-mvs* | -opened*)\n-\t\t\t\tvendor=ibm\n-\t\t\t\t;;\n-\t\t\t-os400*)\n-\t\t\t\tvendor=ibm\n-\t\t\t\t;;\n-\t\t\t-ptx*)\n-\t\t\t\tvendor=sequent\n-\t\t\t\t;;\n-\t\t\t-tpf*)\n-\t\t\t\tvendor=ibm\n-\t\t\t\t;;\n-\t\t\t-vxsim* | -vxworks* | -windiss*)\n-\t\t\t\tvendor=wrs\n-\t\t\t\t;;\n-\t\t\t-aux*)\n-\t\t\t\tvendor=apple\n-\t\t\t\t;;\n-\t\t\t-hms*)\n-\t\t\t\tvendor=hitachi\n-\t\t\t\t;;\n-\t\t\t-mpw* | -macos*)\n-\t\t\t\tvendor=apple\n-\t\t\t\t;;\n-\t\t\t-*mint | -mint[0-9]* | -*MiNT | -MiNT[0-9]*)\n-\t\t\t\tvendor=atari\n-\t\t\t\t;;\n-\t\t\t-vos*)\n-\t\t\t\tvendor=stratus\n-\t\t\t\t;;\n-\t\tesac\n-\t\tbasic_machine=`echo $basic_machine | sed \""s/unknown/$vendor/\""`\n-\t\t;;\n-esac\n-\n-echo $basic_machine$os\n-exit\n-\n-# Local variables:\n-# eval: (add-hook 'write-file-hooks 'time-stamp)\n-# time-stamp-start: \""timestamp='\""\n-# time-stamp-format: \""%:y-%02m-%02d\""\n-# time-stamp-end: \""'\""\n-# End:\n""}<_**next**_>{""filename"": ""configure"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca%5E/configure"", ""patch"": ""@@ -1,15397 +0,0 @@\n\n-#! /bin/sh\n-# Guess values for system-dependent variables and create Makefiles.\n-# Generated by GNU Autoconf 2.69 for libpng 1.6.10.\n-#\n-# Report bugs to <png-mng-implement@lists.sourceforge.net>.\n-#\n-#\n-# Copyright (C) 1992-1996, 1998-2012 Free Software Foundation, Inc.\n-#\n-#\n-# This configure script is free software; the Free Software Foundation\n-# gives unlimited permission to copy, distribute and modify it.\n-## -------------------- ##\n-## M4sh Initialization. ##\n-## -------------------- ##\n-\n-# Be more Bourne compatible\n-DUALCASE=1; export DUALCASE # for MKS sh\n-if test -n \""${ZSH_VERSION+set}\"" && (emulate sh) >/dev/null 2>&1; then :\n-  emulate sh\n-  NULLCMD=:\n-  # Pre-4.2 versions of Zsh do word splitting on ${1+\""$@\""}, which\n-  # is contrary to our usage.  Disable this feature.\n-  alias -g '${1+\""$@\""}'='\""$@\""'\n-  setopt NO_GLOB_SUBST\n-else\n-  case `(set -o) 2>/dev/null` in #(\n-  *posix*) :\n-    set -o posix ;; #(\n-  *) :\n-     ;;\n-esac\n-fi\n-\n-\n-as_nl='\n-'\n-export as_nl\n-# Printing a long string crashes Solaris 7 /usr/bin/printf.\n-as_echo='\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\'\n-as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo\n-as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo$as_echo\n-# Prefer a ksh shell builtin over an external printf program on Solaris,\n-# but without wasting forks for bash or zsh.\n-if test -z \""$BASH_VERSION$ZSH_VERSION\"" \\\n-    && (test \""X`print -r -- $as_echo`\"" = \""X$as_echo\"") 2>/dev/null; then\n-  as_echo='print -r --'\n-  as_echo_n='print -rn --'\n-elif (test \""X`printf %s $as_echo`\"" = \""X$as_echo\"") 2>/dev/null; then\n-  as_echo='printf %s\\n'\n-  as_echo_n='printf %s'\n-else\n-  if test \""X`(/usr/ucb/echo -n -n $as_echo) 2>/dev/null`\"" = \""X-n $as_echo\""; then\n-    as_echo_body='eval /usr/ucb/echo -n \""$1$as_nl\""'\n-    as_echo_n='/usr/ucb/echo -n'\n-  else\n-    as_echo_body='eval expr \""X$1\"" : \""X\\\\(.*\\\\)\""'\n-    as_echo_n_body='eval\n-      arg=$1;\n-      case $arg in #(\n-      *\""$as_nl\""*)\n-\texpr \""X$arg\"" : \""X\\\\(.*\\\\)$as_nl\"";\n-\targ=`expr \""X$arg\"" : \"".*$as_nl\\\\(.*\\\\)\""`;;\n-      esac;\n-      expr \""X$arg\"" : \""X\\\\(.*\\\\)\"" | tr -d \""$as_nl\""\n-    '\n-    export as_echo_n_body\n-    as_echo_n='sh -c $as_echo_n_body as_echo'\n-  fi\n-  export as_echo_body\n-  as_echo='sh -c $as_echo_body as_echo'\n-fi\n-\n-# The user is always right.\n-if test \""${PATH_SEPARATOR+set}\"" != set; then\n-  PATH_SEPARATOR=:\n-  (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 && {\n-    (PATH='/bin:/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 ||\n-      PATH_SEPARATOR=';'\n-  }\n-fi\n-\n-\n-# IFS\n-# We need space, tab and new line, in precisely that order.  Quoting is\n-# there to prevent editors from complaining about space-tab.\n-# (If _AS_PATH_WALK were called with IFS unset, it would disable word\n-# splitting by setting IFS to empty value.)\n-IFS=\"" \""\""\t$as_nl\""\n-\n-# Find who we are.  Look in the path if we contain no directory separator.\n-as_myself=\n-case $0 in #((\n-  *[\\\\/]* ) as_myself=$0 ;;\n-  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    test -r \""$as_dir/$0\"" && as_myself=$as_dir/$0 && break\n-  done\n-IFS=$as_save_IFS\n-\n-     ;;\n-esac\n-# We did not find ourselves, most probably we were run as `sh COMMAND'\n-# in which case we are not to be found in the path.\n-if test \""x$as_myself\"" = x; then\n-  as_myself=$0\n-fi\n-if test ! -f \""$as_myself\""; then\n-  $as_echo \""$as_myself: error: cannot find myself; rerun with an absolute file name\"" >&2\n-  exit 1\n-fi\n-\n-# Unset variables that we do not need and which cause bugs (e.g. in\n-# pre-3.0 UWIN ksh).  But do not cause bugs in bash 2.01; the \""|| exit 1\""\n-# suppresses any \""Segmentation fault\"" message there.  '((' could\n-# trigger a bug in pdksh 5.2.14.\n-for as_var in BASH_ENV ENV MAIL MAILPATH\n-do eval test x\\${$as_var+set} = xset \\\n-  && ( (unset $as_var) || exit 1) >/dev/null 2>&1 && unset $as_var || :\n-done\n-PS1='$ '\n-PS2='> '\n-PS4='+ '\n-\n-# NLS nuisances.\n-LC_ALL=C\n-export LC_ALL\n-LANGUAGE=C\n-export LANGUAGE\n-\n-# CDPATH.\n-(unset CDPATH) >/dev/null 2>&1 && unset CDPATH\n-\n-# Use a proper internal environment variable to ensure we don't fall\n-  # into an infinite loop, continuously re-executing ourselves.\n-  if test x\""${_as_can_reexec}\"" != xno && test \""x$CONFIG_SHELL\"" != x; then\n-    _as_can_reexec=no; export _as_can_reexec;\n-    # We cannot yet assume a decent shell, so we have to provide a\n-# neutralization value for shells without unset; and this also\n-# works around shells that cannot unset nonexistent variables.\n-# Preserve -v and -x to the replacement shell.\n-BASH_ENV=/dev/null\n-ENV=/dev/null\n-(unset BASH_ENV) >/dev/null 2>&1 && unset BASH_ENV ENV\n-case $- in # ((((\n-  *v*x* | *x*v* ) as_opts=-vx ;;\n-  *v* ) as_opts=-v ;;\n-  *x* ) as_opts=-x ;;\n-  * ) as_opts= ;;\n-esac\n-exec $CONFIG_SHELL $as_opts \""$as_myself\"" ${1+\""$@\""}\n-# Admittedly, this is quite paranoid, since all the known shells bail\n-# out after a failed `exec'.\n-$as_echo \""$0: could not re-execute with $CONFIG_SHELL\"" >&2\n-as_fn_exit 255\n-  fi\n-  # We don't want this to propagate to other subprocesses.\n-          { _as_can_reexec=; unset _as_can_reexec;}\n-if test \""x$CONFIG_SHELL\"" = x; then\n-  as_bourne_compatible=\""if test -n \\\""\\${ZSH_VERSION+set}\\\"" && (emulate sh) >/dev/null 2>&1; then :\n-  emulate sh\n-  NULLCMD=:\n-  # Pre-4.2 versions of Zsh do word splitting on \\${1+\\\""\\$@\\\""}, which\n-  # is contrary to our usage.  Disable this feature.\n-  alias -g '\\${1+\\\""\\$@\\\""}'='\\\""\\$@\\\""'\n-  setopt NO_GLOB_SUBST\n-else\n-  case \\`(set -o) 2>/dev/null\\` in #(\n-  *posix*) :\n-    set -o posix ;; #(\n-  *) :\n-     ;;\n-esac\n-fi\n-\""\n-  as_required=\""as_fn_return () { (exit \\$1); }\n-as_fn_success () { as_fn_return 0; }\n-as_fn_failure () { as_fn_return 1; }\n-as_fn_ret_success () { return 0; }\n-as_fn_ret_failure () { return 1; }\n-\n-exitcode=0\n-as_fn_success || { exitcode=1; echo as_fn_success failed.; }\n-as_fn_failure && { exitcode=1; echo as_fn_failure succeeded.; }\n-as_fn_ret_success || { exitcode=1; echo as_fn_ret_success failed.; }\n-as_fn_ret_failure && { exitcode=1; echo as_fn_ret_failure succeeded.; }\n-if ( set x; as_fn_ret_success y && test x = \\\""\\$1\\\"" ); then :\n-\n-else\n-  exitcode=1; echo positional parameters were not saved.\n-fi\n-test x\\$exitcode = x0 || exit 1\n-test -x / || exit 1\""\n-  as_suggested=\""  as_lineno_1=\"";as_suggested=$as_suggested$LINENO;as_suggested=$as_suggested\"" as_lineno_1a=\\$LINENO\n-  as_lineno_2=\"";as_suggested=$as_suggested$LINENO;as_suggested=$as_suggested\"" as_lineno_2a=\\$LINENO\n-  eval 'test \\\""x\\$as_lineno_1'\\$as_run'\\\"" != \\\""x\\$as_lineno_2'\\$as_run'\\\"" &&\n-  test \\\""x\\`expr \\$as_lineno_1'\\$as_run' + 1\\`\\\"" = \\\""x\\$as_lineno_2'\\$as_run'\\\""' || exit 1\n-test \\$(( 1 + 1 )) = 2 || exit 1\n-\n-  test -n \\\""\\${ZSH_VERSION+set}\\${BASH_VERSION+set}\\\"" || (\n-    ECHO='\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\'\n-    ECHO=\\$ECHO\\$ECHO\\$ECHO\\$ECHO\\$ECHO\n-    ECHO=\\$ECHO\\$ECHO\\$ECHO\\$ECHO\\$ECHO\\$ECHO\n-    PATH=/empty FPATH=/empty; export PATH FPATH\n-    test \\\""X\\`printf %s \\$ECHO\\`\\\"" = \\\""X\\$ECHO\\\"" \\\\\n-      || test \\\""X\\`print -r -- \\$ECHO\\`\\\"" = \\\""X\\$ECHO\\\"" ) || exit 1\""\n-  if (eval \""$as_required\"") 2>/dev/null; then :\n-  as_have_required=yes\n-else\n-  as_have_required=no\n-fi\n-  if test x$as_have_required = xyes && (eval \""$as_suggested\"") 2>/dev/null; then :\n-\n-else\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-as_found=false\n-for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-  as_found=:\n-  case $as_dir in #(\n-\t /*)\n-\t   for as_base in sh bash ksh sh5; do\n-\t     # Try only shells that exist, to save several forks.\n-\t     as_shell=$as_dir/$as_base\n-\t     if { test -f \""$as_shell\"" || test -f \""$as_shell.exe\""; } &&\n-\t\t    { $as_echo \""$as_bourne_compatible\""\""$as_required\"" | as_run=a \""$as_shell\""; } 2>/dev/null; then :\n-  CONFIG_SHELL=$as_shell as_have_required=yes\n-\t\t   if { $as_echo \""$as_bourne_compatible\""\""$as_suggested\"" | as_run=a \""$as_shell\""; } 2>/dev/null; then :\n-  break 2\n-fi\n-fi\n-\t   done;;\n-       esac\n-  as_found=false\n-done\n-$as_found || { if { test -f \""$SHELL\"" || test -f \""$SHELL.exe\""; } &&\n-\t      { $as_echo \""$as_bourne_compatible\""\""$as_required\"" | as_run=a \""$SHELL\""; } 2>/dev/null; then :\n-  CONFIG_SHELL=$SHELL as_have_required=yes\n-fi; }\n-IFS=$as_save_IFS\n-\n-\n-      if test \""x$CONFIG_SHELL\"" != x; then :\n-  export CONFIG_SHELL\n-             # We cannot yet assume a decent shell, so we have to provide a\n-# neutralization value for shells without unset; and this also\n-# works around shells that cannot unset nonexistent variables.\n-# Preserve -v and -x to the replacement shell.\n-BASH_ENV=/dev/null\n-ENV=/dev/null\n-(unset BASH_ENV) >/dev/null 2>&1 && unset BASH_ENV ENV\n-case $- in # ((((\n-  *v*x* | *x*v* ) as_opts=-vx ;;\n-  *v* ) as_opts=-v ;;\n-  *x* ) as_opts=-x ;;\n-  * ) as_opts= ;;\n-esac\n-exec $CONFIG_SHELL $as_opts \""$as_myself\"" ${1+\""$@\""}\n-# Admittedly, this is quite paranoid, since all the known shells bail\n-# out after a failed `exec'.\n-$as_echo \""$0: could not re-execute with $CONFIG_SHELL\"" >&2\n-exit 255\n-fi\n-\n-    if test x$as_have_required = xno; then :\n-  $as_echo \""$0: This script requires a shell more modern than all\""\n-  $as_echo \""$0: the shells that I found on your system.\""\n-  if test x${ZSH_VERSION+set} = xset ; then\n-    $as_echo \""$0: In particular, zsh $ZSH_VERSION has bugs and should\""\n-    $as_echo \""$0: be upgraded to zsh 4.3.4 or later.\""\n-  else\n-    $as_echo \""$0: Please tell bug-autoconf@gnu.org and\n-$0: png-mng-implement@lists.sourceforge.net about your\n-$0: system, including any error possibly output before this\n-$0: message. Then install a modern shell, or manually run\n-$0: the script under such a shell if you do have one.\""\n-  fi\n-  exit 1\n-fi\n-fi\n-fi\n-SHELL=${CONFIG_SHELL-/bin/sh}\n-export SHELL\n-# Unset more variables known to interfere with behavior of common tools.\n-CLICOLOR_FORCE= GREP_OPTIONS=\n-unset CLICOLOR_FORCE GREP_OPTIONS\n-\n-## --------------------- ##\n-## M4sh Shell Functions. ##\n-## --------------------- ##\n-# as_fn_unset VAR\n-# ---------------\n-# Portably unset VAR.\n-as_fn_unset ()\n-{\n-  { eval $1=; unset $1;}\n-}\n-as_unset=as_fn_unset\n-\n-# as_fn_set_status STATUS\n-# -----------------------\n-# Set $? to STATUS, without forking.\n-as_fn_set_status ()\n-{\n-  return $1\n-} # as_fn_set_status\n-\n-# as_fn_exit STATUS\n-# -----------------\n-# Exit the shell with STATUS, even in a \""trap 0\"" or \""set -e\"" context.\n-as_fn_exit ()\n-{\n-  set +e\n-  as_fn_set_status $1\n-  exit $1\n-} # as_fn_exit\n-\n-# as_fn_mkdir_p\n-# -------------\n-# Create \""$as_dir\"" as a directory, including parents if necessary.\n-as_fn_mkdir_p ()\n-{\n-\n-  case $as_dir in #(\n-  -*) as_dir=./$as_dir;;\n-  esac\n-  test -d \""$as_dir\"" || eval $as_mkdir_p || {\n-    as_dirs=\n-    while :; do\n-      case $as_dir in #(\n-      *\\'*) as_qdir=`$as_echo \""$as_dir\"" | sed \""s/'/'\\\\\\\\\\\\\\\\''/g\""`;; #'(\n-      *) as_qdir=$as_dir;;\n-      esac\n-      as_dirs=\""'$as_qdir' $as_dirs\""\n-      as_dir=`$as_dirname -- \""$as_dir\"" ||\n-$as_expr X\""$as_dir\"" : 'X\\(.*[^/]\\)//*[^/][^/]*/*$' \\| \\\n-\t X\""$as_dir\"" : 'X\\(//\\)[^/]' \\| \\\n-\t X\""$as_dir\"" : 'X\\(//\\)$' \\| \\\n-\t X\""$as_dir\"" : 'X\\(/\\)' \\| . 2>/dev/null ||\n-$as_echo X\""$as_dir\"" |\n-    sed '/^X\\(.*[^/]\\)\\/\\/*[^/][^/]*\\/*$/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\/\\)[^/].*/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\/\\)$/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\).*/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  s/.*/./; q'`\n-      test -d \""$as_dir\"" && break\n-    done\n-    test -z \""$as_dirs\"" || eval \""mkdir $as_dirs\""\n-  } || test -d \""$as_dir\"" || as_fn_error $? \""cannot create directory $as_dir\""\n-\n-\n-} # as_fn_mkdir_p\n-\n-# as_fn_executable_p FILE\n-# -----------------------\n-# Test if FILE is an executable regular file.\n-as_fn_executable_p ()\n-{\n-  test -f \""$1\"" && test -x \""$1\""\n-} # as_fn_executable_p\n-# as_fn_append VAR VALUE\n-# ----------------------\n-# Append the text in VALUE to the end of the definition contained in VAR. Take\n-# advantage of any shell optimizations that allow amortized linear growth over\n-# repeated appends, instead of the typical quadratic growth present in naive\n-# implementations.\n-if (eval \""as_var=1; as_var+=2; test x\\$as_var = x12\"") 2>/dev/null; then :\n-  eval 'as_fn_append ()\n-  {\n-    eval $1+=\\$2\n-  }'\n-else\n-  as_fn_append ()\n-  {\n-    eval $1=\\$$1\\$2\n-  }\n-fi # as_fn_append\n-\n-# as_fn_arith ARG...\n-# ------------------\n-# Perform arithmetic evaluation on the ARGs, and store the result in the\n-# global $as_val. Take advantage of shells that can avoid forks. The arguments\n-# must be portable across $(()) and expr.\n-if (eval \""test \\$(( 1 + 1 )) = 2\"") 2>/dev/null; then :\n-  eval 'as_fn_arith ()\n-  {\n-    as_val=$(( $* ))\n-  }'\n-else\n-  as_fn_arith ()\n-  {\n-    as_val=`expr \""$@\"" || test $? -eq 1`\n-  }\n-fi # as_fn_arith\n-\n-\n-# as_fn_error STATUS ERROR [LINENO LOG_FD]\n-# ----------------------------------------\n-# Output \""`basename $0`: error: ERROR\"" to stderr. If LINENO and LOG_FD are\n-# provided, also output the error to LOG_FD, referencing LINENO. Then exit the\n-# script with STATUS, using 1 if that was 0.\n-as_fn_error ()\n-{\n-  as_status=$1; test $as_status -eq 0 && as_status=1\n-  if test \""$4\""; then\n-    as_lineno=${as_lineno-\""$3\""} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: error: $2\"" >&$4\n-  fi\n-  $as_echo \""$as_me: error: $2\"" >&2\n-  as_fn_exit $as_status\n-} # as_fn_error\n-\n-if expr a : '\\(a\\)' >/dev/null 2>&1 &&\n-   test \""X`expr 00001 : '.*\\(...\\)'`\"" = X001; then\n-  as_expr=expr\n-else\n-  as_expr=false\n-fi\n-\n-if (basename -- /) >/dev/null 2>&1 && test \""X`basename -- / 2>&1`\"" = \""X/\""; then\n-  as_basename=basename\n-else\n-  as_basename=false\n-fi\n-\n-if (as_dir=`dirname -- /` && test \""X$as_dir\"" = X/) >/dev/null 2>&1; then\n-  as_dirname=dirname\n-else\n-  as_dirname=false\n-fi\n-\n-as_me=`$as_basename -- \""$0\"" ||\n-$as_expr X/\""$0\"" : '.*/\\([^/][^/]*\\)/*$' \\| \\\n-\t X\""$0\"" : 'X\\(//\\)$' \\| \\\n-\t X\""$0\"" : 'X\\(/\\)' \\| . 2>/dev/null ||\n-$as_echo X/\""$0\"" |\n-    sed '/^.*\\/\\([^/][^/]*\\)\\/*$/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\/\\(\\/\\/\\)$/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\/\\(\\/\\).*/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  s/.*/./; q'`\n-\n-# Avoid depending upon Character Ranges.\n-as_cr_letters='abcdefghijklmnopqrstuvwxyz'\n-as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n-as_cr_Letters=$as_cr_letters$as_cr_LETTERS\n-as_cr_digits='0123456789'\n-as_cr_alnum=$as_cr_Letters$as_cr_digits\n-\n-\n-  as_lineno_1=$LINENO as_lineno_1a=$LINENO\n-  as_lineno_2=$LINENO as_lineno_2a=$LINENO\n-  eval 'test \""x$as_lineno_1'$as_run'\"" != \""x$as_lineno_2'$as_run'\"" &&\n-  test \""x`expr $as_lineno_1'$as_run' + 1`\"" = \""x$as_lineno_2'$as_run'\""' || {\n-  # Blame Lee E. McMahon (1931-1989) for sed's syntax.  :-)\n-  sed -n '\n-    p\n-    /[$]LINENO/=\n-  ' <$as_myself |\n-    sed '\n-      s/[$]LINENO.*/&-/\n-      t lineno\n-      b\n-      :lineno\n-      N\n-      :loop\n-      s/[$]LINENO\\([^'$as_cr_alnum'_].*\\n\\)\\(.*\\)/\\2\\1\\2/\n-      t loop\n-      s/-\\n.*//\n-    ' >$as_me.lineno &&\n-  chmod +x \""$as_me.lineno\"" ||\n-    { $as_echo \""$as_me: error: cannot create $as_me.lineno; rerun with a POSIX shell\"" >&2; as_fn_exit 1; }\n-\n-  # If we had to re-execute with $CONFIG_SHELL, we're ensured to have\n-  # already done that, so ensure we don't try to do so again and fall\n-  # in an infinite loop.  This has already happened in practice.\n-  _as_can_reexec=no; export _as_can_reexec\n-  # Don't try to exec as it changes $[0], causing all sort of problems\n-  # (the dirname of $[0] is not the place where we might find the\n-  # original and so on.  Autoconf is especially sensitive to this).\n-  . \""./$as_me.lineno\""\n-  # Exit status is that of the last command.\n-  exit\n-}\n-\n-ECHO_C= ECHO_N= ECHO_T=\n-case `echo -n x` in #(((((\n--n*)\n-  case `echo 'xy\\c'` in\n-  *c*) ECHO_T='\t';;\t# ECHO_T is single tab character.\n-  xy)  ECHO_C='\\c';;\n-  *)   echo `echo ksh88 bug on AIX 6.1` > /dev/null\n-       ECHO_T='\t';;\n-  esac;;\n-*)\n-  ECHO_N='-n';;\n-esac\n-\n-rm -f conf$$ conf$$.exe conf$$.file\n-if test -d conf$$.dir; then\n-  rm -f conf$$.dir/conf$$.file\n-else\n-  rm -f conf$$.dir\n-  mkdir conf$$.dir 2>/dev/null\n-fi\n-if (echo >conf$$.file) 2>/dev/null; then\n-  if ln -s conf$$.file conf$$ 2>/dev/null; then\n-    as_ln_s='ln -s'\n-    # ... but there are two gotchas:\n-    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.\n-    # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.\n-    # In both cases, we have to default to `cp -pR'.\n-    ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||\n-      as_ln_s='cp -pR'\n-  elif ln conf$$.file conf$$ 2>/dev/null; then\n-    as_ln_s=ln\n-  else\n-    as_ln_s='cp -pR'\n-  fi\n-else\n-  as_ln_s='cp -pR'\n-fi\n-rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file\n-rmdir conf$$.dir 2>/dev/null\n-\n-if mkdir -p . 2>/dev/null; then\n-  as_mkdir_p='mkdir -p \""$as_dir\""'\n-else\n-  test -d ./-p && rmdir ./-p\n-  as_mkdir_p=false\n-fi\n-\n-as_test_x='test -x'\n-as_executable_p=as_fn_executable_p\n-\n-# Sed expression to map a string onto a valid CPP name.\n-as_tr_cpp=\""eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'\""\n-\n-# Sed expression to map a string onto a valid variable name.\n-as_tr_sh=\""eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'\""\n-\n-SHELL=${CONFIG_SHELL-/bin/sh}\n-\n-\n-test -n \""$DJDIR\"" || exec 7<&0 </dev/null\n-exec 6>&1\n-\n-# Name of the host.\n-# hostname on some systems (SVR3.2, old GNU/Linux) returns a bogus exit status,\n-# so uname gets run too.\n-ac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`\n-\n-#\n-# Initializations.\n-#\n-ac_default_prefix=/usr/local\n-ac_clean_files=\n-ac_config_libobj_dir=.\n-LIBOBJS=\n-cross_compiling=no\n-subdirs=\n-MFLAGS=\n-MAKEFLAGS=\n-\n-# Identity of this package.\n-PACKAGE_NAME='libpng'\n-PACKAGE_TARNAME='libpng'\n-PACKAGE_VERSION='1.6.10'\n-PACKAGE_STRING='libpng 1.6.10'\n-PACKAGE_BUGREPORT='png-mng-implement@lists.sourceforge.net'\n-PACKAGE_URL=''\n-\n-ac_unique_file=\""pngget.c\""\n-# Factoring default headers for most tests.\n-ac_includes_default=\""\\\n-#include <stdio.h>\n-#ifdef HAVE_SYS_TYPES_H\n-# include <sys/types.h>\n-#endif\n-#ifdef HAVE_SYS_STAT_H\n-# include <sys/stat.h>\n-#endif\n-#ifdef STDC_HEADERS\n-# include <stdlib.h>\n-# include <stddef.h>\n-#else\n-# ifdef HAVE_STDLIB_H\n-#  include <stdlib.h>\n-# endif\n-#endif\n-#ifdef HAVE_STRING_H\n-# if !defined STDC_HEADERS && defined HAVE_MEMORY_H\n-#  include <memory.h>\n-# endif\n-# include <string.h>\n-#endif\n-#ifdef HAVE_STRINGS_H\n-# include <strings.h>\n-#endif\n-#ifdef HAVE_INTTYPES_H\n-# include <inttypes.h>\n-#endif\n-#ifdef HAVE_STDINT_H\n-# include <stdint.h>\n-#endif\n-#ifdef HAVE_UNISTD_H\n-# include <unistd.h>\n-#endif\""\n-\n-ac_subst_vars='am__EXEEXT_FALSE\n-am__EXEEXT_TRUE\n-LTLIBOBJS\n-PNG_ARM_NEON_FALSE\n-PNG_ARM_NEON_TRUE\n-DO_INSTALL_LIBPNG_CONFIG_FALSE\n-DO_INSTALL_LIBPNG_CONFIG_TRUE\n-DO_INSTALL_LIBPNG_PC_FALSE\n-DO_INSTALL_LIBPNG_PC_TRUE\n-DO_INSTALL_LINKS_FALSE\n-DO_INSTALL_LINKS_TRUE\n-DO_PNG_PREFIX_FALSE\n-DO_PNG_PREFIX_TRUE\n-PNG_PREFIX\n-binconfigs\n-pkgconfigdir\n-PNGLIB_RELEASE\n-PNGLIB_MINOR\n-PNGLIB_MAJOR\n-PNGLIB_VERSION\n-SYMBOL_PREFIX\n-HAVE_LD_VERSION_SCRIPT_FALSE\n-HAVE_LD_VERSION_SCRIPT_TRUE\n-HAVE_SOLARIS_LD_FALSE\n-HAVE_SOLARIS_LD_TRUE\n-LIBOBJS\n-POW_LIB\n-PNG_COPTS\n-DFNCPP\n-OTOOL64\n-OTOOL\n-LIPO\n-NMEDIT\n-DSYMUTIL\n-MANIFEST_TOOL\n-RANLIB\n-ac_ct_AR\n-AR\n-NM\n-ac_ct_DUMPBIN\n-DUMPBIN\n-LIBTOOL\n-OBJDUMP\n-DLLTOOL\n-AS\n-LN_S\n-CPP\n-LD\n-FGREP\n-EGREP\n-GREP\n-SED\n-host_os\n-host_vendor\n-host_cpu\n-host\n-build_os\n-build_vendor\n-build_cpu\n-build\n-am__fastdepCCAS_FALSE\n-am__fastdepCCAS_TRUE\n-CCASDEPMODE\n-CCASFLAGS\n-CCAS\n-am__fastdepCC_FALSE\n-am__fastdepCC_TRUE\n-CCDEPMODE\n-am__nodep\n-AMDEPBACKSLASH\n-AMDEP_FALSE\n-AMDEP_TRUE\n-am__quote\n-am__include\n-DEPDIR\n-OBJEXT\n-EXEEXT\n-ac_ct_CC\n-CPPFLAGS\n-LDFLAGS\n-CFLAGS\n-CC\n-MAINT\n-MAINTAINER_MODE_FALSE\n-MAINTAINER_MODE_TRUE\n-AM_BACKSLASH\n-AM_DEFAULT_VERBOSITY\n-AM_DEFAULT_V\n-AM_V\n-am__untar\n-am__tar\n-AMTAR\n-am__leading_dot\n-SET_MAKE\n-AWK\n-mkdir_p\n-MKDIR_P\n-INSTALL_STRIP_PROGRAM\n-STRIP\n-install_sh\n-MAKEINFO\n-AUTOHEADER\n-AUTOMAKE\n-AUTOCONF\n-ACLOCAL\n-VERSION\n-PACKAGE\n-CYGPATH_W\n-am__isrc\n-INSTALL_DATA\n-INSTALL_SCRIPT\n-INSTALL_PROGRAM\n-target_alias\n-host_alias\n-build_alias\n-LIBS\n-ECHO_T\n-ECHO_N\n-ECHO_C\n-DEFS\n-mandir\n-localedir\n-libdir\n-psdir\n-pdfdir\n-dvidir\n-htmldir\n-infodir\n-docdir\n-oldincludedir\n-includedir\n-localstatedir\n-sharedstatedir\n-sysconfdir\n-datadir\n-datarootdir\n-libexecdir\n-sbindir\n-bindir\n-program_transform_name\n-prefix\n-exec_prefix\n-PACKAGE_URL\n-PACKAGE_BUGREPORT\n-PACKAGE_STRING\n-PACKAGE_VERSION\n-PACKAGE_TARNAME\n-PACKAGE_NAME\n-PATH_SEPARATOR\n-SHELL'\n-ac_subst_files=''\n-ac_user_opts='\n-enable_option_checking\n-enable_silent_rules\n-enable_maintainer_mode\n-enable_dependency_tracking\n-with_gnu_ld\n-enable_shared\n-enable_static\n-with_pic\n-enable_fast_install\n-with_sysroot\n-enable_libtool_lock\n-enable_werror\n-with_zlib_prefix\n-with_pkgconfigdir\n-with_binconfigs\n-with_libpng_prefix\n-enable_unversioned_links\n-enable_unversioned_libpng_pc\n-enable_unversioned_libpng_config\n-enable_arm_neon\n-'\n-      ac_precious_vars='build_alias\n-host_alias\n-target_alias\n-CC\n-CFLAGS\n-LDFLAGS\n-LIBS\n-CPPFLAGS\n-CCAS\n-CCASFLAGS\n-CPP\n-PNG_COPTS'\n-\n-\n-# Initialize some variables set by options.\n-ac_init_help=\n-ac_init_version=false\n-ac_unrecognized_opts=\n-ac_unrecognized_sep=\n-# The variables have the same names as the options, with\n-# dashes changed to underlines.\n-cache_file=/dev/null\n-exec_prefix=NONE\n-no_create=\n-no_recursion=\n-prefix=NONE\n-program_prefix=NONE\n-program_suffix=NONE\n-program_transform_name=s,x,x,\n-silent=\n-site=\n-srcdir=\n-verbose=\n-x_includes=NONE\n-x_libraries=NONE\n-\n-# Installation directory options.\n-# These are left unexpanded so users can \""make install exec_prefix=/foo\""\n-# and all the variables that are supposed to be based on exec_prefix\n-# by default will actually change.\n-# Use braces instead of parens because sh, perl, etc. also accept them.\n-# (The list follows the same order as the GNU Coding Standards.)\n-bindir='${exec_prefix}/bin'\n-sbindir='${exec_prefix}/sbin'\n-libexecdir='${exec_prefix}/libexec'\n-datarootdir='${prefix}/share'\n-datadir='${datarootdir}'\n-sysconfdir='${prefix}/etc'\n-sharedstatedir='${prefix}/com'\n-localstatedir='${prefix}/var'\n-includedir='${prefix}/include'\n-oldincludedir='/usr/include'\n-docdir='${datarootdir}/doc/${PACKAGE_TARNAME}'\n-infodir='${datarootdir}/info'\n-htmldir='${docdir}'\n-dvidir='${docdir}'\n-pdfdir='${docdir}'\n-psdir='${docdir}'\n-libdir='${exec_prefix}/lib'\n-localedir='${datarootdir}/locale'\n-mandir='${datarootdir}/man'\n-\n-ac_prev=\n-ac_dashdash=\n-for ac_option\n-do\n-  # If the previous option needs an argument, assign it.\n-  if test -n \""$ac_prev\""; then\n-    eval $ac_prev=\\$ac_option\n-    ac_prev=\n-    continue\n-  fi\n-\n-  case $ac_option in\n-  *=?*) ac_optarg=`expr \""X$ac_option\"" : '[^=]*=\\(.*\\)'` ;;\n-  *=)   ac_optarg= ;;\n-  *)    ac_optarg=yes ;;\n-  esac\n-\n-  # Accept the important Cygnus configure options, so we can diagnose typos.\n-\n-  case $ac_dashdash$ac_option in\n-  --)\n-    ac_dashdash=yes ;;\n-\n-  -bindir | --bindir | --bindi | --bind | --bin | --bi)\n-    ac_prev=bindir ;;\n-  -bindir=* | --bindir=* | --bindi=* | --bind=* | --bin=* | --bi=*)\n-    bindir=$ac_optarg ;;\n-\n-  -build | --build | --buil | --bui | --bu)\n-    ac_prev=build_alias ;;\n-  -build=* | --build=* | --buil=* | --bui=* | --bu=*)\n-    build_alias=$ac_optarg ;;\n-\n-  -cache-file | --cache-file | --cache-fil | --cache-fi \\\n-  | --cache-f | --cache- | --cache | --cach | --cac | --ca | --c)\n-    ac_prev=cache_file ;;\n-  -cache-file=* | --cache-file=* | --cache-fil=* | --cache-fi=* \\\n-  | --cache-f=* | --cache-=* | --cache=* | --cach=* | --cac=* | --ca=* | --c=*)\n-    cache_file=$ac_optarg ;;\n-\n-  --config-cache | -C)\n-    cache_file=config.cache ;;\n-\n-  -datadir | --datadir | --datadi | --datad)\n-    ac_prev=datadir ;;\n-  -datadir=* | --datadir=* | --datadi=* | --datad=*)\n-    datadir=$ac_optarg ;;\n-\n-  -datarootdir | --datarootdir | --datarootdi | --datarootd | --dataroot \\\n-  | --dataroo | --dataro | --datar)\n-    ac_prev=datarootdir ;;\n-  -datarootdir=* | --datarootdir=* | --datarootdi=* | --datarootd=* \\\n-  | --dataroot=* | --dataroo=* | --dataro=* | --datar=*)\n-    datarootdir=$ac_optarg ;;\n-\n-  -disable-* | --disable-*)\n-    ac_useropt=`expr \""x$ac_option\"" : 'x-*disable-\\(.*\\)'`\n-    # Reject names that are not valid shell variable names.\n-    expr \""x$ac_useropt\"" : \"".*[^-+._$as_cr_alnum]\"" >/dev/null &&\n-      as_fn_error $? \""invalid feature name: $ac_useropt\""\n-    ac_useropt_orig=$ac_useropt\n-    ac_useropt=`$as_echo \""$ac_useropt\"" | sed 's/[-+.]/_/g'`\n-    case $ac_user_opts in\n-      *\""\n-\""enable_$ac_useropt\""\n-\""*) ;;\n-      *) ac_unrecognized_opts=\""$ac_unrecognized_opts$ac_unrecognized_sep--disable-$ac_useropt_orig\""\n-\t ac_unrecognized_sep=', ';;\n-    esac\n-    eval enable_$ac_useropt=no ;;\n-\n-  -docdir | --docdir | --docdi | --doc | --do)\n-    ac_prev=docdir ;;\n-  -docdir=* | --docdir=* | --docdi=* | --doc=* | --do=*)\n-    docdir=$ac_optarg ;;\n-\n-  -dvidir | --dvidir | --dvidi | --dvid | --dvi | --dv)\n-    ac_prev=dvidir ;;\n-  -dvidir=* | --dvidir=* | --dvidi=* | --dvid=* | --dvi=* | --dv=*)\n-    dvidir=$ac_optarg ;;\n-\n-  -enable-* | --enable-*)\n-    ac_useropt=`expr \""x$ac_option\"" : 'x-*enable-\\([^=]*\\)'`\n-    # Reject names that are not valid shell variable names.\n-    expr \""x$ac_useropt\"" : \"".*[^-+._$as_cr_alnum]\"" >/dev/null &&\n-      as_fn_error $? \""invalid feature name: $ac_useropt\""\n-    ac_useropt_orig=$ac_useropt\n-    ac_useropt=`$as_echo \""$ac_useropt\"" | sed 's/[-+.]/_/g'`\n-    case $ac_user_opts in\n-      *\""\n-\""enable_$ac_useropt\""\n-\""*) ;;\n-      *) ac_unrecognized_opts=\""$ac_unrecognized_opts$ac_unrecognized_sep--enable-$ac_useropt_orig\""\n-\t ac_unrecognized_sep=', ';;\n-    esac\n-    eval enable_$ac_useropt=\\$ac_optarg ;;\n-\n-  -exec-prefix | --exec_prefix | --exec-prefix | --exec-prefi \\\n-  | --exec-pref | --exec-pre | --exec-pr | --exec-p | --exec- \\\n-  | --exec | --exe | --ex)\n-    ac_prev=exec_prefix ;;\n-  -exec-prefix=* | --exec_prefix=* | --exec-prefix=* | --exec-prefi=* \\\n-  | --exec-pref=* | --exec-pre=* | --exec-pr=* | --exec-p=* | --exec-=* \\\n-  | --exec=* | --exe=* | --ex=*)\n-    exec_prefix=$ac_optarg ;;\n-\n-  -gas | --gas | --ga | --g)\n-    # Obsolete; use --with-gas.\n-    with_gas=yes ;;\n-\n-  -help | --help | --hel | --he | -h)\n-    ac_init_help=long ;;\n-  -help=r* | --help=r* | --hel=r* | --he=r* | -hr*)\n-    ac_init_help=recursive ;;\n-  -help=s* | --help=s* | --hel=s* | --he=s* | -hs*)\n-    ac_init_help=short ;;\n-\n-  -host | --host | --hos | --ho)\n-    ac_prev=host_alias ;;\n-  -host=* | --host=* | --hos=* | --ho=*)\n-    host_alias=$ac_optarg ;;\n-\n-  -htmldir | --htmldir | --htmldi | --htmld | --html | --htm | --ht)\n-    ac_prev=htmldir ;;\n-  -htmldir=* | --htmldir=* | --htmldi=* | --htmld=* | --html=* | --htm=* \\\n-  | --ht=*)\n-    htmldir=$ac_optarg ;;\n-\n-  -includedir | --includedir | --includedi | --included | --include \\\n-  | --includ | --inclu | --incl | --inc)\n-    ac_prev=includedir ;;\n-  -includedir=* | --includedir=* | --includedi=* | --included=* | --include=* \\\n-  | --includ=* | --inclu=* | --incl=* | --inc=*)\n-    includedir=$ac_optarg ;;\n-\n-  -infodir | --infodir | --infodi | --infod | --info | --inf)\n-    ac_prev=infodir ;;\n-  -infodir=* | --infodir=* | --infodi=* | --infod=* | --info=* | --inf=*)\n-    infodir=$ac_optarg ;;\n-\n-  -libdir | --libdir | --libdi | --libd)\n-    ac_prev=libdir ;;\n-  -libdir=* | --libdir=* | --libdi=* | --libd=*)\n-    libdir=$ac_optarg ;;\n-\n-  -libexecdir | --libexecdir | --libexecdi | --libexecd | --libexec \\\n-  | --libexe | --libex | --libe)\n-    ac_prev=libexecdir ;;\n-  -libexecdir=* | --libexecdir=* | --libexecdi=* | --libexecd=* | --libexec=* \\\n-  | --libexe=* | --libex=* | --libe=*)\n-    libexecdir=$ac_optarg ;;\n-\n-  -localedir | --localedir | --localedi | --localed | --locale)\n-    ac_prev=localedir ;;\n-  -localedir=* | --localedir=* | --localedi=* | --localed=* | --locale=*)\n-    localedir=$ac_optarg ;;\n-\n-  -localstatedir | --localstatedir | --localstatedi | --localstated \\\n-  | --localstate | --localstat | --localsta | --localst | --locals)\n-    ac_prev=localstatedir ;;\n-  -localstatedir=* | --localstatedir=* | --localstatedi=* | --localstated=* \\\n-  | --localstate=* | --localstat=* | --localsta=* | --localst=* | --locals=*)\n-    localstatedir=$ac_optarg ;;\n-\n-  -mandir | --mandir | --mandi | --mand | --man | --ma | --m)\n-    ac_prev=mandir ;;\n-  -mandir=* | --mandir=* | --mandi=* | --mand=* | --man=* | --ma=* | --m=*)\n-    mandir=$ac_optarg ;;\n-\n-  -nfp | --nfp | --nf)\n-    # Obsolete; use --without-fp.\n-    with_fp=no ;;\n-\n-  -no-create | --no-create | --no-creat | --no-crea | --no-cre \\\n-  | --no-cr | --no-c | -n)\n-    no_create=yes ;;\n-\n-  -no-recursion | --no-recursion | --no-recursio | --no-recursi \\\n-  | --no-recurs | --no-recur | --no-recu | --no-rec | --no-re | --no-r)\n-    no_recursion=yes ;;\n-\n-  -oldincludedir | --oldincludedir | --oldincludedi | --oldincluded \\\n-  | --oldinclude | --oldinclud | --oldinclu | --oldincl | --oldinc \\\n-  | --oldin | --oldi | --old | --ol | --o)\n-    ac_prev=oldincludedir ;;\n-  -oldincludedir=* | --oldincludedir=* | --oldincludedi=* | --oldincluded=* \\\n-  | --oldinclude=* | --oldinclud=* | --oldinclu=* | --oldincl=* | --oldinc=* \\\n-  | --oldin=* | --oldi=* | --old=* | --ol=* | --o=*)\n-    oldincludedir=$ac_optarg ;;\n-\n-  -prefix | --prefix | --prefi | --pref | --pre | --pr | --p)\n-    ac_prev=prefix ;;\n-  -prefix=* | --prefix=* | --prefi=* | --pref=* | --pre=* | --pr=* | --p=*)\n-    prefix=$ac_optarg ;;\n-\n-  -program-prefix | --program-prefix | --program-prefi | --program-pref \\\n-  | --program-pre | --program-pr | --program-p)\n-    ac_prev=program_prefix ;;\n-  -program-prefix=* | --program-prefix=* | --program-prefi=* \\\n-  | --program-pref=* | --program-pre=* | --program-pr=* | --program-p=*)\n-    program_prefix=$ac_optarg ;;\n-\n-  -program-suffix | --program-suffix | --program-suffi | --program-suff \\\n-  | --program-suf | --program-su | --program-s)\n-    ac_prev=program_suffix ;;\n-  -program-suffix=* | --program-suffix=* | --program-suffi=* \\\n-  | --program-suff=* | --program-suf=* | --program-su=* | --program-s=*)\n-    program_suffix=$ac_optarg ;;\n-\n-  -program-transform-name | --program-transform-name \\\n-  | --program-transform-nam | --program-transform-na \\\n-  | --program-transform-n | --program-transform- \\\n-  | --program-transform | --program-transfor \\\n-  | --program-transfo | --program-transf \\\n-  | --program-trans | --program-tran \\\n-  | --progr-tra | --program-tr | --program-t)\n-    ac_prev=program_transform_name ;;\n-  -program-transform-name=* | --program-transform-name=* \\\n-  | --program-transform-nam=* | --program-transform-na=* \\\n-  | --program-transform-n=* | --program-transform-=* \\\n-  | --program-transform=* | --program-transfor=* \\\n-  | --program-transfo=* | --program-transf=* \\\n-  | --program-trans=* | --program-tran=* \\\n-  | --progr-tra=* | --program-tr=* | --program-t=*)\n-    program_transform_name=$ac_optarg ;;\n-\n-  -pdfdir | --pdfdir | --pdfdi | --pdfd | --pdf | --pd)\n-    ac_prev=pdfdir ;;\n-  -pdfdir=* | --pdfdir=* | --pdfdi=* | --pdfd=* | --pdf=* | --pd=*)\n-    pdfdir=$ac_optarg ;;\n-\n-  -psdir | --psdir | --psdi | --psd | --ps)\n-    ac_prev=psdir ;;\n-  -psdir=* | --psdir=* | --psdi=* | --psd=* | --ps=*)\n-    psdir=$ac_optarg ;;\n-\n-  -q | -quiet | --quiet | --quie | --qui | --qu | --q \\\n-  | -silent | --silent | --silen | --sile | --sil)\n-    silent=yes ;;\n-\n-  -sbindir | --sbindir | --sbindi | --sbind | --sbin | --sbi | --sb)\n-    ac_prev=sbindir ;;\n-  -sbindir=* | --sbindir=* | --sbindi=* | --sbind=* | --sbin=* \\\n-  | --sbi=* | --sb=*)\n-    sbindir=$ac_optarg ;;\n-\n-  -sharedstatedir | --sharedstatedir | --sharedstatedi \\\n-  | --sharedstated | --sharedstate | --sharedstat | --sharedsta \\\n-  | --sharedst | --shareds | --shared | --share | --shar \\\n-  | --sha | --sh)\n-    ac_prev=sharedstatedir ;;\n-  -sharedstatedir=* | --sharedstatedir=* | --sharedstatedi=* \\\n-  | --sharedstated=* | --sharedstate=* | --sharedstat=* | --sharedsta=* \\\n-  | --sharedst=* | --shareds=* | --shared=* | --share=* | --shar=* \\\n-  | --sha=* | --sh=*)\n-    sharedstatedir=$ac_optarg ;;\n-\n-  -site | --site | --sit)\n-    ac_prev=site ;;\n-  -site=* | --site=* | --sit=*)\n-    site=$ac_optarg ;;\n-\n-  -srcdir | --srcdir | --srcdi | --srcd | --src | --sr)\n-    ac_prev=srcdir ;;\n-  -srcdir=* | --srcdir=* | --srcdi=* | --srcd=* | --src=* | --sr=*)\n-    srcdir=$ac_optarg ;;\n-\n-  -sysconfdir | --sysconfdir | --sysconfdi | --sysconfd | --sysconf \\\n-  | --syscon | --sysco | --sysc | --sys | --sy)\n-    ac_prev=sysconfdir ;;\n-  -sysconfdir=* | --sysconfdir=* | --sysconfdi=* | --sysconfd=* | --sysconf=* \\\n-  | --syscon=* | --sysco=* | --sysc=* | --sys=* | --sy=*)\n-    sysconfdir=$ac_optarg ;;\n-\n-  -target | --target | --targe | --targ | --tar | --ta | --t)\n-    ac_prev=target_alias ;;\n-  -target=* | --target=* | --targe=* | --targ=* | --tar=* | --ta=* | --t=*)\n-    target_alias=$ac_optarg ;;\n-\n-  -v | -verbose | --verbose | --verbos | --verbo | --verb)\n-    verbose=yes ;;\n-\n-  -version | --version | --versio | --versi | --vers | -V)\n-    ac_init_version=: ;;\n-\n-  -with-* | --with-*)\n-    ac_useropt=`expr \""x$ac_option\"" : 'x-*with-\\([^=]*\\)'`\n-    # Reject names that are not valid shell variable names.\n-    expr \""x$ac_useropt\"" : \"".*[^-+._$as_cr_alnum]\"" >/dev/null &&\n-      as_fn_error $? \""invalid package name: $ac_useropt\""\n-    ac_useropt_orig=$ac_useropt\n-    ac_useropt=`$as_echo \""$ac_useropt\"" | sed 's/[-+.]/_/g'`\n-    case $ac_user_opts in\n-      *\""\n-\""with_$ac_useropt\""\n-\""*) ;;\n-      *) ac_unrecognized_opts=\""$ac_unrecognized_opts$ac_unrecognized_sep--with-$ac_useropt_orig\""\n-\t ac_unrecognized_sep=', ';;\n-    esac\n-    eval with_$ac_useropt=\\$ac_optarg ;;\n-\n-  -without-* | --without-*)\n-    ac_useropt=`expr \""x$ac_option\"" : 'x-*without-\\(.*\\)'`\n-    # Reject names that are not valid shell variable names.\n-    expr \""x$ac_useropt\"" : \"".*[^-+._$as_cr_alnum]\"" >/dev/null &&\n-      as_fn_error $? \""invalid package name: $ac_useropt\""\n-    ac_useropt_orig=$ac_useropt\n-    ac_useropt=`$as_echo \""$ac_useropt\"" | sed 's/[-+.]/_/g'`\n-    case $ac_user_opts in\n-      *\""\n-\""with_$ac_useropt\""\n-\""*) ;;\n-      *) ac_unrecognized_opts=\""$ac_unrecognized_opts$ac_unrecognized_sep--without-$ac_useropt_orig\""\n-\t ac_unrecognized_sep=', ';;\n-    esac\n-    eval with_$ac_useropt=no ;;\n-\n-  --x)\n-    # Obsolete; use --with-x.\n-    with_x=yes ;;\n-\n-  -x-includes | --x-includes | --x-include | --x-includ | --x-inclu \\\n-  | --x-incl | --x-inc | --x-in | --x-i)\n-    ac_prev=x_includes ;;\n-  -x-includes=* | --x-includes=* | --x-include=* | --x-includ=* | --x-inclu=* \\\n-  | --x-incl=* | --x-inc=* | --x-in=* | --x-i=*)\n-    x_includes=$ac_optarg ;;\n-\n-  -x-libraries | --x-libraries | --x-librarie | --x-librari \\\n-  | --x-librar | --x-libra | --x-libr | --x-lib | --x-li | --x-l)\n-    ac_prev=x_libraries ;;\n-  -x-libraries=* | --x-libraries=* | --x-librarie=* | --x-librari=* \\\n-  | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)\n-    x_libraries=$ac_optarg ;;\n-\n-  -*) as_fn_error $? \""unrecognized option: \\`$ac_option'\n-Try \\`$0 --help' for more information\""\n-    ;;\n-\n-  *=*)\n-    ac_envvar=`expr \""x$ac_option\"" : 'x\\([^=]*\\)='`\n-    # Reject names that are not valid shell variable names.\n-    case $ac_envvar in #(\n-      '' | [0-9]* | *[!_$as_cr_alnum]* )\n-      as_fn_error $? \""invalid variable name: \\`$ac_envvar'\"" ;;\n-    esac\n-    eval $ac_envvar=\\$ac_optarg\n-    export $ac_envvar ;;\n-\n-  *)\n-    # FIXME: should be removed in autoconf 3.0.\n-    $as_echo \""$as_me: WARNING: you should use --build, --host, --target\"" >&2\n-    expr \""x$ac_option\"" : \"".*[^-._$as_cr_alnum]\"" >/dev/null &&\n-      $as_echo \""$as_me: WARNING: invalid host type: $ac_option\"" >&2\n-    : \""${build_alias=$ac_option} ${host_alias=$ac_option} ${target_alias=$ac_option}\""\n-    ;;\n-\n-  esac\n-done\n-\n-if test -n \""$ac_prev\""; then\n-  ac_option=--`echo $ac_prev | sed 's/_/-/g'`\n-  as_fn_error $? \""missing argument to $ac_option\""\n-fi\n-\n-if test -n \""$ac_unrecognized_opts\""; then\n-  case $enable_option_checking in\n-    no) ;;\n-    fatal) as_fn_error $? \""unrecognized options: $ac_unrecognized_opts\"" ;;\n-    *)     $as_echo \""$as_me: WARNING: unrecognized options: $ac_unrecognized_opts\"" >&2 ;;\n-  esac\n-fi\n-\n-# Check all directory arguments for consistency.\n-for ac_var in\texec_prefix prefix bindir sbindir libexecdir datarootdir \\\n-\t\tdatadir sysconfdir sharedstatedir localstatedir includedir \\\n-\t\toldincludedir docdir infodir htmldir dvidir pdfdir psdir \\\n-\t\tlibdir localedir mandir\n-do\n-  eval ac_val=\\$$ac_var\n-  # Remove trailing slashes.\n-  case $ac_val in\n-    */ )\n-      ac_val=`expr \""X$ac_val\"" : 'X\\(.*[^/]\\)' \\| \""X$ac_val\"" : 'X\\(.*\\)'`\n-      eval $ac_var=\\$ac_val;;\n-  esac\n-  # Be sure to have absolute directory names.\n-  case $ac_val in\n-    [\\\\/$]* | ?:[\\\\/]* )  continue;;\n-    NONE | '' ) case $ac_var in *prefix ) continue;; esac;;\n-  esac\n-  as_fn_error $? \""expected an absolute directory name for --$ac_var: $ac_val\""\n-done\n-\n-# There might be people who depend on the old broken behavior: `$host'\n-# used to hold the argument of --host etc.\n-# FIXME: To remove some day.\n-build=$build_alias\n-host=$host_alias\n-target=$target_alias\n-\n-# FIXME: To remove some day.\n-if test \""x$host_alias\"" != x; then\n-  if test \""x$build_alias\"" = x; then\n-    cross_compiling=maybe\n-  elif test \""x$build_alias\"" != \""x$host_alias\""; then\n-    cross_compiling=yes\n-  fi\n-fi\n-\n-ac_tool_prefix=\n-test -n \""$host_alias\"" && ac_tool_prefix=$host_alias-\n-\n-test \""$silent\"" = yes && exec 6>/dev/null\n-\n-\n-ac_pwd=`pwd` && test -n \""$ac_pwd\"" &&\n-ac_ls_di=`ls -di .` &&\n-ac_pwd_ls_di=`cd \""$ac_pwd\"" && ls -di .` ||\n-  as_fn_error $? \""working directory cannot be determined\""\n-test \""X$ac_ls_di\"" = \""X$ac_pwd_ls_di\"" ||\n-  as_fn_error $? \""pwd does not report name of working directory\""\n-\n-\n-# Find the source files, if location was not specified.\n-if test -z \""$srcdir\""; then\n-  ac_srcdir_defaulted=yes\n-  # Try the directory containing this script, then the parent directory.\n-  ac_confdir=`$as_dirname -- \""$as_myself\"" ||\n-$as_expr X\""$as_myself\"" : 'X\\(.*[^/]\\)//*[^/][^/]*/*$' \\| \\\n-\t X\""$as_myself\"" : 'X\\(//\\)[^/]' \\| \\\n-\t X\""$as_myself\"" : 'X\\(//\\)$' \\| \\\n-\t X\""$as_myself\"" : 'X\\(/\\)' \\| . 2>/dev/null ||\n-$as_echo X\""$as_myself\"" |\n-    sed '/^X\\(.*[^/]\\)\\/\\/*[^/][^/]*\\/*$/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\/\\)[^/].*/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\/\\)$/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\).*/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  s/.*/./; q'`\n-  srcdir=$ac_confdir\n-  if test ! -r \""$srcdir/$ac_unique_file\""; then\n-    srcdir=..\n-  fi\n-else\n-  ac_srcdir_defaulted=no\n-fi\n-if test ! -r \""$srcdir/$ac_unique_file\""; then\n-  test \""$ac_srcdir_defaulted\"" = yes && srcdir=\""$ac_confdir or ..\""\n-  as_fn_error $? \""cannot find sources ($ac_unique_file) in $srcdir\""\n-fi\n-ac_msg=\""sources are in $srcdir, but \\`cd $srcdir' does not work\""\n-ac_abs_confdir=`(\n-\tcd \""$srcdir\"" && test -r \""./$ac_unique_file\"" || as_fn_error $? \""$ac_msg\""\n-\tpwd)`\n-# When building in place, set srcdir=.\n-if test \""$ac_abs_confdir\"" = \""$ac_pwd\""; then\n-  srcdir=.\n-fi\n-# Remove unnecessary trailing slashes from srcdir.\n-# Double slashes in file names in object file debugging info\n-# mess up M-x gdb in Emacs.\n-case $srcdir in\n-*/) srcdir=`expr \""X$srcdir\"" : 'X\\(.*[^/]\\)' \\| \""X$srcdir\"" : 'X\\(.*\\)'`;;\n-esac\n-for ac_var in $ac_precious_vars; do\n-  eval ac_env_${ac_var}_set=\\${${ac_var}+set}\n-  eval ac_env_${ac_var}_value=\\$${ac_var}\n-  eval ac_cv_env_${ac_var}_set=\\${${ac_var}+set}\n-  eval ac_cv_env_${ac_var}_value=\\$${ac_var}\n-done\n-\n-#\n-# Report the --help message.\n-#\n-if test \""$ac_init_help\"" = \""long\""; then\n-  # Omit some internal or obsolete options to make the list less imposing.\n-  # This message is too long to be a string in the A/UX 3.1 sh.\n-  cat <<_ACEOF\n-\\`configure' configures libpng 1.6.10 to adapt to many kinds of systems.\n-\n-Usage: $0 [OPTION]... [VAR=VALUE]...\n-\n-To assign environment variables (e.g., CC, CFLAGS...), specify them as\n-VAR=VALUE.  See below for descriptions of some of the useful variables.\n-\n-Defaults for the options are specified in brackets.\n-\n-Configuration:\n-  -h, --help              display this help and exit\n-      --help=short        display options specific to this package\n-      --help=recursive    display the short help of all the included packages\n-  -V, --version           display version information and exit\n-  -q, --quiet, --silent   do not print \\`checking ...' messages\n-      --cache-file=FILE   cache test results in FILE [disabled]\n-  -C, --config-cache      alias for \\`--cache-file=config.cache'\n-  -n, --no-create         do not create output files\n-      --srcdir=DIR        find the sources in DIR [configure dir or \\`..']\n-\n-Installation directories:\n-  --prefix=PREFIX         install architecture-independent files in PREFIX\n-                          [$ac_default_prefix]\n-  --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX\n-                          [PREFIX]\n-\n-By default, \\`make install' will install all the files in\n-\\`$ac_default_prefix/bin', \\`$ac_default_prefix/lib' etc.  You can specify\n-an installation prefix other than \\`$ac_default_prefix' using \\`--prefix',\n-for instance \\`--prefix=\\$HOME'.\n-\n-For better control, use the options below.\n-\n-Fine tuning of the installation directories:\n-  --bindir=DIR            user executables [EPREFIX/bin]\n-  --sbindir=DIR           system admin executables [EPREFIX/sbin]\n-  --libexecdir=DIR        program executables [EPREFIX/libexec]\n-  --sysconfdir=DIR        read-only single-machine data [PREFIX/etc]\n-  --sharedstatedir=DIR    modifiable architecture-independent data [PREFIX/com]\n-  --localstatedir=DIR     modifiable single-machine data [PREFIX/var]\n-  --libdir=DIR            object code libraries [EPREFIX/lib]\n-  --includedir=DIR        C header files [PREFIX/include]\n-  --oldincludedir=DIR     C header files for non-gcc [/usr/include]\n-  --datarootdir=DIR       read-only arch.-independent data root [PREFIX/share]\n-  --datadir=DIR           read-only architecture-independent data [DATAROOTDIR]\n-  --infodir=DIR           info documentation [DATAROOTDIR/info]\n-  --localedir=DIR         locale-dependent data [DATAROOTDIR/locale]\n-  --mandir=DIR            man documentation [DATAROOTDIR/man]\n-  --docdir=DIR            documentation root [DATAROOTDIR/doc/libpng]\n-  --htmldir=DIR           html documentation [DOCDIR]\n-  --dvidir=DIR            dvi documentation [DOCDIR]\n-  --pdfdir=DIR            pdf documentation [DOCDIR]\n-  --psdir=DIR             ps documentation [DOCDIR]\n-_ACEOF\n-\n-  cat <<\\_ACEOF\n-\n-Program names:\n-  --program-prefix=PREFIX            prepend PREFIX to installed program names\n-  --program-suffix=SUFFIX            append SUFFIX to installed program names\n-  --program-transform-name=PROGRAM   run sed PROGRAM on installed program names\n-\n-System types:\n-  --build=BUILD     configure for building on BUILD [guessed]\n-  --host=HOST       cross-compile to build programs to run on HOST [BUILD]\n-_ACEOF\n-fi\n-\n-if test -n \""$ac_init_help\""; then\n-  case $ac_init_help in\n-     short | recursive ) echo \""Configuration of libpng 1.6.10:\"";;\n-   esac\n-  cat <<\\_ACEOF\n-\n-Optional Features:\n-  --disable-option-checking  ignore unrecognized --enable/--with options\n-  --disable-FEATURE       do not include FEATURE (same as --enable-FEATURE=no)\n-  --enable-FEATURE[=ARG]  include FEATURE [ARG=yes]\n-  --enable-silent-rules   less verbose build output (undo: \""make V=1\"")\n-  --disable-silent-rules  verbose build output (undo: \""make V=0\"")\n-  --enable-maintainer-mode\n-                          enable make rules and dependencies not useful (and\n-                          sometimes confusing) to the casual installer\n-  --enable-dependency-tracking\n-                          do not reject slow dependency extractors\n-  --disable-dependency-tracking\n-                          speeds up one-time build\n-  --enable-shared[=PKGS]  build shared libraries [default=yes]\n-  --enable-static[=PKGS]  build static libraries [default=yes]\n-  --enable-fast-install[=PKGS]\n-                          optimize for fast installation [default=yes]\n-  --disable-libtool-lock  avoid locking (might break parallel builds)\n-  --enable-werror[=OPT] Pass -Werror or the given argument to the compiler\n-                          if it is supported\n-  --enable-unversioned-links\n-                          Installed libpng header files are placed in a\n-                          versioned subdirectory and installed libpng library\n-                          (including DLL) files are versioned. If this option\n-                          is enabled unversioned links will be created\n-                          pointing to the corresponding installed files. If\n-                          you use libpng.pc or libpng-config for all builds\n-                          you do not need these links, but if you compile\n-                          programs directly they will typically #include\n-                          <png.h> and link with -lpng; in that case you need\n-                          the links. The links can be installed manually using\n-                          'make install-header-links' and 'make\n-                          install-library-links' and can be removed using the\n-                          corresponding uninstall- targets. If you do enable\n-                          this option every libpng 'make install' will\n-                          recreate the links to point to the just installed\n-                          version of libpng. The default is to create the\n-                          links; use --disable-unversioned-links to change\n-                          this\n-  --enable-unversioned-libpng-pc\n-                          Install the configuration file 'libpng.pc' as a link\n-                          to the versioned version. This is done by default -\n-                          use --disable-unversioned-libpng-pc to change this.\n-  --enable-unversioned-libpng-config\n-                          Install the configuration file 'libpng-config' as a\n-                          link to the versioned version. This is done by\n-                          default - use --disable-unversioned-libpng-config to\n-                          change this.\n-  --enable-arm-neon     Enable ARM NEON optimizations: =no/off, check, api,\n-                          yes/on: no/off: disable the optimizations; check:\n-                          use internal checking code (deprecated and poorly\n-                          supported); api: disable by default, enable by a\n-                          call to png_set_option; yes/on: turn on\n-                          unconditionally. If not specified: determined by the\n-                          compiler.\n-\n-Optional Packages:\n-  --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]\n-  --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)\n-  --with-gnu-ld           assume the C compiler uses GNU ld [default=no]\n-  --with-pic[=PKGS]       try to use only PIC/non-PIC objects [default=use\n-                          both]\n-  --with-sysroot=DIR Search for dependent libraries within DIR\n-                        (or the compiler's sysroot if not specified).\n-  --with-zlib-prefix    prefix that may have been used in installed zlib\n-  --with-pkgconfigdir   Use the specified pkgconfig dir (default is\n-                          libdir/pkgconfig)\n-  --with-binconfigs     Generate shell libpng-config scripts as well as\n-                          pkg-config data [default=yes]\n-  --with-libpng-prefix  prefix libpng exported function (API) names with the\n-                          given value\n-\n-Some influential environment variables:\n-  CC          C compiler command\n-  CFLAGS      C compiler flags\n-  LDFLAGS     linker flags, e.g. -L<lib dir> if you have libraries in a\n-              nonstandard directory <lib dir>\n-  LIBS        libraries to pass to the linker, e.g. -l<library>\n-  CPPFLAGS    (Objective) C/C++ preprocessor flags, e.g. -I<include dir> if\n-              you have headers in a nonstandard directory <include dir>\n-  CCAS        assembler compiler command (defaults to CC)\n-  CCASFLAGS   assembler compiler flags (defaults to CFLAGS)\n-  CPP         C preprocessor\n-  PNG_COPTS   additional flags for the C compiler, use this for options that\n-              would cause configure itself to fail\n-\n-Use these variables to override the choices made by `configure' or to help\n-it to find libraries and programs with nonstandard names/locations.\n-\n-Report bugs to <png-mng-implement@lists.sourceforge.net>.\n-_ACEOF\n-ac_status=$?\n-fi\n-\n-if test \""$ac_init_help\"" = \""recursive\""; then\n-  # If there are subdirs, report their specific --help.\n-  for ac_dir in : $ac_subdirs_all; do test \""x$ac_dir\"" = x: && continue\n-    test -d \""$ac_dir\"" ||\n-      { cd \""$srcdir\"" && ac_pwd=`pwd` && srcdir=. && test -d \""$ac_dir\""; } ||\n-      continue\n-    ac_builddir=.\n-\n-case \""$ac_dir\"" in\n-.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;\n-*)\n-  ac_dir_suffix=/`$as_echo \""$ac_dir\"" | sed 's|^\\.[\\\\/]||'`\n-  # A \""..\"" for each directory in $ac_dir_suffix.\n-  ac_top_builddir_sub=`$as_echo \""$ac_dir_suffix\"" | sed 's|/[^\\\\/]*|/..|g;s|/||'`\n-  case $ac_top_builddir_sub in\n-  \""\"") ac_top_builddir_sub=. ac_top_build_prefix= ;;\n-  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;\n-  esac ;;\n-esac\n-ac_abs_top_builddir=$ac_pwd\n-ac_abs_builddir=$ac_pwd$ac_dir_suffix\n-# for backward compatibility:\n-ac_top_builddir=$ac_top_build_prefix\n-\n-case $srcdir in\n-  .)  # We are building in place.\n-    ac_srcdir=.\n-    ac_top_srcdir=$ac_top_builddir_sub\n-    ac_abs_top_srcdir=$ac_pwd ;;\n-  [\\\\/]* | ?:[\\\\/]* )  # Absolute name.\n-    ac_srcdir=$srcdir$ac_dir_suffix;\n-    ac_top_srcdir=$srcdir\n-    ac_abs_top_srcdir=$srcdir ;;\n-  *) # Relative name.\n-    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix\n-    ac_top_srcdir=$ac_top_build_prefix$srcdir\n-    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;\n-esac\n-ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix\n-\n-    cd \""$ac_dir\"" || { ac_status=$?; continue; }\n-    # Check for guested configure.\n-    if test -f \""$ac_srcdir/configure.gnu\""; then\n-      echo &&\n-      $SHELL \""$ac_srcdir/configure.gnu\"" --help=recursive\n-    elif test -f \""$ac_srcdir/configure\""; then\n-      echo &&\n-      $SHELL \""$ac_srcdir/configure\"" --help=recursive\n-    else\n-      $as_echo \""$as_me: WARNING: no configuration information is in $ac_dir\"" >&2\n-    fi || ac_status=$?\n-    cd \""$ac_pwd\"" || { ac_status=$?; break; }\n-  done\n-fi\n-\n-test -n \""$ac_init_help\"" && exit $ac_status\n-if $ac_init_version; then\n-  cat <<\\_ACEOF\n-libpng configure 1.6.10\n-generated by GNU Autoconf 2.69\n-\n-Copyright (C) 2012 Free Software Foundation, Inc.\n-This configure script is free software; the Free Software Foundation\n-gives unlimited permission to copy, distribute and modify it.\n-_ACEOF\n-  exit\n-fi\n-\n-## ------------------------ ##\n-## Autoconf initialization. ##\n-## ------------------------ ##\n-\n-# ac_fn_c_try_compile LINENO\n-# --------------------------\n-# Try to compile conftest.$ac_ext, and return whether this succeeded.\n-ac_fn_c_try_compile ()\n-{\n-  as_lineno=${as_lineno-\""$1\""} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-  rm -f conftest.$ac_objext\n-  if { { ac_try=\""$ac_compile\""\n-case \""(($ac_try\"" in\n-  *\\\""* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\""\\\""\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\""\""\n-$as_echo \""$ac_try_echo\""; } >&5\n-  (eval \""$ac_compile\"") 2>conftest.err\n-  ac_status=$?\n-  if test -s conftest.err; then\n-    grep -v '^ *+' conftest.err >conftest.er1\n-    cat conftest.er1 >&5\n-    mv -f conftest.er1 conftest.err\n-  fi\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; } && {\n-\t test -z \""$ac_c_werror_flag\"" ||\n-\t test ! -s conftest.err\n-       } && test -s conftest.$ac_objext; then :\n-  ac_retval=0\n-else\n-  $as_echo \""$as_me: failed program was:\"" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-\tac_retval=1\n-fi\n-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n-  as_fn_set_status $ac_retval\n-\n-} # ac_fn_c_try_compile\n-\n-# ac_fn_c_try_cpp LINENO\n-# ----------------------\n-# Try to preprocess conftest.$ac_ext, and return whether this succeeded.\n-ac_fn_c_try_cpp ()\n-{\n-  as_lineno=${as_lineno-\""$1\""} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-  if { { ac_try=\""$ac_cpp conftest.$ac_ext\""\n-case \""(($ac_try\"" in\n-  *\\\""* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\""\\\""\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\""\""\n-$as_echo \""$ac_try_echo\""; } >&5\n-  (eval \""$ac_cpp conftest.$ac_ext\"") 2>conftest.err\n-  ac_status=$?\n-  if test -s conftest.err; then\n-    grep -v '^ *+' conftest.err >conftest.er1\n-    cat conftest.er1 >&5\n-    mv -f conftest.er1 conftest.err\n-  fi\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; } > conftest.i && {\n-\t test -z \""$ac_c_preproc_warn_flag$ac_c_werror_flag\"" ||\n-\t test ! -s conftest.err\n-       }; then :\n-  ac_retval=0\n-else\n-  $as_echo \""$as_me: failed program was:\"" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-    ac_retval=1\n-fi\n-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n-  as_fn_set_status $ac_retval\n-\n-} # ac_fn_c_try_cpp\n-\n-# ac_fn_c_try_link LINENO\n-# -----------------------\n-# Try to link conftest.$ac_ext, and return whether this succeeded.\n-ac_fn_c_try_link ()\n-{\n-  as_lineno=${as_lineno-\""$1\""} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-  rm -f conftest.$ac_objext conftest$ac_exeext\n-  if { { ac_try=\""$ac_link\""\n-case \""(($ac_try\"" in\n-  *\\\""* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\""\\\""\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\""\""\n-$as_echo \""$ac_try_echo\""; } >&5\n-  (eval \""$ac_link\"") 2>conftest.err\n-  ac_status=$?\n-  if test -s conftest.err; then\n-    grep -v '^ *+' conftest.err >conftest.er1\n-    cat conftest.er1 >&5\n-    mv -f conftest.er1 conftest.err\n-  fi\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; } && {\n-\t test -z \""$ac_c_werror_flag\"" ||\n-\t test ! -s conftest.err\n-       } && test -s conftest$ac_exeext && {\n-\t test \""$cross_compiling\"" = yes ||\n-\t test -x conftest$ac_exeext\n-       }; then :\n-  ac_retval=0\n-else\n-  $as_echo \""$as_me: failed program was:\"" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-\tac_retval=1\n-fi\n-  # Delete the IPA/IPO (Inter Procedural Analysis/Optimization) information\n-  # created by the PGI compiler (conftest_ipa8_conftest.oo), as it would\n-  # interfere with the next link command; also delete a directory that is\n-  # left behind by Apple's compiler.  We do this before executing the actions.\n-  rm -rf conftest.dSYM conftest_ipa8_conftest.oo\n-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n-  as_fn_set_status $ac_retval\n-\n-} # ac_fn_c_try_link\n-\n-# ac_fn_c_check_header_compile LINENO HEADER VAR INCLUDES\n-# -------------------------------------------------------\n-# Tests whether HEADER exists and can be compiled using the include files in\n-# INCLUDES, setting the cache variable VAR accordingly.\n-ac_fn_c_check_header_compile ()\n-{\n-  as_lineno=${as_lineno-\""$1\""} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $2\"" >&5\n-$as_echo_n \""checking for $2... \"" >&6; }\n-if eval \\${$3+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-$4\n-#include <$2>\n-_ACEOF\n-if ac_fn_c_try_compile \""$LINENO\""; then :\n-  eval \""$3=yes\""\n-else\n-  eval \""$3=no\""\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-fi\n-eval ac_res=\\$$3\n-\t       { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_res\"" >&5\n-$as_echo \""$ac_res\"" >&6; }\n-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n-\n-} # ac_fn_c_check_header_compile\n-\n-# ac_fn_c_try_run LINENO\n-# ----------------------\n-# Try to link conftest.$ac_ext, and return whether this succeeded. Assumes\n-# that executables *can* be run.\n-ac_fn_c_try_run ()\n-{\n-  as_lineno=${as_lineno-\""$1\""} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-  if { { ac_try=\""$ac_link\""\n-case \""(($ac_try\"" in\n-  *\\\""* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\""\\\""\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\""\""\n-$as_echo \""$ac_try_echo\""; } >&5\n-  (eval \""$ac_link\"") 2>&5\n-  ac_status=$?\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; } && { ac_try='./conftest$ac_exeext'\n-  { { case \""(($ac_try\"" in\n-  *\\\""* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\""\\\""\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\""\""\n-$as_echo \""$ac_try_echo\""; } >&5\n-  (eval \""$ac_try\"") 2>&5\n-  ac_status=$?\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; }; }; then :\n-  ac_retval=0\n-else\n-  $as_echo \""$as_me: program exited with status $ac_status\"" >&5\n-       $as_echo \""$as_me: failed program was:\"" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-       ac_retval=$ac_status\n-fi\n-  rm -rf conftest.dSYM conftest_ipa8_conftest.oo\n-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n-  as_fn_set_status $ac_retval\n-\n-} # ac_fn_c_try_run\n-\n-# ac_fn_c_check_func LINENO FUNC VAR\n-# ----------------------------------\n-# Tests whether FUNC exists, setting the cache variable VAR accordingly\n-ac_fn_c_check_func ()\n-{\n-  as_lineno=${as_lineno-\""$1\""} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $2\"" >&5\n-$as_echo_n \""checking for $2... \"" >&6; }\n-if eval \\${$3+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-/* Define $2 to an innocuous variant, in case <limits.h> declares $2.\n-   For example, HP-UX 11i <limits.h> declares gettimeofday.  */\n-#define $2 innocuous_$2\n-\n-/* System header to define __stub macros and hopefully few prototypes,\n-    which can conflict with char $2 (); below.\n-    Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n-    <limits.h> exists even on freestanding compilers.  */\n-\n-#ifdef __STDC__\n-# include <limits.h>\n-#else\n-# include <assert.h>\n-#endif\n-\n-#undef $2\n-\n-/* Override any GCC internal prototype to avoid an error.\n-   Use char because int might match the return type of a GCC\n-   builtin and then its argument prototype would still apply.  */\n-#ifdef __cplusplus\n-extern \""C\""\n-#endif\n-char $2 ();\n-/* The GNU C library defines this for functions which it implements\n-    to always fail with ENOSYS.  Some functions are actually named\n-    something starting with __ and the normal name is an alias.  */\n-#if defined __stub_$2 || defined __stub___$2\n-choke me\n-#endif\n-\n-int\n-main ()\n-{\n-return $2 ();\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_link \""$LINENO\""; then :\n-  eval \""$3=yes\""\n-else\n-  eval \""$3=no\""\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n-fi\n-eval ac_res=\\$$3\n-\t       { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_res\"" >&5\n-$as_echo \""$ac_res\"" >&6; }\n-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n-\n-} # ac_fn_c_check_func\n-\n-# ac_fn_c_check_type LINENO TYPE VAR INCLUDES\n-# -------------------------------------------\n-# Tests whether TYPE exists after having included INCLUDES, setting cache\n-# variable VAR accordingly.\n-ac_fn_c_check_type ()\n-{\n-  as_lineno=${as_lineno-\""$1\""} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $2\"" >&5\n-$as_echo_n \""checking for $2... \"" >&6; }\n-if eval \\${$3+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  eval \""$3=no\""\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-$4\n-int\n-main ()\n-{\n-if (sizeof ($2))\n-\t return 0;\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \""$LINENO\""; then :\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-$4\n-int\n-main ()\n-{\n-if (sizeof (($2)))\n-\t    return 0;\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \""$LINENO\""; then :\n-\n-else\n-  eval \""$3=yes\""\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-fi\n-eval ac_res=\\$$3\n-\t       { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_res\"" >&5\n-$as_echo \""$ac_res\"" >&6; }\n-  eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno\n-\n-} # ac_fn_c_check_type\n-cat >config.log <<_ACEOF\n-This file contains any messages produced by compilers while\n-running configure, to aid debugging if configure makes a mistake.\n-\n-It was created by libpng $as_me 1.6.10, which was\n-generated by GNU Autoconf 2.69.  Invocation command line was\n-\n-  $ $0 $@\n-\n-_ACEOF\n-exec 5>>config.log\n-{\n-cat <<_ASUNAME\n-## --------- ##\n-## Platform. ##\n-## --------- ##\n-\n-hostname = `(hostname || uname -n) 2>/dev/null | sed 1q`\n-uname -m = `(uname -m) 2>/dev/null || echo unknown`\n-uname -r = `(uname -r) 2>/dev/null || echo unknown`\n-uname -s = `(uname -s) 2>/dev/null || echo unknown`\n-uname -v = `(uname -v) 2>/dev/null || echo unknown`\n-\n-/usr/bin/uname -p = `(/usr/bin/uname -p) 2>/dev/null || echo unknown`\n-/bin/uname -X     = `(/bin/uname -X) 2>/dev/null     || echo unknown`\n-\n-/bin/arch              = `(/bin/arch) 2>/dev/null              || echo unknown`\n-/usr/bin/arch -k       = `(/usr/bin/arch -k) 2>/dev/null       || echo unknown`\n-/usr/convex/getsysinfo = `(/usr/convex/getsysinfo) 2>/dev/null || echo unknown`\n-/usr/bin/hostinfo      = `(/usr/bin/hostinfo) 2>/dev/null      || echo unknown`\n-/bin/machine           = `(/bin/machine) 2>/dev/null           || echo unknown`\n-/usr/bin/oslevel       = `(/usr/bin/oslevel) 2>/dev/null       || echo unknown`\n-/bin/universe          = `(/bin/universe) 2>/dev/null          || echo unknown`\n-\n-_ASUNAME\n-\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    $as_echo \""PATH: $as_dir\""\n-  done\n-IFS=$as_save_IFS\n-\n-} >&5\n-\n-cat >&5 <<_ACEOF\n-\n-\n-## ----------- ##\n-## Core tests. ##\n-## ----------- ##\n-\n-_ACEOF\n-\n-\n-# Keep a trace of the command line.\n-# Strip out --no-create and --no-recursion so they do not pile up.\n-# Strip out --silent because we don't want to record it for future runs.\n-# Also quote any args containing shell meta-characters.\n-# Make two passes to allow for proper duplicate-argument suppression.\n-ac_configure_args=\n-ac_configure_args0=\n-ac_configure_args1=\n-ac_must_keep_next=false\n-for ac_pass in 1 2\n-do\n-  for ac_arg\n-  do\n-    case $ac_arg in\n-    -no-create | --no-c* | -n | -no-recursion | --no-r*) continue ;;\n-    -q | -quiet | --quiet | --quie | --qui | --qu | --q \\\n-    | -silent | --silent | --silen | --sile | --sil)\n-      continue ;;\n-    *\\'*)\n-      ac_arg=`$as_echo \""$ac_arg\"" | sed \""s/'/'\\\\\\\\\\\\\\\\''/g\""` ;;\n-    esac\n-    case $ac_pass in\n-    1) as_fn_append ac_configure_args0 \"" '$ac_arg'\"" ;;\n-    2)\n-      as_fn_append ac_configure_args1 \"" '$ac_arg'\""\n-      if test $ac_must_keep_next = true; then\n-\tac_must_keep_next=false # Got value, back to normal.\n-      else\n-\tcase $ac_arg in\n-\t  *=* | --config-cache | -C | -disable-* | --disable-* \\\n-\t  | -enable-* | --enable-* | -gas | --g* | -nfp | --nf* \\\n-\t  | -q | -quiet | --q* | -silent | --sil* | -v | -verb* \\\n-\t  | -with-* | --with-* | -without-* | --without-* | --x)\n-\t    case \""$ac_configure_args0 \"" in\n-\t      \""$ac_configure_args1\""*\"" '$ac_arg' \""* ) continue ;;\n-\t    esac\n-\t    ;;\n-\t  -* ) ac_must_keep_next=true ;;\n-\tesac\n-      fi\n-      as_fn_append ac_configure_args \"" '$ac_arg'\""\n-      ;;\n-    esac\n-  done\n-done\n-{ ac_configure_args0=; unset ac_configure_args0;}\n-{ ac_configure_args1=; unset ac_configure_args1;}\n-\n-# When interrupted or exit'd, cleanup temporary files, and complete\n-# config.log.  We remove comments because anyway the quotes in there\n-# would cause problems or look ugly.\n-# WARNING: Use '\\'' to represent an apostrophe within the trap.\n-# WARNING: Do not start the trap code with a newline, due to a FreeBSD 4.0 bug.\n-trap 'exit_status=$?\n-  # Save into config.log some information that might help in debugging.\n-  {\n-    echo\n-\n-    $as_echo \""## ---------------- ##\n-## Cache variables. ##\n-## ---------------- ##\""\n-    echo\n-    # The following way of writing the cache mishandles newlines in values,\n-(\n-  for ac_var in `(set) 2>&1 | sed -n '\\''s/^\\([a-zA-Z_][a-zA-Z0-9_]*\\)=.*/\\1/p'\\''`; do\n-    eval ac_val=\\$$ac_var\n-    case $ac_val in #(\n-    *${as_nl}*)\n-      case $ac_var in #(\n-      *_cv_*) { $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: cache variable $ac_var contains a newline\"" >&5\n-$as_echo \""$as_me: WARNING: cache variable $ac_var contains a newline\"" >&2;} ;;\n-      esac\n-      case $ac_var in #(\n-      _ | IFS | as_nl) ;; #(\n-      BASH_ARGV | BASH_SOURCE) eval $ac_var= ;; #(\n-      *) { eval $ac_var=; unset $ac_var;} ;;\n-      esac ;;\n-    esac\n-  done\n-  (set) 2>&1 |\n-    case $as_nl`(ac_space='\\'' '\\''; set) 2>&1` in #(\n-    *${as_nl}ac_space=\\ *)\n-      sed -n \\\n-\t\""s/'\\''/'\\''\\\\\\\\'\\'''\\''/g;\n-\t  s/^\\\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\\\)=\\\\(.*\\\\)/\\\\1='\\''\\\\2'\\''/p\""\n-      ;; #(\n-    *)\n-      sed -n \""/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p\""\n-      ;;\n-    esac |\n-    sort\n-)\n-    echo\n-\n-    $as_echo \""## ----------------- ##\n-## Output variables. ##\n-## ----------------- ##\""\n-    echo\n-    for ac_var in $ac_subst_vars\n-    do\n-      eval ac_val=\\$$ac_var\n-      case $ac_val in\n-      *\\'\\''*) ac_val=`$as_echo \""$ac_val\"" | sed \""s/'\\''/'\\''\\\\\\\\\\\\\\\\'\\'''\\''/g\""`;;\n-      esac\n-      $as_echo \""$ac_var='\\''$ac_val'\\''\""\n-    done | sort\n-    echo\n-\n-    if test -n \""$ac_subst_files\""; then\n-      $as_echo \""## ------------------- ##\n-## File substitutions. ##\n-## ------------------- ##\""\n-      echo\n-      for ac_var in $ac_subst_files\n-      do\n-\teval ac_val=\\$$ac_var\n-\tcase $ac_val in\n-\t*\\'\\''*) ac_val=`$as_echo \""$ac_val\"" | sed \""s/'\\''/'\\''\\\\\\\\\\\\\\\\'\\'''\\''/g\""`;;\n-\tesac\n-\t$as_echo \""$ac_var='\\''$ac_val'\\''\""\n-      done | sort\n-      echo\n-    fi\n-\n-    if test -s confdefs.h; then\n-      $as_echo \""## ----------- ##\n-## confdefs.h. ##\n-## ----------- ##\""\n-      echo\n-      cat confdefs.h\n-      echo\n-    fi\n-    test \""$ac_signal\"" != 0 &&\n-      $as_echo \""$as_me: caught signal $ac_signal\""\n-    $as_echo \""$as_me: exit $exit_status\""\n-  } >&5\n-  rm -f core *.core core.conftest.* &&\n-    rm -f -r conftest* confdefs* conf$$* $ac_clean_files &&\n-    exit $exit_status\n-' 0\n-for ac_signal in 1 2 13 15; do\n-  trap 'ac_signal='$ac_signal'; as_fn_exit 1' $ac_signal\n-done\n-ac_signal=0\n-\n-# confdefs.h avoids OS command line length limits that DEFS can exceed.\n-rm -f -r conftest* confdefs.h\n-\n-$as_echo \""/* confdefs.h */\"" > confdefs.h\n-\n-# Predefined preprocessor variables.\n-\n-cat >>confdefs.h <<_ACEOF\n-#define PACKAGE_NAME \""$PACKAGE_NAME\""\n-_ACEOF\n-\n-cat >>confdefs.h <<_ACEOF\n-#define PACKAGE_TARNAME \""$PACKAGE_TARNAME\""\n-_ACEOF\n-\n-cat >>confdefs.h <<_ACEOF\n-#define PACKAGE_VERSION \""$PACKAGE_VERSION\""\n-_ACEOF\n-\n-cat >>confdefs.h <<_ACEOF\n-#define PACKAGE_STRING \""$PACKAGE_STRING\""\n-_ACEOF\n-\n-cat >>confdefs.h <<_ACEOF\n-#define PACKAGE_BUGREPORT \""$PACKAGE_BUGREPORT\""\n-_ACEOF\n-\n-cat >>confdefs.h <<_ACEOF\n-#define PACKAGE_URL \""$PACKAGE_URL\""\n-_ACEOF\n-\n-\n-# Let the site file select an alternate cache file if it wants to.\n-# Prefer an explicitly selected file to automatically selected ones.\n-ac_site_file1=NONE\n-ac_site_file2=NONE\n-if test -n \""$CONFIG_SITE\""; then\n-  # We do not want a PATH search for config.site.\n-  case $CONFIG_SITE in #((\n-    -*)  ac_site_file1=./$CONFIG_SITE;;\n-    */*) ac_site_file1=$CONFIG_SITE;;\n-    *)   ac_site_file1=./$CONFIG_SITE;;\n-  esac\n-elif test \""x$prefix\"" != xNONE; then\n-  ac_site_file1=$prefix/share/config.site\n-  ac_site_file2=$prefix/etc/config.site\n-else\n-  ac_site_file1=$ac_default_prefix/share/config.site\n-  ac_site_file2=$ac_default_prefix/etc/config.site\n-fi\n-for ac_site_file in \""$ac_site_file1\"" \""$ac_site_file2\""\n-do\n-  test \""x$ac_site_file\"" = xNONE && continue\n-  if test /dev/null != \""$ac_site_file\"" && test -r \""$ac_site_file\""; then\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: loading site script $ac_site_file\"" >&5\n-$as_echo \""$as_me: loading site script $ac_site_file\"" >&6;}\n-    sed 's/^/| /' \""$ac_site_file\"" >&5\n-    . \""$ac_site_file\"" \\\n-      || { { $as_echo \""$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\"" >&5\n-$as_echo \""$as_me: error: in \\`$ac_pwd':\"" >&2;}\n-as_fn_error $? \""failed to load site script $ac_site_file\n-See \\`config.log' for more details\"" \""$LINENO\"" 5; }\n-  fi\n-done\n-\n-if test -r \""$cache_file\""; then\n-  # Some versions of bash will fail to source /dev/null (special files\n-  # actually), so we avoid doing that.  DJGPP emulates it as a regular file.\n-  if test /dev/null != \""$cache_file\"" && test -f \""$cache_file\""; then\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: loading cache $cache_file\"" >&5\n-$as_echo \""$as_me: loading cache $cache_file\"" >&6;}\n-    case $cache_file in\n-      [\\\\/]* | ?:[\\\\/]* ) . \""$cache_file\"";;\n-      *)                      . \""./$cache_file\"";;\n-    esac\n-  fi\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: creating cache $cache_file\"" >&5\n-$as_echo \""$as_me: creating cache $cache_file\"" >&6;}\n-  >$cache_file\n-fi\n-\n-# Check that the precious variables saved in the cache have kept the same\n-# value.\n-ac_cache_corrupted=false\n-for ac_var in $ac_precious_vars; do\n-  eval ac_old_set=\\$ac_cv_env_${ac_var}_set\n-  eval ac_new_set=\\$ac_env_${ac_var}_set\n-  eval ac_old_val=\\$ac_cv_env_${ac_var}_value\n-  eval ac_new_val=\\$ac_env_${ac_var}_value\n-  case $ac_old_set,$ac_new_set in\n-    set,)\n-      { $as_echo \""$as_me:${as_lineno-$LINENO}: error: \\`$ac_var' was set to \\`$ac_old_val' in the previous run\"" >&5\n-$as_echo \""$as_me: error: \\`$ac_var' was set to \\`$ac_old_val' in the previous run\"" >&2;}\n-      ac_cache_corrupted=: ;;\n-    ,set)\n-      { $as_echo \""$as_me:${as_lineno-$LINENO}: error: \\`$ac_var' was not set in the previous run\"" >&5\n-$as_echo \""$as_me: error: \\`$ac_var' was not set in the previous run\"" >&2;}\n-      ac_cache_corrupted=: ;;\n-    ,);;\n-    *)\n-      if test \""x$ac_old_val\"" != \""x$ac_new_val\""; then\n-\t# differences in whitespace do not lead to failure.\n-\tac_old_val_w=`echo x $ac_old_val`\n-\tac_new_val_w=`echo x $ac_new_val`\n-\tif test \""$ac_old_val_w\"" != \""$ac_new_val_w\""; then\n-\t  { $as_echo \""$as_me:${as_lineno-$LINENO}: error: \\`$ac_var' has changed since the previous run:\"" >&5\n-$as_echo \""$as_me: error: \\`$ac_var' has changed since the previous run:\"" >&2;}\n-\t  ac_cache_corrupted=:\n-\telse\n-\t  { $as_echo \""$as_me:${as_lineno-$LINENO}: warning: ignoring whitespace changes in \\`$ac_var' since the previous run:\"" >&5\n-$as_echo \""$as_me: warning: ignoring whitespace changes in \\`$ac_var' since the previous run:\"" >&2;}\n-\t  eval $ac_var=\\$ac_old_val\n-\tfi\n-\t{ $as_echo \""$as_me:${as_lineno-$LINENO}:   former value:  \\`$ac_old_val'\"" >&5\n-$as_echo \""$as_me:   former value:  \\`$ac_old_val'\"" >&2;}\n-\t{ $as_echo \""$as_me:${as_lineno-$LINENO}:   current value: \\`$ac_new_val'\"" >&5\n-$as_echo \""$as_me:   current value: \\`$ac_new_val'\"" >&2;}\n-      fi;;\n-  esac\n-  # Pass precious variables to config.status.\n-  if test \""$ac_new_set\"" = set; then\n-    case $ac_new_val in\n-    *\\'*) ac_arg=$ac_var=`$as_echo \""$ac_new_val\"" | sed \""s/'/'\\\\\\\\\\\\\\\\''/g\""` ;;\n-    *) ac_arg=$ac_var=$ac_new_val ;;\n-    esac\n-    case \"" $ac_configure_args \"" in\n-      *\"" '$ac_arg' \""*) ;; # Avoid dups.  Use of quotes ensures accuracy.\n-      *) as_fn_append ac_configure_args \"" '$ac_arg'\"" ;;\n-    esac\n-  fi\n-done\n-if $ac_cache_corrupted; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\"" >&5\n-$as_echo \""$as_me: error: in \\`$ac_pwd':\"" >&2;}\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: error: changes in the environment can compromise the build\"" >&5\n-$as_echo \""$as_me: error: changes in the environment can compromise the build\"" >&2;}\n-  as_fn_error $? \""run \\`make distclean' and/or \\`rm $cache_file' and start over\"" \""$LINENO\"" 5\n-fi\n-## -------------------- ##\n-## Main body of script. ##\n-## -------------------- ##\n-\n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-\n-\n-\n-\n-# libpng does not follow GNU file name conventions (hence 'foreign')\n-# color-tests requires automake 1.11 or later\n-# silent-rules requires automake 1.11 or later\n-# dist-xz requires automake 1.11 or later\n-# 1.12.2 fixes a security issue in 1.11.2 and 1.12.1\n-# 1.13 is required for parallel tests\n-am__api_version='1.14'\n-\n-ac_aux_dir=\n-for ac_dir in \""$srcdir\"" \""$srcdir/..\"" \""$srcdir/../..\""; do\n-  if test -f \""$ac_dir/install-sh\""; then\n-    ac_aux_dir=$ac_dir\n-    ac_install_sh=\""$ac_aux_dir/install-sh -c\""\n-    break\n-  elif test -f \""$ac_dir/install.sh\""; then\n-    ac_aux_dir=$ac_dir\n-    ac_install_sh=\""$ac_aux_dir/install.sh -c\""\n-    break\n-  elif test -f \""$ac_dir/shtool\""; then\n-    ac_aux_dir=$ac_dir\n-    ac_install_sh=\""$ac_aux_dir/shtool install -c\""\n-    break\n-  fi\n-done\n-if test -z \""$ac_aux_dir\""; then\n-  as_fn_error $? \""cannot find install-sh, install.sh, or shtool in \\\""$srcdir\\\"" \\\""$srcdir/..\\\"" \\\""$srcdir/../..\\\""\"" \""$LINENO\"" 5\n-fi\n-\n-# These three variables are undocumented and unsupported,\n-# and are intended to be withdrawn in a future Autoconf release.\n-# They can cause serious problems if a builder's source tree is in a directory\n-# whose full name contains unusual characters.\n-ac_config_guess=\""$SHELL $ac_aux_dir/config.guess\""  # Please don't use this var.\n-ac_config_sub=\""$SHELL $ac_aux_dir/config.sub\""  # Please don't use this var.\n-ac_configure=\""$SHELL $ac_aux_dir/configure\""  # Please don't use this var.\n-\n-\n-# Find a good install program.  We prefer a C program (faster),\n-# so one script is as good as another.  But avoid the broken or\n-# incompatible versions:\n-# SysV /etc/install, /usr/sbin/install\n-# SunOS /usr/etc/install\n-# IRIX /sbin/install\n-# AIX /bin/install\n-# AmigaOS /C/install, which installs bootblocks on floppy discs\n-# AIX 4 /usr/bin/installbsd, which doesn't work without a -g flag\n-# AFS /usr/afsws/bin/install, which mishandles nonexistent args\n-# SVR4 /usr/ucb/install, which tries to use the nonexistent group \""staff\""\n-# OS/2's system install, which has a completely different semantic\n-# ./install, which can be erroneously created by make from ./install.sh.\n-# Reject install programs that cannot install multiple files.\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for a BSD-compatible install\"" >&5\n-$as_echo_n \""checking for a BSD-compatible install... \"" >&6; }\n-if test -z \""$INSTALL\""; then\n-if ${ac_cv_path_install+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    # Account for people who put trailing slashes in PATH elements.\n-case $as_dir/ in #((\n-  ./ | .// | /[cC]/* | \\\n-  /etc/* | /usr/sbin/* | /usr/etc/* | /sbin/* | /usr/afsws/bin/* | \\\n-  ?:[\\\\/]os2[\\\\/]install[\\\\/]* | ?:[\\\\/]OS2[\\\\/]INSTALL[\\\\/]* | \\\n-  /usr/ucb/* ) ;;\n-  *)\n-    # OSF1 and SCO ODT 3.0 have their own names for install.\n-    # Don't use installbsd from OSF since it installs stuff as root\n-    # by default.\n-    for ac_prog in ginstall scoinst install; do\n-      for ac_exec_ext in '' $ac_executable_extensions; do\n-\tif as_fn_executable_p \""$as_dir/$ac_prog$ac_exec_ext\""; then\n-\t  if test $ac_prog = install &&\n-\t    grep dspmsg \""$as_dir/$ac_prog$ac_exec_ext\"" >/dev/null 2>&1; then\n-\t    # AIX install.  It has an incompatible calling convention.\n-\t    :\n-\t  elif test $ac_prog = install &&\n-\t    grep pwplus \""$as_dir/$ac_prog$ac_exec_ext\"" >/dev/null 2>&1; then\n-\t    # program-specific install script used by HP pwplus--don't use.\n-\t    :\n-\t  else\n-\t    rm -rf conftest.one conftest.two conftest.dir\n-\t    echo one > conftest.one\n-\t    echo two > conftest.two\n-\t    mkdir conftest.dir\n-\t    if \""$as_dir/$ac_prog$ac_exec_ext\"" -c conftest.one conftest.two \""`pwd`/conftest.dir\"" &&\n-\t      test -s conftest.one && test -s conftest.two &&\n-\t      test -s conftest.dir/conftest.one &&\n-\t      test -s conftest.dir/conftest.two\n-\t    then\n-\t      ac_cv_path_install=\""$as_dir/$ac_prog$ac_exec_ext -c\""\n-\t      break 3\n-\t    fi\n-\t  fi\n-\tfi\n-      done\n-    done\n-    ;;\n-esac\n-\n-  done\n-IFS=$as_save_IFS\n-\n-rm -rf conftest.one conftest.two conftest.dir\n-\n-fi\n-  if test \""${ac_cv_path_install+set}\"" = set; then\n-    INSTALL=$ac_cv_path_install\n-  else\n-    # As a last resort, use the slow shell script.  Don't cache a\n-    # value for INSTALL within a source directory, because that will\n-    # break other packages using the cache if that directory is\n-    # removed, or if the value is a relative name.\n-    INSTALL=$ac_install_sh\n-  fi\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $INSTALL\"" >&5\n-$as_echo \""$INSTALL\"" >&6; }\n-\n-# Use test -z because SunOS4 sh mishandles braces in ${var-val}.\n-# It thinks the first close brace ends the variable substitution.\n-test -z \""$INSTALL_PROGRAM\"" && INSTALL_PROGRAM='${INSTALL}'\n-\n-test -z \""$INSTALL_SCRIPT\"" && INSTALL_SCRIPT='${INSTALL}'\n-\n-test -z \""$INSTALL_DATA\"" && INSTALL_DATA='${INSTALL} -m 644'\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether build environment is sane\"" >&5\n-$as_echo_n \""checking whether build environment is sane... \"" >&6; }\n-# Reject unsafe characters in $srcdir or the absolute working directory\n-# name.  Accept space and tab only in the latter.\n-am_lf='\n-'\n-case `pwd` in\n-  *[\\\\\\\""\\#\\$\\&\\'\\`$am_lf]*)\n-    as_fn_error $? \""unsafe absolute working directory name\"" \""$LINENO\"" 5;;\n-esac\n-case $srcdir in\n-  *[\\\\\\\""\\#\\$\\&\\'\\`$am_lf\\ \\\t]*)\n-    as_fn_error $? \""unsafe srcdir value: '$srcdir'\"" \""$LINENO\"" 5;;\n-esac\n-\n-# Do 'set' in a subshell so we don't clobber the current shell's\n-# arguments.  Must try -L first in case configure is actually a\n-# symlink; some systems play weird games with the mod time of symlinks\n-# (eg FreeBSD returns the mod time of the symlink's containing\n-# directory).\n-if (\n-   am_has_slept=no\n-   for am_try in 1 2; do\n-     echo \""timestamp, slept: $am_has_slept\"" > conftest.file\n-     set X `ls -Lt \""$srcdir/configure\"" conftest.file 2> /dev/null`\n-     if test \""$*\"" = \""X\""; then\n-\t# -L didn't work.\n-\tset X `ls -t \""$srcdir/configure\"" conftest.file`\n-     fi\n-     if test \""$*\"" != \""X $srcdir/configure conftest.file\"" \\\n-\t&& test \""$*\"" != \""X conftest.file $srcdir/configure\""; then\n-\n-\t# If neither matched, then we have a broken ls.  This can happen\n-\t# if, for instance, CONFIG_SHELL is bash and it inherits a\n-\t# broken ls alias from the environment.  This has actually\n-\t# happened.  Such a system could not be considered \""sane\"".\n-\tas_fn_error $? \""ls -t appears to fail.  Make sure there is not a broken\n-  alias in your environment\"" \""$LINENO\"" 5\n-     fi\n-     if test \""$2\"" = conftest.file || test $am_try -eq 2; then\n-       break\n-     fi\n-     # Just in case.\n-     sleep 1\n-     am_has_slept=yes\n-   done\n-   test \""$2\"" = conftest.file\n-   )\n-then\n-   # Ok.\n-   :\n-else\n-   as_fn_error $? \""newly created file is older than distributed files!\n-Check your system clock\"" \""$LINENO\"" 5\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: yes\"" >&5\n-$as_echo \""yes\"" >&6; }\n-# If we didn't sleep, we still need to ensure time stamps of config.status and\n-# generated files are strictly newer.\n-am_sleep_pid=\n-if grep 'slept: no' conftest.file >/dev/null 2>&1; then\n-  ( sleep 1 ) &\n-  am_sleep_pid=$!\n-fi\n-\n-rm -f conftest.file\n-\n-test \""$program_prefix\"" != NONE &&\n-  program_transform_name=\""s&^&$program_prefix&;$program_transform_name\""\n-# Use a double $ so make ignores it.\n-test \""$program_suffix\"" != NONE &&\n-  program_transform_name=\""s&\\$&$program_suffix&;$program_transform_name\""\n-# Double any \\ or $.\n-# By default was `s,x,x', remove it if useless.\n-ac_script='s/[\\\\$]/&&/g;s/;s,x,x,$//'\n-program_transform_name=`$as_echo \""$program_transform_name\"" | sed \""$ac_script\""`\n-\n-# expand $ac_aux_dir to an absolute path\n-am_aux_dir=`cd $ac_aux_dir && pwd`\n-\n-if test x\""${MISSING+set}\"" != xset; then\n-  case $am_aux_dir in\n-  *\\ * | *\\\t*)\n-    MISSING=\""\\${SHELL} \\\""$am_aux_dir/missing\\\""\"" ;;\n-  *)\n-    MISSING=\""\\${SHELL} $am_aux_dir/missing\"" ;;\n-  esac\n-fi\n-# Use eval to expand $SHELL\n-if eval \""$MISSING --is-lightweight\""; then\n-  am_missing_run=\""$MISSING \""\n-else\n-  am_missing_run=\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: 'missing' script is too old or missing\"" >&5\n-$as_echo \""$as_me: WARNING: 'missing' script is too old or missing\"" >&2;}\n-fi\n-\n-if test x\""${install_sh}\"" != xset; then\n-  case $am_aux_dir in\n-  *\\ * | *\\\t*)\n-    install_sh=\""\\${SHELL} '$am_aux_dir/install-sh'\"" ;;\n-  *)\n-    install_sh=\""\\${SHELL} $am_aux_dir/install-sh\""\n-  esac\n-fi\n-\n-# Installed binaries are usually stripped using 'strip' when the user\n-# run \""make install-strip\"".  However 'strip' might not be the right\n-# tool to use in cross-compilation environments, therefore Automake\n-# will honor the 'STRIP' environment variable to overrule this program.\n-if test \""$cross_compiling\"" != no; then\n-  if test -n \""$ac_tool_prefix\""; then\n-  # Extract the first word of \""${ac_tool_prefix}strip\"", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}strip; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_STRIP+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$STRIP\""; then\n-  ac_cv_prog_STRIP=\""$STRIP\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_STRIP=\""${ac_tool_prefix}strip\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-STRIP=$ac_cv_prog_STRIP\n-if test -n \""$STRIP\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $STRIP\"" >&5\n-$as_echo \""$STRIP\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-fi\n-if test -z \""$ac_cv_prog_STRIP\""; then\n-  ac_ct_STRIP=$STRIP\n-  # Extract the first word of \""strip\"", so it can be a program name with args.\n-set dummy strip; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_ac_ct_STRIP+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$ac_ct_STRIP\""; then\n-  ac_cv_prog_ac_ct_STRIP=\""$ac_ct_STRIP\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_ac_ct_STRIP=\""strip\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_STRIP=$ac_cv_prog_ac_ct_STRIP\n-if test -n \""$ac_ct_STRIP\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_ct_STRIP\"" >&5\n-$as_echo \""$ac_ct_STRIP\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-  if test \""x$ac_ct_STRIP\"" = x; then\n-    STRIP=\"":\""\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\"" >&5\n-$as_echo \""$as_me: WARNING: using cross tools not prefixed with host triplet\"" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    STRIP=$ac_ct_STRIP\n-  fi\n-else\n-  STRIP=\""$ac_cv_prog_STRIP\""\n-fi\n-\n-fi\n-INSTALL_STRIP_PROGRAM=\""\\$(install_sh) -c -s\""\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for a thread-safe mkdir -p\"" >&5\n-$as_echo_n \""checking for a thread-safe mkdir -p... \"" >&6; }\n-if test -z \""$MKDIR_P\""; then\n-  if ${ac_cv_path_mkdir+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH$PATH_SEPARATOR/opt/sfw/bin\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_prog in mkdir gmkdir; do\n-\t for ac_exec_ext in '' $ac_executable_extensions; do\n-\t   as_fn_executable_p \""$as_dir/$ac_prog$ac_exec_ext\"" || continue\n-\t   case `\""$as_dir/$ac_prog$ac_exec_ext\"" --version 2>&1` in #(\n-\t     'mkdir (GNU coreutils) '* | \\\n-\t     'mkdir (coreutils) '* | \\\n-\t     'mkdir (fileutils) '4.1*)\n-\t       ac_cv_path_mkdir=$as_dir/$ac_prog$ac_exec_ext\n-\t       break 3;;\n-\t   esac\n-\t done\n-       done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-\n-  test -d ./--version && rmdir ./--version\n-  if test \""${ac_cv_path_mkdir+set}\"" = set; then\n-    MKDIR_P=\""$ac_cv_path_mkdir -p\""\n-  else\n-    # As a last resort, use the slow shell script.  Don't cache a\n-    # value for MKDIR_P within a source directory, because that will\n-    # break other packages using the cache if that directory is\n-    # removed, or if the value is a relative name.\n-    MKDIR_P=\""$ac_install_sh -d\""\n-  fi\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $MKDIR_P\"" >&5\n-$as_echo \""$MKDIR_P\"" >&6; }\n-\n-for ac_prog in gawk mawk nawk awk\n-do\n-  # Extract the first word of \""$ac_prog\"", so it can be a program name with args.\n-set dummy $ac_prog; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_AWK+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$AWK\""; then\n-  ac_cv_prog_AWK=\""$AWK\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_AWK=\""$ac_prog\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-AWK=$ac_cv_prog_AWK\n-if test -n \""$AWK\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $AWK\"" >&5\n-$as_echo \""$AWK\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-  test -n \""$AWK\"" && break\n-done\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether ${MAKE-make} sets \\$(MAKE)\"" >&5\n-$as_echo_n \""checking whether ${MAKE-make} sets \\$(MAKE)... \"" >&6; }\n-set x ${MAKE-make}\n-ac_make=`$as_echo \""$2\"" | sed 's/+/p/g; s/[^a-zA-Z0-9_]/_/g'`\n-if eval \\${ac_cv_prog_make_${ac_make}_set+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  cat >conftest.make <<\\_ACEOF\n-SHELL = /bin/sh\n-all:\n-\t@echo '@@@%%%=$(MAKE)=@@@%%%'\n-_ACEOF\n-# GNU make sometimes prints \""make[1]: Entering ...\"", which would confuse us.\n-case `${MAKE-make} -f conftest.make 2>/dev/null` in\n-  *@@@%%%=?*=@@@%%%*)\n-    eval ac_cv_prog_make_${ac_make}_set=yes;;\n-  *)\n-    eval ac_cv_prog_make_${ac_make}_set=no;;\n-esac\n-rm -f conftest.make\n-fi\n-if eval test \\$ac_cv_prog_make_${ac_make}_set = yes; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: yes\"" >&5\n-$as_echo \""yes\"" >&6; }\n-  SET_MAKE=\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-  SET_MAKE=\""MAKE=${MAKE-make}\""\n-fi\n-\n-rm -rf .tst 2>/dev/null\n-mkdir .tst 2>/dev/null\n-if test -d .tst; then\n-  am__leading_dot=.\n-else\n-  am__leading_dot=_\n-fi\n-rmdir .tst 2>/dev/null\n-\n-# Check whether --enable-silent-rules was given.\n-if test \""${enable_silent_rules+set}\"" = set; then :\n-  enableval=$enable_silent_rules;\n-fi\n-\n-case $enable_silent_rules in # (((\n-  yes) AM_DEFAULT_VERBOSITY=0;;\n-   no) AM_DEFAULT_VERBOSITY=1;;\n-    *) AM_DEFAULT_VERBOSITY=1;;\n-esac\n-am_make=${MAKE-make}\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether $am_make supports nested variables\"" >&5\n-$as_echo_n \""checking whether $am_make supports nested variables... \"" >&6; }\n-if ${am_cv_make_support_nested_variables+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if $as_echo 'TRUE=$(BAR$(V))\n-BAR0=false\n-BAR1=true\n-V=1\n-am__doit:\n-\t@$(TRUE)\n-.PHONY: am__doit' | $am_make -f - >/dev/null 2>&1; then\n-  am_cv_make_support_nested_variables=yes\n-else\n-  am_cv_make_support_nested_variables=no\n-fi\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $am_cv_make_support_nested_variables\"" >&5\n-$as_echo \""$am_cv_make_support_nested_variables\"" >&6; }\n-if test $am_cv_make_support_nested_variables = yes; then\n-    AM_V='$(V)'\n-  AM_DEFAULT_V='$(AM_DEFAULT_VERBOSITY)'\n-else\n-  AM_V=$AM_DEFAULT_VERBOSITY\n-  AM_DEFAULT_V=$AM_DEFAULT_VERBOSITY\n-fi\n-AM_BACKSLASH='\\'\n-\n-if test \""`cd $srcdir && pwd`\"" != \""`pwd`\""; then\n-  # Use -I$(srcdir) only when $(srcdir) != ., so that make's output\n-  # is not polluted with repeated \""-I.\""\n-  am__isrc=' -I$(srcdir)'\n-  # test to see if srcdir already configured\n-  if test -f $srcdir/config.status; then\n-    as_fn_error $? \""source directory already configured; run \\\""make distclean\\\"" there first\"" \""$LINENO\"" 5\n-  fi\n-fi\n-\n-# test whether we have cygpath\n-if test -z \""$CYGPATH_W\""; then\n-  if (cygpath --version) >/dev/null 2>/dev/null; then\n-    CYGPATH_W='cygpath -w'\n-  else\n-    CYGPATH_W=echo\n-  fi\n-fi\n-\n-\n-# Define the identity of the package.\n- PACKAGE='libpng'\n- VERSION='1.6.10'\n-\n-\n-cat >>confdefs.h <<_ACEOF\n-#define PACKAGE \""$PACKAGE\""\n-_ACEOF\n-\n-\n-cat >>confdefs.h <<_ACEOF\n-#define VERSION \""$VERSION\""\n-_ACEOF\n-\n-# Some tools Automake needs.\n-\n-ACLOCAL=${ACLOCAL-\""${am_missing_run}aclocal-${am__api_version}\""}\n-\n-\n-AUTOCONF=${AUTOCONF-\""${am_missing_run}autoconf\""}\n-\n-\n-AUTOMAKE=${AUTOMAKE-\""${am_missing_run}automake-${am__api_version}\""}\n-\n-\n-AUTOHEADER=${AUTOHEADER-\""${am_missing_run}autoheader\""}\n-\n-\n-MAKEINFO=${MAKEINFO-\""${am_missing_run}makeinfo\""}\n-\n-# For better backward compatibility.  To be removed once Automake 1.9.x\n-# dies out for good.  For more background, see:\n-# <http://lists.gnu.org/archive/html/automake/2012-07/msg00001.html>\n-# <http://lists.gnu.org/archive/html/automake/2012-07/msg00014.html>\n-mkdir_p='$(MKDIR_P)'\n-\n-# We need awk for the \""check\"" target.  The system \""awk\"" is bad on\n-# some platforms.\n-# Always define AMTAR for backward compatibility.  Yes, it's still used\n-# in the wild :-(  We should find a proper way to deprecate it ...\n-AMTAR='$${TAR-tar}'\n-\n-\n-# We'll loop over all known methods to create a tar archive until one works.\n-_am_tools='gnutar  pax cpio none'\n-\n-am__tar='$${TAR-tar} chof - \""$$tardir\""' am__untar='$${TAR-tar} xf -'\n-\n-\n-\n-\n-\n-\n-# POSIX will say in a future version that running \""rm -f\"" with no argument\n-# is OK; and we want to be able to make that assumption in our Makefile\n-# recipes.  So use an aggressive probe to check that the usage we want is\n-# actually supported \""in the wild\"" to an acceptable degree.\n-# See automake bug#10828.\n-# To make any issue more visible, cause the running configure to be aborted\n-# by default if the 'rm' program in use doesn't match our expectations; the\n-# user can still override this though.\n-if rm -f && rm -fr && rm -rf; then : OK; else\n-  cat >&2 <<'END'\n-Oops!\n-\n-Your 'rm' program seems unable to run without file operands specified\n-on the command line, even when the '-f' option is present.  This is contrary\n-to the behaviour of most rm programs out there, and not conforming with\n-the upcoming POSIX standard: <http://austingroupbugs.net/view.php?id=542>\n-\n-Please tell bug-automake@gnu.org about your system, including the value\n-of your $PATH and any error possibly output before this message.  This\n-can help us improve future automake versions.\n-\n-END\n-  if test x\""$ACCEPT_INFERIOR_RM_PROGRAM\"" = x\""yes\""; then\n-    echo 'Configuration will proceed anyway, since you have set the' >&2\n-    echo 'ACCEPT_INFERIOR_RM_PROGRAM variable to \""yes\""' >&2\n-    echo >&2\n-  else\n-    cat >&2 <<'END'\n-Aborting the configuration process, to ensure you take notice of the issue.\n-\n-You can download and install GNU coreutils to get an 'rm' implementation\n-that behaves properly: <http://www.gnu.org/software/coreutils/>.\n-\n-If you want to complete the configuration process using your problematic\n-'rm' anyway, export the environment variable ACCEPT_INFERIOR_RM_PROGRAM\n-to \""yes\"", and re-run configure.\n-\n-END\n-    as_fn_error $? \""Your 'rm' program is bad, sorry.\"" \""$LINENO\"" 5\n-  fi\n-fi\n-# The following line causes --disable-maintainer-mode to be the default to\n-# configure, this is necessary because libpng distributions cannot rely on the\n-# time stamps of the autotools generated files being correct\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether to enable maintainer-specific portions of Makefiles\"" >&5\n-$as_echo_n \""checking whether to enable maintainer-specific portions of Makefiles... \"" >&6; }\n-    # Check whether --enable-maintainer-mode was given.\n-if test \""${enable_maintainer_mode+set}\"" = set; then :\n-  enableval=$enable_maintainer_mode; USE_MAINTAINER_MODE=$enableval\n-else\n-  USE_MAINTAINER_MODE=no\n-fi\n-\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $USE_MAINTAINER_MODE\"" >&5\n-$as_echo \""$USE_MAINTAINER_MODE\"" >&6; }\n-   if test $USE_MAINTAINER_MODE = yes; then\n-  MAINTAINER_MODE_TRUE=\n-  MAINTAINER_MODE_FALSE='#'\n-else\n-  MAINTAINER_MODE_TRUE='#'\n-  MAINTAINER_MODE_FALSE=\n-fi\n-\n-  MAINT=$MAINTAINER_MODE_TRUE\n-\n-\n-\n-\n-PNGLIB_VERSION=1.6.10\n-PNGLIB_MAJOR=1\n-PNGLIB_MINOR=6\n-PNGLIB_RELEASE=10\n-\n-\n-\n-ac_config_headers=\""$ac_config_headers config.h\""\n-\n-\n-# Checks for programs.\n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-\n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-if test -n \""$ac_tool_prefix\""; then\n-  # Extract the first word of \""${ac_tool_prefix}gcc\"", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}gcc; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_CC+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$CC\""; then\n-  ac_cv_prog_CC=\""$CC\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_CC=\""${ac_tool_prefix}gcc\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-CC=$ac_cv_prog_CC\n-if test -n \""$CC\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $CC\"" >&5\n-$as_echo \""$CC\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-fi\n-if test -z \""$ac_cv_prog_CC\""; then\n-  ac_ct_CC=$CC\n-  # Extract the first word of \""gcc\"", so it can be a program name with args.\n-set dummy gcc; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_ac_ct_CC+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$ac_ct_CC\""; then\n-  ac_cv_prog_ac_ct_CC=\""$ac_ct_CC\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_ac_ct_CC=\""gcc\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_CC=$ac_cv_prog_ac_ct_CC\n-if test -n \""$ac_ct_CC\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC\"" >&5\n-$as_echo \""$ac_ct_CC\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-  if test \""x$ac_ct_CC\"" = x; then\n-    CC=\""\""\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\"" >&5\n-$as_echo \""$as_me: WARNING: using cross tools not prefixed with host triplet\"" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    CC=$ac_ct_CC\n-  fi\n-else\n-  CC=\""$ac_cv_prog_CC\""\n-fi\n-\n-if test -z \""$CC\""; then\n-          if test -n \""$ac_tool_prefix\""; then\n-    # Extract the first word of \""${ac_tool_prefix}cc\"", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}cc; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_CC+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$CC\""; then\n-  ac_cv_prog_CC=\""$CC\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_CC=\""${ac_tool_prefix}cc\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-CC=$ac_cv_prog_CC\n-if test -n \""$CC\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $CC\"" >&5\n-$as_echo \""$CC\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-  fi\n-fi\n-if test -z \""$CC\""; then\n-  # Extract the first word of \""cc\"", so it can be a program name with args.\n-set dummy cc; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_CC+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$CC\""; then\n-  ac_cv_prog_CC=\""$CC\"" # Let the user override the test.\n-else\n-  ac_prog_rejected=no\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    if test \""$as_dir/$ac_word$ac_exec_ext\"" = \""/usr/ucb/cc\""; then\n-       ac_prog_rejected=yes\n-       continue\n-     fi\n-    ac_cv_prog_CC=\""cc\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-if test $ac_prog_rejected = yes; then\n-  # We found a bogon in the path, so make sure we never use it.\n-  set dummy $ac_cv_prog_CC\n-  shift\n-  if test $# != 0; then\n-    # We chose a different compiler from the bogus one.\n-    # However, it has the same basename, so the bogon will be chosen\n-    # first if we set CC to just the basename; use the full file name.\n-    shift\n-    ac_cv_prog_CC=\""$as_dir/$ac_word${1+' '}$@\""\n-  fi\n-fi\n-fi\n-fi\n-CC=$ac_cv_prog_CC\n-if test -n \""$CC\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $CC\"" >&5\n-$as_echo \""$CC\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-fi\n-if test -z \""$CC\""; then\n-  if test -n \""$ac_tool_prefix\""; then\n-  for ac_prog in cl.exe\n-  do\n-    # Extract the first word of \""$ac_tool_prefix$ac_prog\"", so it can be a program name with args.\n-set dummy $ac_tool_prefix$ac_prog; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_CC+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$CC\""; then\n-  ac_cv_prog_CC=\""$CC\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_CC=\""$ac_tool_prefix$ac_prog\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-CC=$ac_cv_prog_CC\n-if test -n \""$CC\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $CC\"" >&5\n-$as_echo \""$CC\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-    test -n \""$CC\"" && break\n-  done\n-fi\n-if test -z \""$CC\""; then\n-  ac_ct_CC=$CC\n-  for ac_prog in cl.exe\n-do\n-  # Extract the first word of \""$ac_prog\"", so it can be a program name with args.\n-set dummy $ac_prog; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_ac_ct_CC+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$ac_ct_CC\""; then\n-  ac_cv_prog_ac_ct_CC=\""$ac_ct_CC\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_ac_ct_CC=\""$ac_prog\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_CC=$ac_cv_prog_ac_ct_CC\n-if test -n \""$ac_ct_CC\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_ct_CC\"" >&5\n-$as_echo \""$ac_ct_CC\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-  test -n \""$ac_ct_CC\"" && break\n-done\n-\n-  if test \""x$ac_ct_CC\"" = x; then\n-    CC=\""\""\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\"" >&5\n-$as_echo \""$as_me: WARNING: using cross tools not prefixed with host triplet\"" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    CC=$ac_ct_CC\n-  fi\n-fi\n-\n-fi\n-\n-\n-test -z \""$CC\"" && { { $as_echo \""$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\"" >&5\n-$as_echo \""$as_me: error: in \\`$ac_pwd':\"" >&2;}\n-as_fn_error $? \""no acceptable C compiler found in \\$PATH\n-See \\`config.log' for more details\"" \""$LINENO\"" 5; }\n-\n-# Provide some information about the compiler.\n-$as_echo \""$as_me:${as_lineno-$LINENO}: checking for C compiler version\"" >&5\n-set X $ac_compile\n-ac_compiler=$2\n-for ac_option in --version -v -V -qversion; do\n-  { { ac_try=\""$ac_compiler $ac_option >&5\""\n-case \""(($ac_try\"" in\n-  *\\\""* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\""\\\""\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\""\""\n-$as_echo \""$ac_try_echo\""; } >&5\n-  (eval \""$ac_compiler $ac_option >&5\"") 2>conftest.err\n-  ac_status=$?\n-  if test -s conftest.err; then\n-    sed '10a\\\n-... rest of stderr output deleted ...\n-         10q' conftest.err >conftest.er1\n-    cat conftest.er1 >&5\n-  fi\n-  rm -f conftest.er1 conftest.err\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; }\n-done\n-\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-ac_clean_files_save=$ac_clean_files\n-ac_clean_files=\""$ac_clean_files a.out a.out.dSYM a.exe b.out\""\n-# Try to create an executable without -o first, disregard a.out.\n-# It will help us diagnose broken compilers, and finding out an intuition\n-# of exeext.\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether the C compiler works\"" >&5\n-$as_echo_n \""checking whether the C compiler works... \"" >&6; }\n-ac_link_default=`$as_echo \""$ac_link\"" | sed 's/ -o *conftest[^ ]*//'`\n-\n-# The possible output files:\n-ac_files=\""a.out conftest.exe conftest a.exe a_out.exe b.out conftest.*\""\n-\n-ac_rmfiles=\n-for ac_file in $ac_files\n-do\n-  case $ac_file in\n-    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;\n-    * ) ac_rmfiles=\""$ac_rmfiles $ac_file\"";;\n-  esac\n-done\n-rm -f $ac_rmfiles\n-\n-if { { ac_try=\""$ac_link_default\""\n-case \""(($ac_try\"" in\n-  *\\\""* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\""\\\""\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\""\""\n-$as_echo \""$ac_try_echo\""; } >&5\n-  (eval \""$ac_link_default\"") 2>&5\n-  ac_status=$?\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; }; then :\n-  # Autoconf-2.13 could set the ac_cv_exeext variable to `no'.\n-# So ignore a value of `no', otherwise this would lead to `EXEEXT = no'\n-# in a Makefile.  We should not override ac_cv_exeext if it was cached,\n-# so that the user can short-circuit this test for compilers unknown to\n-# Autoconf.\n-for ac_file in $ac_files ''\n-do\n-  test -f \""$ac_file\"" || continue\n-  case $ac_file in\n-    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj )\n-\t;;\n-    [ab].out )\n-\t# We found the default executable, but exeext='' is most\n-\t# certainly right.\n-\tbreak;;\n-    *.* )\n-\tif test \""${ac_cv_exeext+set}\"" = set && test \""$ac_cv_exeext\"" != no;\n-\tthen :; else\n-\t   ac_cv_exeext=`expr \""$ac_file\"" : '[^.]*\\(\\..*\\)'`\n-\tfi\n-\t# We set ac_cv_exeext here because the later test for it is not\n-\t# safe: cross compilers may not add the suffix if given an `-o'\n-\t# argument, so we may need to know it at that point already.\n-\t# Even if this section looks crufty: it has the advantage of\n-\t# actually working.\n-\tbreak;;\n-    * )\n-\tbreak;;\n-  esac\n-done\n-test \""$ac_cv_exeext\"" = no && ac_cv_exeext=\n-\n-else\n-  ac_file=''\n-fi\n-if test -z \""$ac_file\""; then :\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-$as_echo \""$as_me: failed program was:\"" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-{ { $as_echo \""$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\"" >&5\n-$as_echo \""$as_me: error: in \\`$ac_pwd':\"" >&2;}\n-as_fn_error 77 \""C compiler cannot create executables\n-See \\`config.log' for more details\"" \""$LINENO\"" 5; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: yes\"" >&5\n-$as_echo \""yes\"" >&6; }\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for C compiler default output file name\"" >&5\n-$as_echo_n \""checking for C compiler default output file name... \"" >&6; }\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_file\"" >&5\n-$as_echo \""$ac_file\"" >&6; }\n-ac_exeext=$ac_cv_exeext\n-\n-rm -f -r a.out a.out.dSYM a.exe conftest$ac_cv_exeext b.out\n-ac_clean_files=$ac_clean_files_save\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for suffix of executables\"" >&5\n-$as_echo_n \""checking for suffix of executables... \"" >&6; }\n-if { { ac_try=\""$ac_link\""\n-case \""(($ac_try\"" in\n-  *\\\""* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\""\\\""\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\""\""\n-$as_echo \""$ac_try_echo\""; } >&5\n-  (eval \""$ac_link\"") 2>&5\n-  ac_status=$?\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; }; then :\n-  # If both `conftest.exe' and `conftest' are `present' (well, observable)\n-# catch `conftest.exe'.  For instance with Cygwin, `ls conftest' will\n-# work properly (i.e., refer to `conftest.exe'), while it won't with\n-# `rm'.\n-for ac_file in conftest.exe conftest conftest.*; do\n-  test -f \""$ac_file\"" || continue\n-  case $ac_file in\n-    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM | *.o | *.obj ) ;;\n-    *.* ) ac_cv_exeext=`expr \""$ac_file\"" : '[^.]*\\(\\..*\\)'`\n-\t  break;;\n-    * ) break;;\n-  esac\n-done\n-else\n-  { { $as_echo \""$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\"" >&5\n-$as_echo \""$as_me: error: in \\`$ac_pwd':\"" >&2;}\n-as_fn_error $? \""cannot compute suffix of executables: cannot compile and link\n-See \\`config.log' for more details\"" \""$LINENO\"" 5; }\n-fi\n-rm -f conftest conftest$ac_cv_exeext\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_exeext\"" >&5\n-$as_echo \""$ac_cv_exeext\"" >&6; }\n-\n-rm -f conftest.$ac_ext\n-EXEEXT=$ac_cv_exeext\n-ac_exeext=$EXEEXT\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <stdio.h>\n-int\n-main ()\n-{\n-FILE *f = fopen (\""conftest.out\"", \""w\"");\n- return ferror (f) || fclose (f) != 0;\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-ac_clean_files=\""$ac_clean_files conftest.out\""\n-# Check that the compiler produces executables we can run.  If not, either\n-# the compiler is broken, or we cross compile.\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether we are cross compiling\"" >&5\n-$as_echo_n \""checking whether we are cross compiling... \"" >&6; }\n-if test \""$cross_compiling\"" != yes; then\n-  { { ac_try=\""$ac_link\""\n-case \""(($ac_try\"" in\n-  *\\\""* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\""\\\""\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\""\""\n-$as_echo \""$ac_try_echo\""; } >&5\n-  (eval \""$ac_link\"") 2>&5\n-  ac_status=$?\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; }\n-  if { ac_try='./conftest$ac_cv_exeext'\n-  { { case \""(($ac_try\"" in\n-  *\\\""* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\""\\\""\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\""\""\n-$as_echo \""$ac_try_echo\""; } >&5\n-  (eval \""$ac_try\"") 2>&5\n-  ac_status=$?\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; }; }; then\n-    cross_compiling=no\n-  else\n-    if test \""$cross_compiling\"" = maybe; then\n-\tcross_compiling=yes\n-    else\n-\t{ { $as_echo \""$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\"" >&5\n-$as_echo \""$as_me: error: in \\`$ac_pwd':\"" >&2;}\n-as_fn_error $? \""cannot run C compiled programs.\n-If you meant to cross compile, use \\`--host'.\n-See \\`config.log' for more details\"" \""$LINENO\"" 5; }\n-    fi\n-  fi\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $cross_compiling\"" >&5\n-$as_echo \""$cross_compiling\"" >&6; }\n-\n-rm -f conftest.$ac_ext conftest$ac_cv_exeext conftest.out\n-ac_clean_files=$ac_clean_files_save\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for suffix of object files\"" >&5\n-$as_echo_n \""checking for suffix of object files... \"" >&6; }\n-if ${ac_cv_objext+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-rm -f conftest.o conftest.obj\n-if { { ac_try=\""$ac_compile\""\n-case \""(($ac_try\"" in\n-  *\\\""* | *\\`* | *\\\\*) ac_try_echo=\\$ac_try;;\n-  *) ac_try_echo=$ac_try;;\n-esac\n-eval ac_try_echo=\""\\\""\\$as_me:${as_lineno-$LINENO}: $ac_try_echo\\\""\""\n-$as_echo \""$ac_try_echo\""; } >&5\n-  (eval \""$ac_compile\"") 2>&5\n-  ac_status=$?\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; }; then :\n-  for ac_file in conftest.o conftest.obj conftest.*; do\n-  test -f \""$ac_file\"" || continue;\n-  case $ac_file in\n-    *.$ac_ext | *.xcoff | *.tds | *.d | *.pdb | *.xSYM | *.bb | *.bbg | *.map | *.inf | *.dSYM ) ;;\n-    *) ac_cv_objext=`expr \""$ac_file\"" : '.*\\.\\(.*\\)'`\n-       break;;\n-  esac\n-done\n-else\n-  $as_echo \""$as_me: failed program was:\"" >&5\n-sed 's/^/| /' conftest.$ac_ext >&5\n-\n-{ { $as_echo \""$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\"" >&5\n-$as_echo \""$as_me: error: in \\`$ac_pwd':\"" >&2;}\n-as_fn_error $? \""cannot compute suffix of object files: cannot compile\n-See \\`config.log' for more details\"" \""$LINENO\"" 5; }\n-fi\n-rm -f conftest.$ac_cv_objext conftest.$ac_ext\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_objext\"" >&5\n-$as_echo \""$ac_cv_objext\"" >&6; }\n-OBJEXT=$ac_cv_objext\n-ac_objext=$OBJEXT\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether we are using the GNU C compiler\"" >&5\n-$as_echo_n \""checking whether we are using the GNU C compiler... \"" >&6; }\n-if ${ac_cv_c_compiler_gnu+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-#ifndef __GNUC__\n-       choke me\n-#endif\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \""$LINENO\""; then :\n-  ac_compiler_gnu=yes\n-else\n-  ac_compiler_gnu=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-ac_cv_c_compiler_gnu=$ac_compiler_gnu\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_compiler_gnu\"" >&5\n-$as_echo \""$ac_cv_c_compiler_gnu\"" >&6; }\n-if test $ac_compiler_gnu = yes; then\n-  GCC=yes\n-else\n-  GCC=\n-fi\n-ac_test_CFLAGS=${CFLAGS+set}\n-ac_save_CFLAGS=$CFLAGS\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether $CC accepts -g\"" >&5\n-$as_echo_n \""checking whether $CC accepts -g... \"" >&6; }\n-if ${ac_cv_prog_cc_g+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  ac_save_c_werror_flag=$ac_c_werror_flag\n-   ac_c_werror_flag=yes\n-   ac_cv_prog_cc_g=no\n-   CFLAGS=\""-g\""\n-   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \""$LINENO\""; then :\n-  ac_cv_prog_cc_g=yes\n-else\n-  CFLAGS=\""\""\n-      cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \""$LINENO\""; then :\n-\n-else\n-  ac_c_werror_flag=$ac_save_c_werror_flag\n-\t CFLAGS=\""-g\""\n-\t cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \""$LINENO\""; then :\n-  ac_cv_prog_cc_g=yes\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-   ac_c_werror_flag=$ac_save_c_werror_flag\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_g\"" >&5\n-$as_echo \""$ac_cv_prog_cc_g\"" >&6; }\n-if test \""$ac_test_CFLAGS\"" = set; then\n-  CFLAGS=$ac_save_CFLAGS\n-elif test $ac_cv_prog_cc_g = yes; then\n-  if test \""$GCC\"" = yes; then\n-    CFLAGS=\""-g -O2\""\n-  else\n-    CFLAGS=\""-g\""\n-  fi\n-else\n-  if test \""$GCC\"" = yes; then\n-    CFLAGS=\""-O2\""\n-  else\n-    CFLAGS=\n-  fi\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $CC option to accept ISO C89\"" >&5\n-$as_echo_n \""checking for $CC option to accept ISO C89... \"" >&6; }\n-if ${ac_cv_prog_cc_c89+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  ac_cv_prog_cc_c89=no\n-ac_save_CC=$CC\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <stdarg.h>\n-#include <stdio.h>\n-struct stat;\n-/* Most of the following tests are stolen from RCS 5.7's src/conf.sh.  */\n-struct buf { int x; };\n-FILE * (*rcsopen) (struct buf *, struct stat *, int);\n-static char *e (p, i)\n-     char **p;\n-     int i;\n-{\n-  return p[i];\n-}\n-static char *f (char * (*g) (char **, int), char **p, ...)\n-{\n-  char *s;\n-  va_list v;\n-  va_start (v,p);\n-  s = g (p, va_arg (v,int));\n-  va_end (v);\n-  return s;\n-}\n-\n-/* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has\n-   function prototypes and stuff, but not '\\xHH' hex character constants.\n-   These don't provoke an error unfortunately, instead are silently treated\n-   as 'x'.  The following induces an error, until -std is added to get\n-   proper ANSI mode.  Curiously '\\x00'!='x' always comes out true, for an\n-   array size at least.  It's necessary to write '\\x00'==0 to get something\n-   that's true only with -std.  */\n-int osf4_cc_array ['\\x00' == 0 ? 1 : -1];\n-\n-/* IBM C 6 for AIX is almost-ANSI by default, but it replaces macro parameters\n-   inside strings and character constants.  */\n-#define FOO(x) 'x'\n-int xlc6_cc_array[FOO(a) == 'x' ? 1 : -1];\n-\n-int test (int i, double x);\n-struct s1 {int (*f) (int a);};\n-struct s2 {int (*f) (double a);};\n-int pairnames (int, char **, FILE *(*)(struct buf *, struct stat *, int), int, int);\n-int argc;\n-char **argv;\n-int\n-main ()\n-{\n-return f (e, argv, 0) != argv[0]  ||  f (e, argv, 1) != argv[1];\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-for ac_arg in '' -qlanglvl=extc89 -qlanglvl=ansi -std \\\n-\t-Ae \""-Aa -D_HPUX_SOURCE\"" \""-Xc -D__EXTENSIONS__\""\n-do\n-  CC=\""$ac_save_CC $ac_arg\""\n-  if ac_fn_c_try_compile \""$LINENO\""; then :\n-  ac_cv_prog_cc_c89=$ac_arg\n-fi\n-rm -f core conftest.err conftest.$ac_objext\n-  test \""x$ac_cv_prog_cc_c89\"" != \""xno\"" && break\n-done\n-rm -f conftest.$ac_ext\n-CC=$ac_save_CC\n-\n-fi\n-# AC_CACHE_VAL\n-case \""x$ac_cv_prog_cc_c89\"" in\n-  x)\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: result: none needed\"" >&5\n-$as_echo \""none needed\"" >&6; } ;;\n-  xno)\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: result: unsupported\"" >&5\n-$as_echo \""unsupported\"" >&6; } ;;\n-  *)\n-    CC=\""$CC $ac_cv_prog_cc_c89\""\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c89\"" >&5\n-$as_echo \""$ac_cv_prog_cc_c89\"" >&6; } ;;\n-esac\n-if test \""x$ac_cv_prog_cc_c89\"" != xno; then :\n-\n-fi\n-\n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-\n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether $CC understands -c and -o together\"" >&5\n-$as_echo_n \""checking whether $CC understands -c and -o together... \"" >&6; }\n-if ${am_cv_prog_cc_c_o+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-  # Make sure it works both with $CC and with simple cc.\n-  # Following AC_PROG_CC_C_O, we do the test twice because some\n-  # compilers refuse to overwrite an existing .o file with -o,\n-  # though they will create one.\n-  am_cv_prog_cc_c_o=yes\n-  for am_i in 1 2; do\n-    if { echo \""$as_me:$LINENO: $CC -c conftest.$ac_ext -o conftest2.$ac_objext\"" >&5\n-   ($CC -c conftest.$ac_ext -o conftest2.$ac_objext) >&5 2>&5\n-   ac_status=$?\n-   echo \""$as_me:$LINENO: \\$? = $ac_status\"" >&5\n-   (exit $ac_status); } \\\n-         && test -f conftest2.$ac_objext; then\n-      : OK\n-    else\n-      am_cv_prog_cc_c_o=no\n-      break\n-    fi\n-  done\n-  rm -f core conftest*\n-  unset am_i\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $am_cv_prog_cc_c_o\"" >&5\n-$as_echo \""$am_cv_prog_cc_c_o\"" >&6; }\n-if test \""$am_cv_prog_cc_c_o\"" != yes; then\n-   # Losing compiler, so override with the script.\n-   # FIXME: It is wrong to rewrite CC.\n-   # But if we don't then we get into trouble of one sort or another.\n-   # A longer-term fix would be to have automake use am__CC in this case,\n-   # and then we could set am__CC=\""\\$(top_srcdir)/compile \\$(CC)\""\n-   CC=\""$am_aux_dir/compile $CC\""\n-fi\n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-\n-DEPDIR=\""${am__leading_dot}deps\""\n-\n-ac_config_commands=\""$ac_config_commands depfiles\""\n-\n-\n-am_make=${MAKE-make}\n-cat > confinc << 'END'\n-am__doit:\n-\t@echo this is the am__doit target\n-.PHONY: am__doit\n-END\n-# If we don't find an include directive, just comment out the code.\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for style of include used by $am_make\"" >&5\n-$as_echo_n \""checking for style of include used by $am_make... \"" >&6; }\n-am__include=\""#\""\n-am__quote=\n-_am_result=none\n-# First try GNU make style include.\n-echo \""include confinc\"" > confmf\n-# Ignore all kinds of additional output from 'make'.\n-case `$am_make -s -f confmf 2> /dev/null` in #(\n-*the\\ am__doit\\ target*)\n-  am__include=include\n-  am__quote=\n-  _am_result=GNU\n-  ;;\n-esac\n-# Now try BSD make style include.\n-if test \""$am__include\"" = \""#\""; then\n-   echo '.include \""confinc\""' > confmf\n-   case `$am_make -s -f confmf 2> /dev/null` in #(\n-   *the\\ am__doit\\ target*)\n-     am__include=.include\n-     am__quote=\""\\\""\""\n-     _am_result=BSD\n-     ;;\n-   esac\n-fi\n-\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $_am_result\"" >&5\n-$as_echo \""$_am_result\"" >&6; }\n-rm -f confinc confmf\n-\n-# Check whether --enable-dependency-tracking was given.\n-if test \""${enable_dependency_tracking+set}\"" = set; then :\n-  enableval=$enable_dependency_tracking;\n-fi\n-\n-if test \""x$enable_dependency_tracking\"" != xno; then\n-  am_depcomp=\""$ac_aux_dir/depcomp\""\n-  AMDEPBACKSLASH='\\'\n-  am__nodep='_no'\n-fi\n- if test \""x$enable_dependency_tracking\"" != xno; then\n-  AMDEP_TRUE=\n-  AMDEP_FALSE='#'\n-else\n-  AMDEP_TRUE='#'\n-  AMDEP_FALSE=\n-fi\n-\n-\n-\n-depcc=\""$CC\""   am_compiler_list=\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking dependency style of $depcc\"" >&5\n-$as_echo_n \""checking dependency style of $depcc... \"" >&6; }\n-if ${am_cv_CC_dependencies_compiler_type+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -z \""$AMDEP_TRUE\"" && test -f \""$am_depcomp\""; then\n-  # We make a subdir and do the tests there.  Otherwise we can end up\n-  # making bogus files that we don't know about and never remove.  For\n-  # instance it was reported that on HP-UX the gcc test will end up\n-  # making a dummy file named 'D' -- because '-MD' means \""put the output\n-  # in D\"".\n-  rm -rf conftest.dir\n-  mkdir conftest.dir\n-  # Copy depcomp to subdir because otherwise we won't find it if we're\n-  # using a relative directory.\n-  cp \""$am_depcomp\"" conftest.dir\n-  cd conftest.dir\n-  # We will build objects and dependencies in a subdirectory because\n-  # it helps to detect inapplicable dependency modes.  For instance\n-  # both Tru64's cc and ICC support -MD to output dependencies as a\n-  # side effect of compilation, but ICC will put the dependencies in\n-  # the current directory while Tru64 will put them in the object\n-  # directory.\n-  mkdir sub\n-\n-  am_cv_CC_dependencies_compiler_type=none\n-  if test \""$am_compiler_list\"" = \""\""; then\n-     am_compiler_list=`sed -n 's/^#*\\([a-zA-Z0-9]*\\))$/\\1/p' < ./depcomp`\n-  fi\n-  am__universal=false\n-  case \"" $depcc \"" in #(\n-     *\\ -arch\\ *\\ -arch\\ *) am__universal=true ;;\n-     esac\n-\n-  for depmode in $am_compiler_list; do\n-    # Setup a source with many dependencies, because some compilers\n-    # like to wrap large dependency lists on column 80 (with \\), and\n-    # we should not choose a depcomp mode which is confused by this.\n-    #\n-    # We need to recreate these files for each test, as the compiler may\n-    # overwrite some of them when testing with obscure command lines.\n-    # This happens at least with the AIX C compiler.\n-    : > sub/conftest.c\n-    for i in 1 2 3 4 5 6; do\n-      echo '#include \""conftst'$i'.h\""' >> sub/conftest.c\n-      # Using \"": > sub/conftst$i.h\"" creates only sub/conftst1.h with\n-      # Solaris 10 /bin/sh.\n-      echo '/* dummy */' > sub/conftst$i.h\n-    done\n-    echo \""${am__include} ${am__quote}sub/conftest.Po${am__quote}\"" > confmf\n-\n-    # We check with '-c' and '-o' for the sake of the \""dashmstdout\""\n-    # mode.  It turns out that the SunPro C++ compiler does not properly\n-    # handle '-M -o', and we need to detect this.  Also, some Intel\n-    # versions had trouble with output in subdirs.\n-    am__obj=sub/conftest.${OBJEXT-o}\n-    am__minus_obj=\""-o $am__obj\""\n-    case $depmode in\n-    gcc)\n-      # This depmode causes a compiler race in universal mode.\n-      test \""$am__universal\"" = false || continue\n-      ;;\n-    nosideeffect)\n-      # After this tag, mechanisms are not by side-effect, so they'll\n-      # only be used when explicitly requested.\n-      if test \""x$enable_dependency_tracking\"" = xyes; then\n-\tcontinue\n-      else\n-\tbreak\n-      fi\n-      ;;\n-    msvc7 | msvc7msys | msvisualcpp | msvcmsys)\n-      # This compiler won't grok '-c -o', but also, the minuso test has\n-      # not run yet.  These depmodes are late enough in the game, and\n-      # so weak that their functioning should not be impacted.\n-      am__obj=conftest.${OBJEXT-o}\n-      am__minus_obj=\n-      ;;\n-    none) break ;;\n-    esac\n-    if depmode=$depmode \\\n-       source=sub/conftest.c object=$am__obj \\\n-       depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \\\n-       $SHELL ./depcomp $depcc -c $am__minus_obj sub/conftest.c \\\n-         >/dev/null 2>conftest.err &&\n-       grep sub/conftst1.h sub/conftest.Po > /dev/null 2>&1 &&\n-       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&\n-       grep $am__obj sub/conftest.Po > /dev/null 2>&1 &&\n-       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then\n-      # icc doesn't choke on unknown options, it will just issue warnings\n-      # or remarks (even with -Werror).  So we grep stderr for any message\n-      # that says an option was ignored or not supported.\n-      # When given -MP, icc 7.0 and 7.1 complain thusly:\n-      #   icc: Command line warning: ignoring option '-M'; no argument required\n-      # The diagnosis changed in icc 8.0:\n-      #   icc: Command line remark: option '-MP' not supported\n-      if (grep 'ignoring option' conftest.err ||\n-          grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else\n-        am_cv_CC_dependencies_compiler_type=$depmode\n-        break\n-      fi\n-    fi\n-  done\n-\n-  cd ..\n-  rm -rf conftest.dir\n-else\n-  am_cv_CC_dependencies_compiler_type=none\n-fi\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $am_cv_CC_dependencies_compiler_type\"" >&5\n-$as_echo \""$am_cv_CC_dependencies_compiler_type\"" >&6; }\n-CCDEPMODE=depmode=$am_cv_CC_dependencies_compiler_type\n-\n- if\n-  test \""x$enable_dependency_tracking\"" != xno \\\n-  && test \""$am_cv_CC_dependencies_compiler_type\"" = gcc3; then\n-  am__fastdepCC_TRUE=\n-  am__fastdepCC_FALSE='#'\n-else\n-  am__fastdepCC_TRUE='#'\n-  am__fastdepCC_FALSE=\n-fi\n-\n-\n-# By default we simply use the C compiler to build assembly code.\n-\n-test \""${CCAS+set}\"" = set || CCAS=$CC\n-test \""${CCASFLAGS+set}\"" = set || CCASFLAGS=$CFLAGS\n-\n-\n-\n-depcc=\""$CCAS\""   am_compiler_list=\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking dependency style of $depcc\"" >&5\n-$as_echo_n \""checking dependency style of $depcc... \"" >&6; }\n-if ${am_cv_CCAS_dependencies_compiler_type+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -z \""$AMDEP_TRUE\"" && test -f \""$am_depcomp\""; then\n-  # We make a subdir and do the tests there.  Otherwise we can end up\n-  # making bogus files that we don't know about and never remove.  For\n-  # instance it was reported that on HP-UX the gcc test will end up\n-  # making a dummy file named 'D' -- because '-MD' means \""put the output\n-  # in D\"".\n-  rm -rf conftest.dir\n-  mkdir conftest.dir\n-  # Copy depcomp to subdir because otherwise we won't find it if we're\n-  # using a relative directory.\n-  cp \""$am_depcomp\"" conftest.dir\n-  cd conftest.dir\n-  # We will build objects and dependencies in a subdirectory because\n-  # it helps to detect inapplicable dependency modes.  For instance\n-  # both Tru64's cc and ICC support -MD to output dependencies as a\n-  # side effect of compilation, but ICC will put the dependencies in\n-  # the current directory while Tru64 will put them in the object\n-  # directory.\n-  mkdir sub\n-\n-  am_cv_CCAS_dependencies_compiler_type=none\n-  if test \""$am_compiler_list\"" = \""\""; then\n-     am_compiler_list=`sed -n 's/^#*\\([a-zA-Z0-9]*\\))$/\\1/p' < ./depcomp`\n-  fi\n-  am__universal=false\n-\n-\n-  for depmode in $am_compiler_list; do\n-    # Setup a source with many dependencies, because some compilers\n-    # like to wrap large dependency lists on column 80 (with \\), and\n-    # we should not choose a depcomp mode which is confused by this.\n-    #\n-    # We need to recreate these files for each test, as the compiler may\n-    # overwrite some of them when testing with obscure command lines.\n-    # This happens at least with the AIX C compiler.\n-    : > sub/conftest.c\n-    for i in 1 2 3 4 5 6; do\n-      echo '#include \""conftst'$i'.h\""' >> sub/conftest.c\n-      # Using \"": > sub/conftst$i.h\"" creates only sub/conftst1.h with\n-      # Solaris 10 /bin/sh.\n-      echo '/* dummy */' > sub/conftst$i.h\n-    done\n-    echo \""${am__include} ${am__quote}sub/conftest.Po${am__quote}\"" > confmf\n-\n-    # We check with '-c' and '-o' for the sake of the \""dashmstdout\""\n-    # mode.  It turns out that the SunPro C++ compiler does not properly\n-    # handle '-M -o', and we need to detect this.  Also, some Intel\n-    # versions had trouble with output in subdirs.\n-    am__obj=sub/conftest.${OBJEXT-o}\n-    am__minus_obj=\""-o $am__obj\""\n-    case $depmode in\n-    gcc)\n-      # This depmode causes a compiler race in universal mode.\n-      test \""$am__universal\"" = false || continue\n-      ;;\n-    nosideeffect)\n-      # After this tag, mechanisms are not by side-effect, so they'll\n-      # only be used when explicitly requested.\n-      if test \""x$enable_dependency_tracking\"" = xyes; then\n-\tcontinue\n-      else\n-\tbreak\n-      fi\n-      ;;\n-    msvc7 | msvc7msys | msvisualcpp | msvcmsys)\n-      # This compiler won't grok '-c -o', but also, the minuso test has\n-      # not run yet.  These depmodes are late enough in the game, and\n-      # so weak that their functioning should not be impacted.\n-      am__obj=conftest.${OBJEXT-o}\n-      am__minus_obj=\n-      ;;\n-    none) break ;;\n-    esac\n-    if depmode=$depmode \\\n-       source=sub/conftest.c object=$am__obj \\\n-       depfile=sub/conftest.Po tmpdepfile=sub/conftest.TPo \\\n-       $SHELL ./depcomp $depcc -c $am__minus_obj sub/conftest.c \\\n-         >/dev/null 2>conftest.err &&\n-       grep sub/conftst1.h sub/conftest.Po > /dev/null 2>&1 &&\n-       grep sub/conftst6.h sub/conftest.Po > /dev/null 2>&1 &&\n-       grep $am__obj sub/conftest.Po > /dev/null 2>&1 &&\n-       ${MAKE-make} -s -f confmf > /dev/null 2>&1; then\n-      # icc doesn't choke on unknown options, it will just issue warnings\n-      # or remarks (even with -Werror).  So we grep stderr for any message\n-      # that says an option was ignored or not supported.\n-      # When given -MP, icc 7.0 and 7.1 complain thusly:\n-      #   icc: Command line warning: ignoring option '-M'; no argument required\n-      # The diagnosis changed in icc 8.0:\n-      #   icc: Command line remark: option '-MP' not supported\n-      if (grep 'ignoring option' conftest.err ||\n-          grep 'not supported' conftest.err) >/dev/null 2>&1; then :; else\n-        am_cv_CCAS_dependencies_compiler_type=$depmode\n-        break\n-      fi\n-    fi\n-  done\n-\n-  cd ..\n-  rm -rf conftest.dir\n-else\n-  am_cv_CCAS_dependencies_compiler_type=none\n-fi\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $am_cv_CCAS_dependencies_compiler_type\"" >&5\n-$as_echo \""$am_cv_CCAS_dependencies_compiler_type\"" >&6; }\n-CCASDEPMODE=depmode=$am_cv_CCAS_dependencies_compiler_type\n-\n- if\n-  test \""x$enable_dependency_tracking\"" != xno \\\n-  && test \""$am_cv_CCAS_dependencies_compiler_type\"" = gcc3; then\n-  am__fastdepCCAS_TRUE=\n-  am__fastdepCCAS_FALSE='#'\n-else\n-  am__fastdepCCAS_TRUE='#'\n-  am__fastdepCCAS_FALSE=\n-fi\n-\n-\n-# Make sure we can run config.sub.\n-$SHELL \""$ac_aux_dir/config.sub\"" sun4 >/dev/null 2>&1 ||\n-  as_fn_error $? \""cannot run $SHELL $ac_aux_dir/config.sub\"" \""$LINENO\"" 5\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking build system type\"" >&5\n-$as_echo_n \""checking build system type... \"" >&6; }\n-if ${ac_cv_build+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  ac_build_alias=$build_alias\n-test \""x$ac_build_alias\"" = x &&\n-  ac_build_alias=`$SHELL \""$ac_aux_dir/config.guess\""`\n-test \""x$ac_build_alias\"" = x &&\n-  as_fn_error $? \""cannot guess build type; you must specify one\"" \""$LINENO\"" 5\n-ac_cv_build=`$SHELL \""$ac_aux_dir/config.sub\"" $ac_build_alias` ||\n-  as_fn_error $? \""$SHELL $ac_aux_dir/config.sub $ac_build_alias failed\"" \""$LINENO\"" 5\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_build\"" >&5\n-$as_echo \""$ac_cv_build\"" >&6; }\n-case $ac_cv_build in\n-*-*-*) ;;\n-*) as_fn_error $? \""invalid value of canonical build\"" \""$LINENO\"" 5;;\n-esac\n-build=$ac_cv_build\n-ac_save_IFS=$IFS; IFS='-'\n-set x $ac_cv_build\n-shift\n-build_cpu=$1\n-build_vendor=$2\n-shift; shift\n-# Remember, the first character of IFS is used to create $*,\n-# except with old shells:\n-build_os=$*\n-IFS=$ac_save_IFS\n-case $build_os in *\\ *) build_os=`echo \""$build_os\"" | sed 's/ /-/g'`;; esac\n-\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking host system type\"" >&5\n-$as_echo_n \""checking host system type... \"" >&6; }\n-if ${ac_cv_host+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test \""x$host_alias\"" = x; then\n-  ac_cv_host=$ac_cv_build\n-else\n-  ac_cv_host=`$SHELL \""$ac_aux_dir/config.sub\"" $host_alias` ||\n-    as_fn_error $? \""$SHELL $ac_aux_dir/config.sub $host_alias failed\"" \""$LINENO\"" 5\n-fi\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_host\"" >&5\n-$as_echo \""$ac_cv_host\"" >&6; }\n-case $ac_cv_host in\n-*-*-*) ;;\n-*) as_fn_error $? \""invalid value of canonical host\"" \""$LINENO\"" 5;;\n-esac\n-host=$ac_cv_host\n-ac_save_IFS=$IFS; IFS='-'\n-set x $ac_cv_host\n-shift\n-host_cpu=$1\n-host_vendor=$2\n-shift; shift\n-# Remember, the first character of IFS is used to create $*,\n-# except with old shells:\n-host_os=$*\n-IFS=$ac_save_IFS\n-case $host_os in *\\ *) host_os=`echo \""$host_os\"" | sed 's/ /-/g'`;; esac\n-\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for a sed that does not truncate output\"" >&5\n-$as_echo_n \""checking for a sed that does not truncate output... \"" >&6; }\n-if ${ac_cv_path_SED+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-            ac_script=s/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb/\n-     for ac_i in 1 2 3 4 5 6 7; do\n-       ac_script=\""$ac_script$as_nl$ac_script\""\n-     done\n-     echo \""$ac_script\"" 2>/dev/null | sed 99q >conftest.sed\n-     { ac_script=; unset ac_script;}\n-     if test -z \""$SED\""; then\n-  ac_path_SED_found=false\n-  # Loop through the user's path and test for each of PROGNAME-LIST\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_prog in sed gsed; do\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-      ac_path_SED=\""$as_dir/$ac_prog$ac_exec_ext\""\n-      as_fn_executable_p \""$ac_path_SED\"" || continue\n-# Check for GNU ac_path_SED and select it if it is found.\n-  # Check for GNU $ac_path_SED\n-case `\""$ac_path_SED\"" --version 2>&1` in\n-*GNU*)\n-  ac_cv_path_SED=\""$ac_path_SED\"" ac_path_SED_found=:;;\n-*)\n-  ac_count=0\n-  $as_echo_n 0123456789 >\""conftest.in\""\n-  while :\n-  do\n-    cat \""conftest.in\"" \""conftest.in\"" >\""conftest.tmp\""\n-    mv \""conftest.tmp\"" \""conftest.in\""\n-    cp \""conftest.in\"" \""conftest.nl\""\n-    $as_echo '' >> \""conftest.nl\""\n-    \""$ac_path_SED\"" -f conftest.sed < \""conftest.nl\"" >\""conftest.out\"" 2>/dev/null || break\n-    diff \""conftest.out\"" \""conftest.nl\"" >/dev/null 2>&1 || break\n-    as_fn_arith $ac_count + 1 && ac_count=$as_val\n-    if test $ac_count -gt ${ac_path_SED_max-0}; then\n-      # Best one so far, save it but keep looking for a better one\n-      ac_cv_path_SED=\""$ac_path_SED\""\n-      ac_path_SED_max=$ac_count\n-    fi\n-    # 10*(2^10) chars as input seems more than enough\n-    test $ac_count -gt 10 && break\n-  done\n-  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;\n-esac\n-\n-      $ac_path_SED_found && break 3\n-    done\n-  done\n-  done\n-IFS=$as_save_IFS\n-  if test -z \""$ac_cv_path_SED\""; then\n-    as_fn_error $? \""no acceptable sed could be found in \\$PATH\"" \""$LINENO\"" 5\n-  fi\n-else\n-  ac_cv_path_SED=$SED\n-fi\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_SED\"" >&5\n-$as_echo \""$ac_cv_path_SED\"" >&6; }\n- SED=\""$ac_cv_path_SED\""\n-  rm -f conftest.sed\n-\n-test -z \""$SED\"" && SED=sed\n-Xsed=\""$SED -e 1s/^X//\""\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for grep that handles long lines and -e\"" >&5\n-$as_echo_n \""checking for grep that handles long lines and -e... \"" >&6; }\n-if ${ac_cv_path_GREP+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -z \""$GREP\""; then\n-  ac_path_GREP_found=false\n-  # Loop through the user's path and test for each of PROGNAME-LIST\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_prog in grep ggrep; do\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-      ac_path_GREP=\""$as_dir/$ac_prog$ac_exec_ext\""\n-      as_fn_executable_p \""$ac_path_GREP\"" || continue\n-# Check for GNU ac_path_GREP and select it if it is found.\n-  # Check for GNU $ac_path_GREP\n-case `\""$ac_path_GREP\"" --version 2>&1` in\n-*GNU*)\n-  ac_cv_path_GREP=\""$ac_path_GREP\"" ac_path_GREP_found=:;;\n-*)\n-  ac_count=0\n-  $as_echo_n 0123456789 >\""conftest.in\""\n-  while :\n-  do\n-    cat \""conftest.in\"" \""conftest.in\"" >\""conftest.tmp\""\n-    mv \""conftest.tmp\"" \""conftest.in\""\n-    cp \""conftest.in\"" \""conftest.nl\""\n-    $as_echo 'GREP' >> \""conftest.nl\""\n-    \""$ac_path_GREP\"" -e 'GREP$' -e '-(cannot match)-' < \""conftest.nl\"" >\""conftest.out\"" 2>/dev/null || break\n-    diff \""conftest.out\"" \""conftest.nl\"" >/dev/null 2>&1 || break\n-    as_fn_arith $ac_count + 1 && ac_count=$as_val\n-    if test $ac_count -gt ${ac_path_GREP_max-0}; then\n-      # Best one so far, save it but keep looking for a better one\n-      ac_cv_path_GREP=\""$ac_path_GREP\""\n-      ac_path_GREP_max=$ac_count\n-    fi\n-    # 10*(2^10) chars as input seems more than enough\n-    test $ac_count -gt 10 && break\n-  done\n-  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;\n-esac\n-\n-      $ac_path_GREP_found && break 3\n-    done\n-  done\n-  done\n-IFS=$as_save_IFS\n-  if test -z \""$ac_cv_path_GREP\""; then\n-    as_fn_error $? \""no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin\"" \""$LINENO\"" 5\n-  fi\n-else\n-  ac_cv_path_GREP=$GREP\n-fi\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_GREP\"" >&5\n-$as_echo \""$ac_cv_path_GREP\"" >&6; }\n- GREP=\""$ac_cv_path_GREP\""\n-\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for egrep\"" >&5\n-$as_echo_n \""checking for egrep... \"" >&6; }\n-if ${ac_cv_path_EGREP+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if echo a | $GREP -E '(a|b)' >/dev/null 2>&1\n-   then ac_cv_path_EGREP=\""$GREP -E\""\n-   else\n-     if test -z \""$EGREP\""; then\n-  ac_path_EGREP_found=false\n-  # Loop through the user's path and test for each of PROGNAME-LIST\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_prog in egrep; do\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-      ac_path_EGREP=\""$as_dir/$ac_prog$ac_exec_ext\""\n-      as_fn_executable_p \""$ac_path_EGREP\"" || continue\n-# Check for GNU ac_path_EGREP and select it if it is found.\n-  # Check for GNU $ac_path_EGREP\n-case `\""$ac_path_EGREP\"" --version 2>&1` in\n-*GNU*)\n-  ac_cv_path_EGREP=\""$ac_path_EGREP\"" ac_path_EGREP_found=:;;\n-*)\n-  ac_count=0\n-  $as_echo_n 0123456789 >\""conftest.in\""\n-  while :\n-  do\n-    cat \""conftest.in\"" \""conftest.in\"" >\""conftest.tmp\""\n-    mv \""conftest.tmp\"" \""conftest.in\""\n-    cp \""conftest.in\"" \""conftest.nl\""\n-    $as_echo 'EGREP' >> \""conftest.nl\""\n-    \""$ac_path_EGREP\"" 'EGREP$' < \""conftest.nl\"" >\""conftest.out\"" 2>/dev/null || break\n-    diff \""conftest.out\"" \""conftest.nl\"" >/dev/null 2>&1 || break\n-    as_fn_arith $ac_count + 1 && ac_count=$as_val\n-    if test $ac_count -gt ${ac_path_EGREP_max-0}; then\n-      # Best one so far, save it but keep looking for a better one\n-      ac_cv_path_EGREP=\""$ac_path_EGREP\""\n-      ac_path_EGREP_max=$ac_count\n-    fi\n-    # 10*(2^10) chars as input seems more than enough\n-    test $ac_count -gt 10 && break\n-  done\n-  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;\n-esac\n-\n-      $ac_path_EGREP_found && break 3\n-    done\n-  done\n-  done\n-IFS=$as_save_IFS\n-  if test -z \""$ac_cv_path_EGREP\""; then\n-    as_fn_error $? \""no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin\"" \""$LINENO\"" 5\n-  fi\n-else\n-  ac_cv_path_EGREP=$EGREP\n-fi\n-\n-   fi\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_EGREP\"" >&5\n-$as_echo \""$ac_cv_path_EGREP\"" >&6; }\n- EGREP=\""$ac_cv_path_EGREP\""\n-\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for fgrep\"" >&5\n-$as_echo_n \""checking for fgrep... \"" >&6; }\n-if ${ac_cv_path_FGREP+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if echo 'ab*c' | $GREP -F 'ab*c' >/dev/null 2>&1\n-   then ac_cv_path_FGREP=\""$GREP -F\""\n-   else\n-     if test -z \""$FGREP\""; then\n-  ac_path_FGREP_found=false\n-  # Loop through the user's path and test for each of PROGNAME-LIST\n-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_prog in fgrep; do\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-      ac_path_FGREP=\""$as_dir/$ac_prog$ac_exec_ext\""\n-      as_fn_executable_p \""$ac_path_FGREP\"" || continue\n-# Check for GNU ac_path_FGREP and select it if it is found.\n-  # Check for GNU $ac_path_FGREP\n-case `\""$ac_path_FGREP\"" --version 2>&1` in\n-*GNU*)\n-  ac_cv_path_FGREP=\""$ac_path_FGREP\"" ac_path_FGREP_found=:;;\n-*)\n-  ac_count=0\n-  $as_echo_n 0123456789 >\""conftest.in\""\n-  while :\n-  do\n-    cat \""conftest.in\"" \""conftest.in\"" >\""conftest.tmp\""\n-    mv \""conftest.tmp\"" \""conftest.in\""\n-    cp \""conftest.in\"" \""conftest.nl\""\n-    $as_echo 'FGREP' >> \""conftest.nl\""\n-    \""$ac_path_FGREP\"" FGREP < \""conftest.nl\"" >\""conftest.out\"" 2>/dev/null || break\n-    diff \""conftest.out\"" \""conftest.nl\"" >/dev/null 2>&1 || break\n-    as_fn_arith $ac_count + 1 && ac_count=$as_val\n-    if test $ac_count -gt ${ac_path_FGREP_max-0}; then\n-      # Best one so far, save it but keep looking for a better one\n-      ac_cv_path_FGREP=\""$ac_path_FGREP\""\n-      ac_path_FGREP_max=$ac_count\n-    fi\n-    # 10*(2^10) chars as input seems more than enough\n-    test $ac_count -gt 10 && break\n-  done\n-  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;\n-esac\n-\n-      $ac_path_FGREP_found && break 3\n-    done\n-  done\n-  done\n-IFS=$as_save_IFS\n-  if test -z \""$ac_cv_path_FGREP\""; then\n-    as_fn_error $? \""no acceptable fgrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin\"" \""$LINENO\"" 5\n-  fi\n-else\n-  ac_cv_path_FGREP=$FGREP\n-fi\n-\n-   fi\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_FGREP\"" >&5\n-$as_echo \""$ac_cv_path_FGREP\"" >&6; }\n- FGREP=\""$ac_cv_path_FGREP\""\n-\n-\n-test -z \""$GREP\"" && GREP=grep\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-ECHO='\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\'\n-ECHO=$ECHO$ECHO$ECHO$ECHO$ECHO\n-ECHO=$ECHO$ECHO$ECHO$ECHO$ECHO$ECHO\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking how to print strings\"" >&5\n-$as_echo_n \""checking how to print strings... \"" >&6; }\n-# Test print first, because it will be a builtin if present.\n-if test \""X`( print -r -- -n ) 2>/dev/null`\"" = X-n && \\\n-   test \""X`print -r -- $ECHO 2>/dev/null`\"" = \""X$ECHO\""; then\n-  ECHO='print -r --'\n-elif test \""X`printf %s $ECHO 2>/dev/null`\"" = \""X$ECHO\""; then\n-  ECHO='printf %s\\n'\n-else\n-  # Use this function as a fallback that always works.\n-  func_fallback_echo ()\n-  {\n-    eval 'cat <<_LTECHO_EOF\n-$1\n-_LTECHO_EOF'\n-  }\n-  ECHO='func_fallback_echo'\n-fi\n-\n-# func_echo_all arg...\n-# Invoke $ECHO with all args, space-separated.\n-func_echo_all ()\n-{\n-    $ECHO \""\""\n-}\n-\n-case \""$ECHO\"" in\n-  printf*) { $as_echo \""$as_me:${as_lineno-$LINENO}: result: printf\"" >&5\n-$as_echo \""printf\"" >&6; } ;;\n-  print*) { $as_echo \""$as_me:${as_lineno-$LINENO}: result: print -r\"" >&5\n-$as_echo \""print -r\"" >&6; } ;;\n-  *) { $as_echo \""$as_me:${as_lineno-$LINENO}: result: cat\"" >&5\n-$as_echo \""cat\"" >&6; } ;;\n-esac\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-# Check whether --with-gnu-ld was given.\n-if test \""${with_gnu_ld+set}\"" = set; then :\n-  withval=$with_gnu_ld; test \""$withval\"" = no || with_gnu_ld=yes\n-else\n-  with_gnu_ld=no\n-fi\n-\n-ac_prog=ld\n-if test \""$GCC\"" = yes; then\n-  # Check if gcc -print-prog-name=ld gives a path.\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking for ld used by $CC\"" >&5\n-$as_echo_n \""checking for ld used by $CC... \"" >&6; }\n-  case $host in\n-  *-*-mingw*)\n-    # gcc leaves a trailing carriage return which upsets mingw\n-    ac_prog=`($CC -print-prog-name=ld) 2>&5 | tr -d '\\015'` ;;\n-  *)\n-    ac_prog=`($CC -print-prog-name=ld) 2>&5` ;;\n-  esac\n-  case $ac_prog in\n-    # Accept absolute paths.\n-    [\\\\/]* | ?:[\\\\/]*)\n-      re_direlt='/[^/][^/]*/\\.\\./'\n-      # Canonicalize the pathname of ld\n-      ac_prog=`$ECHO \""$ac_prog\""| $SED 's%\\\\\\\\%/%g'`\n-      while $ECHO \""$ac_prog\"" | $GREP \""$re_direlt\"" > /dev/null 2>&1; do\n-\tac_prog=`$ECHO $ac_prog| $SED \""s%$re_direlt%/%\""`\n-      done\n-      test -z \""$LD\"" && LD=\""$ac_prog\""\n-      ;;\n-  \""\"")\n-    # If it fails, then pretend we aren't using GCC.\n-    ac_prog=ld\n-    ;;\n-  *)\n-    # If it is relative, then search for the first ld in PATH.\n-    with_gnu_ld=unknown\n-    ;;\n-  esac\n-elif test \""$with_gnu_ld\"" = yes; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking for GNU ld\"" >&5\n-$as_echo_n \""checking for GNU ld... \"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking for non-GNU ld\"" >&5\n-$as_echo_n \""checking for non-GNU ld... \"" >&6; }\n-fi\n-if ${lt_cv_path_LD+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -z \""$LD\""; then\n-  lt_save_ifs=\""$IFS\""; IFS=$PATH_SEPARATOR\n-  for ac_dir in $PATH; do\n-    IFS=\""$lt_save_ifs\""\n-    test -z \""$ac_dir\"" && ac_dir=.\n-    if test -f \""$ac_dir/$ac_prog\"" || test -f \""$ac_dir/$ac_prog$ac_exeext\""; then\n-      lt_cv_path_LD=\""$ac_dir/$ac_prog\""\n-      # Check to see if the program is GNU ld.  I'd rather use --version,\n-      # but apparently some variants of GNU ld only accept -v.\n-      # Break only if it was the GNU/non-GNU ld that we prefer.\n-      case `\""$lt_cv_path_LD\"" -v 2>&1 </dev/null` in\n-      *GNU* | *'with BFD'*)\n-\ttest \""$with_gnu_ld\"" != no && break\n-\t;;\n-      *)\n-\ttest \""$with_gnu_ld\"" != yes && break\n-\t;;\n-      esac\n-    fi\n-  done\n-  IFS=\""$lt_save_ifs\""\n-else\n-  lt_cv_path_LD=\""$LD\"" # Let the user override the test with a path.\n-fi\n-fi\n-\n-LD=\""$lt_cv_path_LD\""\n-if test -n \""$LD\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $LD\"" >&5\n-$as_echo \""$LD\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-test -z \""$LD\"" && as_fn_error $? \""no acceptable ld found in \\$PATH\"" \""$LINENO\"" 5\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking if the linker ($LD) is GNU ld\"" >&5\n-$as_echo_n \""checking if the linker ($LD) is GNU ld... \"" >&6; }\n-if ${lt_cv_prog_gnu_ld+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  # I'd rather use --version here, but apparently some GNU lds only accept -v.\n-case `$LD -v 2>&1 </dev/null` in\n-*GNU* | *'with BFD'*)\n-  lt_cv_prog_gnu_ld=yes\n-  ;;\n-*)\n-  lt_cv_prog_gnu_ld=no\n-  ;;\n-esac\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_gnu_ld\"" >&5\n-$as_echo \""$lt_cv_prog_gnu_ld\"" >&6; }\n-with_gnu_ld=$lt_cv_prog_gnu_ld\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking how to run the C preprocessor\"" >&5\n-$as_echo_n \""checking how to run the C preprocessor... \"" >&6; }\n-# On Suns, sometimes $CPP names a directory.\n-if test -n \""$CPP\"" && test -d \""$CPP\""; then\n-  CPP=\n-fi\n-if test -z \""$CPP\""; then\n-  if ${ac_cv_prog_CPP+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-      # Double quotes because CPP needs to be expanded\n-    for CPP in \""$CC -E\"" \""$CC -E -traditional-cpp\"" \""/lib/cpp\""\n-    do\n-      ac_preproc_ok=false\n-for ac_c_preproc_warn_flag in '' yes\n-do\n-  # Use a header file that comes with gcc, so configuring glibc\n-  # with a fresh cross-compiler works.\n-  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n-  # <limits.h> exists even on freestanding compilers.\n-  # On the NeXT, cc -E runs the code through the compiler's parser,\n-  # not just through cpp. \""Syntax error\"" is here to catch this case.\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#ifdef __STDC__\n-# include <limits.h>\n-#else\n-# include <assert.h>\n-#endif\n-\t\t     Syntax error\n-_ACEOF\n-if ac_fn_c_try_cpp \""$LINENO\""; then :\n-\n-else\n-  # Broken: fails on valid input.\n-continue\n-fi\n-rm -f conftest.err conftest.i conftest.$ac_ext\n-\n-  # OK, works on sane cases.  Now check whether nonexistent headers\n-  # can be detected and how.\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <ac_nonexistent.h>\n-_ACEOF\n-if ac_fn_c_try_cpp \""$LINENO\""; then :\n-  # Broken: success on invalid input.\n-continue\n-else\n-  # Passes both tests.\n-ac_preproc_ok=:\n-break\n-fi\n-rm -f conftest.err conftest.i conftest.$ac_ext\n-\n-done\n-# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.\n-rm -f conftest.i conftest.err conftest.$ac_ext\n-if $ac_preproc_ok; then :\n-  break\n-fi\n-\n-    done\n-    ac_cv_prog_CPP=$CPP\n-\n-fi\n-  CPP=$ac_cv_prog_CPP\n-else\n-  ac_cv_prog_CPP=$CPP\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $CPP\"" >&5\n-$as_echo \""$CPP\"" >&6; }\n-ac_preproc_ok=false\n-for ac_c_preproc_warn_flag in '' yes\n-do\n-  # Use a header file that comes with gcc, so configuring glibc\n-  # with a fresh cross-compiler works.\n-  # Prefer <limits.h> to <assert.h> if __STDC__ is defined, since\n-  # <limits.h> exists even on freestanding compilers.\n-  # On the NeXT, cc -E runs the code through the compiler's parser,\n-  # not just through cpp. \""Syntax error\"" is here to catch this case.\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#ifdef __STDC__\n-# include <limits.h>\n-#else\n-# include <assert.h>\n-#endif\n-\t\t     Syntax error\n-_ACEOF\n-if ac_fn_c_try_cpp \""$LINENO\""; then :\n-\n-else\n-  # Broken: fails on valid input.\n-continue\n-fi\n-rm -f conftest.err conftest.i conftest.$ac_ext\n-\n-  # OK, works on sane cases.  Now check whether nonexistent headers\n-  # can be detected and how.\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <ac_nonexistent.h>\n-_ACEOF\n-if ac_fn_c_try_cpp \""$LINENO\""; then :\n-  # Broken: success on invalid input.\n-continue\n-else\n-  # Passes both tests.\n-ac_preproc_ok=:\n-break\n-fi\n-rm -f conftest.err conftest.i conftest.$ac_ext\n-\n-done\n-# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.\n-rm -f conftest.i conftest.err conftest.$ac_ext\n-if $ac_preproc_ok; then :\n-\n-else\n-  { { $as_echo \""$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\"" >&5\n-$as_echo \""$as_me: error: in \\`$ac_pwd':\"" >&2;}\n-as_fn_error $? \""C preprocessor \\\""$CPP\\\"" fails sanity check\n-See \\`config.log' for more details\"" \""$LINENO\"" 5; }\n-fi\n-\n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-\n-for ac_prog in gawk mawk nawk awk\n-do\n-  # Extract the first word of \""$ac_prog\"", so it can be a program name with args.\n-set dummy $ac_prog; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_AWK+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$AWK\""; then\n-  ac_cv_prog_AWK=\""$AWK\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_AWK=\""$ac_prog\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-AWK=$ac_cv_prog_AWK\n-if test -n \""$AWK\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $AWK\"" >&5\n-$as_echo \""$AWK\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-  test -n \""$AWK\"" && break\n-done\n-\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether ln -s works\"" >&5\n-$as_echo_n \""checking whether ln -s works... \"" >&6; }\n-LN_S=$as_ln_s\n-if test \""$LN_S\"" = \""ln -s\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: yes\"" >&5\n-$as_echo \""yes\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no, using $LN_S\"" >&5\n-$as_echo \""no, using $LN_S\"" >&6; }\n-fi\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether ${MAKE-make} sets \\$(MAKE)\"" >&5\n-$as_echo_n \""checking whether ${MAKE-make} sets \\$(MAKE)... \"" >&6; }\n-set x ${MAKE-make}\n-ac_make=`$as_echo \""$2\"" | sed 's/+/p/g; s/[^a-zA-Z0-9_]/_/g'`\n-if eval \\${ac_cv_prog_make_${ac_make}_set+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  cat >conftest.make <<\\_ACEOF\n-SHELL = /bin/sh\n-all:\n-\t@echo '@@@%%%=$(MAKE)=@@@%%%'\n-_ACEOF\n-# GNU make sometimes prints \""make[1]: Entering ...\"", which would confuse us.\n-case `${MAKE-make} -f conftest.make 2>/dev/null` in\n-  *@@@%%%=?*=@@@%%%*)\n-    eval ac_cv_prog_make_${ac_make}_set=yes;;\n-  *)\n-    eval ac_cv_prog_make_${ac_make}_set=no;;\n-esac\n-rm -f conftest.make\n-fi\n-if eval test \\$ac_cv_prog_make_${ac_make}_set = yes; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: yes\"" >&5\n-$as_echo \""yes\"" >&6; }\n-  SET_MAKE=\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-  SET_MAKE=\""MAKE=${MAKE-make}\""\n-fi\n-\n-\n-case `pwd` in\n-  *\\ * | *\\\t*)\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: Libtool does not cope well with whitespace in \\`pwd\\`\"" >&5\n-$as_echo \""$as_me: WARNING: Libtool does not cope well with whitespace in \\`pwd\\`\"" >&2;} ;;\n-esac\n-\n-\n-\n-macro_version='2.4.2'\n-macro_revision='1.3337'\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-ltmain=\""$ac_aux_dir/ltmain.sh\""\n-\n-# Backslashify metacharacters that are still active within\n-# double-quoted strings.\n-sed_quote_subst='s/\\([\""`$\\\\]\\)/\\\\\\1/g'\n-\n-# Same as above, but do not quote variable references.\n-double_quote_subst='s/\\([\""`\\\\]\\)/\\\\\\1/g'\n-\n-# Sed substitution to delay expansion of an escaped shell variable in a\n-# double_quote_subst'ed string.\n-delay_variable_subst='s/\\\\\\\\\\\\\\\\\\\\\\$/\\\\\\\\\\\\$/g'\n-\n-# Sed substitution to delay expansion of an escaped single quote.\n-delay_single_quote_subst='s/'\\''/'\\'\\\\\\\\\\\\\\'\\''/g'\n-\n-# Sed substitution to avoid accidental globbing in evaled expressions\n-no_glob_subst='s/\\*/\\\\\\*/g'\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for BSD- or MS-compatible name lister (nm)\"" >&5\n-$as_echo_n \""checking for BSD- or MS-compatible name lister (nm)... \"" >&6; }\n-if ${lt_cv_path_NM+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$NM\""; then\n-  # Let the user override the test.\n-  lt_cv_path_NM=\""$NM\""\n-else\n-  lt_nm_to_check=\""${ac_tool_prefix}nm\""\n-  if test -n \""$ac_tool_prefix\"" && test \""$build\"" = \""$host\""; then\n-    lt_nm_to_check=\""$lt_nm_to_check nm\""\n-  fi\n-  for lt_tmp_nm in $lt_nm_to_check; do\n-    lt_save_ifs=\""$IFS\""; IFS=$PATH_SEPARATOR\n-    for ac_dir in $PATH /usr/ccs/bin/elf /usr/ccs/bin /usr/ucb /bin; do\n-      IFS=\""$lt_save_ifs\""\n-      test -z \""$ac_dir\"" && ac_dir=.\n-      tmp_nm=\""$ac_dir/$lt_tmp_nm\""\n-      if test -f \""$tmp_nm\"" || test -f \""$tmp_nm$ac_exeext\"" ; then\n-\t# Check to see if the nm accepts a BSD-compat flag.\n-\t# Adding the `sed 1q' prevents false positives on HP-UX, which says:\n-\t#   nm: unknown option \""B\"" ignored\n-\t# Tru64's nm complains that /dev/null is an invalid object file\n-\tcase `\""$tmp_nm\"" -B /dev/null 2>&1 | sed '1q'` in\n-\t*/dev/null* | *'Invalid file or object type'*)\n-\t  lt_cv_path_NM=\""$tmp_nm -B\""\n-\t  break\n-\t  ;;\n-\t*)\n-\t  case `\""$tmp_nm\"" -p /dev/null 2>&1 | sed '1q'` in\n-\t  */dev/null*)\n-\t    lt_cv_path_NM=\""$tmp_nm -p\""\n-\t    break\n-\t    ;;\n-\t  *)\n-\t    lt_cv_path_NM=${lt_cv_path_NM=\""$tmp_nm\""} # keep the first match, but\n-\t    continue # so that we can try to find one that supports BSD flags\n-\t    ;;\n-\t  esac\n-\t  ;;\n-\tesac\n-      fi\n-    done\n-    IFS=\""$lt_save_ifs\""\n-  done\n-  : ${lt_cv_path_NM=no}\n-fi\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_path_NM\"" >&5\n-$as_echo \""$lt_cv_path_NM\"" >&6; }\n-if test \""$lt_cv_path_NM\"" != \""no\""; then\n-  NM=\""$lt_cv_path_NM\""\n-else\n-  # Didn't find any BSD compatible name lister, look for dumpbin.\n-  if test -n \""$DUMPBIN\""; then :\n-    # Let the user override the test.\n-  else\n-    if test -n \""$ac_tool_prefix\""; then\n-  for ac_prog in dumpbin \""link -dump\""\n-  do\n-    # Extract the first word of \""$ac_tool_prefix$ac_prog\"", so it can be a program name with args.\n-set dummy $ac_tool_prefix$ac_prog; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_DUMPBIN+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$DUMPBIN\""; then\n-  ac_cv_prog_DUMPBIN=\""$DUMPBIN\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_DUMPBIN=\""$ac_tool_prefix$ac_prog\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-DUMPBIN=$ac_cv_prog_DUMPBIN\n-if test -n \""$DUMPBIN\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $DUMPBIN\"" >&5\n-$as_echo \""$DUMPBIN\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-    test -n \""$DUMPBIN\"" && break\n-  done\n-fi\n-if test -z \""$DUMPBIN\""; then\n-  ac_ct_DUMPBIN=$DUMPBIN\n-  for ac_prog in dumpbin \""link -dump\""\n-do\n-  # Extract the first word of \""$ac_prog\"", so it can be a program name with args.\n-set dummy $ac_prog; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_ac_ct_DUMPBIN+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$ac_ct_DUMPBIN\""; then\n-  ac_cv_prog_ac_ct_DUMPBIN=\""$ac_ct_DUMPBIN\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_ac_ct_DUMPBIN=\""$ac_prog\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_DUMPBIN=$ac_cv_prog_ac_ct_DUMPBIN\n-if test -n \""$ac_ct_DUMPBIN\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_ct_DUMPBIN\"" >&5\n-$as_echo \""$ac_ct_DUMPBIN\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-  test -n \""$ac_ct_DUMPBIN\"" && break\n-done\n-\n-  if test \""x$ac_ct_DUMPBIN\"" = x; then\n-    DUMPBIN=\"":\""\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\"" >&5\n-$as_echo \""$as_me: WARNING: using cross tools not prefixed with host triplet\"" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    DUMPBIN=$ac_ct_DUMPBIN\n-  fi\n-fi\n-\n-    case `$DUMPBIN -symbols /dev/null 2>&1 | sed '1q'` in\n-    *COFF*)\n-      DUMPBIN=\""$DUMPBIN -symbols\""\n-      ;;\n-    *)\n-      DUMPBIN=:\n-      ;;\n-    esac\n-  fi\n-\n-  if test \""$DUMPBIN\"" != \"":\""; then\n-    NM=\""$DUMPBIN\""\n-  fi\n-fi\n-test -z \""$NM\"" && NM=nm\n-\n-\n-\n-\n-\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking the name lister ($NM) interface\"" >&5\n-$as_echo_n \""checking the name lister ($NM) interface... \"" >&6; }\n-if ${lt_cv_nm_interface+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  lt_cv_nm_interface=\""BSD nm\""\n-  echo \""int some_variable = 0;\"" > conftest.$ac_ext\n-  (eval echo \""\\\""\\$as_me:$LINENO: $ac_compile\\\""\"" >&5)\n-  (eval \""$ac_compile\"" 2>conftest.err)\n-  cat conftest.err >&5\n-  (eval echo \""\\\""\\$as_me:$LINENO: $NM \\\\\\\""conftest.$ac_objext\\\\\\\""\\\""\"" >&5)\n-  (eval \""$NM \\\""conftest.$ac_objext\\\""\"" 2>conftest.err > conftest.out)\n-  cat conftest.err >&5\n-  (eval echo \""\\\""\\$as_me:$LINENO: output\\\""\"" >&5)\n-  cat conftest.out >&5\n-  if $GREP 'External.*some_variable' conftest.out > /dev/null; then\n-    lt_cv_nm_interface=\""MS dumpbin\""\n-  fi\n-  rm -f conftest*\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_nm_interface\"" >&5\n-$as_echo \""$lt_cv_nm_interface\"" >&6; }\n-\n-# find the maximum length of command line arguments\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking the maximum length of command line arguments\"" >&5\n-$as_echo_n \""checking the maximum length of command line arguments... \"" >&6; }\n-if ${lt_cv_sys_max_cmd_len+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-    i=0\n-  teststring=\""ABCD\""\n-\n-  case $build_os in\n-  msdosdjgpp*)\n-    # On DJGPP, this test can blow up pretty badly due to problems in libc\n-    # (any single argument exceeding 2000 bytes causes a buffer overrun\n-    # during glob expansion).  Even if it were fixed, the result of this\n-    # check would be larger than it should be.\n-    lt_cv_sys_max_cmd_len=12288;    # 12K is about right\n-    ;;\n-\n-  gnu*)\n-    # Under GNU Hurd, this test is not required because there is\n-    # no limit to the length of command line arguments.\n-    # Libtool will interpret -1 as no limit whatsoever\n-    lt_cv_sys_max_cmd_len=-1;\n-    ;;\n-\n-  cygwin* | mingw* | cegcc*)\n-    # On Win9x/ME, this test blows up -- it succeeds, but takes\n-    # about 5 minutes as the teststring grows exponentially.\n-    # Worse, since 9x/ME are not pre-emptively multitasking,\n-    # you end up with a \""frozen\"" computer, even though with patience\n-    # the test eventually succeeds (with a max line length of 256k).\n-    # Instead, let's just punt: use the minimum linelength reported by\n-    # all of the supported platforms: 8192 (on NT/2K/XP).\n-    lt_cv_sys_max_cmd_len=8192;\n-    ;;\n-\n-  mint*)\n-    # On MiNT this can take a long time and run out of memory.\n-    lt_cv_sys_max_cmd_len=8192;\n-    ;;\n-\n-  amigaos*)\n-    # On AmigaOS with pdksh, this test takes hours, literally.\n-    # So we just punt and use a minimum line length of 8192.\n-    lt_cv_sys_max_cmd_len=8192;\n-    ;;\n-\n-  netbsd* | freebsd* | openbsd* | darwin* | dragonfly*)\n-    # This has been around since 386BSD, at least.  Likely further.\n-    if test -x /sbin/sysctl; then\n-      lt_cv_sys_max_cmd_len=`/sbin/sysctl -n kern.argmax`\n-    elif test -x /usr/sbin/sysctl; then\n-      lt_cv_sys_max_cmd_len=`/usr/sbin/sysctl -n kern.argmax`\n-    else\n-      lt_cv_sys_max_cmd_len=65536\t# usable default for all BSDs\n-    fi\n-    # And add a safety zone\n-    lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \\/ 4`\n-    lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \\* 3`\n-    ;;\n-\n-  interix*)\n-    # We know the value 262144 and hardcode it with a safety zone (like BSD)\n-    lt_cv_sys_max_cmd_len=196608\n-    ;;\n-\n-  os2*)\n-    # The test takes a long time on OS/2.\n-    lt_cv_sys_max_cmd_len=8192\n-    ;;\n-\n-  osf*)\n-    # Dr. Hans Ekkehard Plesser reports seeing a kernel panic running configure\n-    # due to this test when exec_disable_arg_limit is 1 on Tru64. It is not\n-    # nice to cause kernel panics so lets avoid the loop below.\n-    # First set a reasonable default.\n-    lt_cv_sys_max_cmd_len=16384\n-    #\n-    if test -x /sbin/sysconfig; then\n-      case `/sbin/sysconfig -q proc exec_disable_arg_limit` in\n-        *1*) lt_cv_sys_max_cmd_len=-1 ;;\n-      esac\n-    fi\n-    ;;\n-  sco3.2v5*)\n-    lt_cv_sys_max_cmd_len=102400\n-    ;;\n-  sysv5* | sco5v6* | sysv4.2uw2*)\n-    kargmax=`grep ARG_MAX /etc/conf/cf.d/stune 2>/dev/null`\n-    if test -n \""$kargmax\""; then\n-      lt_cv_sys_max_cmd_len=`echo $kargmax | sed 's/.*[\t ]//'`\n-    else\n-      lt_cv_sys_max_cmd_len=32768\n-    fi\n-    ;;\n-  *)\n-    lt_cv_sys_max_cmd_len=`(getconf ARG_MAX) 2> /dev/null`\n-    if test -n \""$lt_cv_sys_max_cmd_len\""; then\n-      lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \\/ 4`\n-      lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \\* 3`\n-    else\n-      # Make teststring a little bigger before we do anything with it.\n-      # a 1K string should be a reasonable start.\n-      for i in 1 2 3 4 5 6 7 8 ; do\n-        teststring=$teststring$teststring\n-      done\n-      SHELL=${SHELL-${CONFIG_SHELL-/bin/sh}}\n-      # If test is not a shell built-in, we'll probably end up computing a\n-      # maximum length that is only half of the actual maximum length, but\n-      # we can't tell.\n-      while { test \""X\""`env echo \""$teststring$teststring\"" 2>/dev/null` \\\n-\t         = \""X$teststring$teststring\""; } >/dev/null 2>&1 &&\n-\t      test $i != 17 # 1/2 MB should be enough\n-      do\n-        i=`expr $i + 1`\n-        teststring=$teststring$teststring\n-      done\n-      # Only check the string length outside the loop.\n-      lt_cv_sys_max_cmd_len=`expr \""X$teststring\"" : \"".*\"" 2>&1`\n-      teststring=\n-      # Add a significant safety factor because C++ compilers can tack on\n-      # massive amounts of additional arguments before passing them to the\n-      # linker.  It appears as though 1/2 is a usable value.\n-      lt_cv_sys_max_cmd_len=`expr $lt_cv_sys_max_cmd_len \\/ 2`\n-    fi\n-    ;;\n-  esac\n-\n-fi\n-\n-if test -n $lt_cv_sys_max_cmd_len ; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_sys_max_cmd_len\"" >&5\n-$as_echo \""$lt_cv_sys_max_cmd_len\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: none\"" >&5\n-$as_echo \""none\"" >&6; }\n-fi\n-max_cmd_len=$lt_cv_sys_max_cmd_len\n-\n-\n-\n-\n-\n-\n-: ${CP=\""cp -f\""}\n-: ${MV=\""mv -f\""}\n-: ${RM=\""rm -f\""}\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether the shell understands some XSI constructs\"" >&5\n-$as_echo_n \""checking whether the shell understands some XSI constructs... \"" >&6; }\n-# Try some XSI features\n-xsi_shell=no\n-( _lt_dummy=\""a/b/c\""\n-  test \""${_lt_dummy##*/},${_lt_dummy%/*},${_lt_dummy#??}\""${_lt_dummy%\""$_lt_dummy\""}, \\\n-      = c,a/b,b/c, \\\n-    && eval 'test $(( 1 + 1 )) -eq 2 \\\n-    && test \""${#_lt_dummy}\"" -eq 5' ) >/dev/null 2>&1 \\\n-  && xsi_shell=yes\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $xsi_shell\"" >&5\n-$as_echo \""$xsi_shell\"" >&6; }\n-\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether the shell understands \\\""+=\\\""\"" >&5\n-$as_echo_n \""checking whether the shell understands \\\""+=\\\""... \"" >&6; }\n-lt_shell_append=no\n-( foo=bar; set foo baz; eval \""$1+=\\$2\"" && test \""$foo\"" = barbaz ) \\\n-    >/dev/null 2>&1 \\\n-  && lt_shell_append=yes\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_shell_append\"" >&5\n-$as_echo \""$lt_shell_append\"" >&6; }\n-\n-\n-if ( (MAIL=60; unset MAIL) || exit) >/dev/null 2>&1; then\n-  lt_unset=unset\n-else\n-  lt_unset=false\n-fi\n-\n-\n-\n-\n-\n-# test EBCDIC or ASCII\n-case `echo X|tr X '\\101'` in\n- A) # ASCII based system\n-    # \\n is not interpreted correctly by Solaris 8 /usr/ucb/tr\n-  lt_SP2NL='tr \\040 \\012'\n-  lt_NL2SP='tr \\015\\012 \\040\\040'\n-  ;;\n- *) # EBCDIC based system\n-  lt_SP2NL='tr \\100 \\n'\n-  lt_NL2SP='tr \\r\\n \\100\\100'\n-  ;;\n-esac\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking how to convert $build file names to $host format\"" >&5\n-$as_echo_n \""checking how to convert $build file names to $host format... \"" >&6; }\n-if ${lt_cv_to_host_file_cmd+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  case $host in\n-  *-*-mingw* )\n-    case $build in\n-      *-*-mingw* ) # actually msys\n-        lt_cv_to_host_file_cmd=func_convert_file_msys_to_w32\n-        ;;\n-      *-*-cygwin* )\n-        lt_cv_to_host_file_cmd=func_convert_file_cygwin_to_w32\n-        ;;\n-      * ) # otherwise, assume *nix\n-        lt_cv_to_host_file_cmd=func_convert_file_nix_to_w32\n-        ;;\n-    esac\n-    ;;\n-  *-*-cygwin* )\n-    case $build in\n-      *-*-mingw* ) # actually msys\n-        lt_cv_to_host_file_cmd=func_convert_file_msys_to_cygwin\n-        ;;\n-      *-*-cygwin* )\n-        lt_cv_to_host_file_cmd=func_convert_file_noop\n-        ;;\n-      * ) # otherwise, assume *nix\n-        lt_cv_to_host_file_cmd=func_convert_file_nix_to_cygwin\n-        ;;\n-    esac\n-    ;;\n-  * ) # unhandled hosts (and \""normal\"" native builds)\n-    lt_cv_to_host_file_cmd=func_convert_file_noop\n-    ;;\n-esac\n-\n-fi\n-\n-to_host_file_cmd=$lt_cv_to_host_file_cmd\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_to_host_file_cmd\"" >&5\n-$as_echo \""$lt_cv_to_host_file_cmd\"" >&6; }\n-\n-\n-\n-\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking how to convert $build file names to toolchain format\"" >&5\n-$as_echo_n \""checking how to convert $build file names to toolchain format... \"" >&6; }\n-if ${lt_cv_to_tool_file_cmd+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  #assume ordinary cross tools, or native build.\n-lt_cv_to_tool_file_cmd=func_convert_file_noop\n-case $host in\n-  *-*-mingw* )\n-    case $build in\n-      *-*-mingw* ) # actually msys\n-        lt_cv_to_tool_file_cmd=func_convert_file_msys_to_w32\n-        ;;\n-    esac\n-    ;;\n-esac\n-\n-fi\n-\n-to_tool_file_cmd=$lt_cv_to_tool_file_cmd\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_to_tool_file_cmd\"" >&5\n-$as_echo \""$lt_cv_to_tool_file_cmd\"" >&6; }\n-\n-\n-\n-\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $LD option to reload object files\"" >&5\n-$as_echo_n \""checking for $LD option to reload object files... \"" >&6; }\n-if ${lt_cv_ld_reload_flag+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  lt_cv_ld_reload_flag='-r'\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_ld_reload_flag\"" >&5\n-$as_echo \""$lt_cv_ld_reload_flag\"" >&6; }\n-reload_flag=$lt_cv_ld_reload_flag\n-case $reload_flag in\n-\""\"" | \"" \""*) ;;\n-*) reload_flag=\"" $reload_flag\"" ;;\n-esac\n-reload_cmds='$LD$reload_flag -o $output$reload_objs'\n-case $host_os in\n-  cygwin* | mingw* | pw32* | cegcc*)\n-    if test \""$GCC\"" != yes; then\n-      reload_cmds=false\n-    fi\n-    ;;\n-  darwin*)\n-    if test \""$GCC\"" = yes; then\n-      reload_cmds='$LTCC $LTCFLAGS -nostdlib ${wl}-r -o $output$reload_objs'\n-    else\n-      reload_cmds='$LD$reload_flag -o $output$reload_objs'\n-    fi\n-    ;;\n-esac\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-if test -n \""$ac_tool_prefix\""; then\n-  # Extract the first word of \""${ac_tool_prefix}objdump\"", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}objdump; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_OBJDUMP+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$OBJDUMP\""; then\n-  ac_cv_prog_OBJDUMP=\""$OBJDUMP\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_OBJDUMP=\""${ac_tool_prefix}objdump\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-OBJDUMP=$ac_cv_prog_OBJDUMP\n-if test -n \""$OBJDUMP\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $OBJDUMP\"" >&5\n-$as_echo \""$OBJDUMP\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-fi\n-if test -z \""$ac_cv_prog_OBJDUMP\""; then\n-  ac_ct_OBJDUMP=$OBJDUMP\n-  # Extract the first word of \""objdump\"", so it can be a program name with args.\n-set dummy objdump; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_ac_ct_OBJDUMP+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$ac_ct_OBJDUMP\""; then\n-  ac_cv_prog_ac_ct_OBJDUMP=\""$ac_ct_OBJDUMP\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_ac_ct_OBJDUMP=\""objdump\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_OBJDUMP=$ac_cv_prog_ac_ct_OBJDUMP\n-if test -n \""$ac_ct_OBJDUMP\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_ct_OBJDUMP\"" >&5\n-$as_echo \""$ac_ct_OBJDUMP\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-  if test \""x$ac_ct_OBJDUMP\"" = x; then\n-    OBJDUMP=\""false\""\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\"" >&5\n-$as_echo \""$as_me: WARNING: using cross tools not prefixed with host triplet\"" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    OBJDUMP=$ac_ct_OBJDUMP\n-  fi\n-else\n-  OBJDUMP=\""$ac_cv_prog_OBJDUMP\""\n-fi\n-\n-test -z \""$OBJDUMP\"" && OBJDUMP=objdump\n-\n-\n-\n-\n-\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking how to recognize dependent libraries\"" >&5\n-$as_echo_n \""checking how to recognize dependent libraries... \"" >&6; }\n-if ${lt_cv_deplibs_check_method+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  lt_cv_file_magic_cmd='$MAGIC_CMD'\n-lt_cv_file_magic_test_file=\n-lt_cv_deplibs_check_method='unknown'\n-# Need to set the preceding variable on all platforms that support\n-# interlibrary dependencies.\n-# 'none' -- dependencies not supported.\n-# `unknown' -- same as none, but documents that we really don't know.\n-# 'pass_all' -- all dependencies passed with no checks.\n-# 'test_compile' -- check by making test program.\n-# 'file_magic [[regex]]' -- check by looking for files in library path\n-# which responds to the $file_magic_cmd with a given extended regex.\n-# If you have `file' or equivalent on your system and you're not sure\n-# whether `pass_all' will *always* work, you probably want this one.\n-\n-case $host_os in\n-aix[4-9]*)\n-  lt_cv_deplibs_check_method=pass_all\n-  ;;\n-\n-beos*)\n-  lt_cv_deplibs_check_method=pass_all\n-  ;;\n-\n-bsdi[45]*)\n-  lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib)'\n-  lt_cv_file_magic_cmd='/usr/bin/file -L'\n-  lt_cv_file_magic_test_file=/shlib/libc.so\n-  ;;\n-\n-cygwin*)\n-  # func_win32_libid is a shell function defined in ltmain.sh\n-  lt_cv_deplibs_check_method='file_magic ^x86 archive import|^x86 DLL'\n-  lt_cv_file_magic_cmd='func_win32_libid'\n-  ;;\n-\n-mingw* | pw32*)\n-  # Base MSYS/MinGW do not provide the 'file' command needed by\n-  # func_win32_libid shell function, so use a weaker test based on 'objdump',\n-  # unless we find 'file', for example because we are cross-compiling.\n-  # func_win32_libid assumes BSD nm, so disallow it if using MS dumpbin.\n-  if ( test \""$lt_cv_nm_interface\"" = \""BSD nm\"" && file / ) >/dev/null 2>&1; then\n-    lt_cv_deplibs_check_method='file_magic ^x86 archive import|^x86 DLL'\n-    lt_cv_file_magic_cmd='func_win32_libid'\n-  else\n-    # Keep this pattern in sync with the one in func_win32_libid.\n-    lt_cv_deplibs_check_method='file_magic file format (pei*-i386(.*architecture: i386)?|pe-arm-wince|pe-x86-64)'\n-    lt_cv_file_magic_cmd='$OBJDUMP -f'\n-  fi\n-  ;;\n-\n-cegcc*)\n-  # use the weaker test based on 'objdump'. See mingw*.\n-  lt_cv_deplibs_check_method='file_magic file format pe-arm-.*little(.*architecture: arm)?'\n-  lt_cv_file_magic_cmd='$OBJDUMP -f'\n-  ;;\n-\n-darwin* | rhapsody*)\n-  lt_cv_deplibs_check_method=pass_all\n-  ;;\n-\n-freebsd* | dragonfly*)\n-  if echo __ELF__ | $CC -E - | $GREP __ELF__ > /dev/null; then\n-    case $host_cpu in\n-    i*86 )\n-      # Not sure whether the presence of OpenBSD here was a mistake.\n-      # Let's accept both of them until this is cleared up.\n-      lt_cv_deplibs_check_method='file_magic (FreeBSD|OpenBSD|DragonFly)/i[3-9]86 (compact )?demand paged shared library'\n-      lt_cv_file_magic_cmd=/usr/bin/file\n-      lt_cv_file_magic_test_file=`echo /usr/lib/libc.so.*`\n-      ;;\n-    esac\n-  else\n-    lt_cv_deplibs_check_method=pass_all\n-  fi\n-  ;;\n-\n-gnu*)\n-  lt_cv_deplibs_check_method=pass_all\n-  ;;\n-\n-haiku*)\n-  lt_cv_deplibs_check_method=pass_all\n-  ;;\n-\n-hpux10.20* | hpux11*)\n-  lt_cv_file_magic_cmd=/usr/bin/file\n-  case $host_cpu in\n-  ia64*)\n-    lt_cv_deplibs_check_method='file_magic (s[0-9][0-9][0-9]|ELF-[0-9][0-9]) shared object file - IA64'\n-    lt_cv_file_magic_test_file=/usr/lib/hpux32/libc.so\n-    ;;\n-  hppa*64*)\n-    lt_cv_deplibs_check_method='file_magic (s[0-9][0-9][0-9]|ELF[ -][0-9][0-9])(-bit)?( [LM]SB)? shared object( file)?[, -]* PA-RISC [0-9]\\.[0-9]'\n-    lt_cv_file_magic_test_file=/usr/lib/pa20_64/libc.sl\n-    ;;\n-  *)\n-    lt_cv_deplibs_check_method='file_magic (s[0-9][0-9][0-9]|PA-RISC[0-9]\\.[0-9]) shared library'\n-    lt_cv_file_magic_test_file=/usr/lib/libc.sl\n-    ;;\n-  esac\n-  ;;\n-\n-interix[3-9]*)\n-  # PIC code is broken on Interix 3.x, that's why |\\.a not |_pic\\.a here\n-  lt_cv_deplibs_check_method='match_pattern /lib[^/]+(\\.so|\\.a)$'\n-  ;;\n-\n-irix5* | irix6* | nonstopux*)\n-  case $LD in\n-  *-32|*\""-32 \"") libmagic=32-bit;;\n-  *-n32|*\""-n32 \"") libmagic=N32;;\n-  *-64|*\""-64 \"") libmagic=64-bit;;\n-  *) libmagic=never-match;;\n-  esac\n-  lt_cv_deplibs_check_method=pass_all\n-  ;;\n-\n-# This must be glibc/ELF.\n-linux* | k*bsd*-gnu | kopensolaris*-gnu)\n-  lt_cv_deplibs_check_method=pass_all\n-  ;;\n-\n-netbsd*)\n-  if echo __ELF__ | $CC -E - | $GREP __ELF__ > /dev/null; then\n-    lt_cv_deplibs_check_method='match_pattern /lib[^/]+(\\.so\\.[0-9]+\\.[0-9]+|_pic\\.a)$'\n-  else\n-    lt_cv_deplibs_check_method='match_pattern /lib[^/]+(\\.so|_pic\\.a)$'\n-  fi\n-  ;;\n-\n-newos6*)\n-  lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (executable|dynamic lib)'\n-  lt_cv_file_magic_cmd=/usr/bin/file\n-  lt_cv_file_magic_test_file=/usr/lib/libnls.so\n-  ;;\n-\n-*nto* | *qnx*)\n-  lt_cv_deplibs_check_method=pass_all\n-  ;;\n-\n-openbsd*)\n-  if test -z \""`echo __ELF__ | $CC -E - | $GREP __ELF__`\"" || test \""$host_os-$host_cpu\"" = \""openbsd2.8-powerpc\""; then\n-    lt_cv_deplibs_check_method='match_pattern /lib[^/]+(\\.so\\.[0-9]+\\.[0-9]+|\\.so|_pic\\.a)$'\n-  else\n-    lt_cv_deplibs_check_method='match_pattern /lib[^/]+(\\.so\\.[0-9]+\\.[0-9]+|_pic\\.a)$'\n-  fi\n-  ;;\n-\n-osf3* | osf4* | osf5*)\n-  lt_cv_deplibs_check_method=pass_all\n-  ;;\n-\n-rdos*)\n-  lt_cv_deplibs_check_method=pass_all\n-  ;;\n-\n-solaris*)\n-  lt_cv_deplibs_check_method=pass_all\n-  ;;\n-\n-sysv5* | sco3.2v5* | sco5v6* | unixware* | OpenUNIX* | sysv4*uw2*)\n-  lt_cv_deplibs_check_method=pass_all\n-  ;;\n-\n-sysv4 | sysv4.3*)\n-  case $host_vendor in\n-  motorola)\n-    lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [ML]SB (shared object|dynamic lib) M[0-9][0-9]* Version [0-9]'\n-    lt_cv_file_magic_test_file=`echo /usr/lib/libc.so*`\n-    ;;\n-  ncr)\n-    lt_cv_deplibs_check_method=pass_all\n-    ;;\n-  sequent)\n-    lt_cv_file_magic_cmd='/bin/file'\n-    lt_cv_deplibs_check_method='file_magic ELF [0-9][0-9]*-bit [LM]SB (shared object|dynamic lib )'\n-    ;;\n-  sni)\n-    lt_cv_file_magic_cmd='/bin/file'\n-    lt_cv_deplibs_check_method=\""file_magic ELF [0-9][0-9]*-bit [LM]SB dynamic lib\""\n-    lt_cv_file_magic_test_file=/lib/libc.so\n-    ;;\n-  siemens)\n-    lt_cv_deplibs_check_method=pass_all\n-    ;;\n-  pc)\n-    lt_cv_deplibs_check_method=pass_all\n-    ;;\n-  esac\n-  ;;\n-\n-tpf*)\n-  lt_cv_deplibs_check_method=pass_all\n-  ;;\n-esac\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_deplibs_check_method\"" >&5\n-$as_echo \""$lt_cv_deplibs_check_method\"" >&6; }\n-\n-file_magic_glob=\n-want_nocaseglob=no\n-if test \""$build\"" = \""$host\""; then\n-  case $host_os in\n-  mingw* | pw32*)\n-    if ( shopt | grep nocaseglob ) >/dev/null 2>&1; then\n-      want_nocaseglob=yes\n-    else\n-      file_magic_glob=`echo aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRsStTuUvVwWxXyYzZ | $SED -e \""s/\\(..\\)/s\\/[\\1]\\/[\\1]\\/g;/g\""`\n-    fi\n-    ;;\n-  esac\n-fi\n-\n-file_magic_cmd=$lt_cv_file_magic_cmd\n-deplibs_check_method=$lt_cv_deplibs_check_method\n-test -z \""$deplibs_check_method\"" && deplibs_check_method=unknown\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-if test -n \""$ac_tool_prefix\""; then\n-  # Extract the first word of \""${ac_tool_prefix}dlltool\"", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}dlltool; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_DLLTOOL+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$DLLTOOL\""; then\n-  ac_cv_prog_DLLTOOL=\""$DLLTOOL\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_DLLTOOL=\""${ac_tool_prefix}dlltool\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-DLLTOOL=$ac_cv_prog_DLLTOOL\n-if test -n \""$DLLTOOL\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $DLLTOOL\"" >&5\n-$as_echo \""$DLLTOOL\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-fi\n-if test -z \""$ac_cv_prog_DLLTOOL\""; then\n-  ac_ct_DLLTOOL=$DLLTOOL\n-  # Extract the first word of \""dlltool\"", so it can be a program name with args.\n-set dummy dlltool; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_ac_ct_DLLTOOL+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$ac_ct_DLLTOOL\""; then\n-  ac_cv_prog_ac_ct_DLLTOOL=\""$ac_ct_DLLTOOL\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_ac_ct_DLLTOOL=\""dlltool\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_DLLTOOL=$ac_cv_prog_ac_ct_DLLTOOL\n-if test -n \""$ac_ct_DLLTOOL\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_ct_DLLTOOL\"" >&5\n-$as_echo \""$ac_ct_DLLTOOL\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-  if test \""x$ac_ct_DLLTOOL\"" = x; then\n-    DLLTOOL=\""false\""\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\"" >&5\n-$as_echo \""$as_me: WARNING: using cross tools not prefixed with host triplet\"" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    DLLTOOL=$ac_ct_DLLTOOL\n-  fi\n-else\n-  DLLTOOL=\""$ac_cv_prog_DLLTOOL\""\n-fi\n-\n-test -z \""$DLLTOOL\"" && DLLTOOL=dlltool\n-\n-\n-\n-\n-\n-\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking how to associate runtime and link libraries\"" >&5\n-$as_echo_n \""checking how to associate runtime and link libraries... \"" >&6; }\n-if ${lt_cv_sharedlib_from_linklib_cmd+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  lt_cv_sharedlib_from_linklib_cmd='unknown'\n-\n-case $host_os in\n-cygwin* | mingw* | pw32* | cegcc*)\n-  # two different shell functions defined in ltmain.sh\n-  # decide which to use based on capabilities of $DLLTOOL\n-  case `$DLLTOOL --help 2>&1` in\n-  *--identify-strict*)\n-    lt_cv_sharedlib_from_linklib_cmd=func_cygming_dll_for_implib\n-    ;;\n-  *)\n-    lt_cv_sharedlib_from_linklib_cmd=func_cygming_dll_for_implib_fallback\n-    ;;\n-  esac\n-  ;;\n-*)\n-  # fallback: assume linklib IS sharedlib\n-  lt_cv_sharedlib_from_linklib_cmd=\""$ECHO\""\n-  ;;\n-esac\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_sharedlib_from_linklib_cmd\"" >&5\n-$as_echo \""$lt_cv_sharedlib_from_linklib_cmd\"" >&6; }\n-sharedlib_from_linklib_cmd=$lt_cv_sharedlib_from_linklib_cmd\n-test -z \""$sharedlib_from_linklib_cmd\"" && sharedlib_from_linklib_cmd=$ECHO\n-\n-\n-\n-\n-\n-\n-\n-\n-if test -n \""$ac_tool_prefix\""; then\n-  for ac_prog in ar\n-  do\n-    # Extract the first word of \""$ac_tool_prefix$ac_prog\"", so it can be a program name with args.\n-set dummy $ac_tool_prefix$ac_prog; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_AR+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$AR\""; then\n-  ac_cv_prog_AR=\""$AR\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_AR=\""$ac_tool_prefix$ac_prog\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-AR=$ac_cv_prog_AR\n-if test -n \""$AR\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $AR\"" >&5\n-$as_echo \""$AR\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-    test -n \""$AR\"" && break\n-  done\n-fi\n-if test -z \""$AR\""; then\n-  ac_ct_AR=$AR\n-  for ac_prog in ar\n-do\n-  # Extract the first word of \""$ac_prog\"", so it can be a program name with args.\n-set dummy $ac_prog; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_ac_ct_AR+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$ac_ct_AR\""; then\n-  ac_cv_prog_ac_ct_AR=\""$ac_ct_AR\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_ac_ct_AR=\""$ac_prog\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_AR=$ac_cv_prog_ac_ct_AR\n-if test -n \""$ac_ct_AR\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_ct_AR\"" >&5\n-$as_echo \""$ac_ct_AR\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-  test -n \""$ac_ct_AR\"" && break\n-done\n-\n-  if test \""x$ac_ct_AR\"" = x; then\n-    AR=\""false\""\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\"" >&5\n-$as_echo \""$as_me: WARNING: using cross tools not prefixed with host triplet\"" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    AR=$ac_ct_AR\n-  fi\n-fi\n-\n-: ${AR=ar}\n-: ${AR_FLAGS=cru}\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for archiver @FILE support\"" >&5\n-$as_echo_n \""checking for archiver @FILE support... \"" >&6; }\n-if ${lt_cv_ar_at_file+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  lt_cv_ar_at_file=no\n-   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \""$LINENO\""; then :\n-  echo conftest.$ac_objext > conftest.lst\n-      lt_ar_try='$AR $AR_FLAGS libconftest.a @conftest.lst >&5'\n-      { { eval echo \""\\\""\\$as_me\\\"":${as_lineno-$LINENO}: \\\""$lt_ar_try\\\""\""; } >&5\n-  (eval $lt_ar_try) 2>&5\n-  ac_status=$?\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; }\n-      if test \""$ac_status\"" -eq 0; then\n-\t# Ensure the archiver fails upon bogus file names.\n-\trm -f conftest.$ac_objext libconftest.a\n-\t{ { eval echo \""\\\""\\$as_me\\\"":${as_lineno-$LINENO}: \\\""$lt_ar_try\\\""\""; } >&5\n-  (eval $lt_ar_try) 2>&5\n-  ac_status=$?\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; }\n-\tif test \""$ac_status\"" -ne 0; then\n-          lt_cv_ar_at_file=@\n-        fi\n-      fi\n-      rm -f conftest.* libconftest.a\n-\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_ar_at_file\"" >&5\n-$as_echo \""$lt_cv_ar_at_file\"" >&6; }\n-\n-if test \""x$lt_cv_ar_at_file\"" = xno; then\n-  archiver_list_spec=\n-else\n-  archiver_list_spec=$lt_cv_ar_at_file\n-fi\n-\n-\n-\n-\n-\n-\n-\n-if test -n \""$ac_tool_prefix\""; then\n-  # Extract the first word of \""${ac_tool_prefix}strip\"", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}strip; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_STRIP+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$STRIP\""; then\n-  ac_cv_prog_STRIP=\""$STRIP\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_STRIP=\""${ac_tool_prefix}strip\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-STRIP=$ac_cv_prog_STRIP\n-if test -n \""$STRIP\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $STRIP\"" >&5\n-$as_echo \""$STRIP\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-fi\n-if test -z \""$ac_cv_prog_STRIP\""; then\n-  ac_ct_STRIP=$STRIP\n-  # Extract the first word of \""strip\"", so it can be a program name with args.\n-set dummy strip; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_ac_ct_STRIP+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$ac_ct_STRIP\""; then\n-  ac_cv_prog_ac_ct_STRIP=\""$ac_ct_STRIP\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_ac_ct_STRIP=\""strip\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_STRIP=$ac_cv_prog_ac_ct_STRIP\n-if test -n \""$ac_ct_STRIP\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_ct_STRIP\"" >&5\n-$as_echo \""$ac_ct_STRIP\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-  if test \""x$ac_ct_STRIP\"" = x; then\n-    STRIP=\"":\""\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\"" >&5\n-$as_echo \""$as_me: WARNING: using cross tools not prefixed with host triplet\"" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    STRIP=$ac_ct_STRIP\n-  fi\n-else\n-  STRIP=\""$ac_cv_prog_STRIP\""\n-fi\n-\n-test -z \""$STRIP\"" && STRIP=:\n-\n-\n-\n-\n-\n-\n-if test -n \""$ac_tool_prefix\""; then\n-  # Extract the first word of \""${ac_tool_prefix}ranlib\"", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}ranlib; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_RANLIB+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$RANLIB\""; then\n-  ac_cv_prog_RANLIB=\""$RANLIB\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_RANLIB=\""${ac_tool_prefix}ranlib\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-RANLIB=$ac_cv_prog_RANLIB\n-if test -n \""$RANLIB\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $RANLIB\"" >&5\n-$as_echo \""$RANLIB\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-fi\n-if test -z \""$ac_cv_prog_RANLIB\""; then\n-  ac_ct_RANLIB=$RANLIB\n-  # Extract the first word of \""ranlib\"", so it can be a program name with args.\n-set dummy ranlib; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_ac_ct_RANLIB+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$ac_ct_RANLIB\""; then\n-  ac_cv_prog_ac_ct_RANLIB=\""$ac_ct_RANLIB\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_ac_ct_RANLIB=\""ranlib\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB\n-if test -n \""$ac_ct_RANLIB\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_ct_RANLIB\"" >&5\n-$as_echo \""$ac_ct_RANLIB\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-  if test \""x$ac_ct_RANLIB\"" = x; then\n-    RANLIB=\"":\""\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\"" >&5\n-$as_echo \""$as_me: WARNING: using cross tools not prefixed with host triplet\"" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    RANLIB=$ac_ct_RANLIB\n-  fi\n-else\n-  RANLIB=\""$ac_cv_prog_RANLIB\""\n-fi\n-\n-test -z \""$RANLIB\"" && RANLIB=:\n-\n-\n-\n-\n-\n-\n-# Determine commands to create old-style static archives.\n-old_archive_cmds='$AR $AR_FLAGS $oldlib$oldobjs'\n-old_postinstall_cmds='chmod 644 $oldlib'\n-old_postuninstall_cmds=\n-\n-if test -n \""$RANLIB\""; then\n-  case $host_os in\n-  openbsd*)\n-    old_postinstall_cmds=\""$old_postinstall_cmds~\\$RANLIB -t \\$tool_oldlib\""\n-    ;;\n-  *)\n-    old_postinstall_cmds=\""$old_postinstall_cmds~\\$RANLIB \\$tool_oldlib\""\n-    ;;\n-  esac\n-  old_archive_cmds=\""$old_archive_cmds~\\$RANLIB \\$tool_oldlib\""\n-fi\n-\n-case $host_os in\n-  darwin*)\n-    lock_old_archive_extraction=yes ;;\n-  *)\n-    lock_old_archive_extraction=no ;;\n-esac\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-# If no C compiler was specified, use CC.\n-LTCC=${LTCC-\""$CC\""}\n-\n-# If no C compiler flags were specified, use CFLAGS.\n-LTCFLAGS=${LTCFLAGS-\""$CFLAGS\""}\n-\n-# Allow CC to be a program name with arguments.\n-compiler=$CC\n-\n-\n-# Check for command to grab the raw symbol name followed by C symbol from nm.\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking command to parse $NM output from $compiler object\"" >&5\n-$as_echo_n \""checking command to parse $NM output from $compiler object... \"" >&6; }\n-if ${lt_cv_sys_global_symbol_pipe+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-\n-# These are sane defaults that work on at least a few old systems.\n-# [They come from Ultrix.  What could be older than Ultrix?!! ;)]\n-\n-# Character class describing NM global symbol codes.\n-symcode='[BCDEGRST]'\n-\n-# Regexp to match symbols that can be accessed directly from C.\n-sympat='\\([_A-Za-z][_A-Za-z0-9]*\\)'\n-\n-# Define system-specific variables.\n-case $host_os in\n-aix*)\n-  symcode='[BCDT]'\n-  ;;\n-cygwin* | mingw* | pw32* | cegcc*)\n-  symcode='[ABCDGISTW]'\n-  ;;\n-hpux*)\n-  if test \""$host_cpu\"" = ia64; then\n-    symcode='[ABCDEGRST]'\n-  fi\n-  ;;\n-irix* | nonstopux*)\n-  symcode='[BCDEGRST]'\n-  ;;\n-osf*)\n-  symcode='[BCDEGQRST]'\n-  ;;\n-solaris*)\n-  symcode='[BDRT]'\n-  ;;\n-sco3.2v5*)\n-  symcode='[DT]'\n-  ;;\n-sysv4.2uw2*)\n-  symcode='[DT]'\n-  ;;\n-sysv5* | sco5v6* | unixware* | OpenUNIX*)\n-  symcode='[ABDT]'\n-  ;;\n-sysv4)\n-  symcode='[DFNSTU]'\n-  ;;\n-esac\n-\n-# If we're using GNU nm, then use its standard symbol codes.\n-case `$NM -V 2>&1` in\n-*GNU* | *'with BFD'*)\n-  symcode='[ABCDGIRSTW]' ;;\n-esac\n-\n-# Transform an extracted symbol line into a proper C declaration.\n-# Some systems (esp. on ia64) link data and code symbols differently,\n-# so use this general approach.\n-lt_cv_sys_global_symbol_to_cdecl=\""sed -n -e 's/^T .* \\(.*\\)$/extern int \\1();/p' -e 's/^$symcode* .* \\(.*\\)$/extern char \\1;/p'\""\n-\n-# Transform an extracted symbol line into symbol name and symbol address\n-lt_cv_sys_global_symbol_to_c_name_address=\""sed -n -e 's/^: \\([^ ]*\\)[ ]*$/  {\\\\\\\""\\1\\\\\\\"", (void *) 0},/p' -e 's/^$symcode* \\([^ ]*\\) \\([^ ]*\\)$/  {\\\""\\2\\\"", (void *) \\&\\2},/p'\""\n-lt_cv_sys_global_symbol_to_c_name_address_lib_prefix=\""sed -n -e 's/^: \\([^ ]*\\)[ ]*$/  {\\\\\\\""\\1\\\\\\\"", (void *) 0},/p' -e 's/^$symcode* \\([^ ]*\\) \\(lib[^ ]*\\)$/  {\\\""\\2\\\"", (void *) \\&\\2},/p' -e 's/^$symcode* \\([^ ]*\\) \\([^ ]*\\)$/  {\\\""lib\\2\\\"", (void *) \\&\\2},/p'\""\n-\n-# Handle CRLF in mingw tool chain\n-opt_cr=\n-case $build_os in\n-mingw*)\n-  opt_cr=`$ECHO 'x\\{0,1\\}' | tr x '\\015'` # option cr in regexp\n-  ;;\n-esac\n-\n-# Try without a prefix underscore, then with it.\n-for ac_symprfx in \""\"" \""_\""; do\n-\n-  # Transform symcode, sympat, and symprfx into a raw symbol and a C symbol.\n-  symxfrm=\""\\\\1 $ac_symprfx\\\\2 \\\\2\""\n-\n-  # Write the raw and C identifiers.\n-  if test \""$lt_cv_nm_interface\"" = \""MS dumpbin\""; then\n-    # Fake it for dumpbin and say T for any non-static function\n-    # and D for any global variable.\n-    # Also find C++ and __fastcall symbols from MSVC++,\n-    # which start with @ or ?.\n-    lt_cv_sys_global_symbol_pipe=\""$AWK '\""\\\n-\""     {last_section=section; section=\\$ 3};\""\\\n-\""     /^COFF SYMBOL TABLE/{for(i in hide) delete hide[i]};\""\\\n-\""     /Section length .*#relocs.*(pick any)/{hide[last_section]=1};\""\\\n-\""     \\$ 0!~/External *\\|/{next};\""\\\n-\""     / 0+ UNDEF /{next}; / UNDEF \\([^|]\\)*()/{next};\""\\\n-\""     {if(hide[section]) next};\""\\\n-\""     {f=0}; \\$ 0~/\\(\\).*\\|/{f=1}; {printf f ? \\\""T \\\"" : \\\""D \\\""};\""\\\n-\""     {split(\\$ 0, a, /\\||\\r/); split(a[2], s)};\""\\\n-\""     s[1]~/^[@?]/{print s[1], s[1]; next};\""\\\n-\""     s[1]~prfx {split(s[1],t,\\\""@\\\""); print t[1], substr(t[1],length(prfx))}\""\\\n-\""     ' prfx=^$ac_symprfx\""\n-  else\n-    lt_cv_sys_global_symbol_pipe=\""sed -n -e 's/^.*[\t ]\\($symcode$symcode*\\)[\t ][\t ]*$ac_symprfx$sympat$opt_cr$/$symxfrm/p'\""\n-  fi\n-  lt_cv_sys_global_symbol_pipe=\""$lt_cv_sys_global_symbol_pipe | sed '/ __gnu_lto/d'\""\n-\n-  # Check to see that the pipe works correctly.\n-  pipe_works=no\n-\n-  rm -f conftest*\n-  cat > conftest.$ac_ext <<_LT_EOF\n-#ifdef __cplusplus\n-extern \""C\"" {\n-#endif\n-char nm_test_var;\n-void nm_test_func(void);\n-void nm_test_func(void){}\n-#ifdef __cplusplus\n-}\n-#endif\n-int main(){nm_test_var='a';nm_test_func();return(0);}\n-_LT_EOF\n-\n-  if { { eval echo \""\\\""\\$as_me\\\"":${as_lineno-$LINENO}: \\\""$ac_compile\\\""\""; } >&5\n-  (eval $ac_compile) 2>&5\n-  ac_status=$?\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; }; then\n-    # Now try to grab the symbols.\n-    nlist=conftest.nm\n-    if { { eval echo \""\\\""\\$as_me\\\"":${as_lineno-$LINENO}: \\\""$NM conftest.$ac_objext \\| \""$lt_cv_sys_global_symbol_pipe\"" \\> $nlist\\\""\""; } >&5\n-  (eval $NM conftest.$ac_objext \\| \""$lt_cv_sys_global_symbol_pipe\"" \\> $nlist) 2>&5\n-  ac_status=$?\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; } && test -s \""$nlist\""; then\n-      # Try sorting and uniquifying the output.\n-      if sort \""$nlist\"" | uniq > \""$nlist\""T; then\n-\tmv -f \""$nlist\""T \""$nlist\""\n-      else\n-\trm -f \""$nlist\""T\n-      fi\n-\n-      # Make sure that we snagged all the symbols we need.\n-      if $GREP ' nm_test_var$' \""$nlist\"" >/dev/null; then\n-\tif $GREP ' nm_test_func$' \""$nlist\"" >/dev/null; then\n-\t  cat <<_LT_EOF > conftest.$ac_ext\n-/* Keep this code in sync between libtool.m4, ltmain, lt_system.h, and tests.  */\n-#if defined(_WIN32) || defined(__CYGWIN__) || defined(_WIN32_WCE)\n-/* DATA imports from DLLs on WIN32 con't be const, because runtime\n-   relocations are performed -- see ld's documentation on pseudo-relocs.  */\n-# define LT_DLSYM_CONST\n-#elif defined(__osf__)\n-/* This system does not cope well with relocations in const data.  */\n-# define LT_DLSYM_CONST\n-#else\n-# define LT_DLSYM_CONST const\n-#endif\n-\n-#ifdef __cplusplus\n-extern \""C\"" {\n-#endif\n-\n-_LT_EOF\n-\t  # Now generate the symbol file.\n-\t  eval \""$lt_cv_sys_global_symbol_to_cdecl\""' < \""$nlist\"" | $GREP -v main >> conftest.$ac_ext'\n-\n-\t  cat <<_LT_EOF >> conftest.$ac_ext\n-\n-/* The mapping between symbol names and symbols.  */\n-LT_DLSYM_CONST struct {\n-  const char *name;\n-  void       *address;\n-}\n-lt__PROGRAM__LTX_preloaded_symbols[] =\n-{\n-  { \""@PROGRAM@\"", (void *) 0 },\n-_LT_EOF\n-\t  $SED \""s/^$symcode$symcode* \\(.*\\) \\(.*\\)$/  {\\\""\\2\\\"", (void *) \\&\\2},/\"" < \""$nlist\"" | $GREP -v main >> conftest.$ac_ext\n-\t  cat <<\\_LT_EOF >> conftest.$ac_ext\n-  {0, (void *) 0}\n-};\n-\n-/* This works around a problem in FreeBSD linker */\n-#ifdef FREEBSD_WORKAROUND\n-static const void *lt_preloaded_setup() {\n-  return lt__PROGRAM__LTX_preloaded_symbols;\n-}\n-#endif\n-\n-#ifdef __cplusplus\n-}\n-#endif\n-_LT_EOF\n-\t  # Now try linking the two files.\n-\t  mv conftest.$ac_objext conftstm.$ac_objext\n-\t  lt_globsym_save_LIBS=$LIBS\n-\t  lt_globsym_save_CFLAGS=$CFLAGS\n-\t  LIBS=\""conftstm.$ac_objext\""\n-\t  CFLAGS=\""$CFLAGS$lt_prog_compiler_no_builtin_flag\""\n-\t  if { { eval echo \""\\\""\\$as_me\\\"":${as_lineno-$LINENO}: \\\""$ac_link\\\""\""; } >&5\n-  (eval $ac_link) 2>&5\n-  ac_status=$?\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; } && test -s conftest${ac_exeext}; then\n-\t    pipe_works=yes\n-\t  fi\n-\t  LIBS=$lt_globsym_save_LIBS\n-\t  CFLAGS=$lt_globsym_save_CFLAGS\n-\telse\n-\t  echo \""cannot find nm_test_func in $nlist\"" >&5\n-\tfi\n-      else\n-\techo \""cannot find nm_test_var in $nlist\"" >&5\n-      fi\n-    else\n-      echo \""cannot run $lt_cv_sys_global_symbol_pipe\"" >&5\n-    fi\n-  else\n-    echo \""$progname: failed program was:\"" >&5\n-    cat conftest.$ac_ext >&5\n-  fi\n-  rm -rf conftest* conftst*\n-\n-  # Do not use the global_symbol_pipe unless it works.\n-  if test \""$pipe_works\"" = yes; then\n-    break\n-  else\n-    lt_cv_sys_global_symbol_pipe=\n-  fi\n-done\n-\n-fi\n-\n-if test -z \""$lt_cv_sys_global_symbol_pipe\""; then\n-  lt_cv_sys_global_symbol_to_cdecl=\n-fi\n-if test -z \""$lt_cv_sys_global_symbol_pipe$lt_cv_sys_global_symbol_to_cdecl\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: failed\"" >&5\n-$as_echo \""failed\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: ok\"" >&5\n-$as_echo \""ok\"" >&6; }\n-fi\n-\n-# Response file support.\n-if test \""$lt_cv_nm_interface\"" = \""MS dumpbin\""; then\n-  nm_file_list_spec='@'\n-elif $NM --help 2>/dev/null | grep '[@]FILE' >/dev/null; then\n-  nm_file_list_spec='@'\n-fi\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for sysroot\"" >&5\n-$as_echo_n \""checking for sysroot... \"" >&6; }\n-\n-# Check whether --with-sysroot was given.\n-if test \""${with_sysroot+set}\"" = set; then :\n-  withval=$with_sysroot;\n-else\n-  with_sysroot=no\n-fi\n-\n-\n-lt_sysroot=\n-case ${with_sysroot} in #(\n- yes)\n-   if test \""$GCC\"" = yes; then\n-     lt_sysroot=`$CC --print-sysroot 2>/dev/null`\n-   fi\n-   ;; #(\n- /*)\n-   lt_sysroot=`echo \""$with_sysroot\"" | sed -e \""$sed_quote_subst\""`\n-   ;; #(\n- no|'')\n-   ;; #(\n- *)\n-   { $as_echo \""$as_me:${as_lineno-$LINENO}: result: ${with_sysroot}\"" >&5\n-$as_echo \""${with_sysroot}\"" >&6; }\n-   as_fn_error $? \""The sysroot must be an absolute path.\"" \""$LINENO\"" 5\n-   ;;\n-esac\n-\n- { $as_echo \""$as_me:${as_lineno-$LINENO}: result: ${lt_sysroot:-no}\"" >&5\n-$as_echo \""${lt_sysroot:-no}\"" >&6; }\n-\n-\n-\n-\n-\n-# Check whether --enable-libtool-lock was given.\n-if test \""${enable_libtool_lock+set}\"" = set; then :\n-  enableval=$enable_libtool_lock;\n-fi\n-\n-test \""x$enable_libtool_lock\"" != xno && enable_libtool_lock=yes\n-\n-# Some flags need to be propagated to the compiler or linker for good\n-# libtool support.\n-case $host in\n-ia64-*-hpux*)\n-  # Find out which ABI we are using.\n-  echo 'int i;' > conftest.$ac_ext\n-  if { { eval echo \""\\\""\\$as_me\\\"":${as_lineno-$LINENO}: \\\""$ac_compile\\\""\""; } >&5\n-  (eval $ac_compile) 2>&5\n-  ac_status=$?\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; }; then\n-    case `/usr/bin/file conftest.$ac_objext` in\n-      *ELF-32*)\n-\tHPUX_IA64_MODE=\""32\""\n-\t;;\n-      *ELF-64*)\n-\tHPUX_IA64_MODE=\""64\""\n-\t;;\n-    esac\n-  fi\n-  rm -rf conftest*\n-  ;;\n-*-*-irix6*)\n-  # Find out which ABI we are using.\n-  echo '#line '$LINENO' \""configure\""' > conftest.$ac_ext\n-  if { { eval echo \""\\\""\\$as_me\\\"":${as_lineno-$LINENO}: \\\""$ac_compile\\\""\""; } >&5\n-  (eval $ac_compile) 2>&5\n-  ac_status=$?\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; }; then\n-    if test \""$lt_cv_prog_gnu_ld\"" = yes; then\n-      case `/usr/bin/file conftest.$ac_objext` in\n-\t*32-bit*)\n-\t  LD=\""${LD-ld} -melf32bsmip\""\n-\t  ;;\n-\t*N32*)\n-\t  LD=\""${LD-ld} -melf32bmipn32\""\n-\t  ;;\n-\t*64-bit*)\n-\t  LD=\""${LD-ld} -melf64bmip\""\n-\t;;\n-      esac\n-    else\n-      case `/usr/bin/file conftest.$ac_objext` in\n-\t*32-bit*)\n-\t  LD=\""${LD-ld} -32\""\n-\t  ;;\n-\t*N32*)\n-\t  LD=\""${LD-ld} -n32\""\n-\t  ;;\n-\t*64-bit*)\n-\t  LD=\""${LD-ld} -64\""\n-\t  ;;\n-      esac\n-    fi\n-  fi\n-  rm -rf conftest*\n-  ;;\n-\n-x86_64-*kfreebsd*-gnu|x86_64-*linux*|ppc*-*linux*|powerpc*-*linux*| \\\n-s390*-*linux*|s390*-*tpf*|sparc*-*linux*)\n-  # Find out which ABI we are using.\n-  echo 'int i;' > conftest.$ac_ext\n-  if { { eval echo \""\\\""\\$as_me\\\"":${as_lineno-$LINENO}: \\\""$ac_compile\\\""\""; } >&5\n-  (eval $ac_compile) 2>&5\n-  ac_status=$?\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; }; then\n-    case `/usr/bin/file conftest.o` in\n-      *32-bit*)\n-\tcase $host in\n-\t  x86_64-*kfreebsd*-gnu)\n-\t    LD=\""${LD-ld} -m elf_i386_fbsd\""\n-\t    ;;\n-\t  x86_64-*linux*)\n-\t    LD=\""${LD-ld} -m elf_i386\""\n-\t    ;;\n-\t  ppc64-*linux*|powerpc64-*linux*)\n-\t    LD=\""${LD-ld} -m elf32ppclinux\""\n-\t    ;;\n-\t  s390x-*linux*)\n-\t    LD=\""${LD-ld} -m elf_s390\""\n-\t    ;;\n-\t  sparc64-*linux*)\n-\t    LD=\""${LD-ld} -m elf32_sparc\""\n-\t    ;;\n-\tesac\n-\t;;\n-      *64-bit*)\n-\tcase $host in\n-\t  x86_64-*kfreebsd*-gnu)\n-\t    LD=\""${LD-ld} -m elf_x86_64_fbsd\""\n-\t    ;;\n-\t  x86_64-*linux*)\n-\t    LD=\""${LD-ld} -m elf_x86_64\""\n-\t    ;;\n-\t  ppc*-*linux*|powerpc*-*linux*)\n-\t    LD=\""${LD-ld} -m elf64ppc\""\n-\t    ;;\n-\t  s390*-*linux*|s390*-*tpf*)\n-\t    LD=\""${LD-ld} -m elf64_s390\""\n-\t    ;;\n-\t  sparc*-*linux*)\n-\t    LD=\""${LD-ld} -m elf64_sparc\""\n-\t    ;;\n-\tesac\n-\t;;\n-    esac\n-  fi\n-  rm -rf conftest*\n-  ;;\n-\n-*-*-sco3.2v5*)\n-  # On SCO OpenServer 5, we need -belf to get full-featured binaries.\n-  SAVE_CFLAGS=\""$CFLAGS\""\n-  CFLAGS=\""$CFLAGS -belf\""\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether the C compiler needs -belf\"" >&5\n-$as_echo_n \""checking whether the C compiler needs -belf... \"" >&6; }\n-if ${lt_cv_cc_needs_belf+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-\n-     cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_link \""$LINENO\""; then :\n-  lt_cv_cc_needs_belf=yes\n-else\n-  lt_cv_cc_needs_belf=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n-     ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_cc_needs_belf\"" >&5\n-$as_echo \""$lt_cv_cc_needs_belf\"" >&6; }\n-  if test x\""$lt_cv_cc_needs_belf\"" != x\""yes\""; then\n-    # this is probably gcc 2.8.0, egcs 1.0 or newer; no need for -belf\n-    CFLAGS=\""$SAVE_CFLAGS\""\n-  fi\n-  ;;\n-*-*solaris*)\n-  # Find out which ABI we are using.\n-  echo 'int i;' > conftest.$ac_ext\n-  if { { eval echo \""\\\""\\$as_me\\\"":${as_lineno-$LINENO}: \\\""$ac_compile\\\""\""; } >&5\n-  (eval $ac_compile) 2>&5\n-  ac_status=$?\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; }; then\n-    case `/usr/bin/file conftest.o` in\n-    *64-bit*)\n-      case $lt_cv_prog_gnu_ld in\n-      yes*)\n-        case $host in\n-        i?86-*-solaris*)\n-          LD=\""${LD-ld} -m elf_x86_64\""\n-          ;;\n-        sparc*-*-solaris*)\n-          LD=\""${LD-ld} -m elf64_sparc\""\n-          ;;\n-        esac\n-        # GNU ld 2.21 introduced _sol2 emulations.  Use them if available.\n-        if ${LD-ld} -V | grep _sol2 >/dev/null 2>&1; then\n-          LD=\""${LD-ld}_sol2\""\n-        fi\n-        ;;\n-      *)\n-\tif ${LD-ld} -64 -r -o conftest2.o conftest.o >/dev/null 2>&1; then\n-\t  LD=\""${LD-ld} -64\""\n-\tfi\n-\t;;\n-      esac\n-      ;;\n-    esac\n-  fi\n-  rm -rf conftest*\n-  ;;\n-esac\n-\n-need_locks=\""$enable_libtool_lock\""\n-\n-if test -n \""$ac_tool_prefix\""; then\n-  # Extract the first word of \""${ac_tool_prefix}mt\"", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}mt; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_MANIFEST_TOOL+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$MANIFEST_TOOL\""; then\n-  ac_cv_prog_MANIFEST_TOOL=\""$MANIFEST_TOOL\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_MANIFEST_TOOL=\""${ac_tool_prefix}mt\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-MANIFEST_TOOL=$ac_cv_prog_MANIFEST_TOOL\n-if test -n \""$MANIFEST_TOOL\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $MANIFEST_TOOL\"" >&5\n-$as_echo \""$MANIFEST_TOOL\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-fi\n-if test -z \""$ac_cv_prog_MANIFEST_TOOL\""; then\n-  ac_ct_MANIFEST_TOOL=$MANIFEST_TOOL\n-  # Extract the first word of \""mt\"", so it can be a program name with args.\n-set dummy mt; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_ac_ct_MANIFEST_TOOL+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$ac_ct_MANIFEST_TOOL\""; then\n-  ac_cv_prog_ac_ct_MANIFEST_TOOL=\""$ac_ct_MANIFEST_TOOL\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_ac_ct_MANIFEST_TOOL=\""mt\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_MANIFEST_TOOL=$ac_cv_prog_ac_ct_MANIFEST_TOOL\n-if test -n \""$ac_ct_MANIFEST_TOOL\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_ct_MANIFEST_TOOL\"" >&5\n-$as_echo \""$ac_ct_MANIFEST_TOOL\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-  if test \""x$ac_ct_MANIFEST_TOOL\"" = x; then\n-    MANIFEST_TOOL=\"":\""\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\"" >&5\n-$as_echo \""$as_me: WARNING: using cross tools not prefixed with host triplet\"" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    MANIFEST_TOOL=$ac_ct_MANIFEST_TOOL\n-  fi\n-else\n-  MANIFEST_TOOL=\""$ac_cv_prog_MANIFEST_TOOL\""\n-fi\n-\n-test -z \""$MANIFEST_TOOL\"" && MANIFEST_TOOL=mt\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking if $MANIFEST_TOOL is a manifest tool\"" >&5\n-$as_echo_n \""checking if $MANIFEST_TOOL is a manifest tool... \"" >&6; }\n-if ${lt_cv_path_mainfest_tool+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  lt_cv_path_mainfest_tool=no\n-  echo \""$as_me:$LINENO: $MANIFEST_TOOL '-?'\"" >&5\n-  $MANIFEST_TOOL '-?' 2>conftest.err > conftest.out\n-  cat conftest.err >&5\n-  if $GREP 'Manifest Tool' conftest.out > /dev/null; then\n-    lt_cv_path_mainfest_tool=yes\n-  fi\n-  rm -f conftest*\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_path_mainfest_tool\"" >&5\n-$as_echo \""$lt_cv_path_mainfest_tool\"" >&6; }\n-if test \""x$lt_cv_path_mainfest_tool\"" != xyes; then\n-  MANIFEST_TOOL=:\n-fi\n-\n-\n-\n-\n-\n-\n-  case $host_os in\n-    rhapsody* | darwin*)\n-    if test -n \""$ac_tool_prefix\""; then\n-  # Extract the first word of \""${ac_tool_prefix}dsymutil\"", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}dsymutil; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_DSYMUTIL+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$DSYMUTIL\""; then\n-  ac_cv_prog_DSYMUTIL=\""$DSYMUTIL\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_DSYMUTIL=\""${ac_tool_prefix}dsymutil\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-DSYMUTIL=$ac_cv_prog_DSYMUTIL\n-if test -n \""$DSYMUTIL\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $DSYMUTIL\"" >&5\n-$as_echo \""$DSYMUTIL\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-fi\n-if test -z \""$ac_cv_prog_DSYMUTIL\""; then\n-  ac_ct_DSYMUTIL=$DSYMUTIL\n-  # Extract the first word of \""dsymutil\"", so it can be a program name with args.\n-set dummy dsymutil; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_ac_ct_DSYMUTIL+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$ac_ct_DSYMUTIL\""; then\n-  ac_cv_prog_ac_ct_DSYMUTIL=\""$ac_ct_DSYMUTIL\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_ac_ct_DSYMUTIL=\""dsymutil\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_DSYMUTIL=$ac_cv_prog_ac_ct_DSYMUTIL\n-if test -n \""$ac_ct_DSYMUTIL\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_ct_DSYMUTIL\"" >&5\n-$as_echo \""$ac_ct_DSYMUTIL\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-  if test \""x$ac_ct_DSYMUTIL\"" = x; then\n-    DSYMUTIL=\"":\""\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\"" >&5\n-$as_echo \""$as_me: WARNING: using cross tools not prefixed with host triplet\"" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    DSYMUTIL=$ac_ct_DSYMUTIL\n-  fi\n-else\n-  DSYMUTIL=\""$ac_cv_prog_DSYMUTIL\""\n-fi\n-\n-    if test -n \""$ac_tool_prefix\""; then\n-  # Extract the first word of \""${ac_tool_prefix}nmedit\"", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}nmedit; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_NMEDIT+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$NMEDIT\""; then\n-  ac_cv_prog_NMEDIT=\""$NMEDIT\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_NMEDIT=\""${ac_tool_prefix}nmedit\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-NMEDIT=$ac_cv_prog_NMEDIT\n-if test -n \""$NMEDIT\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $NMEDIT\"" >&5\n-$as_echo \""$NMEDIT\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-fi\n-if test -z \""$ac_cv_prog_NMEDIT\""; then\n-  ac_ct_NMEDIT=$NMEDIT\n-  # Extract the first word of \""nmedit\"", so it can be a program name with args.\n-set dummy nmedit; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_ac_ct_NMEDIT+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$ac_ct_NMEDIT\""; then\n-  ac_cv_prog_ac_ct_NMEDIT=\""$ac_ct_NMEDIT\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_ac_ct_NMEDIT=\""nmedit\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_NMEDIT=$ac_cv_prog_ac_ct_NMEDIT\n-if test -n \""$ac_ct_NMEDIT\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_ct_NMEDIT\"" >&5\n-$as_echo \""$ac_ct_NMEDIT\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-  if test \""x$ac_ct_NMEDIT\"" = x; then\n-    NMEDIT=\"":\""\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\"" >&5\n-$as_echo \""$as_me: WARNING: using cross tools not prefixed with host triplet\"" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    NMEDIT=$ac_ct_NMEDIT\n-  fi\n-else\n-  NMEDIT=\""$ac_cv_prog_NMEDIT\""\n-fi\n-\n-    if test -n \""$ac_tool_prefix\""; then\n-  # Extract the first word of \""${ac_tool_prefix}lipo\"", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}lipo; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_LIPO+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$LIPO\""; then\n-  ac_cv_prog_LIPO=\""$LIPO\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_LIPO=\""${ac_tool_prefix}lipo\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-LIPO=$ac_cv_prog_LIPO\n-if test -n \""$LIPO\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $LIPO\"" >&5\n-$as_echo \""$LIPO\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-fi\n-if test -z \""$ac_cv_prog_LIPO\""; then\n-  ac_ct_LIPO=$LIPO\n-  # Extract the first word of \""lipo\"", so it can be a program name with args.\n-set dummy lipo; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_ac_ct_LIPO+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$ac_ct_LIPO\""; then\n-  ac_cv_prog_ac_ct_LIPO=\""$ac_ct_LIPO\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_ac_ct_LIPO=\""lipo\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_LIPO=$ac_cv_prog_ac_ct_LIPO\n-if test -n \""$ac_ct_LIPO\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_ct_LIPO\"" >&5\n-$as_echo \""$ac_ct_LIPO\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-  if test \""x$ac_ct_LIPO\"" = x; then\n-    LIPO=\"":\""\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\"" >&5\n-$as_echo \""$as_me: WARNING: using cross tools not prefixed with host triplet\"" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    LIPO=$ac_ct_LIPO\n-  fi\n-else\n-  LIPO=\""$ac_cv_prog_LIPO\""\n-fi\n-\n-    if test -n \""$ac_tool_prefix\""; then\n-  # Extract the first word of \""${ac_tool_prefix}otool\"", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}otool; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_OTOOL+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$OTOOL\""; then\n-  ac_cv_prog_OTOOL=\""$OTOOL\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_OTOOL=\""${ac_tool_prefix}otool\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-OTOOL=$ac_cv_prog_OTOOL\n-if test -n \""$OTOOL\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $OTOOL\"" >&5\n-$as_echo \""$OTOOL\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-fi\n-if test -z \""$ac_cv_prog_OTOOL\""; then\n-  ac_ct_OTOOL=$OTOOL\n-  # Extract the first word of \""otool\"", so it can be a program name with args.\n-set dummy otool; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_ac_ct_OTOOL+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$ac_ct_OTOOL\""; then\n-  ac_cv_prog_ac_ct_OTOOL=\""$ac_ct_OTOOL\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_ac_ct_OTOOL=\""otool\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_OTOOL=$ac_cv_prog_ac_ct_OTOOL\n-if test -n \""$ac_ct_OTOOL\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_ct_OTOOL\"" >&5\n-$as_echo \""$ac_ct_OTOOL\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-  if test \""x$ac_ct_OTOOL\"" = x; then\n-    OTOOL=\"":\""\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\"" >&5\n-$as_echo \""$as_me: WARNING: using cross tools not prefixed with host triplet\"" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    OTOOL=$ac_ct_OTOOL\n-  fi\n-else\n-  OTOOL=\""$ac_cv_prog_OTOOL\""\n-fi\n-\n-    if test -n \""$ac_tool_prefix\""; then\n-  # Extract the first word of \""${ac_tool_prefix}otool64\"", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}otool64; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_OTOOL64+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$OTOOL64\""; then\n-  ac_cv_prog_OTOOL64=\""$OTOOL64\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_OTOOL64=\""${ac_tool_prefix}otool64\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-OTOOL64=$ac_cv_prog_OTOOL64\n-if test -n \""$OTOOL64\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $OTOOL64\"" >&5\n-$as_echo \""$OTOOL64\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-fi\n-if test -z \""$ac_cv_prog_OTOOL64\""; then\n-  ac_ct_OTOOL64=$OTOOL64\n-  # Extract the first word of \""otool64\"", so it can be a program name with args.\n-set dummy otool64; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_ac_ct_OTOOL64+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$ac_ct_OTOOL64\""; then\n-  ac_cv_prog_ac_ct_OTOOL64=\""$ac_ct_OTOOL64\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_ac_ct_OTOOL64=\""otool64\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_OTOOL64=$ac_cv_prog_ac_ct_OTOOL64\n-if test -n \""$ac_ct_OTOOL64\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_ct_OTOOL64\"" >&5\n-$as_echo \""$ac_ct_OTOOL64\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-  if test \""x$ac_ct_OTOOL64\"" = x; then\n-    OTOOL64=\"":\""\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\"" >&5\n-$as_echo \""$as_me: WARNING: using cross tools not prefixed with host triplet\"" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    OTOOL64=$ac_ct_OTOOL64\n-  fi\n-else\n-  OTOOL64=\""$ac_cv_prog_OTOOL64\""\n-fi\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: checking for -single_module linker flag\"" >&5\n-$as_echo_n \""checking for -single_module linker flag... \"" >&6; }\n-if ${lt_cv_apple_cc_single_mod+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  lt_cv_apple_cc_single_mod=no\n-      if test -z \""${LT_MULTI_MODULE}\""; then\n-\t# By default we will add the -single_module flag. You can override\n-\t# by either setting the environment variable LT_MULTI_MODULE\n-\t# non-empty at configure time, or by adding -multi_module to the\n-\t# link flags.\n-\trm -rf libconftest.dylib*\n-\techo \""int foo(void){return 1;}\"" > conftest.c\n-\techo \""$LTCC $LTCFLAGS $LDFLAGS -o libconftest.dylib \\\n--dynamiclib -Wl,-single_module conftest.c\"" >&5\n-\t$LTCC $LTCFLAGS $LDFLAGS -o libconftest.dylib \\\n-\t  -dynamiclib -Wl,-single_module conftest.c 2>conftest.err\n-        _lt_result=$?\n-\t# If there is a non-empty error log, and \""single_module\""\n-\t# appears in it, assume the flag caused a linker warning\n-        if test -s conftest.err && $GREP single_module conftest.err; then\n-\t  cat conftest.err >&5\n-\t# Otherwise, if the output was created with a 0 exit code from\n-\t# the compiler, it worked.\n-\telif test -f libconftest.dylib && test $_lt_result -eq 0; then\n-\t  lt_cv_apple_cc_single_mod=yes\n-\telse\n-\t  cat conftest.err >&5\n-\tfi\n-\trm -rf libconftest.dylib*\n-\trm -f conftest.*\n-      fi\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_apple_cc_single_mod\"" >&5\n-$as_echo \""$lt_cv_apple_cc_single_mod\"" >&6; }\n-\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: checking for -exported_symbols_list linker flag\"" >&5\n-$as_echo_n \""checking for -exported_symbols_list linker flag... \"" >&6; }\n-if ${lt_cv_ld_exported_symbols_list+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  lt_cv_ld_exported_symbols_list=no\n-      save_LDFLAGS=$LDFLAGS\n-      echo \""_main\"" > conftest.sym\n-      LDFLAGS=\""$LDFLAGS -Wl,-exported_symbols_list,conftest.sym\""\n-      cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_link \""$LINENO\""; then :\n-  lt_cv_ld_exported_symbols_list=yes\n-else\n-  lt_cv_ld_exported_symbols_list=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n-\tLDFLAGS=\""$save_LDFLAGS\""\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_ld_exported_symbols_list\"" >&5\n-$as_echo \""$lt_cv_ld_exported_symbols_list\"" >&6; }\n-\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: checking for -force_load linker flag\"" >&5\n-$as_echo_n \""checking for -force_load linker flag... \"" >&6; }\n-if ${lt_cv_ld_force_load+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  lt_cv_ld_force_load=no\n-      cat > conftest.c << _LT_EOF\n-int forced_loaded() { return 2;}\n-_LT_EOF\n-      echo \""$LTCC $LTCFLAGS -c -o conftest.o conftest.c\"" >&5\n-      $LTCC $LTCFLAGS -c -o conftest.o conftest.c 2>&5\n-      echo \""$AR cru libconftest.a conftest.o\"" >&5\n-      $AR cru libconftest.a conftest.o 2>&5\n-      echo \""$RANLIB libconftest.a\"" >&5\n-      $RANLIB libconftest.a 2>&5\n-      cat > conftest.c << _LT_EOF\n-int main() { return 0;}\n-_LT_EOF\n-      echo \""$LTCC $LTCFLAGS $LDFLAGS -o conftest conftest.c -Wl,-force_load,./libconftest.a\"" >&5\n-      $LTCC $LTCFLAGS $LDFLAGS -o conftest conftest.c -Wl,-force_load,./libconftest.a 2>conftest.err\n-      _lt_result=$?\n-      if test -s conftest.err && $GREP force_load conftest.err; then\n-\tcat conftest.err >&5\n-      elif test -f conftest && test $_lt_result -eq 0 && $GREP forced_load conftest >/dev/null 2>&1 ; then\n-\tlt_cv_ld_force_load=yes\n-      else\n-\tcat conftest.err >&5\n-      fi\n-        rm -f conftest.err libconftest.a conftest conftest.c\n-        rm -rf conftest.dSYM\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_ld_force_load\"" >&5\n-$as_echo \""$lt_cv_ld_force_load\"" >&6; }\n-    case $host_os in\n-    rhapsody* | darwin1.[012])\n-      _lt_dar_allow_undefined='${wl}-undefined ${wl}suppress' ;;\n-    darwin1.*)\n-      _lt_dar_allow_undefined='${wl}-flat_namespace ${wl}-undefined ${wl}suppress' ;;\n-    darwin*) # darwin 5.x on\n-      # if running on 10.5 or later, the deployment target defaults\n-      # to the OS version, if on x86, and 10.4, the deployment\n-      # target defaults to 10.4. Don't you love it?\n-      case ${MACOSX_DEPLOYMENT_TARGET-10.0},$host in\n-\t10.0,*86*-darwin8*|10.0,*-darwin[91]*)\n-\t  _lt_dar_allow_undefined='${wl}-undefined ${wl}dynamic_lookup' ;;\n-\t10.[012]*)\n-\t  _lt_dar_allow_undefined='${wl}-flat_namespace ${wl}-undefined ${wl}suppress' ;;\n-\t10.*)\n-\t  _lt_dar_allow_undefined='${wl}-undefined ${wl}dynamic_lookup' ;;\n-      esac\n-    ;;\n-  esac\n-    if test \""$lt_cv_apple_cc_single_mod\"" = \""yes\""; then\n-      _lt_dar_single_mod='$single_module'\n-    fi\n-    if test \""$lt_cv_ld_exported_symbols_list\"" = \""yes\""; then\n-      _lt_dar_export_syms=' ${wl}-exported_symbols_list,$output_objdir/${libname}-symbols.expsym'\n-    else\n-      _lt_dar_export_syms='~$NMEDIT -s $output_objdir/${libname}-symbols.expsym ${lib}'\n-    fi\n-    if test \""$DSYMUTIL\"" != \"":\"" && test \""$lt_cv_ld_force_load\"" = \""no\""; then\n-      _lt_dsymutil='~$DSYMUTIL $lib || :'\n-    else\n-      _lt_dsymutil=\n-    fi\n-    ;;\n-  esac\n-\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for ANSI C header files\"" >&5\n-$as_echo_n \""checking for ANSI C header files... \"" >&6; }\n-if ${ac_cv_header_stdc+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <stdlib.h>\n-#include <stdarg.h>\n-#include <string.h>\n-#include <float.h>\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \""$LINENO\""; then :\n-  ac_cv_header_stdc=yes\n-else\n-  ac_cv_header_stdc=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-\n-if test $ac_cv_header_stdc = yes; then\n-  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <string.h>\n-\n-_ACEOF\n-if (eval \""$ac_cpp conftest.$ac_ext\"") 2>&5 |\n-  $EGREP \""memchr\"" >/dev/null 2>&1; then :\n-\n-else\n-  ac_cv_header_stdc=no\n-fi\n-rm -f conftest*\n-\n-fi\n-\n-if test $ac_cv_header_stdc = yes; then\n-  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <stdlib.h>\n-\n-_ACEOF\n-if (eval \""$ac_cpp conftest.$ac_ext\"") 2>&5 |\n-  $EGREP \""free\"" >/dev/null 2>&1; then :\n-\n-else\n-  ac_cv_header_stdc=no\n-fi\n-rm -f conftest*\n-\n-fi\n-\n-if test $ac_cv_header_stdc = yes; then\n-  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.\n-  if test \""$cross_compiling\"" = yes; then :\n-  :\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <ctype.h>\n-#include <stdlib.h>\n-#if ((' ' & 0x0FF) == 0x020)\n-# define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n-# define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))\n-#else\n-# define ISLOWER(c) \\\n-\t\t   (('a' <= (c) && (c) <= 'i') \\\n-\t\t     || ('j' <= (c) && (c) <= 'r') \\\n-\t\t     || ('s' <= (c) && (c) <= 'z'))\n-# define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))\n-#endif\n-\n-#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))\n-int\n-main ()\n-{\n-  int i;\n-  for (i = 0; i < 256; i++)\n-    if (XOR (islower (i), ISLOWER (i))\n-\t|| toupper (i) != TOUPPER (i))\n-      return 2;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_run \""$LINENO\""; then :\n-\n-else\n-  ac_cv_header_stdc=no\n-fi\n-rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n-  conftest.$ac_objext conftest.beam conftest.$ac_ext\n-fi\n-\n-fi\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_header_stdc\"" >&5\n-$as_echo \""$ac_cv_header_stdc\"" >&6; }\n-if test $ac_cv_header_stdc = yes; then\n-\n-$as_echo \""#define STDC_HEADERS 1\"" >>confdefs.h\n-\n-fi\n-\n-# On IRIX 5.3, sys/types and inttypes.h are conflicting.\n-for ac_header in sys/types.h sys/stat.h stdlib.h string.h memory.h strings.h \\\n-\t\t  inttypes.h stdint.h unistd.h\n-do :\n-  as_ac_Header=`$as_echo \""ac_cv_header_$ac_header\"" | $as_tr_sh`\n-ac_fn_c_check_header_compile \""$LINENO\"" \""$ac_header\"" \""$as_ac_Header\"" \""$ac_includes_default\n-\""\n-if eval test \\\""x\\$\""$as_ac_Header\""\\\"" = x\""yes\""; then :\n-  cat >>confdefs.h <<_ACEOF\n-#define `$as_echo \""HAVE_$ac_header\"" | $as_tr_cpp` 1\n-_ACEOF\n-\n-fi\n-\n-done\n-\n-\n-for ac_header in dlfcn.h\n-do :\n-  ac_fn_c_check_header_compile \""$LINENO\"" \""dlfcn.h\"" \""ac_cv_header_dlfcn_h\"" \""$ac_includes_default\n-\""\n-if test \""x$ac_cv_header_dlfcn_h\"" = xyes; then :\n-  cat >>confdefs.h <<_ACEOF\n-#define HAVE_DLFCN_H 1\n-_ACEOF\n-\n-fi\n-\n-done\n-\n-\n-\n-\n-\n-# Set options\n-enable_win32_dll=yes\n-\n-case $host in\n-*-*-cygwin* | *-*-mingw* | *-*-pw32* | *-*-cegcc*)\n-  if test -n \""$ac_tool_prefix\""; then\n-  # Extract the first word of \""${ac_tool_prefix}as\"", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}as; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_AS+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$AS\""; then\n-  ac_cv_prog_AS=\""$AS\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_AS=\""${ac_tool_prefix}as\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-AS=$ac_cv_prog_AS\n-if test -n \""$AS\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $AS\"" >&5\n-$as_echo \""$AS\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-fi\n-if test -z \""$ac_cv_prog_AS\""; then\n-  ac_ct_AS=$AS\n-  # Extract the first word of \""as\"", so it can be a program name with args.\n-set dummy as; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_ac_ct_AS+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$ac_ct_AS\""; then\n-  ac_cv_prog_ac_ct_AS=\""$ac_ct_AS\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_ac_ct_AS=\""as\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_AS=$ac_cv_prog_ac_ct_AS\n-if test -n \""$ac_ct_AS\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_ct_AS\"" >&5\n-$as_echo \""$ac_ct_AS\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-  if test \""x$ac_ct_AS\"" = x; then\n-    AS=\""false\""\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\"" >&5\n-$as_echo \""$as_me: WARNING: using cross tools not prefixed with host triplet\"" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    AS=$ac_ct_AS\n-  fi\n-else\n-  AS=\""$ac_cv_prog_AS\""\n-fi\n-\n-  if test -n \""$ac_tool_prefix\""; then\n-  # Extract the first word of \""${ac_tool_prefix}dlltool\"", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}dlltool; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_DLLTOOL+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$DLLTOOL\""; then\n-  ac_cv_prog_DLLTOOL=\""$DLLTOOL\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_DLLTOOL=\""${ac_tool_prefix}dlltool\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-DLLTOOL=$ac_cv_prog_DLLTOOL\n-if test -n \""$DLLTOOL\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $DLLTOOL\"" >&5\n-$as_echo \""$DLLTOOL\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-fi\n-if test -z \""$ac_cv_prog_DLLTOOL\""; then\n-  ac_ct_DLLTOOL=$DLLTOOL\n-  # Extract the first word of \""dlltool\"", so it can be a program name with args.\n-set dummy dlltool; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_ac_ct_DLLTOOL+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$ac_ct_DLLTOOL\""; then\n-  ac_cv_prog_ac_ct_DLLTOOL=\""$ac_ct_DLLTOOL\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_ac_ct_DLLTOOL=\""dlltool\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_DLLTOOL=$ac_cv_prog_ac_ct_DLLTOOL\n-if test -n \""$ac_ct_DLLTOOL\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_ct_DLLTOOL\"" >&5\n-$as_echo \""$ac_ct_DLLTOOL\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-  if test \""x$ac_ct_DLLTOOL\"" = x; then\n-    DLLTOOL=\""false\""\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\"" >&5\n-$as_echo \""$as_me: WARNING: using cross tools not prefixed with host triplet\"" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    DLLTOOL=$ac_ct_DLLTOOL\n-  fi\n-else\n-  DLLTOOL=\""$ac_cv_prog_DLLTOOL\""\n-fi\n-\n-  if test -n \""$ac_tool_prefix\""; then\n-  # Extract the first word of \""${ac_tool_prefix}objdump\"", so it can be a program name with args.\n-set dummy ${ac_tool_prefix}objdump; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_OBJDUMP+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$OBJDUMP\""; then\n-  ac_cv_prog_OBJDUMP=\""$OBJDUMP\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_OBJDUMP=\""${ac_tool_prefix}objdump\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-OBJDUMP=$ac_cv_prog_OBJDUMP\n-if test -n \""$OBJDUMP\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $OBJDUMP\"" >&5\n-$as_echo \""$OBJDUMP\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-fi\n-if test -z \""$ac_cv_prog_OBJDUMP\""; then\n-  ac_ct_OBJDUMP=$OBJDUMP\n-  # Extract the first word of \""objdump\"", so it can be a program name with args.\n-set dummy objdump; ac_word=$2\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $ac_word\"" >&5\n-$as_echo_n \""checking for $ac_word... \"" >&6; }\n-if ${ac_cv_prog_ac_ct_OBJDUMP+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test -n \""$ac_ct_OBJDUMP\""; then\n-  ac_cv_prog_ac_ct_OBJDUMP=\""$ac_ct_OBJDUMP\"" # Let the user override the test.\n-else\n-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    for ac_exec_ext in '' $ac_executable_extensions; do\n-  if as_fn_executable_p \""$as_dir/$ac_word$ac_exec_ext\""; then\n-    ac_cv_prog_ac_ct_OBJDUMP=\""objdump\""\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: found $as_dir/$ac_word$ac_exec_ext\"" >&5\n-    break 2\n-  fi\n-done\n-  done\n-IFS=$as_save_IFS\n-\n-fi\n-fi\n-ac_ct_OBJDUMP=$ac_cv_prog_ac_ct_OBJDUMP\n-if test -n \""$ac_ct_OBJDUMP\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_ct_OBJDUMP\"" >&5\n-$as_echo \""$ac_ct_OBJDUMP\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-  if test \""x$ac_ct_OBJDUMP\"" = x; then\n-    OBJDUMP=\""false\""\n-  else\n-    case $cross_compiling:$ac_tool_warned in\n-yes:)\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet\"" >&5\n-$as_echo \""$as_me: WARNING: using cross tools not prefixed with host triplet\"" >&2;}\n-ac_tool_warned=yes ;;\n-esac\n-    OBJDUMP=$ac_ct_OBJDUMP\n-  fi\n-else\n-  OBJDUMP=\""$ac_cv_prog_OBJDUMP\""\n-fi\n-\n-  ;;\n-esac\n-\n-test -z \""$AS\"" && AS=as\n-\n-\n-\n-\n-\n-test -z \""$DLLTOOL\"" && DLLTOOL=dlltool\n-\n-\n-\n-\n-\n-test -z \""$OBJDUMP\"" && OBJDUMP=objdump\n-\n-\n-\n-\n-\n-\n-\n-        enable_dlopen=no\n-\n-\n-\n-            # Check whether --enable-shared was given.\n-if test \""${enable_shared+set}\"" = set; then :\n-  enableval=$enable_shared; p=${PACKAGE-default}\n-    case $enableval in\n-    yes) enable_shared=yes ;;\n-    no) enable_shared=no ;;\n-    *)\n-      enable_shared=no\n-      # Look at the argument we got.  We use all the common list separators.\n-      lt_save_ifs=\""$IFS\""; IFS=\""${IFS}$PATH_SEPARATOR,\""\n-      for pkg in $enableval; do\n-\tIFS=\""$lt_save_ifs\""\n-\tif test \""X$pkg\"" = \""X$p\""; then\n-\t  enable_shared=yes\n-\tfi\n-      done\n-      IFS=\""$lt_save_ifs\""\n-      ;;\n-    esac\n-else\n-  enable_shared=yes\n-fi\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-  # Check whether --enable-static was given.\n-if test \""${enable_static+set}\"" = set; then :\n-  enableval=$enable_static; p=${PACKAGE-default}\n-    case $enableval in\n-    yes) enable_static=yes ;;\n-    no) enable_static=no ;;\n-    *)\n-     enable_static=no\n-      # Look at the argument we got.  We use all the common list separators.\n-      lt_save_ifs=\""$IFS\""; IFS=\""${IFS}$PATH_SEPARATOR,\""\n-      for pkg in $enableval; do\n-\tIFS=\""$lt_save_ifs\""\n-\tif test \""X$pkg\"" = \""X$p\""; then\n-\t  enable_static=yes\n-\tfi\n-      done\n-      IFS=\""$lt_save_ifs\""\n-      ;;\n-    esac\n-else\n-  enable_static=yes\n-fi\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-# Check whether --with-pic was given.\n-if test \""${with_pic+set}\"" = set; then :\n-  withval=$with_pic; lt_p=${PACKAGE-default}\n-    case $withval in\n-    yes|no) pic_mode=$withval ;;\n-    *)\n-      pic_mode=default\n-      # Look at the argument we got.  We use all the common list separators.\n-      lt_save_ifs=\""$IFS\""; IFS=\""${IFS}$PATH_SEPARATOR,\""\n-      for lt_pkg in $withval; do\n-\tIFS=\""$lt_save_ifs\""\n-\tif test \""X$lt_pkg\"" = \""X$lt_p\""; then\n-\t  pic_mode=yes\n-\tfi\n-      done\n-      IFS=\""$lt_save_ifs\""\n-      ;;\n-    esac\n-else\n-  pic_mode=default\n-fi\n-\n-\n-test -z \""$pic_mode\"" && pic_mode=default\n-\n-\n-\n-\n-\n-\n-\n-  # Check whether --enable-fast-install was given.\n-if test \""${enable_fast_install+set}\"" = set; then :\n-  enableval=$enable_fast_install; p=${PACKAGE-default}\n-    case $enableval in\n-    yes) enable_fast_install=yes ;;\n-    no) enable_fast_install=no ;;\n-    *)\n-      enable_fast_install=no\n-      # Look at the argument we got.  We use all the common list separators.\n-      lt_save_ifs=\""$IFS\""; IFS=\""${IFS}$PATH_SEPARATOR,\""\n-      for pkg in $enableval; do\n-\tIFS=\""$lt_save_ifs\""\n-\tif test \""X$pkg\"" = \""X$p\""; then\n-\t  enable_fast_install=yes\n-\tfi\n-      done\n-      IFS=\""$lt_save_ifs\""\n-      ;;\n-    esac\n-else\n-  enable_fast_install=yes\n-fi\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-# This can be used to rebuild libtool when needed\n-LIBTOOL_DEPS=\""$ltmain\""\n-\n-# Always use our own libtool.\n-LIBTOOL='$(SHELL) $(top_builddir)/libtool'\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-test -z \""$LN_S\"" && LN_S=\""ln -s\""\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-if test -n \""${ZSH_VERSION+set}\"" ; then\n-   setopt NO_GLOB_SUBST\n-fi\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for objdir\"" >&5\n-$as_echo_n \""checking for objdir... \"" >&6; }\n-if ${lt_cv_objdir+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  rm -f .libs 2>/dev/null\n-mkdir .libs 2>/dev/null\n-if test -d .libs; then\n-  lt_cv_objdir=.libs\n-else\n-  # MS-DOS does not allow filenames that begin with a dot.\n-  lt_cv_objdir=_libs\n-fi\n-rmdir .libs 2>/dev/null\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_objdir\"" >&5\n-$as_echo \""$lt_cv_objdir\"" >&6; }\n-objdir=$lt_cv_objdir\n-\n-\n-\n-\n-\n-cat >>confdefs.h <<_ACEOF\n-#define LT_OBJDIR \""$lt_cv_objdir/\""\n-_ACEOF\n-\n-\n-\n-\n-case $host_os in\n-aix3*)\n-  # AIX sometimes has problems with the GCC collect2 program.  For some\n-  # reason, if we set the COLLECT_NAMES environment variable, the problems\n-  # vanish in a puff of smoke.\n-  if test \""X${COLLECT_NAMES+set}\"" != Xset; then\n-    COLLECT_NAMES=\n-    export COLLECT_NAMES\n-  fi\n-  ;;\n-esac\n-\n-# Global variables:\n-ofile=libtool\n-can_build_shared=yes\n-\n-# All known linkers require a `.a' archive for static linking (except MSVC,\n-# which needs '.lib').\n-libext=a\n-\n-with_gnu_ld=\""$lt_cv_prog_gnu_ld\""\n-\n-old_CC=\""$CC\""\n-old_CFLAGS=\""$CFLAGS\""\n-\n-# Set sane defaults for various variables\n-test -z \""$CC\"" && CC=cc\n-test -z \""$LTCC\"" && LTCC=$CC\n-test -z \""$LTCFLAGS\"" && LTCFLAGS=$CFLAGS\n-test -z \""$LD\"" && LD=ld\n-test -z \""$ac_objext\"" && ac_objext=o\n-\n-for cc_temp in $compiler\""\""; do\n-  case $cc_temp in\n-    compile | *[\\\\/]compile | ccache | *[\\\\/]ccache ) ;;\n-    distcc | *[\\\\/]distcc | purify | *[\\\\/]purify ) ;;\n-    \\-*) ;;\n-    *) break;;\n-  esac\n-done\n-cc_basename=`$ECHO \""$cc_temp\"" | $SED \""s%.*/%%; s%^$host_alias-%%\""`\n-\n-\n-# Only perform the check for file, if the check method requires it\n-test -z \""$MAGIC_CMD\"" && MAGIC_CMD=file\n-case $deplibs_check_method in\n-file_magic*)\n-  if test \""$file_magic_cmd\"" = '$MAGIC_CMD'; then\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: checking for ${ac_tool_prefix}file\"" >&5\n-$as_echo_n \""checking for ${ac_tool_prefix}file... \"" >&6; }\n-if ${lt_cv_path_MAGIC_CMD+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  case $MAGIC_CMD in\n-[\\\\/*] |  ?:[\\\\/]*)\n-  lt_cv_path_MAGIC_CMD=\""$MAGIC_CMD\"" # Let the user override the test with a path.\n-  ;;\n-*)\n-  lt_save_MAGIC_CMD=\""$MAGIC_CMD\""\n-  lt_save_ifs=\""$IFS\""; IFS=$PATH_SEPARATOR\n-  ac_dummy=\""/usr/bin$PATH_SEPARATOR$PATH\""\n-  for ac_dir in $ac_dummy; do\n-    IFS=\""$lt_save_ifs\""\n-    test -z \""$ac_dir\"" && ac_dir=.\n-    if test -f $ac_dir/${ac_tool_prefix}file; then\n-      lt_cv_path_MAGIC_CMD=\""$ac_dir/${ac_tool_prefix}file\""\n-      if test -n \""$file_magic_test_file\""; then\n-\tcase $deplibs_check_method in\n-\t\""file_magic \""*)\n-\t  file_magic_regex=`expr \""$deplibs_check_method\"" : \""file_magic \\(.*\\)\""`\n-\t  MAGIC_CMD=\""$lt_cv_path_MAGIC_CMD\""\n-\t  if eval $file_magic_cmd \\$file_magic_test_file 2> /dev/null |\n-\t    $EGREP \""$file_magic_regex\"" > /dev/null; then\n-\t    :\n-\t  else\n-\t    cat <<_LT_EOF 1>&2\n-\n-*** Warning: the command libtool uses to detect shared libraries,\n-*** $file_magic_cmd, produces output that libtool cannot recognize.\n-*** The result is that libtool may fail to recognize shared libraries\n-*** as such.  This will affect the creation of libtool libraries that\n-*** depend on shared libraries, but programs linked with such libtool\n-*** libraries will work regardless of this problem.  Nevertheless, you\n-*** may want to report the problem to your system manager and/or to\n-*** bug-libtool@gnu.org\n-\n-_LT_EOF\n-\t  fi ;;\n-\tesac\n-      fi\n-      break\n-    fi\n-  done\n-  IFS=\""$lt_save_ifs\""\n-  MAGIC_CMD=\""$lt_save_MAGIC_CMD\""\n-  ;;\n-esac\n-fi\n-\n-MAGIC_CMD=\""$lt_cv_path_MAGIC_CMD\""\n-if test -n \""$MAGIC_CMD\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $MAGIC_CMD\"" >&5\n-$as_echo \""$MAGIC_CMD\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-\n-\n-\n-if test -z \""$lt_cv_path_MAGIC_CMD\""; then\n-  if test -n \""$ac_tool_prefix\""; then\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: checking for file\"" >&5\n-$as_echo_n \""checking for file... \"" >&6; }\n-if ${lt_cv_path_MAGIC_CMD+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  case $MAGIC_CMD in\n-[\\\\/*] |  ?:[\\\\/]*)\n-  lt_cv_path_MAGIC_CMD=\""$MAGIC_CMD\"" # Let the user override the test with a path.\n-  ;;\n-*)\n-  lt_save_MAGIC_CMD=\""$MAGIC_CMD\""\n-  lt_save_ifs=\""$IFS\""; IFS=$PATH_SEPARATOR\n-  ac_dummy=\""/usr/bin$PATH_SEPARATOR$PATH\""\n-  for ac_dir in $ac_dummy; do\n-    IFS=\""$lt_save_ifs\""\n-    test -z \""$ac_dir\"" && ac_dir=.\n-    if test -f $ac_dir/file; then\n-      lt_cv_path_MAGIC_CMD=\""$ac_dir/file\""\n-      if test -n \""$file_magic_test_file\""; then\n-\tcase $deplibs_check_method in\n-\t\""file_magic \""*)\n-\t  file_magic_regex=`expr \""$deplibs_check_method\"" : \""file_magic \\(.*\\)\""`\n-\t  MAGIC_CMD=\""$lt_cv_path_MAGIC_CMD\""\n-\t  if eval $file_magic_cmd \\$file_magic_test_file 2> /dev/null |\n-\t    $EGREP \""$file_magic_regex\"" > /dev/null; then\n-\t    :\n-\t  else\n-\t    cat <<_LT_EOF 1>&2\n-\n-*** Warning: the command libtool uses to detect shared libraries,\n-*** $file_magic_cmd, produces output that libtool cannot recognize.\n-*** The result is that libtool may fail to recognize shared libraries\n-*** as such.  This will affect the creation of libtool libraries that\n-*** depend on shared libraries, but programs linked with such libtool\n-*** libraries will work regardless of this problem.  Nevertheless, you\n-*** may want to report the problem to your system manager and/or to\n-*** bug-libtool@gnu.org\n-\n-_LT_EOF\n-\t  fi ;;\n-\tesac\n-      fi\n-      break\n-    fi\n-  done\n-  IFS=\""$lt_save_ifs\""\n-  MAGIC_CMD=\""$lt_save_MAGIC_CMD\""\n-  ;;\n-esac\n-fi\n-\n-MAGIC_CMD=\""$lt_cv_path_MAGIC_CMD\""\n-if test -n \""$MAGIC_CMD\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $MAGIC_CMD\"" >&5\n-$as_echo \""$MAGIC_CMD\"" >&6; }\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-\n-\n-  else\n-    MAGIC_CMD=:\n-  fi\n-fi\n-\n-  fi\n-  ;;\n-esac\n-\n-# Use C for the default configuration in the libtool script\n-\n-lt_save_CC=\""$CC\""\n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-\n-\n-# Source file extension for C test sources.\n-ac_ext=c\n-\n-# Object file extension for compiled C test sources.\n-objext=o\n-objext=$objext\n-\n-# Code to be used in simple compile tests\n-lt_simple_compile_test_code=\""int some_variable = 0;\""\n-\n-# Code to be used in simple link tests\n-lt_simple_link_test_code='int main(){return(0);}'\n-\n-\n-\n-\n-\n-\n-\n-# If no C compiler was specified, use CC.\n-LTCC=${LTCC-\""$CC\""}\n-\n-# If no C compiler flags were specified, use CFLAGS.\n-LTCFLAGS=${LTCFLAGS-\""$CFLAGS\""}\n-\n-# Allow CC to be a program name with arguments.\n-compiler=$CC\n-\n-# Save the default compiler, since it gets overwritten when the other\n-# tags are being tested, and _LT_TAGVAR(compiler, []) is a NOP.\n-compiler_DEFAULT=$CC\n-\n-# save warnings/boilerplate of simple test code\n-ac_outfile=conftest.$ac_objext\n-echo \""$lt_simple_compile_test_code\"" >conftest.$ac_ext\n-eval \""$ac_compile\"" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err\n-_lt_compiler_boilerplate=`cat conftest.err`\n-$RM conftest*\n-\n-ac_outfile=conftest.$ac_objext\n-echo \""$lt_simple_link_test_code\"" >conftest.$ac_ext\n-eval \""$ac_link\"" 2>&1 >/dev/null | $SED '/^$/d; /^ *+/d' >conftest.err\n-_lt_linker_boilerplate=`cat conftest.err`\n-$RM -r conftest*\n-\n-\n-## CAVEAT EMPTOR:\n-## There is no encapsulation within the following macros, do not change\n-## the running order or otherwise move them around unless you know exactly\n-## what you are doing...\n-if test -n \""$compiler\""; then\n-\n-lt_prog_compiler_no_builtin_flag=\n-\n-if test \""$GCC\"" = yes; then\n-  case $cc_basename in\n-  nvcc*)\n-    lt_prog_compiler_no_builtin_flag=' -Xcompiler -fno-builtin' ;;\n-  *)\n-    lt_prog_compiler_no_builtin_flag=' -fno-builtin' ;;\n-  esac\n-\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking if $compiler supports -fno-rtti -fno-exceptions\"" >&5\n-$as_echo_n \""checking if $compiler supports -fno-rtti -fno-exceptions... \"" >&6; }\n-if ${lt_cv_prog_compiler_rtti_exceptions+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  lt_cv_prog_compiler_rtti_exceptions=no\n-   ac_outfile=conftest.$ac_objext\n-   echo \""$lt_simple_compile_test_code\"" > conftest.$ac_ext\n-   lt_compiler_flag=\""-fno-rtti -fno-exceptions\""\n-   # Insert the option either (1) after the last *FLAGS variable, or\n-   # (2) before a word containing \""conftest.\"", or (3) at the end.\n-   # Note that $ac_compile itself does not contain backslashes and begins\n-   # with a dollar sign (not a hyphen), so the echo should work correctly.\n-   # The option is referenced via a variable to avoid confusing sed.\n-   lt_compile=`echo \""$ac_compile\"" | $SED \\\n-   -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n-   -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n-   -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \""\\\""\\$as_me:$LINENO: $lt_compile\\\""\"" >&5)\n-   (eval \""$lt_compile\"" 2>conftest.err)\n-   ac_status=$?\n-   cat conftest.err >&5\n-   echo \""$as_me:$LINENO: \\$? = $ac_status\"" >&5\n-   if (exit $ac_status) && test -s \""$ac_outfile\""; then\n-     # The compiler can only warn and ignore the option if not recognized\n-     # So say no if there are warnings other than the usual output.\n-     $ECHO \""$_lt_compiler_boilerplate\"" | $SED '/^$/d' >conftest.exp\n-     $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2\n-     if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then\n-       lt_cv_prog_compiler_rtti_exceptions=yes\n-     fi\n-   fi\n-   $RM conftest*\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler_rtti_exceptions\"" >&5\n-$as_echo \""$lt_cv_prog_compiler_rtti_exceptions\"" >&6; }\n-\n-if test x\""$lt_cv_prog_compiler_rtti_exceptions\"" = xyes; then\n-    lt_prog_compiler_no_builtin_flag=\""$lt_prog_compiler_no_builtin_flag -fno-rtti -fno-exceptions\""\n-else\n-    :\n-fi\n-\n-fi\n-\n-\n-\n-\n-\n-\n-  lt_prog_compiler_wl=\n-lt_prog_compiler_pic=\n-lt_prog_compiler_static=\n-\n-\n-  if test \""$GCC\"" = yes; then\n-    lt_prog_compiler_wl='-Wl,'\n-    lt_prog_compiler_static='-static'\n-\n-    case $host_os in\n-      aix*)\n-      # All AIX code is PIC.\n-      if test \""$host_cpu\"" = ia64; then\n-\t# AIX 5 now supports IA64 processor\n-\tlt_prog_compiler_static='-Bstatic'\n-      fi\n-      ;;\n-\n-    amigaos*)\n-      case $host_cpu in\n-      powerpc)\n-            # see comment about AmigaOS4 .so support\n-            lt_prog_compiler_pic='-fPIC'\n-        ;;\n-      m68k)\n-            # FIXME: we need at least 68020 code to build shared libraries, but\n-            # adding the `-m68020' flag to GCC prevents building anything better,\n-            # like `-m68040'.\n-            lt_prog_compiler_pic='-m68020 -resident32 -malways-restore-a4'\n-        ;;\n-      esac\n-      ;;\n-\n-    beos* | irix5* | irix6* | nonstopux* | osf3* | osf4* | osf5*)\n-      # PIC is the default for these OSes.\n-      ;;\n-\n-    mingw* | cygwin* | pw32* | os2* | cegcc*)\n-      # This hack is so that the source file can tell whether it is being\n-      # built for inclusion in a dll (and should export symbols for example).\n-      # Although the cygwin gcc ignores -fPIC, still need this for old-style\n-      # (--disable-auto-import) libraries\n-      lt_prog_compiler_pic='-DDLL_EXPORT'\n-      ;;\n-\n-    darwin* | rhapsody*)\n-      # PIC is the default on this platform\n-      # Common symbols not allowed in MH_DYLIB files\n-      lt_prog_compiler_pic='-fno-common'\n-      ;;\n-\n-    haiku*)\n-      # PIC is the default for Haiku.\n-      # The \""-static\"" flag exists, but is broken.\n-      lt_prog_compiler_static=\n-      ;;\n-\n-    hpux*)\n-      # PIC is the default for 64-bit PA HP-UX, but not for 32-bit\n-      # PA HP-UX.  On IA64 HP-UX, PIC is the default but the pic flag\n-      # sets the default TLS model and affects inlining.\n-      case $host_cpu in\n-      hppa*64*)\n-\t# +Z the default\n-\t;;\n-      *)\n-\tlt_prog_compiler_pic='-fPIC'\n-\t;;\n-      esac\n-      ;;\n-\n-    interix[3-9]*)\n-      # Interix 3.x gcc -fpic/-fPIC options generate broken code.\n-      # Instead, we relocate shared libraries at runtime.\n-      ;;\n-\n-    msdosdjgpp*)\n-      # Just because we use GCC doesn't mean we suddenly get shared libraries\n-      # on systems that don't support them.\n-      lt_prog_compiler_can_build_shared=no\n-      enable_shared=no\n-      ;;\n-\n-    *nto* | *qnx*)\n-      # QNX uses GNU C++, but need to define -shared option too, otherwise\n-      # it will coredump.\n-      lt_prog_compiler_pic='-fPIC -shared'\n-      ;;\n-\n-    sysv4*MP*)\n-      if test -d /usr/nec; then\n-\tlt_prog_compiler_pic=-Kconform_pic\n-      fi\n-      ;;\n-\n-    *)\n-      lt_prog_compiler_pic='-fPIC'\n-      ;;\n-    esac\n-\n-    case $cc_basename in\n-    nvcc*) # Cuda Compiler Driver 2.2\n-      lt_prog_compiler_wl='-Xlinker '\n-      if test -n \""$lt_prog_compiler_pic\""; then\n-        lt_prog_compiler_pic=\""-Xcompiler $lt_prog_compiler_pic\""\n-      fi\n-      ;;\n-    esac\n-  else\n-    # PORTME Check for flag to pass linker flags through the system compiler.\n-    case $host_os in\n-    aix*)\n-      lt_prog_compiler_wl='-Wl,'\n-      if test \""$host_cpu\"" = ia64; then\n-\t# AIX 5 now supports IA64 processor\n-\tlt_prog_compiler_static='-Bstatic'\n-      else\n-\tlt_prog_compiler_static='-bnso -bI:/lib/syscalls.exp'\n-      fi\n-      ;;\n-\n-    mingw* | cygwin* | pw32* | os2* | cegcc*)\n-      # This hack is so that the source file can tell whether it is being\n-      # built for inclusion in a dll (and should export symbols for example).\n-      lt_prog_compiler_pic='-DDLL_EXPORT'\n-      ;;\n-\n-    hpux9* | hpux10* | hpux11*)\n-      lt_prog_compiler_wl='-Wl,'\n-      # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but\n-      # not for PA HP-UX.\n-      case $host_cpu in\n-      hppa*64*|ia64*)\n-\t# +Z the default\n-\t;;\n-      *)\n-\tlt_prog_compiler_pic='+Z'\n-\t;;\n-      esac\n-      # Is there a better lt_prog_compiler_static that works with the bundled CC?\n-      lt_prog_compiler_static='${wl}-a ${wl}archive'\n-      ;;\n-\n-    irix5* | irix6* | nonstopux*)\n-      lt_prog_compiler_wl='-Wl,'\n-      # PIC (with -KPIC) is the default.\n-      lt_prog_compiler_static='-non_shared'\n-      ;;\n-\n-    linux* | k*bsd*-gnu | kopensolaris*-gnu)\n-      case $cc_basename in\n-      # old Intel for x86_64 which still supported -KPIC.\n-      ecc*)\n-\tlt_prog_compiler_wl='-Wl,'\n-\tlt_prog_compiler_pic='-KPIC'\n-\tlt_prog_compiler_static='-static'\n-        ;;\n-      # icc used to be incompatible with GCC.\n-      # ICC 10 doesn't accept -KPIC any more.\n-      icc* | ifort*)\n-\tlt_prog_compiler_wl='-Wl,'\n-\tlt_prog_compiler_pic='-fPIC'\n-\tlt_prog_compiler_static='-static'\n-        ;;\n-      # Lahey Fortran 8.1.\n-      lf95*)\n-\tlt_prog_compiler_wl='-Wl,'\n-\tlt_prog_compiler_pic='--shared'\n-\tlt_prog_compiler_static='--static'\n-\t;;\n-      nagfor*)\n-\t# NAG Fortran compiler\n-\tlt_prog_compiler_wl='-Wl,-Wl,,'\n-\tlt_prog_compiler_pic='-PIC'\n-\tlt_prog_compiler_static='-Bstatic'\n-\t;;\n-      pgcc* | pgf77* | pgf90* | pgf95* | pgfortran*)\n-        # Portland Group compilers (*not* the Pentium gcc compiler,\n-\t# which looks to be a dead project)\n-\tlt_prog_compiler_wl='-Wl,'\n-\tlt_prog_compiler_pic='-fpic'\n-\tlt_prog_compiler_static='-Bstatic'\n-        ;;\n-      ccc*)\n-        lt_prog_compiler_wl='-Wl,'\n-        # All Alpha code is PIC.\n-        lt_prog_compiler_static='-non_shared'\n-        ;;\n-      xl* | bgxl* | bgf* | mpixl*)\n-\t# IBM XL C 8.0/Fortran 10.1, 11.1 on PPC and BlueGene\n-\tlt_prog_compiler_wl='-Wl,'\n-\tlt_prog_compiler_pic='-qpic'\n-\tlt_prog_compiler_static='-qstaticlink'\n-\t;;\n-      *)\n-\tcase `$CC -V 2>&1 | sed 5q` in\n-\t*Sun\\ Ceres\\ Fortran* | *Sun*Fortran*\\ [1-7].* | *Sun*Fortran*\\ 8.[0-3]*)\n-\t  # Sun Fortran 8.3 passes all unrecognized flags to the linker\n-\t  lt_prog_compiler_pic='-KPIC'\n-\t  lt_prog_compiler_static='-Bstatic'\n-\t  lt_prog_compiler_wl=''\n-\t  ;;\n-\t*Sun\\ F* | *Sun*Fortran*)\n-\t  lt_prog_compiler_pic='-KPIC'\n-\t  lt_prog_compiler_static='-Bstatic'\n-\t  lt_prog_compiler_wl='-Qoption ld '\n-\t  ;;\n-\t*Sun\\ C*)\n-\t  # Sun C 5.9\n-\t  lt_prog_compiler_pic='-KPIC'\n-\t  lt_prog_compiler_static='-Bstatic'\n-\t  lt_prog_compiler_wl='-Wl,'\n-\t  ;;\n-        *Intel*\\ [CF]*Compiler*)\n-\t  lt_prog_compiler_wl='-Wl,'\n-\t  lt_prog_compiler_pic='-fPIC'\n-\t  lt_prog_compiler_static='-static'\n-\t  ;;\n-\t*Portland\\ Group*)\n-\t  lt_prog_compiler_wl='-Wl,'\n-\t  lt_prog_compiler_pic='-fpic'\n-\t  lt_prog_compiler_static='-Bstatic'\n-\t  ;;\n-\tesac\n-\t;;\n-      esac\n-      ;;\n-\n-    newsos6)\n-      lt_prog_compiler_pic='-KPIC'\n-      lt_prog_compiler_static='-Bstatic'\n-      ;;\n-\n-    *nto* | *qnx*)\n-      # QNX uses GNU C++, but need to define -shared option too, otherwise\n-      # it will coredump.\n-      lt_prog_compiler_pic='-fPIC -shared'\n-      ;;\n-\n-    osf3* | osf4* | osf5*)\n-      lt_prog_compiler_wl='-Wl,'\n-      # All OSF/1 code is PIC.\n-      lt_prog_compiler_static='-non_shared'\n-      ;;\n-\n-    rdos*)\n-      lt_prog_compiler_static='-non_shared'\n-      ;;\n-\n-    solaris*)\n-      lt_prog_compiler_pic='-KPIC'\n-      lt_prog_compiler_static='-Bstatic'\n-      case $cc_basename in\n-      f77* | f90* | f95* | sunf77* | sunf90* | sunf95*)\n-\tlt_prog_compiler_wl='-Qoption ld ';;\n-      *)\n-\tlt_prog_compiler_wl='-Wl,';;\n-      esac\n-      ;;\n-\n-    sunos4*)\n-      lt_prog_compiler_wl='-Qoption ld '\n-      lt_prog_compiler_pic='-PIC'\n-      lt_prog_compiler_static='-Bstatic'\n-      ;;\n-\n-    sysv4 | sysv4.2uw2* | sysv4.3*)\n-      lt_prog_compiler_wl='-Wl,'\n-      lt_prog_compiler_pic='-KPIC'\n-      lt_prog_compiler_static='-Bstatic'\n-      ;;\n-\n-    sysv4*MP*)\n-      if test -d /usr/nec ;then\n-\tlt_prog_compiler_pic='-Kconform_pic'\n-\tlt_prog_compiler_static='-Bstatic'\n-      fi\n-      ;;\n-\n-    sysv5* | unixware* | sco3.2v5* | sco5v6* | OpenUNIX*)\n-      lt_prog_compiler_wl='-Wl,'\n-      lt_prog_compiler_pic='-KPIC'\n-      lt_prog_compiler_static='-Bstatic'\n-      ;;\n-\n-    unicos*)\n-      lt_prog_compiler_wl='-Wl,'\n-      lt_prog_compiler_can_build_shared=no\n-      ;;\n-\n-    uts4*)\n-      lt_prog_compiler_pic='-pic'\n-      lt_prog_compiler_static='-Bstatic'\n-      ;;\n-\n-    *)\n-      lt_prog_compiler_can_build_shared=no\n-      ;;\n-    esac\n-  fi\n-\n-case $host_os in\n-  # For platforms which do not support PIC, -DPIC is meaningless:\n-  *djgpp*)\n-    lt_prog_compiler_pic=\n-    ;;\n-  *)\n-    lt_prog_compiler_pic=\""$lt_prog_compiler_pic -DPIC\""\n-    ;;\n-esac\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for $compiler option to produce PIC\"" >&5\n-$as_echo_n \""checking for $compiler option to produce PIC... \"" >&6; }\n-if ${lt_cv_prog_compiler_pic+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  lt_cv_prog_compiler_pic=$lt_prog_compiler_pic\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler_pic\"" >&5\n-$as_echo \""$lt_cv_prog_compiler_pic\"" >&6; }\n-lt_prog_compiler_pic=$lt_cv_prog_compiler_pic\n-\n-#\n-# Check to make sure the PIC flag actually works.\n-#\n-if test -n \""$lt_prog_compiler_pic\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking if $compiler PIC flag $lt_prog_compiler_pic works\"" >&5\n-$as_echo_n \""checking if $compiler PIC flag $lt_prog_compiler_pic works... \"" >&6; }\n-if ${lt_cv_prog_compiler_pic_works+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  lt_cv_prog_compiler_pic_works=no\n-   ac_outfile=conftest.$ac_objext\n-   echo \""$lt_simple_compile_test_code\"" > conftest.$ac_ext\n-   lt_compiler_flag=\""$lt_prog_compiler_pic -DPIC\""\n-   # Insert the option either (1) after the last *FLAGS variable, or\n-   # (2) before a word containing \""conftest.\"", or (3) at the end.\n-   # Note that $ac_compile itself does not contain backslashes and begins\n-   # with a dollar sign (not a hyphen), so the echo should work correctly.\n-   # The option is referenced via a variable to avoid confusing sed.\n-   lt_compile=`echo \""$ac_compile\"" | $SED \\\n-   -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n-   -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n-   -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \""\\\""\\$as_me:$LINENO: $lt_compile\\\""\"" >&5)\n-   (eval \""$lt_compile\"" 2>conftest.err)\n-   ac_status=$?\n-   cat conftest.err >&5\n-   echo \""$as_me:$LINENO: \\$? = $ac_status\"" >&5\n-   if (exit $ac_status) && test -s \""$ac_outfile\""; then\n-     # The compiler can only warn and ignore the option if not recognized\n-     # So say no if there are warnings other than the usual output.\n-     $ECHO \""$_lt_compiler_boilerplate\"" | $SED '/^$/d' >conftest.exp\n-     $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2\n-     if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then\n-       lt_cv_prog_compiler_pic_works=yes\n-     fi\n-   fi\n-   $RM conftest*\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler_pic_works\"" >&5\n-$as_echo \""$lt_cv_prog_compiler_pic_works\"" >&6; }\n-\n-if test x\""$lt_cv_prog_compiler_pic_works\"" = xyes; then\n-    case $lt_prog_compiler_pic in\n-     \""\"" | \"" \""*) ;;\n-     *) lt_prog_compiler_pic=\"" $lt_prog_compiler_pic\"" ;;\n-     esac\n-else\n-    lt_prog_compiler_pic=\n-     lt_prog_compiler_can_build_shared=no\n-fi\n-\n-fi\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-#\n-# Check to make sure the static flag actually works.\n-#\n-wl=$lt_prog_compiler_wl eval lt_tmp_static_flag=\\\""$lt_prog_compiler_static\\\""\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking if $compiler static flag $lt_tmp_static_flag works\"" >&5\n-$as_echo_n \""checking if $compiler static flag $lt_tmp_static_flag works... \"" >&6; }\n-if ${lt_cv_prog_compiler_static_works+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  lt_cv_prog_compiler_static_works=no\n-   save_LDFLAGS=\""$LDFLAGS\""\n-   LDFLAGS=\""$LDFLAGS $lt_tmp_static_flag\""\n-   echo \""$lt_simple_link_test_code\"" > conftest.$ac_ext\n-   if (eval $ac_link 2>conftest.err) && test -s conftest$ac_exeext; then\n-     # The linker can only warn and ignore the option if not recognized\n-     # So say no if there are warnings\n-     if test -s conftest.err; then\n-       # Append any errors to the config.log.\n-       cat conftest.err 1>&5\n-       $ECHO \""$_lt_linker_boilerplate\"" | $SED '/^$/d' > conftest.exp\n-       $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2\n-       if diff conftest.exp conftest.er2 >/dev/null; then\n-         lt_cv_prog_compiler_static_works=yes\n-       fi\n-     else\n-       lt_cv_prog_compiler_static_works=yes\n-     fi\n-   fi\n-   $RM -r conftest*\n-   LDFLAGS=\""$save_LDFLAGS\""\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler_static_works\"" >&5\n-$as_echo \""$lt_cv_prog_compiler_static_works\"" >&6; }\n-\n-if test x\""$lt_cv_prog_compiler_static_works\"" = xyes; then\n-    :\n-else\n-    lt_prog_compiler_static=\n-fi\n-\n-\n-\n-\n-\n-\n-\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking if $compiler supports -c -o file.$ac_objext\"" >&5\n-$as_echo_n \""checking if $compiler supports -c -o file.$ac_objext... \"" >&6; }\n-if ${lt_cv_prog_compiler_c_o+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  lt_cv_prog_compiler_c_o=no\n-   $RM -r conftest 2>/dev/null\n-   mkdir conftest\n-   cd conftest\n-   mkdir out\n-   echo \""$lt_simple_compile_test_code\"" > conftest.$ac_ext\n-\n-   lt_compiler_flag=\""-o out/conftest2.$ac_objext\""\n-   # Insert the option either (1) after the last *FLAGS variable, or\n-   # (2) before a word containing \""conftest.\"", or (3) at the end.\n-   # Note that $ac_compile itself does not contain backslashes and begins\n-   # with a dollar sign (not a hyphen), so the echo should work correctly.\n-   lt_compile=`echo \""$ac_compile\"" | $SED \\\n-   -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n-   -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n-   -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \""\\\""\\$as_me:$LINENO: $lt_compile\\\""\"" >&5)\n-   (eval \""$lt_compile\"" 2>out/conftest.err)\n-   ac_status=$?\n-   cat out/conftest.err >&5\n-   echo \""$as_me:$LINENO: \\$? = $ac_status\"" >&5\n-   if (exit $ac_status) && test -s out/conftest2.$ac_objext\n-   then\n-     # The compiler can only warn and ignore the option if not recognized\n-     # So say no if there are warnings\n-     $ECHO \""$_lt_compiler_boilerplate\"" | $SED '/^$/d' > out/conftest.exp\n-     $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2\n-     if test ! -s out/conftest.er2 || diff out/conftest.exp out/conftest.er2 >/dev/null; then\n-       lt_cv_prog_compiler_c_o=yes\n-     fi\n-   fi\n-   chmod u+w . 2>&5\n-   $RM conftest*\n-   # SGI C++ compiler will create directory out/ii_files/ for\n-   # template instantiation\n-   test -d out/ii_files && $RM out/ii_files/* && rmdir out/ii_files\n-   $RM out/* && rmdir out\n-   cd ..\n-   $RM -r conftest\n-   $RM conftest*\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler_c_o\"" >&5\n-$as_echo \""$lt_cv_prog_compiler_c_o\"" >&6; }\n-\n-\n-\n-\n-\n-\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking if $compiler supports -c -o file.$ac_objext\"" >&5\n-$as_echo_n \""checking if $compiler supports -c -o file.$ac_objext... \"" >&6; }\n-if ${lt_cv_prog_compiler_c_o+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  lt_cv_prog_compiler_c_o=no\n-   $RM -r conftest 2>/dev/null\n-   mkdir conftest\n-   cd conftest\n-   mkdir out\n-   echo \""$lt_simple_compile_test_code\"" > conftest.$ac_ext\n-\n-   lt_compiler_flag=\""-o out/conftest2.$ac_objext\""\n-   # Insert the option either (1) after the last *FLAGS variable, or\n-   # (2) before a word containing \""conftest.\"", or (3) at the end.\n-   # Note that $ac_compile itself does not contain backslashes and begins\n-   # with a dollar sign (not a hyphen), so the echo should work correctly.\n-   lt_compile=`echo \""$ac_compile\"" | $SED \\\n-   -e 's:.*FLAGS}\\{0,1\\} :&$lt_compiler_flag :; t' \\\n-   -e 's: [^ ]*conftest\\.: $lt_compiler_flag&:; t' \\\n-   -e 's:$: $lt_compiler_flag:'`\n-   (eval echo \""\\\""\\$as_me:$LINENO: $lt_compile\\\""\"" >&5)\n-   (eval \""$lt_compile\"" 2>out/conftest.err)\n-   ac_status=$?\n-   cat out/conftest.err >&5\n-   echo \""$as_me:$LINENO: \\$? = $ac_status\"" >&5\n-   if (exit $ac_status) && test -s out/conftest2.$ac_objext\n-   then\n-     # The compiler can only warn and ignore the option if not recognized\n-     # So say no if there are warnings\n-     $ECHO \""$_lt_compiler_boilerplate\"" | $SED '/^$/d' > out/conftest.exp\n-     $SED '/^$/d; /^ *+/d' out/conftest.err >out/conftest.er2\n-     if test ! -s out/conftest.er2 || diff out/conftest.exp out/conftest.er2 >/dev/null; then\n-       lt_cv_prog_compiler_c_o=yes\n-     fi\n-   fi\n-   chmod u+w . 2>&5\n-   $RM conftest*\n-   # SGI C++ compiler will create directory out/ii_files/ for\n-   # template instantiation\n-   test -d out/ii_files && $RM out/ii_files/* && rmdir out/ii_files\n-   $RM out/* && rmdir out\n-   cd ..\n-   $RM -r conftest\n-   $RM conftest*\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler_c_o\"" >&5\n-$as_echo \""$lt_cv_prog_compiler_c_o\"" >&6; }\n-\n-\n-\n-\n-hard_links=\""nottested\""\n-if test \""$lt_cv_prog_compiler_c_o\"" = no && test \""$need_locks\"" != no; then\n-  # do not overwrite the value of need_locks provided by the user\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking if we can lock with hard links\"" >&5\n-$as_echo_n \""checking if we can lock with hard links... \"" >&6; }\n-  hard_links=yes\n-  $RM conftest*\n-  ln conftest.a conftest.b 2>/dev/null && hard_links=no\n-  touch conftest.a\n-  ln conftest.a conftest.b 2>&5 || hard_links=no\n-  ln conftest.a conftest.b 2>/dev/null && hard_links=no\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $hard_links\"" >&5\n-$as_echo \""$hard_links\"" >&6; }\n-  if test \""$hard_links\"" = no; then\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: \\`$CC' does not support \\`-c -o', so \\`make -j' may be unsafe\"" >&5\n-$as_echo \""$as_me: WARNING: \\`$CC' does not support \\`-c -o', so \\`make -j' may be unsafe\"" >&2;}\n-    need_locks=warn\n-  fi\n-else\n-  need_locks=no\n-fi\n-\n-\n-\n-\n-\n-\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether the $compiler linker ($LD) supports shared libraries\"" >&5\n-$as_echo_n \""checking whether the $compiler linker ($LD) supports shared libraries... \"" >&6; }\n-\n-  runpath_var=\n-  allow_undefined_flag=\n-  always_export_symbols=no\n-  archive_cmds=\n-  archive_expsym_cmds=\n-  compiler_needs_object=no\n-  enable_shared_with_static_runtimes=no\n-  export_dynamic_flag_spec=\n-  export_symbols_cmds='$NM $libobjs $convenience | $global_symbol_pipe | $SED '\\''s/.* //'\\'' | sort | uniq > $export_symbols'\n-  hardcode_automatic=no\n-  hardcode_direct=no\n-  hardcode_direct_absolute=no\n-  hardcode_libdir_flag_spec=\n-  hardcode_libdir_separator=\n-  hardcode_minus_L=no\n-  hardcode_shlibpath_var=unsupported\n-  inherit_rpath=no\n-  link_all_deplibs=unknown\n-  module_cmds=\n-  module_expsym_cmds=\n-  old_archive_from_new_cmds=\n-  old_archive_from_expsyms_cmds=\n-  thread_safe_flag_spec=\n-  whole_archive_flag_spec=\n-  # include_expsyms should be a list of space-separated symbols to be *always*\n-  # included in the symbol list\n-  include_expsyms=\n-  # exclude_expsyms can be an extended regexp of symbols to exclude\n-  # it will be wrapped by ` (' and `)$', so one must not match beginning or\n-  # end of line.  Example: `a|bc|.*d.*' will exclude the symbols `a' and `bc',\n-  # as well as any symbol that contains `d'.\n-  exclude_expsyms='_GLOBAL_OFFSET_TABLE_|_GLOBAL__F[ID]_.*'\n-  # Although _GLOBAL_OFFSET_TABLE_ is a valid symbol C name, most a.out\n-  # platforms (ab)use it in PIC code, but their linkers get confused if\n-  # the symbol is explicitly referenced.  Since portable code cannot\n-  # rely on this symbol name, it's probably fine to never include it in\n-  # preloaded symbol tables.\n-  # Exclude shared library initialization/finalization symbols.\n-  extract_expsyms_cmds=\n-\n-  case $host_os in\n-  cygwin* | mingw* | pw32* | cegcc*)\n-    # FIXME: the MSVC++ port hasn't been tested in a loooong time\n-    # When not using gcc, we currently assume that we are using\n-    # Microsoft Visual C++.\n-    if test \""$GCC\"" != yes; then\n-      with_gnu_ld=no\n-    fi\n-    ;;\n-  interix*)\n-    # we just hope/assume this is gcc and not c89 (= MSVC++)\n-    with_gnu_ld=yes\n-    ;;\n-  openbsd*)\n-    with_gnu_ld=no\n-    ;;\n-  esac\n-\n-  ld_shlibs=yes\n-\n-  # On some targets, GNU ld is compatible enough with the native linker\n-  # that we're better off using the native interface for both.\n-  lt_use_gnu_ld_interface=no\n-  if test \""$with_gnu_ld\"" = yes; then\n-    case $host_os in\n-      aix*)\n-\t# The AIX port of GNU ld has always aspired to compatibility\n-\t# with the native linker.  However, as the warning in the GNU ld\n-\t# block says, versions before 2.19.5* couldn't really create working\n-\t# shared libraries, regardless of the interface used.\n-\tcase `$LD -v 2>&1` in\n-\t  *\\ \\(GNU\\ Binutils\\)\\ 2.19.5*) ;;\n-\t  *\\ \\(GNU\\ Binutils\\)\\ 2.[2-9]*) ;;\n-\t  *\\ \\(GNU\\ Binutils\\)\\ [3-9]*) ;;\n-\t  *)\n-\t    lt_use_gnu_ld_interface=yes\n-\t    ;;\n-\tesac\n-\t;;\n-      *)\n-\tlt_use_gnu_ld_interface=yes\n-\t;;\n-    esac\n-  fi\n-\n-  if test \""$lt_use_gnu_ld_interface\"" = yes; then\n-    # If archive_cmds runs LD, not CC, wlarc should be empty\n-    wlarc='${wl}'\n-\n-    # Set some defaults for GNU ld with shared library support. These\n-    # are reset later if shared libraries are not supported. Putting them\n-    # here allows them to be overridden if necessary.\n-    runpath_var=LD_RUN_PATH\n-    hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'\n-    export_dynamic_flag_spec='${wl}--export-dynamic'\n-    # ancient GNU ld didn't support --whole-archive et. al.\n-    if $LD --help 2>&1 | $GREP 'no-whole-archive' > /dev/null; then\n-      whole_archive_flag_spec=\""$wlarc\""'--whole-archive$convenience '\""$wlarc\""'--no-whole-archive'\n-    else\n-      whole_archive_flag_spec=\n-    fi\n-    supports_anon_versioning=no\n-    case `$LD -v 2>&1` in\n-      *GNU\\ gold*) supports_anon_versioning=yes ;;\n-      *\\ [01].* | *\\ 2.[0-9].* | *\\ 2.10.*) ;; # catch versions < 2.11\n-      *\\ 2.11.93.0.2\\ *) supports_anon_versioning=yes ;; # RH7.3 ...\n-      *\\ 2.11.92.0.12\\ *) supports_anon_versioning=yes ;; # Mandrake 8.2 ...\n-      *\\ 2.11.*) ;; # other 2.11 versions\n-      *) supports_anon_versioning=yes ;;\n-    esac\n-\n-    # See if GNU ld supports shared libraries.\n-    case $host_os in\n-    aix[3-9]*)\n-      # On AIX/PPC, the GNU linker is very broken\n-      if test \""$host_cpu\"" != ia64; then\n-\tld_shlibs=no\n-\tcat <<_LT_EOF 1>&2\n-\n-*** Warning: the GNU linker, at least up to release 2.19, is reported\n-*** to be unable to reliably create shared libraries on AIX.\n-*** Therefore, libtool is disabling shared libraries support.  If you\n-*** really care for shared libraries, you may want to install binutils\n-*** 2.20 or above, or modify your PATH so that a non-GNU linker is found.\n-*** You will then need to restart the configuration process.\n-\n-_LT_EOF\n-      fi\n-      ;;\n-\n-    amigaos*)\n-      case $host_cpu in\n-      powerpc)\n-            # see comment about AmigaOS4 .so support\n-            archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'\n-            archive_expsym_cmds=''\n-        ;;\n-      m68k)\n-            archive_cmds='$RM $output_objdir/a2ixlibrary.data~$ECHO \""#define NAME $libname\"" > $output_objdir/a2ixlibrary.data~$ECHO \""#define LIBRARY_ID 1\"" >> $output_objdir/a2ixlibrary.data~$ECHO \""#define VERSION $major\"" >> $output_objdir/a2ixlibrary.data~$ECHO \""#define REVISION $revision\"" >> $output_objdir/a2ixlibrary.data~$AR $AR_FLAGS $lib $libobjs~$RANLIB $lib~(cd $output_objdir && a2ixlibrary -32)'\n-            hardcode_libdir_flag_spec='-L$libdir'\n-            hardcode_minus_L=yes\n-        ;;\n-      esac\n-      ;;\n-\n-    beos*)\n-      if $LD --help 2>&1 | $GREP ': supported targets:.* elf' > /dev/null; then\n-\tallow_undefined_flag=unsupported\n-\t# Joseph Beckenbach <jrb3@best.com> says some releases of gcc\n-\t# support --undefined.  This deserves some investigation.  FIXME\n-\tarchive_cmds='$CC -nostart $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'\n-      else\n-\tld_shlibs=no\n-      fi\n-      ;;\n-\n-    cygwin* | mingw* | pw32* | cegcc*)\n-      # _LT_TAGVAR(hardcode_libdir_flag_spec, ) is actually meaningless,\n-      # as there is no search path for DLLs.\n-      hardcode_libdir_flag_spec='-L$libdir'\n-      export_dynamic_flag_spec='${wl}--export-all-symbols'\n-      allow_undefined_flag=unsupported\n-      always_export_symbols=no\n-      enable_shared_with_static_runtimes=yes\n-      export_symbols_cmds='$NM $libobjs $convenience | $global_symbol_pipe | $SED -e '\\''/^[BCDGRS][ ]/s/.*[ ]\\([^ ]*\\)/\\1 DATA/;s/^.*[ ]__nm__\\([^ ]*\\)[ ][^ ]*/\\1 DATA/;/^I[ ]/d;/^[AITW][ ]/s/.* //'\\'' | sort | uniq > $export_symbols'\n-      exclude_expsyms='[_]+GLOBAL_OFFSET_TABLE_|[_]+GLOBAL__[FID]_.*|[_]+head_[A-Za-z0-9_]+_dll|[A-Za-z0-9_]+_dll_iname'\n-\n-      if $LD --help 2>&1 | $GREP 'auto-import' > /dev/null; then\n-        archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags -o $output_objdir/$soname ${wl}--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'\n-\t# If the export-symbols file already is a .def file (1st line\n-\t# is EXPORTS), use it as is; otherwise, prepend...\n-\tarchive_expsym_cmds='if test \""x`$SED 1q $export_symbols`\"" = xEXPORTS; then\n-\t  cp $export_symbols $output_objdir/$soname.def;\n-\telse\n-\t  echo EXPORTS > $output_objdir/$soname.def;\n-\t  cat $export_symbols >> $output_objdir/$soname.def;\n-\tfi~\n-\t$CC -shared $output_objdir/$soname.def $libobjs $deplibs $compiler_flags -o $output_objdir/$soname ${wl}--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'\n-      else\n-\tld_shlibs=no\n-      fi\n-      ;;\n-\n-    haiku*)\n-      archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'\n-      link_all_deplibs=yes\n-      ;;\n-\n-    interix[3-9]*)\n-      hardcode_direct=no\n-      hardcode_shlibpath_var=no\n-      hardcode_libdir_flag_spec='${wl}-rpath,$libdir'\n-      export_dynamic_flag_spec='${wl}-E'\n-      # Hack: On Interix 3.x, we cannot compile PIC because of a broken gcc.\n-      # Instead, shared libraries are loaded at an image base (0x10000000 by\n-      # default) and relocated if they conflict, which is a slow very memory\n-      # consuming and fragmenting process.  To avoid this, we pick a random,\n-      # 256 KiB-aligned image base between 0x50000000 and 0x6FFC0000 at link\n-      # time.  Moving up from 0x10000000 also allows more sbrk(2) space.\n-      archive_cmds='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-h,$soname ${wl}--image-base,`expr ${RANDOM-$$} % 4096 / 2 \\* 262144 + 1342177280` -o $lib'\n-      archive_expsym_cmds='sed \""s,^,_,\"" $export_symbols >$output_objdir/$soname.expsym~$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-h,$soname ${wl}--retain-symbols-file,$output_objdir/$soname.expsym ${wl}--image-base,`expr ${RANDOM-$$} % 4096 / 2 \\* 262144 + 1342177280` -o $lib'\n-      ;;\n-\n-    gnu* | linux* | tpf* | k*bsd*-gnu | kopensolaris*-gnu)\n-      tmp_diet=no\n-      if test \""$host_os\"" = linux-dietlibc; then\n-\tcase $cc_basename in\n-\t  diet\\ *) tmp_diet=yes;;\t# linux-dietlibc with static linking (!diet-dyn)\n-\tesac\n-      fi\n-      if $LD --help 2>&1 | $EGREP ': supported targets:.* elf' > /dev/null \\\n-\t && test \""$tmp_diet\"" = no\n-      then\n-\ttmp_addflag=' $pic_flag'\n-\ttmp_sharedflag='-shared'\n-\tcase $cc_basename,$host_cpu in\n-        pgcc*)\t\t\t\t# Portland Group C compiler\n-\t  whole_archive_flag_spec='${wl}--whole-archive`for conv in $convenience\\\""\\\""; do test  -n \\\""$conv\\\"" && new_convenience=\\\""$new_convenience,$conv\\\""; done; func_echo_all \\\""$new_convenience\\\""` ${wl}--no-whole-archive'\n-\t  tmp_addflag=' $pic_flag'\n-\t  ;;\n-\tpgf77* | pgf90* | pgf95* | pgfortran*)\n-\t\t\t\t\t# Portland Group f77 and f90 compilers\n-\t  whole_archive_flag_spec='${wl}--whole-archive`for conv in $convenience\\\""\\\""; do test  -n \\\""$conv\\\"" && new_convenience=\\\""$new_convenience,$conv\\\""; done; func_echo_all \\\""$new_convenience\\\""` ${wl}--no-whole-archive'\n-\t  tmp_addflag=' $pic_flag -Mnomain' ;;\n-\tecc*,ia64* | icc*,ia64*)\t# Intel C compiler on ia64\n-\t  tmp_addflag=' -i_dynamic' ;;\n-\tefc*,ia64* | ifort*,ia64*)\t# Intel Fortran compiler on ia64\n-\t  tmp_addflag=' -i_dynamic -nofor_main' ;;\n-\tifc* | ifort*)\t\t\t# Intel Fortran compiler\n-\t  tmp_addflag=' -nofor_main' ;;\n-\tlf95*)\t\t\t\t# Lahey Fortran 8.1\n-\t  whole_archive_flag_spec=\n-\t  tmp_sharedflag='--shared' ;;\n-\txl[cC]* | bgxl[cC]* | mpixl[cC]*) # IBM XL C 8.0 on PPC (deal with xlf below)\n-\t  tmp_sharedflag='-qmkshrobj'\n-\t  tmp_addflag= ;;\n-\tnvcc*)\t# Cuda Compiler Driver 2.2\n-\t  whole_archive_flag_spec='${wl}--whole-archive`for conv in $convenience\\\""\\\""; do test  -n \\\""$conv\\\"" && new_convenience=\\\""$new_convenience,$conv\\\""; done; func_echo_all \\\""$new_convenience\\\""` ${wl}--no-whole-archive'\n-\t  compiler_needs_object=yes\n-\t  ;;\n-\tesac\n-\tcase `$CC -V 2>&1 | sed 5q` in\n-\t*Sun\\ C*)\t\t\t# Sun C 5.9\n-\t  whole_archive_flag_spec='${wl}--whole-archive`new_convenience=; for conv in $convenience\\\""\\\""; do test -z \\\""$conv\\\"" || new_convenience=\\\""$new_convenience,$conv\\\""; done; func_echo_all \\\""$new_convenience\\\""` ${wl}--no-whole-archive'\n-\t  compiler_needs_object=yes\n-\t  tmp_sharedflag='-G' ;;\n-\t*Sun\\ F*)\t\t\t# Sun Fortran 8.3\n-\t  tmp_sharedflag='-G' ;;\n-\tesac\n-\tarchive_cmds='$CC '\""$tmp_sharedflag\""\""$tmp_addflag\""' $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'\n-\n-        if test \""x$supports_anon_versioning\"" = xyes; then\n-          archive_expsym_cmds='echo \""{ global:\"" > $output_objdir/$libname.ver~\n-\t    cat $export_symbols | sed -e \""s/\\(.*\\)/\\1;/\"" >> $output_objdir/$libname.ver~\n-\t    echo \""local: *; };\"" >> $output_objdir/$libname.ver~\n-\t    $CC '\""$tmp_sharedflag\""\""$tmp_addflag\""' $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-version-script ${wl}$output_objdir/$libname.ver -o $lib'\n-        fi\n-\n-\tcase $cc_basename in\n-\txlf* | bgf* | bgxlf* | mpixlf*)\n-\t  # IBM XL Fortran 10.1 on PPC cannot create shared libs itself\n-\t  whole_archive_flag_spec='--whole-archive$convenience --no-whole-archive'\n-\t  hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'\n-\t  archive_cmds='$LD -shared $libobjs $deplibs $linker_flags -soname $soname -o $lib'\n-\t  if test \""x$supports_anon_versioning\"" = xyes; then\n-\t    archive_expsym_cmds='echo \""{ global:\"" > $output_objdir/$libname.ver~\n-\t      cat $export_symbols | sed -e \""s/\\(.*\\)/\\1;/\"" >> $output_objdir/$libname.ver~\n-\t      echo \""local: *; };\"" >> $output_objdir/$libname.ver~\n-\t      $LD -shared $libobjs $deplibs $linker_flags -soname $soname -version-script $output_objdir/$libname.ver -o $lib'\n-\t  fi\n-\t  ;;\n-\tesac\n-      else\n-        ld_shlibs=no\n-      fi\n-      ;;\n-\n-    netbsd*)\n-      if echo __ELF__ | $CC -E - | $GREP __ELF__ >/dev/null; then\n-\tarchive_cmds='$LD -Bshareable $libobjs $deplibs $linker_flags -o $lib'\n-\twlarc=\n-      else\n-\tarchive_cmds='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'\n-\tarchive_expsym_cmds='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'\n-      fi\n-      ;;\n-\n-    solaris*)\n-      if $LD -v 2>&1 | $GREP 'BFD 2\\.8' > /dev/null; then\n-\tld_shlibs=no\n-\tcat <<_LT_EOF 1>&2\n-\n-*** Warning: The releases 2.8.* of the GNU linker cannot reliably\n-*** create shared libraries on Solaris systems.  Therefore, libtool\n-*** is disabling shared libraries support.  We urge you to upgrade GNU\n-*** binutils to release 2.9.1 or newer.  Another option is to modify\n-*** your PATH or compiler configuration so that the native linker is\n-*** used, and then restart.\n-\n-_LT_EOF\n-      elif $LD --help 2>&1 | $GREP ': supported targets:.* elf' > /dev/null; then\n-\tarchive_cmds='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'\n-\tarchive_expsym_cmds='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'\n-      else\n-\tld_shlibs=no\n-      fi\n-      ;;\n-\n-    sysv5* | sco3.2v5* | sco5v6* | unixware* | OpenUNIX*)\n-      case `$LD -v 2>&1` in\n-        *\\ [01].* | *\\ 2.[0-9].* | *\\ 2.1[0-5].*)\n-\tld_shlibs=no\n-\tcat <<_LT_EOF 1>&2\n-\n-*** Warning: Releases of the GNU linker prior to 2.16.91.0.3 can not\n-*** reliably create shared libraries on SCO systems.  Therefore, libtool\n-*** is disabling shared libraries support.  We urge you to upgrade GNU\n-*** binutils to release 2.16.91.0.3 or newer.  Another option is to modify\n-*** your PATH or compiler configuration so that the native linker is\n-*** used, and then restart.\n-\n-_LT_EOF\n-\t;;\n-\t*)\n-\t  # For security reasons, it is highly recommended that you always\n-\t  # use absolute paths for naming shared libraries, and exclude the\n-\t  # DT_RUNPATH tag from executables and libraries.  But doing so\n-\t  # requires that you compile everything twice, which is a pain.\n-\t  if $LD --help 2>&1 | $GREP ': supported targets:.* elf' > /dev/null; then\n-\t    hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'\n-\t    archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'\n-\t    archive_expsym_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'\n-\t  else\n-\t    ld_shlibs=no\n-\t  fi\n-\t;;\n-      esac\n-      ;;\n-\n-    sunos4*)\n-      archive_cmds='$LD -assert pure-text -Bshareable -o $lib $libobjs $deplibs $linker_flags'\n-      wlarc=\n-      hardcode_direct=yes\n-      hardcode_shlibpath_var=no\n-      ;;\n-\n-    *)\n-      if $LD --help 2>&1 | $GREP ': supported targets:.* elf' > /dev/null; then\n-\tarchive_cmds='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'\n-\tarchive_expsym_cmds='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname ${wl}-retain-symbols-file $wl$export_symbols -o $lib'\n-      else\n-\tld_shlibs=no\n-      fi\n-      ;;\n-    esac\n-\n-    if test \""$ld_shlibs\"" = no; then\n-      runpath_var=\n-      hardcode_libdir_flag_spec=\n-      export_dynamic_flag_spec=\n-      whole_archive_flag_spec=\n-    fi\n-  else\n-    # PORTME fill in a description of your system's linker (not GNU ld)\n-    case $host_os in\n-    aix3*)\n-      allow_undefined_flag=unsupported\n-      always_export_symbols=yes\n-      archive_expsym_cmds='$LD -o $output_objdir/$soname $libobjs $deplibs $linker_flags -bE:$export_symbols -T512 -H512 -bM:SRE~$AR $AR_FLAGS $lib $output_objdir/$soname'\n-      # Note: this linker hardcodes the directories in LIBPATH if there\n-      # are no directories specified by -L.\n-      hardcode_minus_L=yes\n-      if test \""$GCC\"" = yes && test -z \""$lt_prog_compiler_static\""; then\n-\t# Neither direct hardcoding nor static linking is supported with a\n-\t# broken collect2.\n-\thardcode_direct=unsupported\n-      fi\n-      ;;\n-\n-    aix[4-9]*)\n-      if test \""$host_cpu\"" = ia64; then\n-\t# On IA64, the linker does run time linking by default, so we don't\n-\t# have to do anything special.\n-\taix_use_runtimelinking=no\n-\texp_sym_flag='-Bexport'\n-\tno_entry_flag=\""\""\n-      else\n-\t# If we're using GNU nm, then we don't want the \""-C\"" option.\n-\t# -C means demangle to AIX nm, but means don't demangle with GNU nm\n-\t# Also, AIX nm treats weak defined symbols like other global\n-\t# defined symbols, whereas GNU nm marks them as \""W\"".\n-\tif $NM -V 2>&1 | $GREP 'GNU' > /dev/null; then\n-\t  export_symbols_cmds='$NM -Bpg $libobjs $convenience | awk '\\''{ if (((\\$ 2 == \""T\"") || (\\$ 2 == \""D\"") || (\\$ 2 == \""B\"") || (\\$ 2 == \""W\"")) && (substr(\\$ 3,1,1) != \"".\"")) { print \\$ 3 } }'\\'' | sort -u > $export_symbols'\n-\telse\n-\t  export_symbols_cmds='$NM -BCpg $libobjs $convenience | awk '\\''{ if (((\\$ 2 == \""T\"") || (\\$ 2 == \""D\"") || (\\$ 2 == \""B\"")) && (substr(\\$ 3,1,1) != \"".\"")) { print \\$ 3 } }'\\'' | sort -u > $export_symbols'\n-\tfi\n-\taix_use_runtimelinking=no\n-\n-\t# Test if we are trying to use run time linking or normal\n-\t# AIX style linking. If -brtl is somewhere in LDFLAGS, we\n-\t# need to do runtime linking.\n-\tcase $host_os in aix4.[23]|aix4.[23].*|aix[5-9]*)\n-\t  for ld_flag in $LDFLAGS; do\n-\t  if (test $ld_flag = \""-brtl\"" || test $ld_flag = \""-Wl,-brtl\""); then\n-\t    aix_use_runtimelinking=yes\n-\t    break\n-\t  fi\n-\t  done\n-\t  ;;\n-\tesac\n-\n-\texp_sym_flag='-bexport'\n-\tno_entry_flag='-bnoentry'\n-      fi\n-\n-      # When large executables or shared objects are built, AIX ld can\n-      # have problems creating the table of contents.  If linking a library\n-      # or program results in \""error TOC overflow\"" add -mminimal-toc to\n-      # CXXFLAGS/CFLAGS for g++/gcc.  In the cases where that is not\n-      # enough to fix the problem, add -Wl,-bbigtoc to LDFLAGS.\n-\n-      archive_cmds=''\n-      hardcode_direct=yes\n-      hardcode_direct_absolute=yes\n-      hardcode_libdir_separator=':'\n-      link_all_deplibs=yes\n-      file_list_spec='${wl}-f,'\n-\n-      if test \""$GCC\"" = yes; then\n-\tcase $host_os in aix4.[012]|aix4.[012].*)\n-\t# We only want to do this on AIX 4.2 and lower, the check\n-\t# below for broken collect2 doesn't work under 4.3+\n-\t  collect2name=`${CC} -print-prog-name=collect2`\n-\t  if test -f \""$collect2name\"" &&\n-\t   strings \""$collect2name\"" | $GREP resolve_lib_name >/dev/null\n-\t  then\n-\t  # We have reworked collect2\n-\t  :\n-\t  else\n-\t  # We have old collect2\n-\t  hardcode_direct=unsupported\n-\t  # It fails to find uninstalled libraries when the uninstalled\n-\t  # path is not listed in the libpath.  Setting hardcode_minus_L\n-\t  # to unsupported forces relinking\n-\t  hardcode_minus_L=yes\n-\t  hardcode_libdir_flag_spec='-L$libdir'\n-\t  hardcode_libdir_separator=\n-\t  fi\n-\t  ;;\n-\tesac\n-\tshared_flag='-shared'\n-\tif test \""$aix_use_runtimelinking\"" = yes; then\n-\t  shared_flag=\""$shared_flag \""'${wl}-G'\n-\tfi\n-      else\n-\t# not using gcc\n-\tif test \""$host_cpu\"" = ia64; then\n-\t# VisualAge C++, Version 5.5 for AIX 5L for IA-64, Beta 3 Release\n-\t# chokes on -Wl,-G. The following line is correct:\n-\t  shared_flag='-G'\n-\telse\n-\t  if test \""$aix_use_runtimelinking\"" = yes; then\n-\t    shared_flag='${wl}-G'\n-\t  else\n-\t    shared_flag='${wl}-bM:SRE'\n-\t  fi\n-\tfi\n-      fi\n-\n-      export_dynamic_flag_spec='${wl}-bexpall'\n-      # It seems that -bexpall does not export symbols beginning with\n-      # underscore (_), so it is better to generate a list of symbols to export.\n-      always_export_symbols=yes\n-      if test \""$aix_use_runtimelinking\"" = yes; then\n-\t# Warning - without using the other runtime loading flags (-brtl),\n-\t# -berok will link without error, but may produce a broken library.\n-\tallow_undefined_flag='-berok'\n-        # Determine the default libpath from the value encoded in an\n-        # empty executable.\n-        if test \""${lt_cv_aix_libpath+set}\"" = set; then\n-  aix_libpath=$lt_cv_aix_libpath\n-else\n-  if ${lt_cv_aix_libpath_+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_link \""$LINENO\""; then :\n-\n-  lt_aix_libpath_sed='\n-      /Import File Strings/,/^$/ {\n-\t  /^0/ {\n-\t      s/^0  *\\([^ ]*\\) *$/\\1/\n-\t      p\n-\t  }\n-      }'\n-  lt_cv_aix_libpath_=`dump -H conftest$ac_exeext 2>/dev/null | $SED -n -e \""$lt_aix_libpath_sed\""`\n-  # Check for a 64-bit object if we didn't find anything.\n-  if test -z \""$lt_cv_aix_libpath_\""; then\n-    lt_cv_aix_libpath_=`dump -HX64 conftest$ac_exeext 2>/dev/null | $SED -n -e \""$lt_aix_libpath_sed\""`\n-  fi\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n-  if test -z \""$lt_cv_aix_libpath_\""; then\n-    lt_cv_aix_libpath_=\""/usr/lib:/lib\""\n-  fi\n-\n-fi\n-\n-  aix_libpath=$lt_cv_aix_libpath_\n-fi\n-\n-        hardcode_libdir_flag_spec='${wl}-blibpath:$libdir:'\""$aix_libpath\""\n-        archive_expsym_cmds='$CC -o $output_objdir/$soname $libobjs $deplibs '\""\\${wl}$no_entry_flag\""' $compiler_flags `if test \""x${allow_undefined_flag}\"" != \""x\""; then func_echo_all \""${wl}${allow_undefined_flag}\""; else :; fi` '\""\\${wl}$exp_sym_flag:\\$export_symbols $shared_flag\""\n-      else\n-\tif test \""$host_cpu\"" = ia64; then\n-\t  hardcode_libdir_flag_spec='${wl}-R $libdir:/usr/lib:/lib'\n-\t  allow_undefined_flag=\""-z nodefs\""\n-\t  archive_expsym_cmds=\""\\$CC $shared_flag\""' -o $output_objdir/$soname $libobjs $deplibs '\""\\${wl}$no_entry_flag\""' $compiler_flags ${wl}${allow_undefined_flag} '\""\\${wl}$exp_sym_flag:\\$export_symbols\""\n-\telse\n-\t # Determine the default libpath from the value encoded in an\n-\t # empty executable.\n-\t if test \""${lt_cv_aix_libpath+set}\"" = set; then\n-  aix_libpath=$lt_cv_aix_libpath\n-else\n-  if ${lt_cv_aix_libpath_+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_link \""$LINENO\""; then :\n-\n-  lt_aix_libpath_sed='\n-      /Import File Strings/,/^$/ {\n-\t  /^0/ {\n-\t      s/^0  *\\([^ ]*\\) *$/\\1/\n-\t      p\n-\t  }\n-      }'\n-  lt_cv_aix_libpath_=`dump -H conftest$ac_exeext 2>/dev/null | $SED -n -e \""$lt_aix_libpath_sed\""`\n-  # Check for a 64-bit object if we didn't find anything.\n-  if test -z \""$lt_cv_aix_libpath_\""; then\n-    lt_cv_aix_libpath_=`dump -HX64 conftest$ac_exeext 2>/dev/null | $SED -n -e \""$lt_aix_libpath_sed\""`\n-  fi\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n-  if test -z \""$lt_cv_aix_libpath_\""; then\n-    lt_cv_aix_libpath_=\""/usr/lib:/lib\""\n-  fi\n-\n-fi\n-\n-  aix_libpath=$lt_cv_aix_libpath_\n-fi\n-\n-\t hardcode_libdir_flag_spec='${wl}-blibpath:$libdir:'\""$aix_libpath\""\n-\t  # Warning - without using the other run time loading flags,\n-\t  # -berok will link without error, but may produce a broken library.\n-\t  no_undefined_flag=' ${wl}-bernotok'\n-\t  allow_undefined_flag=' ${wl}-berok'\n-\t  if test \""$with_gnu_ld\"" = yes; then\n-\t    # We only use this code for GNU lds that support --whole-archive.\n-\t    whole_archive_flag_spec='${wl}--whole-archive$convenience ${wl}--no-whole-archive'\n-\t  else\n-\t    # Exported symbols can be pulled into shared objects from archives\n-\t    whole_archive_flag_spec='$convenience'\n-\t  fi\n-\t  archive_cmds_need_lc=yes\n-\t  # This is similar to how AIX traditionally builds its shared libraries.\n-\t  archive_expsym_cmds=\""\\$CC $shared_flag\""' -o $output_objdir/$soname $libobjs $deplibs ${wl}-bnoentry $compiler_flags ${wl}-bE:$export_symbols${allow_undefined_flag}~$AR $AR_FLAGS $output_objdir/$libname$release.a $output_objdir/$soname'\n-\tfi\n-      fi\n-      ;;\n-\n-    amigaos*)\n-      case $host_cpu in\n-      powerpc)\n-            # see comment about AmigaOS4 .so support\n-            archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags ${wl}-soname $wl$soname -o $lib'\n-            archive_expsym_cmds=''\n-        ;;\n-      m68k)\n-            archive_cmds='$RM $output_objdir/a2ixlibrary.data~$ECHO \""#define NAME $libname\"" > $output_objdir/a2ixlibrary.data~$ECHO \""#define LIBRARY_ID 1\"" >> $output_objdir/a2ixlibrary.data~$ECHO \""#define VERSION $major\"" >> $output_objdir/a2ixlibrary.data~$ECHO \""#define REVISION $revision\"" >> $output_objdir/a2ixlibrary.data~$AR $AR_FLAGS $lib $libobjs~$RANLIB $lib~(cd $output_objdir && a2ixlibrary -32)'\n-            hardcode_libdir_flag_spec='-L$libdir'\n-            hardcode_minus_L=yes\n-        ;;\n-      esac\n-      ;;\n-\n-    bsdi[45]*)\n-      export_dynamic_flag_spec=-rdynamic\n-      ;;\n-\n-    cygwin* | mingw* | pw32* | cegcc*)\n-      # When not using gcc, we currently assume that we are using\n-      # Microsoft Visual C++.\n-      # hardcode_libdir_flag_spec is actually meaningless, as there is\n-      # no search path for DLLs.\n-      case $cc_basename in\n-      cl*)\n-\t# Native MSVC\n-\thardcode_libdir_flag_spec=' '\n-\tallow_undefined_flag=unsupported\n-\talways_export_symbols=yes\n-\tfile_list_spec='@'\n-\t# Tell ltmain to make .lib files, not .a files.\n-\tlibext=lib\n-\t# Tell ltmain to make .dll files, not .so files.\n-\tshrext_cmds=\"".dll\""\n-\t# FIXME: Setting linknames here is a bad hack.\n-\tarchive_cmds='$CC -o $output_objdir/$soname $libobjs $compiler_flags $deplibs -Wl,-dll~linknames='\n-\tarchive_expsym_cmds='if test \""x`$SED 1q $export_symbols`\"" = xEXPORTS; then\n-\t    sed -n -e 's/\\\\\\\\\\\\\\(.*\\\\\\\\\\\\\\)/-link\\\\\\ -EXPORT:\\\\\\\\\\\\\\1/' -e '1\\\\\\!p' < $export_symbols > $output_objdir/$soname.exp;\n-\t  else\n-\t    sed -e 's/\\\\\\\\\\\\\\(.*\\\\\\\\\\\\\\)/-link\\\\\\ -EXPORT:\\\\\\\\\\\\\\1/' < $export_symbols > $output_objdir/$soname.exp;\n-\t  fi~\n-\t  $CC -o $tool_output_objdir$soname $libobjs $compiler_flags $deplibs \""@$tool_output_objdir$soname.exp\"" -Wl,-DLL,-IMPLIB:\""$tool_output_objdir$libname.dll.lib\""~\n-\t  linknames='\n-\t# The linker will not automatically build a static lib if we build a DLL.\n-\t# _LT_TAGVAR(old_archive_from_new_cmds, )='true'\n-\tenable_shared_with_static_runtimes=yes\n-\texclude_expsyms='_NULL_IMPORT_DESCRIPTOR|_IMPORT_DESCRIPTOR_.*'\n-\texport_symbols_cmds='$NM $libobjs $convenience | $global_symbol_pipe | $SED -e '\\''/^[BCDGRS][ ]/s/.*[ ]\\([^ ]*\\)/\\1,DATA/'\\'' | $SED -e '\\''/^[AITW][ ]/s/.*[ ]//'\\'' | sort | uniq > $export_symbols'\n-\t# Don't use ranlib\n-\told_postinstall_cmds='chmod 644 $oldlib'\n-\tpostlink_cmds='lt_outputfile=\""@OUTPUT@\""~\n-\t  lt_tool_outputfile=\""@TOOL_OUTPUT@\""~\n-\t  case $lt_outputfile in\n-\t    *.exe|*.EXE) ;;\n-\t    *)\n-\t      lt_outputfile=\""$lt_outputfile.exe\""\n-\t      lt_tool_outputfile=\""$lt_tool_outputfile.exe\""\n-\t      ;;\n-\t  esac~\n-\t  if test \""$MANIFEST_TOOL\"" != \"":\"" && test -f \""$lt_outputfile.manifest\""; then\n-\t    $MANIFEST_TOOL -manifest \""$lt_tool_outputfile.manifest\"" -outputresource:\""$lt_tool_outputfile\"" || exit 1;\n-\t    $RM \""$lt_outputfile.manifest\"";\n-\t  fi'\n-\t;;\n-      *)\n-\t# Assume MSVC wrapper\n-\thardcode_libdir_flag_spec=' '\n-\tallow_undefined_flag=unsupported\n-\t# Tell ltmain to make .lib files, not .a files.\n-\tlibext=lib\n-\t# Tell ltmain to make .dll files, not .so files.\n-\tshrext_cmds=\"".dll\""\n-\t# FIXME: Setting linknames here is a bad hack.\n-\tarchive_cmds='$CC -o $lib $libobjs $compiler_flags `func_echo_all \""$deplibs\"" | $SED '\\''s/ -lc$//'\\''` -link -dll~linknames='\n-\t# The linker will automatically build a .lib file if we build a DLL.\n-\told_archive_from_new_cmds='true'\n-\t# FIXME: Should let the user specify the lib program.\n-\told_archive_cmds='lib -OUT:$oldlib$oldobjs$old_deplibs'\n-\tenable_shared_with_static_runtimes=yes\n-\t;;\n-      esac\n-      ;;\n-\n-    darwin* | rhapsody*)\n-\n-\n-  archive_cmds_need_lc=no\n-  hardcode_direct=no\n-  hardcode_automatic=yes\n-  hardcode_shlibpath_var=unsupported\n-  if test \""$lt_cv_ld_force_load\"" = \""yes\""; then\n-    whole_archive_flag_spec='`for conv in $convenience\\\""\\\""; do test  -n \\\""$conv\\\"" && new_convenience=\\\""$new_convenience ${wl}-force_load,$conv\\\""; done; func_echo_all \\\""$new_convenience\\\""`'\n-\n-  else\n-    whole_archive_flag_spec=''\n-  fi\n-  link_all_deplibs=yes\n-  allow_undefined_flag=\""$_lt_dar_allow_undefined\""\n-  case $cc_basename in\n-     ifort*) _lt_dar_can_shared=yes ;;\n-     *) _lt_dar_can_shared=$GCC ;;\n-  esac\n-  if test \""$_lt_dar_can_shared\"" = \""yes\""; then\n-    output_verbose_link_cmd=func_echo_all\n-    archive_cmds=\""\\$CC -dynamiclib \\$allow_undefined_flag -o \\$lib \\$libobjs \\$deplibs \\$compiler_flags -install_name \\$rpath/\\$soname \\$verstring $_lt_dar_single_mod${_lt_dsymutil}\""\n-    module_cmds=\""\\$CC \\$allow_undefined_flag -o \\$lib -bundle \\$libobjs \\$deplibs \\$compiler_flags${_lt_dsymutil}\""\n-    archive_expsym_cmds=\""sed 's,^,_,' < \\$export_symbols > \\$output_objdir/\\${libname}-symbols.expsym~\\$CC -dynamiclib \\$allow_undefined_flag -o \\$lib \\$libobjs \\$deplibs \\$compiler_flags -install_name \\$rpath/\\$soname \\$verstring ${_lt_dar_single_mod}${_lt_dar_export_syms}${_lt_dsymutil}\""\n-    module_expsym_cmds=\""sed -e 's,^,_,' < \\$export_symbols > \\$output_objdir/\\${libname}-symbols.expsym~\\$CC \\$allow_undefined_flag -o \\$lib -bundle \\$libobjs \\$deplibs \\$compiler_flags${_lt_dar_export_syms}${_lt_dsymutil}\""\n-\n-  else\n-  ld_shlibs=no\n-  fi\n-\n-      ;;\n-\n-    dgux*)\n-      archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'\n-      hardcode_libdir_flag_spec='-L$libdir'\n-      hardcode_shlibpath_var=no\n-      ;;\n-\n-    # FreeBSD 2.2.[012] allows us to include c++rt0.o to get C++ constructor\n-    # support.  Future versions do this automatically, but an explicit c++rt0.o\n-    # does not break anything, and helps significantly (at the cost of a little\n-    # extra space).\n-    freebsd2.2*)\n-      archive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags /usr/lib/c++rt0.o'\n-      hardcode_libdir_flag_spec='-R$libdir'\n-      hardcode_direct=yes\n-      hardcode_shlibpath_var=no\n-      ;;\n-\n-    # Unfortunately, older versions of FreeBSD 2 do not have this feature.\n-    freebsd2.*)\n-      archive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'\n-      hardcode_direct=yes\n-      hardcode_minus_L=yes\n-      hardcode_shlibpath_var=no\n-      ;;\n-\n-    # FreeBSD 3 and greater uses gcc -shared to do shared libraries.\n-    freebsd* | dragonfly*)\n-      archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'\n-      hardcode_libdir_flag_spec='-R$libdir'\n-      hardcode_direct=yes\n-      hardcode_shlibpath_var=no\n-      ;;\n-\n-    hpux9*)\n-      if test \""$GCC\"" = yes; then\n-\tarchive_cmds='$RM $output_objdir/$soname~$CC -shared $pic_flag ${wl}+b ${wl}$install_libdir -o $output_objdir/$soname $libobjs $deplibs $compiler_flags~test $output_objdir/$soname = $lib || mv $output_objdir/$soname $lib'\n-      else\n-\tarchive_cmds='$RM $output_objdir/$soname~$LD -b +b $install_libdir -o $output_objdir/$soname $libobjs $deplibs $linker_flags~test $output_objdir/$soname = $lib || mv $output_objdir/$soname $lib'\n-      fi\n-      hardcode_libdir_flag_spec='${wl}+b ${wl}$libdir'\n-      hardcode_libdir_separator=:\n-      hardcode_direct=yes\n-\n-      # hardcode_minus_L: Not really in the search PATH,\n-      # but as the default location of the library.\n-      hardcode_minus_L=yes\n-      export_dynamic_flag_spec='${wl}-E'\n-      ;;\n-\n-    hpux10*)\n-      if test \""$GCC\"" = yes && test \""$with_gnu_ld\"" = no; then\n-\tarchive_cmds='$CC -shared $pic_flag ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'\n-      else\n-\tarchive_cmds='$LD -b +h $soname +b $install_libdir -o $lib $libobjs $deplibs $linker_flags'\n-      fi\n-      if test \""$with_gnu_ld\"" = no; then\n-\thardcode_libdir_flag_spec='${wl}+b ${wl}$libdir'\n-\thardcode_libdir_separator=:\n-\thardcode_direct=yes\n-\thardcode_direct_absolute=yes\n-\texport_dynamic_flag_spec='${wl}-E'\n-\t# hardcode_minus_L: Not really in the search PATH,\n-\t# but as the default location of the library.\n-\thardcode_minus_L=yes\n-      fi\n-      ;;\n-\n-    hpux11*)\n-      if test \""$GCC\"" = yes && test \""$with_gnu_ld\"" = no; then\n-\tcase $host_cpu in\n-\thppa*64*)\n-\t  archive_cmds='$CC -shared ${wl}+h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'\n-\t  ;;\n-\tia64*)\n-\t  archive_cmds='$CC -shared $pic_flag ${wl}+h ${wl}$soname ${wl}+nodefaultrpath -o $lib $libobjs $deplibs $compiler_flags'\n-\t  ;;\n-\t*)\n-\t  archive_cmds='$CC -shared $pic_flag ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'\n-\t  ;;\n-\tesac\n-      else\n-\tcase $host_cpu in\n-\thppa*64*)\n-\t  archive_cmds='$CC -b ${wl}+h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'\n-\t  ;;\n-\tia64*)\n-\t  archive_cmds='$CC -b ${wl}+h ${wl}$soname ${wl}+nodefaultrpath -o $lib $libobjs $deplibs $compiler_flags'\n-\t  ;;\n-\t*)\n-\n-\t  # Older versions of the 11.00 compiler do not understand -b yet\n-\t  # (HP92453-01 A.11.01.20 doesn't, HP92453-01 B.11.X.35175-35176.GP does)\n-\t  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking if $CC understands -b\"" >&5\n-$as_echo_n \""checking if $CC understands -b... \"" >&6; }\n-if ${lt_cv_prog_compiler__b+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  lt_cv_prog_compiler__b=no\n-   save_LDFLAGS=\""$LDFLAGS\""\n-   LDFLAGS=\""$LDFLAGS -b\""\n-   echo \""$lt_simple_link_test_code\"" > conftest.$ac_ext\n-   if (eval $ac_link 2>conftest.err) && test -s conftest$ac_exeext; then\n-     # The linker can only warn and ignore the option if not recognized\n-     # So say no if there are warnings\n-     if test -s conftest.err; then\n-       # Append any errors to the config.log.\n-       cat conftest.err 1>&5\n-       $ECHO \""$_lt_linker_boilerplate\"" | $SED '/^$/d' > conftest.exp\n-       $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2\n-       if diff conftest.exp conftest.er2 >/dev/null; then\n-         lt_cv_prog_compiler__b=yes\n-       fi\n-     else\n-       lt_cv_prog_compiler__b=yes\n-     fi\n-   fi\n-   $RM -r conftest*\n-   LDFLAGS=\""$save_LDFLAGS\""\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler__b\"" >&5\n-$as_echo \""$lt_cv_prog_compiler__b\"" >&6; }\n-\n-if test x\""$lt_cv_prog_compiler__b\"" = xyes; then\n-    archive_cmds='$CC -b ${wl}+h ${wl}$soname ${wl}+b ${wl}$install_libdir -o $lib $libobjs $deplibs $compiler_flags'\n-else\n-    archive_cmds='$LD -b +h $soname +b $install_libdir -o $lib $libobjs $deplibs $linker_flags'\n-fi\n-\n-\t  ;;\n-\tesac\n-      fi\n-      if test \""$with_gnu_ld\"" = no; then\n-\thardcode_libdir_flag_spec='${wl}+b ${wl}$libdir'\n-\thardcode_libdir_separator=:\n-\n-\tcase $host_cpu in\n-\thppa*64*|ia64*)\n-\t  hardcode_direct=no\n-\t  hardcode_shlibpath_var=no\n-\t  ;;\n-\t*)\n-\t  hardcode_direct=yes\n-\t  hardcode_direct_absolute=yes\n-\t  export_dynamic_flag_spec='${wl}-E'\n-\n-\t  # hardcode_minus_L: Not really in the search PATH,\n-\t  # but as the default location of the library.\n-\t  hardcode_minus_L=yes\n-\t  ;;\n-\tesac\n-      fi\n-      ;;\n-\n-    irix5* | irix6* | nonstopux*)\n-      if test \""$GCC\"" = yes; then\n-\tarchive_cmds='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-soname ${wl}$soname `test -n \""$verstring\"" && func_echo_all \""${wl}-set_version ${wl}$verstring\""` ${wl}-update_registry ${wl}${output_objdir}/so_locations -o $lib'\n-\t# Try to use the -exported_symbol ld option, if it does not\n-\t# work, assume that -exports_file does not work either and\n-\t# implicitly export all symbols.\n-\t# This should be the same for all languages, so no per-tag cache variable.\n-\t{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether the $host_os linker accepts -exported_symbol\"" >&5\n-$as_echo_n \""checking whether the $host_os linker accepts -exported_symbol... \"" >&6; }\n-if ${lt_cv_irix_exported_symbol+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  save_LDFLAGS=\""$LDFLAGS\""\n-\t   LDFLAGS=\""$LDFLAGS -shared ${wl}-exported_symbol ${wl}foo ${wl}-update_registry ${wl}/dev/null\""\n-\t   cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-int foo (void) { return 0; }\n-_ACEOF\n-if ac_fn_c_try_link \""$LINENO\""; then :\n-  lt_cv_irix_exported_symbol=yes\n-else\n-  lt_cv_irix_exported_symbol=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n-           LDFLAGS=\""$save_LDFLAGS\""\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_irix_exported_symbol\"" >&5\n-$as_echo \""$lt_cv_irix_exported_symbol\"" >&6; }\n-\tif test \""$lt_cv_irix_exported_symbol\"" = yes; then\n-          archive_expsym_cmds='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags ${wl}-soname ${wl}$soname `test -n \""$verstring\"" && func_echo_all \""${wl}-set_version ${wl}$verstring\""` ${wl}-update_registry ${wl}${output_objdir}/so_locations ${wl}-exports_file ${wl}$export_symbols -o $lib'\n-\tfi\n-      else\n-\tarchive_cmds='$CC -shared $libobjs $deplibs $compiler_flags -soname $soname `test -n \""$verstring\"" && func_echo_all \""-set_version $verstring\""` -update_registry ${output_objdir}/so_locations -o $lib'\n-\tarchive_expsym_cmds='$CC -shared $libobjs $deplibs $compiler_flags -soname $soname `test -n \""$verstring\"" && func_echo_all \""-set_version $verstring\""` -update_registry ${output_objdir}/so_locations -exports_file $export_symbols -o $lib'\n-      fi\n-      archive_cmds_need_lc='no'\n-      hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'\n-      hardcode_libdir_separator=:\n-      inherit_rpath=yes\n-      link_all_deplibs=yes\n-      ;;\n-\n-    netbsd*)\n-      if echo __ELF__ | $CC -E - | $GREP __ELF__ >/dev/null; then\n-\tarchive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'  # a.out\n-      else\n-\tarchive_cmds='$LD -shared -o $lib $libobjs $deplibs $linker_flags'      # ELF\n-      fi\n-      hardcode_libdir_flag_spec='-R$libdir'\n-      hardcode_direct=yes\n-      hardcode_shlibpath_var=no\n-      ;;\n-\n-    newsos6)\n-      archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'\n-      hardcode_direct=yes\n-      hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'\n-      hardcode_libdir_separator=:\n-      hardcode_shlibpath_var=no\n-      ;;\n-\n-    *nto* | *qnx*)\n-      ;;\n-\n-    openbsd*)\n-      if test -f /usr/libexec/ld.so; then\n-\thardcode_direct=yes\n-\thardcode_shlibpath_var=no\n-\thardcode_direct_absolute=yes\n-\tif test -z \""`echo __ELF__ | $CC -E - | $GREP __ELF__`\"" || test \""$host_os-$host_cpu\"" = \""openbsd2.8-powerpc\""; then\n-\t  archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'\n-\t  archive_expsym_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags ${wl}-retain-symbols-file,$export_symbols'\n-\t  hardcode_libdir_flag_spec='${wl}-rpath,$libdir'\n-\t  export_dynamic_flag_spec='${wl}-E'\n-\telse\n-\t  case $host_os in\n-\t   openbsd[01].* | openbsd2.[0-7] | openbsd2.[0-7].*)\n-\t     archive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'\n-\t     hardcode_libdir_flag_spec='-R$libdir'\n-\t     ;;\n-\t   *)\n-\t     archive_cmds='$CC -shared $pic_flag -o $lib $libobjs $deplibs $compiler_flags'\n-\t     hardcode_libdir_flag_spec='${wl}-rpath,$libdir'\n-\t     ;;\n-\t  esac\n-\tfi\n-      else\n-\tld_shlibs=no\n-      fi\n-      ;;\n-\n-    os2*)\n-      hardcode_libdir_flag_spec='-L$libdir'\n-      hardcode_minus_L=yes\n-      allow_undefined_flag=unsupported\n-      archive_cmds='$ECHO \""LIBRARY $libname INITINSTANCE\"" > $output_objdir/$libname.def~$ECHO \""DESCRIPTION \\\""$libname\\\""\"" >> $output_objdir/$libname.def~echo DATA >> $output_objdir/$libname.def~echo \"" SINGLE NONSHARED\"" >> $output_objdir/$libname.def~echo EXPORTS >> $output_objdir/$libname.def~emxexp $libobjs >> $output_objdir/$libname.def~$CC -Zdll -Zcrtdll -o $lib $libobjs $deplibs $compiler_flags $output_objdir/$libname.def'\n-      old_archive_from_new_cmds='emximp -o $output_objdir/$libname.a $output_objdir/$libname.def'\n-      ;;\n-\n-    osf3*)\n-      if test \""$GCC\"" = yes; then\n-\tallow_undefined_flag=' ${wl}-expect_unresolved ${wl}\\*'\n-\tarchive_cmds='$CC -shared${allow_undefined_flag} $libobjs $deplibs $compiler_flags ${wl}-soname ${wl}$soname `test -n \""$verstring\"" && func_echo_all \""${wl}-set_version ${wl}$verstring\""` ${wl}-update_registry ${wl}${output_objdir}/so_locations -o $lib'\n-      else\n-\tallow_undefined_flag=' -expect_unresolved \\*'\n-\tarchive_cmds='$CC -shared${allow_undefined_flag} $libobjs $deplibs $compiler_flags -soname $soname `test -n \""$verstring\"" && func_echo_all \""-set_version $verstring\""` -update_registry ${output_objdir}/so_locations -o $lib'\n-      fi\n-      archive_cmds_need_lc='no'\n-      hardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'\n-      hardcode_libdir_separator=:\n-      ;;\n-\n-    osf4* | osf5*)\t# as osf3* with the addition of -msym flag\n-      if test \""$GCC\"" = yes; then\n-\tallow_undefined_flag=' ${wl}-expect_unresolved ${wl}\\*'\n-\tarchive_cmds='$CC -shared${allow_undefined_flag} $pic_flag $libobjs $deplibs $compiler_flags ${wl}-msym ${wl}-soname ${wl}$soname `test -n \""$verstring\"" && func_echo_all \""${wl}-set_version ${wl}$verstring\""` ${wl}-update_registry ${wl}${output_objdir}/so_locations -o $lib'\n-\thardcode_libdir_flag_spec='${wl}-rpath ${wl}$libdir'\n-      else\n-\tallow_undefined_flag=' -expect_unresolved \\*'\n-\tarchive_cmds='$CC -shared${allow_undefined_flag} $libobjs $deplibs $compiler_flags -msym -soname $soname `test -n \""$verstring\"" && func_echo_all \""-set_version $verstring\""` -update_registry ${output_objdir}/so_locations -o $lib'\n-\tarchive_expsym_cmds='for i in `cat $export_symbols`; do printf \""%s %s\\\\n\"" -exported_symbol \""\\$i\"" >> $lib.exp; done; printf \""%s\\\\n\"" \""-hidden\"">> $lib.exp~\n-\t$CC -shared${allow_undefined_flag} ${wl}-input ${wl}$lib.exp $compiler_flags $libobjs $deplibs -soname $soname `test -n \""$verstring\"" && $ECHO \""-set_version $verstring\""` -update_registry ${output_objdir}/so_locations -o $lib~$RM $lib.exp'\n-\n-\t# Both c and cxx compiler support -rpath directly\n-\thardcode_libdir_flag_spec='-rpath $libdir'\n-      fi\n-      archive_cmds_need_lc='no'\n-      hardcode_libdir_separator=:\n-      ;;\n-\n-    solaris*)\n-      no_undefined_flag=' -z defs'\n-      if test \""$GCC\"" = yes; then\n-\twlarc='${wl}'\n-\tarchive_cmds='$CC -shared $pic_flag ${wl}-z ${wl}text ${wl}-h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags'\n-\tarchive_expsym_cmds='echo \""{ global:\"" > $lib.exp~cat $export_symbols | $SED -e \""s/\\(.*\\)/\\1;/\"" >> $lib.exp~echo \""local: *; };\"" >> $lib.exp~\n-\t  $CC -shared $pic_flag ${wl}-z ${wl}text ${wl}-M ${wl}$lib.exp ${wl}-h ${wl}$soname -o $lib $libobjs $deplibs $compiler_flags~$RM $lib.exp'\n-      else\n-\tcase `$CC -V 2>&1` in\n-\t*\""Compilers 5.0\""*)\n-\t  wlarc=''\n-\t  archive_cmds='$LD -G${allow_undefined_flag} -h $soname -o $lib $libobjs $deplibs $linker_flags'\n-\t  archive_expsym_cmds='echo \""{ global:\"" > $lib.exp~cat $export_symbols | $SED -e \""s/\\(.*\\)/\\1;/\"" >> $lib.exp~echo \""local: *; };\"" >> $lib.exp~\n-\t  $LD -G${allow_undefined_flag} -M $lib.exp -h $soname -o $lib $libobjs $deplibs $linker_flags~$RM $lib.exp'\n-\t  ;;\n-\t*)\n-\t  wlarc='${wl}'\n-\t  archive_cmds='$CC -G${allow_undefined_flag} -h $soname -o $lib $libobjs $deplibs $compiler_flags'\n-\t  archive_expsym_cmds='echo \""{ global:\"" > $lib.exp~cat $export_symbols | $SED -e \""s/\\(.*\\)/\\1;/\"" >> $lib.exp~echo \""local: *; };\"" >> $lib.exp~\n-\t  $CC -G${allow_undefined_flag} -M $lib.exp -h $soname -o $lib $libobjs $deplibs $compiler_flags~$RM $lib.exp'\n-\t  ;;\n-\tesac\n-      fi\n-      hardcode_libdir_flag_spec='-R$libdir'\n-      hardcode_shlibpath_var=no\n-      case $host_os in\n-      solaris2.[0-5] | solaris2.[0-5].*) ;;\n-      *)\n-\t# The compiler driver will combine and reorder linker options,\n-\t# but understands `-z linker_flag'.  GCC discards it without `$wl',\n-\t# but is careful enough not to reorder.\n-\t# Supported since Solaris 2.6 (maybe 2.5.1?)\n-\tif test \""$GCC\"" = yes; then\n-\t  whole_archive_flag_spec='${wl}-z ${wl}allextract$convenience ${wl}-z ${wl}defaultextract'\n-\telse\n-\t  whole_archive_flag_spec='-z allextract$convenience -z defaultextract'\n-\tfi\n-\t;;\n-      esac\n-      link_all_deplibs=yes\n-      ;;\n-\n-    sunos4*)\n-      if test \""x$host_vendor\"" = xsequent; then\n-\t# Use $CC to link under sequent, because it throws in some extra .o\n-\t# files that make .init and .fini sections work.\n-\tarchive_cmds='$CC -G ${wl}-h $soname -o $lib $libobjs $deplibs $compiler_flags'\n-      else\n-\tarchive_cmds='$LD -assert pure-text -Bstatic -o $lib $libobjs $deplibs $linker_flags'\n-      fi\n-      hardcode_libdir_flag_spec='-L$libdir'\n-      hardcode_direct=yes\n-      hardcode_minus_L=yes\n-      hardcode_shlibpath_var=no\n-      ;;\n-\n-    sysv4)\n-      case $host_vendor in\n-\tsni)\n-\t  archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'\n-\t  hardcode_direct=yes # is this really true???\n-\t;;\n-\tsiemens)\n-\t  ## LD is ld it makes a PLAMLIB\n-\t  ## CC just makes a GrossModule.\n-\t  archive_cmds='$LD -G -o $lib $libobjs $deplibs $linker_flags'\n-\t  reload_cmds='$CC -r -o $output$reload_objs'\n-\t  hardcode_direct=no\n-        ;;\n-\tmotorola)\n-\t  archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'\n-\t  hardcode_direct=no #Motorola manual says yes, but my tests say they lie\n-\t;;\n-      esac\n-      runpath_var='LD_RUN_PATH'\n-      hardcode_shlibpath_var=no\n-      ;;\n-\n-    sysv4.3*)\n-      archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'\n-      hardcode_shlibpath_var=no\n-      export_dynamic_flag_spec='-Bexport'\n-      ;;\n-\n-    sysv4*MP*)\n-      if test -d /usr/nec; then\n-\tarchive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'\n-\thardcode_shlibpath_var=no\n-\trunpath_var=LD_RUN_PATH\n-\thardcode_runpath_var=yes\n-\tld_shlibs=yes\n-      fi\n-      ;;\n-\n-    sysv4*uw2* | sysv5OpenUNIX* | sysv5UnixWare7.[01].[10]* | unixware7* | sco3.2v5.0.[024]*)\n-      no_undefined_flag='${wl}-z,text'\n-      archive_cmds_need_lc=no\n-      hardcode_shlibpath_var=no\n-      runpath_var='LD_RUN_PATH'\n-\n-      if test \""$GCC\"" = yes; then\n-\tarchive_cmds='$CC -shared ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'\n-\tarchive_expsym_cmds='$CC -shared ${wl}-Bexport:$export_symbols ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'\n-      else\n-\tarchive_cmds='$CC -G ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'\n-\tarchive_expsym_cmds='$CC -G ${wl}-Bexport:$export_symbols ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'\n-      fi\n-      ;;\n-\n-    sysv5* | sco3.2v5* | sco5v6*)\n-      # Note: We can NOT use -z defs as we might desire, because we do not\n-      # link with -lc, and that would cause any symbols used from libc to\n-      # always be unresolved, which means just about no library would\n-      # ever link correctly.  If we're not using GNU ld we use -z text\n-      # though, which does catch some bad symbols but isn't as heavy-handed\n-      # as -z defs.\n-      no_undefined_flag='${wl}-z,text'\n-      allow_undefined_flag='${wl}-z,nodefs'\n-      archive_cmds_need_lc=no\n-      hardcode_shlibpath_var=no\n-      hardcode_libdir_flag_spec='${wl}-R,$libdir'\n-      hardcode_libdir_separator=':'\n-      link_all_deplibs=yes\n-      export_dynamic_flag_spec='${wl}-Bexport'\n-      runpath_var='LD_RUN_PATH'\n-\n-      if test \""$GCC\"" = yes; then\n-\tarchive_cmds='$CC -shared ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'\n-\tarchive_expsym_cmds='$CC -shared ${wl}-Bexport:$export_symbols ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'\n-      else\n-\tarchive_cmds='$CC -G ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'\n-\tarchive_expsym_cmds='$CC -G ${wl}-Bexport:$export_symbols ${wl}-h,$soname -o $lib $libobjs $deplibs $compiler_flags'\n-      fi\n-      ;;\n-\n-    uts4*)\n-      archive_cmds='$LD -G -h $soname -o $lib $libobjs $deplibs $linker_flags'\n-      hardcode_libdir_flag_spec='-L$libdir'\n-      hardcode_shlibpath_var=no\n-      ;;\n-\n-    *)\n-      ld_shlibs=no\n-      ;;\n-    esac\n-\n-    if test x$host_vendor = xsni; then\n-      case $host in\n-      sysv4 | sysv4.2uw2* | sysv4.3* | sysv5*)\n-\texport_dynamic_flag_spec='${wl}-Blargedynsym'\n-\t;;\n-      esac\n-    fi\n-  fi\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ld_shlibs\"" >&5\n-$as_echo \""$ld_shlibs\"" >&6; }\n-test \""$ld_shlibs\"" = no && can_build_shared=no\n-\n-with_gnu_ld=$with_gnu_ld\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-#\n-# Do we need to explicitly link libc?\n-#\n-case \""x$archive_cmds_need_lc\"" in\n-x|xyes)\n-  # Assume -lc should be added\n-  archive_cmds_need_lc=yes\n-\n-  if test \""$enable_shared\"" = yes && test \""$GCC\"" = yes; then\n-    case $archive_cmds in\n-    *'~'*)\n-      # FIXME: we may have to deal with multi-command sequences.\n-      ;;\n-    '$CC '*)\n-      # Test whether the compiler implicitly links with -lc since on some\n-      # systems, -lgcc has to come before -lc. If gcc already passes -lc\n-      # to ld, don't add -lc before -lgcc.\n-      { $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether -lc should be explicitly linked in\"" >&5\n-$as_echo_n \""checking whether -lc should be explicitly linked in... \"" >&6; }\n-if ${lt_cv_archive_cmds_need_lc+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  $RM conftest*\n-\techo \""$lt_simple_compile_test_code\"" > conftest.$ac_ext\n-\n-\tif { { eval echo \""\\\""\\$as_me\\\"":${as_lineno-$LINENO}: \\\""$ac_compile\\\""\""; } >&5\n-  (eval $ac_compile) 2>&5\n-  ac_status=$?\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; } 2>conftest.err; then\n-\t  soname=conftest\n-\t  lib=conftest\n-\t  libobjs=conftest.$ac_objext\n-\t  deplibs=\n-\t  wl=$lt_prog_compiler_wl\n-\t  pic_flag=$lt_prog_compiler_pic\n-\t  compiler_flags=-v\n-\t  linker_flags=-v\n-\t  verstring=\n-\t  output_objdir=.\n-\t  libname=conftest\n-\t  lt_save_allow_undefined_flag=$allow_undefined_flag\n-\t  allow_undefined_flag=\n-\t  if { { eval echo \""\\\""\\$as_me\\\"":${as_lineno-$LINENO}: \\\""$archive_cmds 2\\>\\&1 \\| $GREP \\\"" -lc \\\"" \\>/dev/null 2\\>\\&1\\\""\""; } >&5\n-  (eval $archive_cmds 2\\>\\&1 \\| $GREP \\\"" -lc \\\"" \\>/dev/null 2\\>\\&1) 2>&5\n-  ac_status=$?\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; }\n-\t  then\n-\t    lt_cv_archive_cmds_need_lc=no\n-\t  else\n-\t    lt_cv_archive_cmds_need_lc=yes\n-\t  fi\n-\t  allow_undefined_flag=$lt_save_allow_undefined_flag\n-\telse\n-\t  cat conftest.err 1>&5\n-\tfi\n-\t$RM conftest*\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_archive_cmds_need_lc\"" >&5\n-$as_echo \""$lt_cv_archive_cmds_need_lc\"" >&6; }\n-      archive_cmds_need_lc=$lt_cv_archive_cmds_need_lc\n-      ;;\n-    esac\n-  fi\n-  ;;\n-esac\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking dynamic linker characteristics\"" >&5\n-$as_echo_n \""checking dynamic linker characteristics... \"" >&6; }\n-\n-if test \""$GCC\"" = yes; then\n-  case $host_os in\n-    darwin*) lt_awk_arg=\""/^libraries:/,/LR/\"" ;;\n-    *) lt_awk_arg=\""/^libraries:/\"" ;;\n-  esac\n-  case $host_os in\n-    mingw* | cegcc*) lt_sed_strip_eq=\""s,=\\([A-Za-z]:\\),\\1,g\"" ;;\n-    *) lt_sed_strip_eq=\""s,=/,/,g\"" ;;\n-  esac\n-  lt_search_path_spec=`$CC -print-search-dirs | awk $lt_awk_arg | $SED -e \""s/^libraries://\"" -e $lt_sed_strip_eq`\n-  case $lt_search_path_spec in\n-  *\\;*)\n-    # if the path contains \"";\"" then we assume it to be the separator\n-    # otherwise default to the standard path separator (i.e. \"":\"") - it is\n-    # assumed that no part of a normal pathname contains \"";\"" but that should\n-    # okay in the real world where \"";\"" in dirpaths is itself problematic.\n-    lt_search_path_spec=`$ECHO \""$lt_search_path_spec\"" | $SED 's/;/ /g'`\n-    ;;\n-  *)\n-    lt_search_path_spec=`$ECHO \""$lt_search_path_spec\"" | $SED \""s/$PATH_SEPARATOR/ /g\""`\n-    ;;\n-  esac\n-  # Ok, now we have the path, separated by spaces, we can step through it\n-  # and add multilib dir if necessary.\n-  lt_tmp_lt_search_path_spec=\n-  lt_multi_os_dir=`$CC $CPPFLAGS $CFLAGS $LDFLAGS -print-multi-os-directory 2>/dev/null`\n-  for lt_sys_path in $lt_search_path_spec; do\n-    if test -d \""$lt_sys_path/$lt_multi_os_dir\""; then\n-      lt_tmp_lt_search_path_spec=\""$lt_tmp_lt_search_path_spec $lt_sys_path/$lt_multi_os_dir\""\n-    else\n-      test -d \""$lt_sys_path\"" && \\\n-\tlt_tmp_lt_search_path_spec=\""$lt_tmp_lt_search_path_spec $lt_sys_path\""\n-    fi\n-  done\n-  lt_search_path_spec=`$ECHO \""$lt_tmp_lt_search_path_spec\"" | awk '\n-BEGIN {RS=\"" \""; FS=\""/|\\n\"";} {\n-  lt_foo=\""\"";\n-  lt_count=0;\n-  for (lt_i = NF; lt_i > 0; lt_i--) {\n-    if ($lt_i != \""\"" && $lt_i != \"".\"") {\n-      if ($lt_i == \""..\"") {\n-        lt_count++;\n-      } else {\n-        if (lt_count == 0) {\n-          lt_foo=\""/\"" $lt_i lt_foo;\n-        } else {\n-          lt_count--;\n-        }\n-      }\n-    }\n-  }\n-  if (lt_foo != \""\"") { lt_freq[lt_foo]++; }\n-  if (lt_freq[lt_foo] == 1) { print lt_foo; }\n-}'`\n-  # AWK program above erroneously prepends '/' to C:/dos/paths\n-  # for these hosts.\n-  case $host_os in\n-    mingw* | cegcc*) lt_search_path_spec=`$ECHO \""$lt_search_path_spec\"" |\\\n-      $SED 's,/\\([A-Za-z]:\\),\\1,g'` ;;\n-  esac\n-  sys_lib_search_path_spec=`$ECHO \""$lt_search_path_spec\"" | $lt_NL2SP`\n-else\n-  sys_lib_search_path_spec=\""/lib /usr/lib /usr/local/lib\""\n-fi\n-library_names_spec=\n-libname_spec='lib$name'\n-soname_spec=\n-shrext_cmds=\"".so\""\n-postinstall_cmds=\n-postuninstall_cmds=\n-finish_cmds=\n-finish_eval=\n-shlibpath_var=\n-shlibpath_overrides_runpath=unknown\n-version_type=none\n-dynamic_linker=\""$host_os ld.so\""\n-sys_lib_dlsearch_path_spec=\""/lib /usr/lib\""\n-need_lib_prefix=unknown\n-hardcode_into_libs=no\n-\n-# when you set need_version to no, make sure it does not cause -set_version\n-# flags to be left without arguments\n-need_version=unknown\n-\n-case $host_os in\n-aix3*)\n-  version_type=linux # correct to gnu/linux during the next big refactor\n-  library_names_spec='${libname}${release}${shared_ext}$versuffix $libname.a'\n-  shlibpath_var=LIBPATH\n-\n-  # AIX 3 has no versioning support, so we append a major version to the name.\n-  soname_spec='${libname}${release}${shared_ext}$major'\n-  ;;\n-\n-aix[4-9]*)\n-  version_type=linux # correct to gnu/linux during the next big refactor\n-  need_lib_prefix=no\n-  need_version=no\n-  hardcode_into_libs=yes\n-  if test \""$host_cpu\"" = ia64; then\n-    # AIX 5 supports IA64\n-    library_names_spec='${libname}${release}${shared_ext}$major ${libname}${release}${shared_ext}$versuffix $libname${shared_ext}'\n-    shlibpath_var=LD_LIBRARY_PATH\n-  else\n-    # With GCC up to 2.95.x, collect2 would create an import file\n-    # for dependence libraries.  The import file would start with\n-    # the line `#! .'.  This would cause the generated library to\n-    # depend on `.', always an invalid library.  This was fixed in\n-    # development snapshots of GCC prior to 3.0.\n-    case $host_os in\n-      aix4 | aix4.[01] | aix4.[01].*)\n-      if { echo '#if __GNUC__ > 2 || (__GNUC__ == 2 && __GNUC_MINOR__ >= 97)'\n-\t   echo ' yes '\n-\t   echo '#endif'; } | ${CC} -E - | $GREP yes > /dev/null; then\n-\t:\n-      else\n-\tcan_build_shared=no\n-      fi\n-      ;;\n-    esac\n-    # AIX (on Power*) has no versioning support, so currently we can not hardcode correct\n-    # soname into executable. Probably we can add versioning support to\n-    # collect2, so additional links can be useful in future.\n-    if test \""$aix_use_runtimelinking\"" = yes; then\n-      # If using run time linking (on AIX 4.2 or later) use lib<name>.so\n-      # instead of lib<name>.a to let people know that these are not\n-      # typical AIX shared libraries.\n-      library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'\n-    else\n-      # We preserve .a as extension for shared libraries through AIX4.2\n-      # and later when we are not doing run time linking.\n-      library_names_spec='${libname}${release}.a $libname.a'\n-      soname_spec='${libname}${release}${shared_ext}$major'\n-    fi\n-    shlibpath_var=LIBPATH\n-  fi\n-  ;;\n-\n-amigaos*)\n-  case $host_cpu in\n-  powerpc)\n-    # Since July 2007 AmigaOS4 officially supports .so libraries.\n-    # When compiling the executable, add -use-dynld -Lsobjs: to the compileline.\n-    library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'\n-    ;;\n-  m68k)\n-    library_names_spec='$libname.ixlibrary $libname.a'\n-    # Create ${libname}_ixlibrary.a entries in /sys/libs.\n-    finish_eval='for lib in `ls $libdir/*.ixlibrary 2>/dev/null`; do libname=`func_echo_all \""$lib\"" | $SED '\\''s%^.*/\\([^/]*\\)\\.ixlibrary$%\\1%'\\''`; test $RM /sys/libs/${libname}_ixlibrary.a; $show \""cd /sys/libs && $LN_S $lib ${libname}_ixlibrary.a\""; cd /sys/libs && $LN_S $lib ${libname}_ixlibrary.a || exit 1; done'\n-    ;;\n-  esac\n-  ;;\n-\n-beos*)\n-  library_names_spec='${libname}${shared_ext}'\n-  dynamic_linker=\""$host_os ld.so\""\n-  shlibpath_var=LIBRARY_PATH\n-  ;;\n-\n-bsdi[45]*)\n-  version_type=linux # correct to gnu/linux during the next big refactor\n-  need_version=no\n-  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'\n-  soname_spec='${libname}${release}${shared_ext}$major'\n-  finish_cmds='PATH=\""\\$PATH:/sbin\"" ldconfig $libdir'\n-  shlibpath_var=LD_LIBRARY_PATH\n-  sys_lib_search_path_spec=\""/shlib /usr/lib /usr/X11/lib /usr/contrib/lib /lib /usr/local/lib\""\n-  sys_lib_dlsearch_path_spec=\""/shlib /usr/lib /usr/local/lib\""\n-  # the default ld.so.conf also contains /usr/contrib/lib and\n-  # /usr/X11R6/lib (/usr/X11 is a link to /usr/X11R6), but let us allow\n-  # libtool to hard-code these into programs\n-  ;;\n-\n-cygwin* | mingw* | pw32* | cegcc*)\n-  version_type=windows\n-  shrext_cmds=\"".dll\""\n-  need_version=no\n-  need_lib_prefix=no\n-\n-  case $GCC,$cc_basename in\n-  yes,*)\n-    # gcc\n-    library_names_spec='$libname.dll.a'\n-    # DLL is installed to $(libdir)/../bin by postinstall_cmds\n-    postinstall_cmds='base_file=`basename \\${file}`~\n-      dlpath=`$SHELL 2>&1 -c '\\''. $dir/'\\''\\${base_file}'\\''i; echo \\$dlname'\\''`~\n-      dldir=$destdir/`dirname \\$dlpath`~\n-      test -d \\$dldir || mkdir -p \\$dldir~\n-      $install_prog $dir/$dlname \\$dldir/$dlname~\n-      chmod a+x \\$dldir/$dlname~\n-      if test -n '\\''$stripme'\\'' && test -n '\\''$striplib'\\''; then\n-        eval '\\''$striplib \\$dldir/$dlname'\\'' || exit \\$?;\n-      fi'\n-    postuninstall_cmds='dldll=`$SHELL 2>&1 -c '\\''. $file; echo \\$dlname'\\''`~\n-      dlpath=$dir/\\$dldll~\n-       $RM \\$dlpath'\n-    shlibpath_overrides_runpath=yes\n-\n-    case $host_os in\n-    cygwin*)\n-      # Cygwin DLLs use 'cyg' prefix rather than 'lib'\n-      soname_spec='`echo ${libname} | sed -e 's/^lib/cyg/'``echo ${release} | $SED -e 's/[.]/-/g'`${versuffix}${shared_ext}'\n-\n-      sys_lib_search_path_spec=\""$sys_lib_search_path_spec /usr/lib/w32api\""\n-      ;;\n-    mingw* | cegcc*)\n-      # MinGW DLLs use traditional 'lib' prefix\n-      soname_spec='${libname}`echo ${release} | $SED -e 's/[.]/-/g'`${versuffix}${shared_ext}'\n-      ;;\n-    pw32*)\n-      # pw32 DLLs use 'pw' prefix rather than 'lib'\n-      library_names_spec='`echo ${libname} | sed -e 's/^lib/pw/'``echo ${release} | $SED -e 's/[.]/-/g'`${versuffix}${shared_ext}'\n-      ;;\n-    esac\n-    dynamic_linker='Win32 ld.exe'\n-    ;;\n-\n-  *,cl*)\n-    # Native MSVC\n-    libname_spec='$name'\n-    soname_spec='${libname}`echo ${release} | $SED -e 's/[.]/-/g'`${versuffix}${shared_ext}'\n-    library_names_spec='${libname}.dll.lib'\n-\n-    case $build_os in\n-    mingw*)\n-      sys_lib_search_path_spec=\n-      lt_save_ifs=$IFS\n-      IFS=';'\n-      for lt_path in $LIB\n-      do\n-        IFS=$lt_save_ifs\n-        # Let DOS variable expansion print the short 8.3 style file name.\n-        lt_path=`cd \""$lt_path\"" 2>/dev/null && cmd //C \""for %i in (\"".\"") do @echo %~si\""`\n-        sys_lib_search_path_spec=\""$sys_lib_search_path_spec $lt_path\""\n-      done\n-      IFS=$lt_save_ifs\n-      # Convert to MSYS style.\n-      sys_lib_search_path_spec=`$ECHO \""$sys_lib_search_path_spec\"" | sed -e 's|\\\\\\\\|/|g' -e 's| \\\\([a-zA-Z]\\\\):| /\\\\1|g' -e 's|^ ||'`\n-      ;;\n-    cygwin*)\n-      # Convert to unix form, then to dos form, then back to unix form\n-      # but this time dos style (no spaces!) so that the unix form looks\n-      # like /cygdrive/c/PROGRA~1:/cygdr...\n-      sys_lib_search_path_spec=`cygpath --path --unix \""$LIB\""`\n-      sys_lib_search_path_spec=`cygpath --path --dos \""$sys_lib_search_path_spec\"" 2>/dev/null`\n-      sys_lib_search_path_spec=`cygpath --path --unix \""$sys_lib_search_path_spec\"" | $SED -e \""s/$PATH_SEPARATOR/ /g\""`\n-      ;;\n-    *)\n-      sys_lib_search_path_spec=\""$LIB\""\n-      if $ECHO \""$sys_lib_search_path_spec\"" | $GREP ';[c-zC-Z]:/' >/dev/null; then\n-        # It is most probably a Windows format PATH.\n-        sys_lib_search_path_spec=`$ECHO \""$sys_lib_search_path_spec\"" | $SED -e 's/;/ /g'`\n-      else\n-        sys_lib_search_path_spec=`$ECHO \""$sys_lib_search_path_spec\"" | $SED -e \""s/$PATH_SEPARATOR/ /g\""`\n-      fi\n-      # FIXME: find the short name or the path components, as spaces are\n-      # common. (e.g. \""Program Files\"" -> \""PROGRA~1\"")\n-      ;;\n-    esac\n-\n-    # DLL is installed to $(libdir)/../bin by postinstall_cmds\n-    postinstall_cmds='base_file=`basename \\${file}`~\n-      dlpath=`$SHELL 2>&1 -c '\\''. $dir/'\\''\\${base_file}'\\''i; echo \\$dlname'\\''`~\n-      dldir=$destdir/`dirname \\$dlpath`~\n-      test -d \\$dldir || mkdir -p \\$dldir~\n-      $install_prog $dir/$dlname \\$dldir/$dlname'\n-    postuninstall_cmds='dldll=`$SHELL 2>&1 -c '\\''. $file; echo \\$dlname'\\''`~\n-      dlpath=$dir/\\$dldll~\n-       $RM \\$dlpath'\n-    shlibpath_overrides_runpath=yes\n-    dynamic_linker='Win32 link.exe'\n-    ;;\n-\n-  *)\n-    # Assume MSVC wrapper\n-    library_names_spec='${libname}`echo ${release} | $SED -e 's/[.]/-/g'`${versuffix}${shared_ext} $libname.lib'\n-    dynamic_linker='Win32 ld.exe'\n-    ;;\n-  esac\n-  # FIXME: first we should search . and the directory the executable is in\n-  shlibpath_var=PATH\n-  ;;\n-\n-darwin* | rhapsody*)\n-  dynamic_linker=\""$host_os dyld\""\n-  version_type=darwin\n-  need_lib_prefix=no\n-  need_version=no\n-  library_names_spec='${libname}${release}${major}$shared_ext ${libname}$shared_ext'\n-  soname_spec='${libname}${release}${major}$shared_ext'\n-  shlibpath_overrides_runpath=yes\n-  shlibpath_var=DYLD_LIBRARY_PATH\n-  shrext_cmds='`test .$module = .yes && echo .so || echo .dylib`'\n-\n-  sys_lib_search_path_spec=\""$sys_lib_search_path_spec /usr/local/lib\""\n-  sys_lib_dlsearch_path_spec='/usr/local/lib /lib /usr/lib'\n-  ;;\n-\n-dgux*)\n-  version_type=linux # correct to gnu/linux during the next big refactor\n-  need_lib_prefix=no\n-  need_version=no\n-  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname$shared_ext'\n-  soname_spec='${libname}${release}${shared_ext}$major'\n-  shlibpath_var=LD_LIBRARY_PATH\n-  ;;\n-\n-freebsd* | dragonfly*)\n-  # DragonFly does not have aout.  When/if they implement a new\n-  # versioning mechanism, adjust this.\n-  if test -x /usr/bin/objformat; then\n-    objformat=`/usr/bin/objformat`\n-  else\n-    case $host_os in\n-    freebsd[23].*) objformat=aout ;;\n-    *) objformat=elf ;;\n-    esac\n-  fi\n-  version_type=freebsd-$objformat\n-  case $version_type in\n-    freebsd-elf*)\n-      library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext} $libname${shared_ext}'\n-      need_version=no\n-      need_lib_prefix=no\n-      ;;\n-    freebsd-*)\n-      library_names_spec='${libname}${release}${shared_ext}$versuffix $libname${shared_ext}$versuffix'\n-      need_version=yes\n-      ;;\n-  esac\n-  shlibpath_var=LD_LIBRARY_PATH\n-  case $host_os in\n-  freebsd2.*)\n-    shlibpath_overrides_runpath=yes\n-    ;;\n-  freebsd3.[01]* | freebsdelf3.[01]*)\n-    shlibpath_overrides_runpath=yes\n-    hardcode_into_libs=yes\n-    ;;\n-  freebsd3.[2-9]* | freebsdelf3.[2-9]* | \\\n-  freebsd4.[0-5] | freebsdelf4.[0-5] | freebsd4.1.1 | freebsdelf4.1.1)\n-    shlibpath_overrides_runpath=no\n-    hardcode_into_libs=yes\n-    ;;\n-  *) # from 4.6 on, and DragonFly\n-    shlibpath_overrides_runpath=yes\n-    hardcode_into_libs=yes\n-    ;;\n-  esac\n-  ;;\n-\n-gnu*)\n-  version_type=linux # correct to gnu/linux during the next big refactor\n-  need_lib_prefix=no\n-  need_version=no\n-  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}${major} ${libname}${shared_ext}'\n-  soname_spec='${libname}${release}${shared_ext}$major'\n-  shlibpath_var=LD_LIBRARY_PATH\n-  shlibpath_overrides_runpath=no\n-  hardcode_into_libs=yes\n-  ;;\n-\n-haiku*)\n-  version_type=linux # correct to gnu/linux during the next big refactor\n-  need_lib_prefix=no\n-  need_version=no\n-  dynamic_linker=\""$host_os runtime_loader\""\n-  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}${major} ${libname}${shared_ext}'\n-  soname_spec='${libname}${release}${shared_ext}$major'\n-  shlibpath_var=LIBRARY_PATH\n-  shlibpath_overrides_runpath=yes\n-  sys_lib_dlsearch_path_spec='/boot/home/config/lib /boot/common/lib /boot/system/lib'\n-  hardcode_into_libs=yes\n-  ;;\n-\n-hpux9* | hpux10* | hpux11*)\n-  # Give a soname corresponding to the major version so that dld.sl refuses to\n-  # link against other versions.\n-  version_type=sunos\n-  need_lib_prefix=no\n-  need_version=no\n-  case $host_cpu in\n-  ia64*)\n-    shrext_cmds='.so'\n-    hardcode_into_libs=yes\n-    dynamic_linker=\""$host_os dld.so\""\n-    shlibpath_var=LD_LIBRARY_PATH\n-    shlibpath_overrides_runpath=yes # Unless +noenvvar is specified.\n-    library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'\n-    soname_spec='${libname}${release}${shared_ext}$major'\n-    if test \""X$HPUX_IA64_MODE\"" = X32; then\n-      sys_lib_search_path_spec=\""/usr/lib/hpux32 /usr/local/lib/hpux32 /usr/local/lib\""\n-    else\n-      sys_lib_search_path_spec=\""/usr/lib/hpux64 /usr/local/lib/hpux64\""\n-    fi\n-    sys_lib_dlsearch_path_spec=$sys_lib_search_path_spec\n-    ;;\n-  hppa*64*)\n-    shrext_cmds='.sl'\n-    hardcode_into_libs=yes\n-    dynamic_linker=\""$host_os dld.sl\""\n-    shlibpath_var=LD_LIBRARY_PATH # How should we handle SHLIB_PATH\n-    shlibpath_overrides_runpath=yes # Unless +noenvvar is specified.\n-    library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'\n-    soname_spec='${libname}${release}${shared_ext}$major'\n-    sys_lib_search_path_spec=\""/usr/lib/pa20_64 /usr/ccs/lib/pa20_64\""\n-    sys_lib_dlsearch_path_spec=$sys_lib_search_path_spec\n-    ;;\n-  *)\n-    shrext_cmds='.sl'\n-    dynamic_linker=\""$host_os dld.sl\""\n-    shlibpath_var=SHLIB_PATH\n-    shlibpath_overrides_runpath=no # +s is required to enable SHLIB_PATH\n-    library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'\n-    soname_spec='${libname}${release}${shared_ext}$major'\n-    ;;\n-  esac\n-  # HP-UX runs *really* slowly unless shared libraries are mode 555, ...\n-  postinstall_cmds='chmod 555 $lib'\n-  # or fails outright, so override atomically:\n-  install_override_mode=555\n-  ;;\n-\n-interix[3-9]*)\n-  version_type=linux # correct to gnu/linux during the next big refactor\n-  need_lib_prefix=no\n-  need_version=no\n-  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major ${libname}${shared_ext}'\n-  soname_spec='${libname}${release}${shared_ext}$major'\n-  dynamic_linker='Interix 3.x ld.so.1 (PE, like ELF)'\n-  shlibpath_var=LD_LIBRARY_PATH\n-  shlibpath_overrides_runpath=no\n-  hardcode_into_libs=yes\n-  ;;\n-\n-irix5* | irix6* | nonstopux*)\n-  case $host_os in\n-    nonstopux*) version_type=nonstopux ;;\n-    *)\n-\tif test \""$lt_cv_prog_gnu_ld\"" = yes; then\n-\t\tversion_type=linux # correct to gnu/linux during the next big refactor\n-\telse\n-\t\tversion_type=irix\n-\tfi ;;\n-  esac\n-  need_lib_prefix=no\n-  need_version=no\n-  soname_spec='${libname}${release}${shared_ext}$major'\n-  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major ${libname}${release}${shared_ext} $libname${shared_ext}'\n-  case $host_os in\n-  irix5* | nonstopux*)\n-    libsuff= shlibsuff=\n-    ;;\n-  *)\n-    case $LD in # libtool.m4 will add one of these switches to LD\n-    *-32|*\""-32 \""|*-melf32bsmip|*\""-melf32bsmip \"")\n-      libsuff= shlibsuff= libmagic=32-bit;;\n-    *-n32|*\""-n32 \""|*-melf32bmipn32|*\""-melf32bmipn32 \"")\n-      libsuff=32 shlibsuff=N32 libmagic=N32;;\n-    *-64|*\""-64 \""|*-melf64bmip|*\""-melf64bmip \"")\n-      libsuff=64 shlibsuff=64 libmagic=64-bit;;\n-    *) libsuff= shlibsuff= libmagic=never-match;;\n-    esac\n-    ;;\n-  esac\n-  shlibpath_var=LD_LIBRARY${shlibsuff}_PATH\n-  shlibpath_overrides_runpath=no\n-  sys_lib_search_path_spec=\""/usr/lib${libsuff} /lib${libsuff} /usr/local/lib${libsuff}\""\n-  sys_lib_dlsearch_path_spec=\""/usr/lib${libsuff} /lib${libsuff}\""\n-  hardcode_into_libs=yes\n-  ;;\n-\n-# No shared lib support for Linux oldld, aout, or coff.\n-linux*oldld* | linux*aout* | linux*coff*)\n-  dynamic_linker=no\n-  ;;\n-\n-# This must be glibc/ELF.\n-linux* | k*bsd*-gnu | kopensolaris*-gnu)\n-  version_type=linux # correct to gnu/linux during the next big refactor\n-  need_lib_prefix=no\n-  need_version=no\n-  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'\n-  soname_spec='${libname}${release}${shared_ext}$major'\n-  finish_cmds='PATH=\""\\$PATH:/sbin\"" ldconfig -n $libdir'\n-  shlibpath_var=LD_LIBRARY_PATH\n-  shlibpath_overrides_runpath=no\n-\n-  # Some binutils ld are patched to set DT_RUNPATH\n-  if ${lt_cv_shlibpath_overrides_runpath+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  lt_cv_shlibpath_overrides_runpath=no\n-    save_LDFLAGS=$LDFLAGS\n-    save_libdir=$libdir\n-    eval \""libdir=/foo; wl=\\\""$lt_prog_compiler_wl\\\""; \\\n-\t LDFLAGS=\\\""\\$LDFLAGS $hardcode_libdir_flag_spec\\\""\""\n-    cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_link \""$LINENO\""; then :\n-  if  ($OBJDUMP -p conftest$ac_exeext) 2>/dev/null | grep \""RUNPATH.*$libdir\"" >/dev/null; then :\n-  lt_cv_shlibpath_overrides_runpath=yes\n-fi\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n-    LDFLAGS=$save_LDFLAGS\n-    libdir=$save_libdir\n-\n-fi\n-\n-  shlibpath_overrides_runpath=$lt_cv_shlibpath_overrides_runpath\n-\n-  # This implies no fast_install, which is unacceptable.\n-  # Some rework will be needed to allow for fast_install\n-  # before this can be enabled.\n-  hardcode_into_libs=yes\n-\n-  # Append ld.so.conf contents to the search path\n-  if test -f /etc/ld.so.conf; then\n-    lt_ld_extra=`awk '/^include / { system(sprintf(\""cd /etc; cat %s 2>/dev/null\"", \\$2)); skip = 1; } { if (!skip) print \\$0; skip = 0; }' < /etc/ld.so.conf | $SED -e 's/#.*//;/^[\t ]*hwcap[\t ]/d;s/[:,\t]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;s/\""//g;/^$/d' | tr '\\n' ' '`\n-    sys_lib_dlsearch_path_spec=\""/lib /usr/lib $lt_ld_extra\""\n-  fi\n-\n-  # We used to test for /lib/ld.so.1 and disable shared libraries on\n-  # powerpc, because MkLinux only supported shared libraries with the\n-  # GNU dynamic linker.  Since this was broken with cross compilers,\n-  # most powerpc-linux boxes support dynamic linking these days and\n-  # people can always --disable-shared, the test was removed, and we\n-  # assume the GNU/Linux dynamic linker is in use.\n-  dynamic_linker='GNU/Linux ld.so'\n-  ;;\n-\n-netbsd*)\n-  version_type=sunos\n-  need_lib_prefix=no\n-  need_version=no\n-  if echo __ELF__ | $CC -E - | $GREP __ELF__ >/dev/null; then\n-    library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'\n-    finish_cmds='PATH=\""\\$PATH:/sbin\"" ldconfig -m $libdir'\n-    dynamic_linker='NetBSD (a.out) ld.so'\n-  else\n-    library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major ${libname}${shared_ext}'\n-    soname_spec='${libname}${release}${shared_ext}$major'\n-    dynamic_linker='NetBSD ld.elf_so'\n-  fi\n-  shlibpath_var=LD_LIBRARY_PATH\n-  shlibpath_overrides_runpath=yes\n-  hardcode_into_libs=yes\n-  ;;\n-\n-newsos6)\n-  version_type=linux # correct to gnu/linux during the next big refactor\n-  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'\n-  shlibpath_var=LD_LIBRARY_PATH\n-  shlibpath_overrides_runpath=yes\n-  ;;\n-\n-*nto* | *qnx*)\n-  version_type=qnx\n-  need_lib_prefix=no\n-  need_version=no\n-  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'\n-  soname_spec='${libname}${release}${shared_ext}$major'\n-  shlibpath_var=LD_LIBRARY_PATH\n-  shlibpath_overrides_runpath=no\n-  hardcode_into_libs=yes\n-  dynamic_linker='ldqnx.so'\n-  ;;\n-\n-openbsd*)\n-  version_type=sunos\n-  sys_lib_dlsearch_path_spec=\""/usr/lib\""\n-  need_lib_prefix=no\n-  # Some older versions of OpenBSD (3.3 at least) *do* need versioned libs.\n-  case $host_os in\n-    openbsd3.3 | openbsd3.3.*)\tneed_version=yes ;;\n-    *)\t\t\t\tneed_version=no  ;;\n-  esac\n-  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'\n-  finish_cmds='PATH=\""\\$PATH:/sbin\"" ldconfig -m $libdir'\n-  shlibpath_var=LD_LIBRARY_PATH\n-  if test -z \""`echo __ELF__ | $CC -E - | $GREP __ELF__`\"" || test \""$host_os-$host_cpu\"" = \""openbsd2.8-powerpc\""; then\n-    case $host_os in\n-      openbsd2.[89] | openbsd2.[89].*)\n-\tshlibpath_overrides_runpath=no\n-\t;;\n-      *)\n-\tshlibpath_overrides_runpath=yes\n-\t;;\n-      esac\n-  else\n-    shlibpath_overrides_runpath=yes\n-  fi\n-  ;;\n-\n-os2*)\n-  libname_spec='$name'\n-  shrext_cmds=\"".dll\""\n-  need_lib_prefix=no\n-  library_names_spec='$libname${shared_ext} $libname.a'\n-  dynamic_linker='OS/2 ld.exe'\n-  shlibpath_var=LIBPATH\n-  ;;\n-\n-osf3* | osf4* | osf5*)\n-  version_type=osf\n-  need_lib_prefix=no\n-  need_version=no\n-  soname_spec='${libname}${release}${shared_ext}$major'\n-  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'\n-  shlibpath_var=LD_LIBRARY_PATH\n-  sys_lib_search_path_spec=\""/usr/shlib /usr/ccs/lib /usr/lib/cmplrs/cc /usr/lib /usr/local/lib /var/shlib\""\n-  sys_lib_dlsearch_path_spec=\""$sys_lib_search_path_spec\""\n-  ;;\n-\n-rdos*)\n-  dynamic_linker=no\n-  ;;\n-\n-solaris*)\n-  version_type=linux # correct to gnu/linux during the next big refactor\n-  need_lib_prefix=no\n-  need_version=no\n-  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'\n-  soname_spec='${libname}${release}${shared_ext}$major'\n-  shlibpath_var=LD_LIBRARY_PATH\n-  shlibpath_overrides_runpath=yes\n-  hardcode_into_libs=yes\n-  # ldd complains unless libraries are executable\n-  postinstall_cmds='chmod +x $lib'\n-  ;;\n-\n-sunos4*)\n-  version_type=sunos\n-  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${shared_ext}$versuffix'\n-  finish_cmds='PATH=\""\\$PATH:/usr/etc\"" ldconfig $libdir'\n-  shlibpath_var=LD_LIBRARY_PATH\n-  shlibpath_overrides_runpath=yes\n-  if test \""$with_gnu_ld\"" = yes; then\n-    need_lib_prefix=no\n-  fi\n-  need_version=yes\n-  ;;\n-\n-sysv4 | sysv4.3*)\n-  version_type=linux # correct to gnu/linux during the next big refactor\n-  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'\n-  soname_spec='${libname}${release}${shared_ext}$major'\n-  shlibpath_var=LD_LIBRARY_PATH\n-  case $host_vendor in\n-    sni)\n-      shlibpath_overrides_runpath=no\n-      need_lib_prefix=no\n-      runpath_var=LD_RUN_PATH\n-      ;;\n-    siemens)\n-      need_lib_prefix=no\n-      ;;\n-    motorola)\n-      need_lib_prefix=no\n-      need_version=no\n-      shlibpath_overrides_runpath=no\n-      sys_lib_search_path_spec='/lib /usr/lib /usr/ccs/lib'\n-      ;;\n-  esac\n-  ;;\n-\n-sysv4*MP*)\n-  if test -d /usr/nec ;then\n-    version_type=linux # correct to gnu/linux during the next big refactor\n-    library_names_spec='$libname${shared_ext}.$versuffix $libname${shared_ext}.$major $libname${shared_ext}'\n-    soname_spec='$libname${shared_ext}.$major'\n-    shlibpath_var=LD_LIBRARY_PATH\n-  fi\n-  ;;\n-\n-sysv5* | sco3.2v5* | sco5v6* | unixware* | OpenUNIX* | sysv4*uw2*)\n-  version_type=freebsd-elf\n-  need_lib_prefix=no\n-  need_version=no\n-  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext} $libname${shared_ext}'\n-  soname_spec='${libname}${release}${shared_ext}$major'\n-  shlibpath_var=LD_LIBRARY_PATH\n-  shlibpath_overrides_runpath=yes\n-  hardcode_into_libs=yes\n-  if test \""$with_gnu_ld\"" = yes; then\n-    sys_lib_search_path_spec='/usr/local/lib /usr/gnu/lib /usr/ccs/lib /usr/lib /lib'\n-  else\n-    sys_lib_search_path_spec='/usr/ccs/lib /usr/lib'\n-    case $host_os in\n-      sco3.2v5*)\n-        sys_lib_search_path_spec=\""$sys_lib_search_path_spec /lib\""\n-\t;;\n-    esac\n-  fi\n-  sys_lib_dlsearch_path_spec='/usr/lib'\n-  ;;\n-\n-tpf*)\n-  # TPF is a cross-target only.  Preferred cross-host = GNU/Linux.\n-  version_type=linux # correct to gnu/linux during the next big refactor\n-  need_lib_prefix=no\n-  need_version=no\n-  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'\n-  shlibpath_var=LD_LIBRARY_PATH\n-  shlibpath_overrides_runpath=no\n-  hardcode_into_libs=yes\n-  ;;\n-\n-uts4*)\n-  version_type=linux # correct to gnu/linux during the next big refactor\n-  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major $libname${shared_ext}'\n-  soname_spec='${libname}${release}${shared_ext}$major'\n-  shlibpath_var=LD_LIBRARY_PATH\n-  ;;\n-\n-*)\n-  dynamic_linker=no\n-  ;;\n-esac\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $dynamic_linker\"" >&5\n-$as_echo \""$dynamic_linker\"" >&6; }\n-test \""$dynamic_linker\"" = no && can_build_shared=no\n-\n-variables_saved_for_relink=\""PATH $shlibpath_var $runpath_var\""\n-if test \""$GCC\"" = yes; then\n-  variables_saved_for_relink=\""$variables_saved_for_relink GCC_EXEC_PREFIX COMPILER_PATH LIBRARY_PATH\""\n-fi\n-\n-if test \""${lt_cv_sys_lib_search_path_spec+set}\"" = set; then\n-  sys_lib_search_path_spec=\""$lt_cv_sys_lib_search_path_spec\""\n-fi\n-if test \""${lt_cv_sys_lib_dlsearch_path_spec+set}\"" = set; then\n-  sys_lib_dlsearch_path_spec=\""$lt_cv_sys_lib_dlsearch_path_spec\""\n-fi\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking how to hardcode library paths into programs\"" >&5\n-$as_echo_n \""checking how to hardcode library paths into programs... \"" >&6; }\n-hardcode_action=\n-if test -n \""$hardcode_libdir_flag_spec\"" ||\n-   test -n \""$runpath_var\"" ||\n-   test \""X$hardcode_automatic\"" = \""Xyes\"" ; then\n-\n-  # We can hardcode non-existent directories.\n-  if test \""$hardcode_direct\"" != no &&\n-     # If the only mechanism to avoid hardcoding is shlibpath_var, we\n-     # have to relink, otherwise we might link with an installed library\n-     # when we should be linking with a yet-to-be-installed one\n-     ## test \""$_LT_TAGVAR(hardcode_shlibpath_var, )\"" != no &&\n-     test \""$hardcode_minus_L\"" != no; then\n-    # Linking always hardcodes the temporary library directory.\n-    hardcode_action=relink\n-  else\n-    # We can link without hardcoding, and we can hardcode nonexisting dirs.\n-    hardcode_action=immediate\n-  fi\n-else\n-  # We cannot hardcode anything, or else we can only hardcode existing\n-  # directories.\n-  hardcode_action=unsupported\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $hardcode_action\"" >&5\n-$as_echo \""$hardcode_action\"" >&6; }\n-\n-if test \""$hardcode_action\"" = relink ||\n-   test \""$inherit_rpath\"" = yes; then\n-  # Fast installation is not supported\n-  enable_fast_install=no\n-elif test \""$shlibpath_overrides_runpath\"" = yes ||\n-     test \""$enable_shared\"" = no; then\n-  # Fast installation is not necessary\n-  enable_fast_install=needless\n-fi\n-\n-\n-\n-\n-\n-\n-  if test \""x$enable_dlopen\"" != xyes; then\n-  enable_dlopen=unknown\n-  enable_dlopen_self=unknown\n-  enable_dlopen_self_static=unknown\n-else\n-  lt_cv_dlopen=no\n-  lt_cv_dlopen_libs=\n-\n-  case $host_os in\n-  beos*)\n-    lt_cv_dlopen=\""load_add_on\""\n-    lt_cv_dlopen_libs=\n-    lt_cv_dlopen_self=yes\n-    ;;\n-\n-  mingw* | pw32* | cegcc*)\n-    lt_cv_dlopen=\""LoadLibrary\""\n-    lt_cv_dlopen_libs=\n-    ;;\n-\n-  cygwin*)\n-    lt_cv_dlopen=\""dlopen\""\n-    lt_cv_dlopen_libs=\n-    ;;\n-\n-  darwin*)\n-  # if libdl is installed we need to link against it\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: checking for dlopen in -ldl\"" >&5\n-$as_echo_n \""checking for dlopen in -ldl... \"" >&6; }\n-if ${ac_cv_lib_dl_dlopen+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  ac_check_lib_save_LIBS=$LIBS\n-LIBS=\""-ldl  $LIBS\""\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-/* Override any GCC internal prototype to avoid an error.\n-   Use char because int might match the return type of a GCC\n-   builtin and then its argument prototype would still apply.  */\n-#ifdef __cplusplus\n-extern \""C\""\n-#endif\n-char dlopen ();\n-int\n-main ()\n-{\n-return dlopen ();\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_link \""$LINENO\""; then :\n-  ac_cv_lib_dl_dlopen=yes\n-else\n-  ac_cv_lib_dl_dlopen=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n-LIBS=$ac_check_lib_save_LIBS\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dl_dlopen\"" >&5\n-$as_echo \""$ac_cv_lib_dl_dlopen\"" >&6; }\n-if test \""x$ac_cv_lib_dl_dlopen\"" = xyes; then :\n-  lt_cv_dlopen=\""dlopen\"" lt_cv_dlopen_libs=\""-ldl\""\n-else\n-\n-    lt_cv_dlopen=\""dyld\""\n-    lt_cv_dlopen_libs=\n-    lt_cv_dlopen_self=yes\n-\n-fi\n-\n-    ;;\n-\n-  *)\n-    ac_fn_c_check_func \""$LINENO\"" \""shl_load\"" \""ac_cv_func_shl_load\""\n-if test \""x$ac_cv_func_shl_load\"" = xyes; then :\n-  lt_cv_dlopen=\""shl_load\""\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking for shl_load in -ldld\"" >&5\n-$as_echo_n \""checking for shl_load in -ldld... \"" >&6; }\n-if ${ac_cv_lib_dld_shl_load+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  ac_check_lib_save_LIBS=$LIBS\n-LIBS=\""-ldld  $LIBS\""\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-/* Override any GCC internal prototype to avoid an error.\n-   Use char because int might match the return type of a GCC\n-   builtin and then its argument prototype would still apply.  */\n-#ifdef __cplusplus\n-extern \""C\""\n-#endif\n-char shl_load ();\n-int\n-main ()\n-{\n-return shl_load ();\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_link \""$LINENO\""; then :\n-  ac_cv_lib_dld_shl_load=yes\n-else\n-  ac_cv_lib_dld_shl_load=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n-LIBS=$ac_check_lib_save_LIBS\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dld_shl_load\"" >&5\n-$as_echo \""$ac_cv_lib_dld_shl_load\"" >&6; }\n-if test \""x$ac_cv_lib_dld_shl_load\"" = xyes; then :\n-  lt_cv_dlopen=\""shl_load\"" lt_cv_dlopen_libs=\""-ldld\""\n-else\n-  ac_fn_c_check_func \""$LINENO\"" \""dlopen\"" \""ac_cv_func_dlopen\""\n-if test \""x$ac_cv_func_dlopen\"" = xyes; then :\n-  lt_cv_dlopen=\""dlopen\""\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking for dlopen in -ldl\"" >&5\n-$as_echo_n \""checking for dlopen in -ldl... \"" >&6; }\n-if ${ac_cv_lib_dl_dlopen+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  ac_check_lib_save_LIBS=$LIBS\n-LIBS=\""-ldl  $LIBS\""\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-/* Override any GCC internal prototype to avoid an error.\n-   Use char because int might match the return type of a GCC\n-   builtin and then its argument prototype would still apply.  */\n-#ifdef __cplusplus\n-extern \""C\""\n-#endif\n-char dlopen ();\n-int\n-main ()\n-{\n-return dlopen ();\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_link \""$LINENO\""; then :\n-  ac_cv_lib_dl_dlopen=yes\n-else\n-  ac_cv_lib_dl_dlopen=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n-LIBS=$ac_check_lib_save_LIBS\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dl_dlopen\"" >&5\n-$as_echo \""$ac_cv_lib_dl_dlopen\"" >&6; }\n-if test \""x$ac_cv_lib_dl_dlopen\"" = xyes; then :\n-  lt_cv_dlopen=\""dlopen\"" lt_cv_dlopen_libs=\""-ldl\""\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking for dlopen in -lsvld\"" >&5\n-$as_echo_n \""checking for dlopen in -lsvld... \"" >&6; }\n-if ${ac_cv_lib_svld_dlopen+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  ac_check_lib_save_LIBS=$LIBS\n-LIBS=\""-lsvld  $LIBS\""\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-/* Override any GCC internal prototype to avoid an error.\n-   Use char because int might match the return type of a GCC\n-   builtin and then its argument prototype would still apply.  */\n-#ifdef __cplusplus\n-extern \""C\""\n-#endif\n-char dlopen ();\n-int\n-main ()\n-{\n-return dlopen ();\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_link \""$LINENO\""; then :\n-  ac_cv_lib_svld_dlopen=yes\n-else\n-  ac_cv_lib_svld_dlopen=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n-LIBS=$ac_check_lib_save_LIBS\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_svld_dlopen\"" >&5\n-$as_echo \""$ac_cv_lib_svld_dlopen\"" >&6; }\n-if test \""x$ac_cv_lib_svld_dlopen\"" = xyes; then :\n-  lt_cv_dlopen=\""dlopen\"" lt_cv_dlopen_libs=\""-lsvld\""\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking for dld_link in -ldld\"" >&5\n-$as_echo_n \""checking for dld_link in -ldld... \"" >&6; }\n-if ${ac_cv_lib_dld_dld_link+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  ac_check_lib_save_LIBS=$LIBS\n-LIBS=\""-ldld  $LIBS\""\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-/* Override any GCC internal prototype to avoid an error.\n-   Use char because int might match the return type of a GCC\n-   builtin and then its argument prototype would still apply.  */\n-#ifdef __cplusplus\n-extern \""C\""\n-#endif\n-char dld_link ();\n-int\n-main ()\n-{\n-return dld_link ();\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_link \""$LINENO\""; then :\n-  ac_cv_lib_dld_dld_link=yes\n-else\n-  ac_cv_lib_dld_dld_link=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n-LIBS=$ac_check_lib_save_LIBS\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dld_dld_link\"" >&5\n-$as_echo \""$ac_cv_lib_dld_dld_link\"" >&6; }\n-if test \""x$ac_cv_lib_dld_dld_link\"" = xyes; then :\n-  lt_cv_dlopen=\""dld_link\"" lt_cv_dlopen_libs=\""-ldld\""\n-fi\n-\n-\n-fi\n-\n-\n-fi\n-\n-\n-fi\n-\n-\n-fi\n-\n-\n-fi\n-\n-    ;;\n-  esac\n-\n-  if test \""x$lt_cv_dlopen\"" != xno; then\n-    enable_dlopen=yes\n-  else\n-    enable_dlopen=no\n-  fi\n-\n-  case $lt_cv_dlopen in\n-  dlopen)\n-    save_CPPFLAGS=\""$CPPFLAGS\""\n-    test \""x$ac_cv_header_dlfcn_h\"" = xyes && CPPFLAGS=\""$CPPFLAGS -DHAVE_DLFCN_H\""\n-\n-    save_LDFLAGS=\""$LDFLAGS\""\n-    wl=$lt_prog_compiler_wl eval LDFLAGS=\\\""\\$LDFLAGS $export_dynamic_flag_spec\\\""\n-\n-    save_LIBS=\""$LIBS\""\n-    LIBS=\""$lt_cv_dlopen_libs $LIBS\""\n-\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether a program can dlopen itself\"" >&5\n-$as_echo_n \""checking whether a program can dlopen itself... \"" >&6; }\n-if ${lt_cv_dlopen_self+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  \t  if test \""$cross_compiling\"" = yes; then :\n-  lt_cv_dlopen_self=cross\n-else\n-  lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n-  lt_status=$lt_dlunknown\n-  cat > conftest.$ac_ext <<_LT_EOF\n-#line $LINENO \""configure\""\n-#include \""confdefs.h\""\n-\n-#if HAVE_DLFCN_H\n-#include <dlfcn.h>\n-#endif\n-\n-#include <stdio.h>\n-\n-#ifdef RTLD_GLOBAL\n-#  define LT_DLGLOBAL\t\tRTLD_GLOBAL\n-#else\n-#  ifdef DL_GLOBAL\n-#    define LT_DLGLOBAL\t\tDL_GLOBAL\n-#  else\n-#    define LT_DLGLOBAL\t\t0\n-#  endif\n-#endif\n-\n-/* We may have to define LT_DLLAZY_OR_NOW in the command line if we\n-   find out it does not work in some platform. */\n-#ifndef LT_DLLAZY_OR_NOW\n-#  ifdef RTLD_LAZY\n-#    define LT_DLLAZY_OR_NOW\t\tRTLD_LAZY\n-#  else\n-#    ifdef DL_LAZY\n-#      define LT_DLLAZY_OR_NOW\t\tDL_LAZY\n-#    else\n-#      ifdef RTLD_NOW\n-#        define LT_DLLAZY_OR_NOW\tRTLD_NOW\n-#      else\n-#        ifdef DL_NOW\n-#          define LT_DLLAZY_OR_NOW\tDL_NOW\n-#        else\n-#          define LT_DLLAZY_OR_NOW\t0\n-#        endif\n-#      endif\n-#    endif\n-#  endif\n-#endif\n-\n-/* When -fvisbility=hidden is used, assume the code has been annotated\n-   correspondingly for the symbols needed.  */\n-#if defined(__GNUC__) && (((__GNUC__ == 3) && (__GNUC_MINOR__ >= 3)) || (__GNUC__ > 3))\n-int fnord () __attribute__((visibility(\""default\"")));\n-#endif\n-\n-int fnord () { return 42; }\n-int main ()\n-{\n-  void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);\n-  int status = $lt_dlunknown;\n-\n-  if (self)\n-    {\n-      if (dlsym (self,\""fnord\""))       status = $lt_dlno_uscore;\n-      else\n-        {\n-\t  if (dlsym( self,\""_fnord\""))  status = $lt_dlneed_uscore;\n-          else puts (dlerror ());\n-\t}\n-      /* dlclose (self); */\n-    }\n-  else\n-    puts (dlerror ());\n-\n-  return status;\n-}\n-_LT_EOF\n-  if { { eval echo \""\\\""\\$as_me\\\"":${as_lineno-$LINENO}: \\\""$ac_link\\\""\""; } >&5\n-  (eval $ac_link) 2>&5\n-  ac_status=$?\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; } && test -s conftest${ac_exeext} 2>/dev/null; then\n-    (./conftest; exit; ) >&5 2>/dev/null\n-    lt_status=$?\n-    case x$lt_status in\n-      x$lt_dlno_uscore) lt_cv_dlopen_self=yes ;;\n-      x$lt_dlneed_uscore) lt_cv_dlopen_self=yes ;;\n-      x$lt_dlunknown|x*) lt_cv_dlopen_self=no ;;\n-    esac\n-  else :\n-    # compilation failed\n-    lt_cv_dlopen_self=no\n-  fi\n-fi\n-rm -fr conftest*\n-\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_dlopen_self\"" >&5\n-$as_echo \""$lt_cv_dlopen_self\"" >&6; }\n-\n-    if test \""x$lt_cv_dlopen_self\"" = xyes; then\n-      wl=$lt_prog_compiler_wl eval LDFLAGS=\\\""\\$LDFLAGS $lt_prog_compiler_static\\\""\n-      { $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether a statically linked program can dlopen itself\"" >&5\n-$as_echo_n \""checking whether a statically linked program can dlopen itself... \"" >&6; }\n-if ${lt_cv_dlopen_self_static+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  \t  if test \""$cross_compiling\"" = yes; then :\n-  lt_cv_dlopen_self_static=cross\n-else\n-  lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2\n-  lt_status=$lt_dlunknown\n-  cat > conftest.$ac_ext <<_LT_EOF\n-#line $LINENO \""configure\""\n-#include \""confdefs.h\""\n-\n-#if HAVE_DLFCN_H\n-#include <dlfcn.h>\n-#endif\n-\n-#include <stdio.h>\n-\n-#ifdef RTLD_GLOBAL\n-#  define LT_DLGLOBAL\t\tRTLD_GLOBAL\n-#else\n-#  ifdef DL_GLOBAL\n-#    define LT_DLGLOBAL\t\tDL_GLOBAL\n-#  else\n-#    define LT_DLGLOBAL\t\t0\n-#  endif\n-#endif\n-\n-/* We may have to define LT_DLLAZY_OR_NOW in the command line if we\n-   find out it does not work in some platform. */\n-#ifndef LT_DLLAZY_OR_NOW\n-#  ifdef RTLD_LAZY\n-#    define LT_DLLAZY_OR_NOW\t\tRTLD_LAZY\n-#  else\n-#    ifdef DL_LAZY\n-#      define LT_DLLAZY_OR_NOW\t\tDL_LAZY\n-#    else\n-#      ifdef RTLD_NOW\n-#        define LT_DLLAZY_OR_NOW\tRTLD_NOW\n-#      else\n-#        ifdef DL_NOW\n-#          define LT_DLLAZY_OR_NOW\tDL_NOW\n-#        else\n-#          define LT_DLLAZY_OR_NOW\t0\n-#        endif\n-#      endif\n-#    endif\n-#  endif\n-#endif\n-\n-/* When -fvisbility=hidden is used, assume the code has been annotated\n-   correspondingly for the symbols needed.  */\n-#if defined(__GNUC__) && (((__GNUC__ == 3) && (__GNUC_MINOR__ >= 3)) || (__GNUC__ > 3))\n-int fnord () __attribute__((visibility(\""default\"")));\n-#endif\n-\n-int fnord () { return 42; }\n-int main ()\n-{\n-  void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);\n-  int status = $lt_dlunknown;\n-\n-  if (self)\n-    {\n-      if (dlsym (self,\""fnord\""))       status = $lt_dlno_uscore;\n-      else\n-        {\n-\t  if (dlsym( self,\""_fnord\""))  status = $lt_dlneed_uscore;\n-          else puts (dlerror ());\n-\t}\n-      /* dlclose (self); */\n-    }\n-  else\n-    puts (dlerror ());\n-\n-  return status;\n-}\n-_LT_EOF\n-  if { { eval echo \""\\\""\\$as_me\\\"":${as_lineno-$LINENO}: \\\""$ac_link\\\""\""; } >&5\n-  (eval $ac_link) 2>&5\n-  ac_status=$?\n-  $as_echo \""$as_me:${as_lineno-$LINENO}: \\$? = $ac_status\"" >&5\n-  test $ac_status = 0; } && test -s conftest${ac_exeext} 2>/dev/null; then\n-    (./conftest; exit; ) >&5 2>/dev/null\n-    lt_status=$?\n-    case x$lt_status in\n-      x$lt_dlno_uscore) lt_cv_dlopen_self_static=yes ;;\n-      x$lt_dlneed_uscore) lt_cv_dlopen_self_static=yes ;;\n-      x$lt_dlunknown|x*) lt_cv_dlopen_self_static=no ;;\n-    esac\n-  else :\n-    # compilation failed\n-    lt_cv_dlopen_self_static=no\n-  fi\n-fi\n-rm -fr conftest*\n-\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $lt_cv_dlopen_self_static\"" >&5\n-$as_echo \""$lt_cv_dlopen_self_static\"" >&6; }\n-    fi\n-\n-    CPPFLAGS=\""$save_CPPFLAGS\""\n-    LDFLAGS=\""$save_LDFLAGS\""\n-    LIBS=\""$save_LIBS\""\n-    ;;\n-  esac\n-\n-  case $lt_cv_dlopen_self in\n-  yes|no) enable_dlopen_self=$lt_cv_dlopen_self ;;\n-  *) enable_dlopen_self=unknown ;;\n-  esac\n-\n-  case $lt_cv_dlopen_self_static in\n-  yes|no) enable_dlopen_self_static=$lt_cv_dlopen_self_static ;;\n-  *) enable_dlopen_self_static=unknown ;;\n-  esac\n-fi\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-striplib=\n-old_striplib=\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether stripping libraries is possible\"" >&5\n-$as_echo_n \""checking whether stripping libraries is possible... \"" >&6; }\n-if test -n \""$STRIP\"" && $STRIP -V 2>&1 | $GREP \""GNU strip\"" >/dev/null; then\n-  test -z \""$old_striplib\"" && old_striplib=\""$STRIP --strip-debug\""\n-  test -z \""$striplib\"" && striplib=\""$STRIP --strip-unneeded\""\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: yes\"" >&5\n-$as_echo \""yes\"" >&6; }\n-else\n-# FIXME - insert some real tests, host_os isn't really good enough\n-  case $host_os in\n-  darwin*)\n-    if test -n \""$STRIP\"" ; then\n-      striplib=\""$STRIP -x\""\n-      old_striplib=\""$STRIP -S\""\n-      { $as_echo \""$as_me:${as_lineno-$LINENO}: result: yes\"" >&5\n-$as_echo \""yes\"" >&6; }\n-    else\n-      { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-    fi\n-    ;;\n-  *)\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-    ;;\n-  esac\n-fi\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-  # Report which library types will actually be built\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking if libtool supports shared libraries\"" >&5\n-$as_echo_n \""checking if libtool supports shared libraries... \"" >&6; }\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $can_build_shared\"" >&5\n-$as_echo \""$can_build_shared\"" >&6; }\n-\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether to build shared libraries\"" >&5\n-$as_echo_n \""checking whether to build shared libraries... \"" >&6; }\n-  test \""$can_build_shared\"" = \""no\"" && enable_shared=no\n-\n-  # On AIX, shared libraries and static libraries use the same namespace, and\n-  # are all built from PIC.\n-  case $host_os in\n-  aix3*)\n-    test \""$enable_shared\"" = yes && enable_static=no\n-    if test -n \""$RANLIB\""; then\n-      archive_cmds=\""$archive_cmds~\\$RANLIB \\$lib\""\n-      postinstall_cmds='$RANLIB $lib'\n-    fi\n-    ;;\n-\n-  aix[4-9]*)\n-    if test \""$host_cpu\"" != ia64 && test \""$aix_use_runtimelinking\"" = no ; then\n-      test \""$enable_shared\"" = yes && enable_static=no\n-    fi\n-    ;;\n-  esac\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $enable_shared\"" >&5\n-$as_echo \""$enable_shared\"" >&6; }\n-\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether to build static libraries\"" >&5\n-$as_echo_n \""checking whether to build static libraries... \"" >&6; }\n-  # Make sure either enable_shared or enable_static is yes.\n-  test \""$enable_shared\"" = yes || enable_static=yes\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $enable_static\"" >&5\n-$as_echo \""$enable_static\"" >&6; }\n-\n-\n-\n-\n-fi\n-ac_ext=c\n-ac_cpp='$CPP $CPPFLAGS'\n-ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'\n-ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'\n-ac_compiler_gnu=$ac_cv_c_compiler_gnu\n-\n-CC=\""$lt_save_CC\""\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-\n-        ac_config_commands=\""$ac_config_commands libtool\""\n-\n-\n-\n-\n-# Only expand once:\n-\n-\n-\n-\n-# Some awks crash when confronted with pnglibconf.dfa, do a test run now\n-# to make sure this doesn't happen\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking that AWK works\"" >&5\n-$as_echo_n \""checking that AWK works... \"" >&6; }\n-if ${AWK} -f ${srcdir}/scripts/options.awk out=\""/dev/null\"" version=search\\\n-   ${srcdir}/pngconf.h ${srcdir}/scripts/pnglibconf.dfa\\\n-   ${srcdir}/pngusr.dfa 1>&2\n-then\n-   { $as_echo \""$as_me:${as_lineno-$LINENO}: result: ok\"" >&5\n-$as_echo \""ok\"" >&6; }\n-else\n-   { { $as_echo \""$as_me:${as_lineno-$LINENO}: error: in \\`$ac_pwd':\"" >&5\n-$as_echo \""$as_me: error: in \\`$ac_pwd':\"" >&2;}\n-as_fn_error 1 \""failed\n-See \\`config.log' for more details\"" \""$LINENO\"" 5; }\n-fi\n-\n-# This is a remnant of the old cc -E validation, where it may have been\n-# necessary to use a different preprocessor for .dfn files\n-DFNCPP=\""$CPP\""\n-\n-\n-# -Werror cannot be passed to GCC in CFLAGS because configure will fail (it\n-# checks the compiler with a program that generates a warning), add the\n-# following option to deal with this\n-\n-# Check whether --enable-werror was given.\n-if test \""${enable_werror+set}\"" = set; then :\n-  enableval=$enable_werror; test \""$enable_werror\"" = \""yes\"" && enable_werror=\""-Werror\""\n-    if test \""$enable_werror\"" != \""no\""; then\n-      sav_CFLAGS=\""$CFLAGS\""\n-      CFLAGS=\""$enable_werror $CFLAGS\""\n-      { $as_echo \""$as_me:${as_lineno-$LINENO}: checking if the compiler allows $enable_werror\"" >&5\n-$as_echo_n \""checking if the compiler allows $enable_werror... \"" >&6; }\n-      cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-            int main(int argc, char **argv){\n-            return argv[argc-1][0];\n-            }\n-_ACEOF\n-if ac_fn_c_try_compile \""$LINENO\""; then :\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: yes\"" >&5\n-$as_echo \""yes\"" >&6; }\n-         PNG_COPTS=\""$PNG_COPTS $enable_werror\""\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-      CFLAGS=\""$sav_CFLAGS\""\n-    fi\n-fi\n-\n-\n-# Checks for header files.\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for ANSI C header files\"" >&5\n-$as_echo_n \""checking for ANSI C header files... \"" >&6; }\n-if ${ac_cv_header_stdc+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <stdlib.h>\n-#include <stdarg.h>\n-#include <string.h>\n-#include <float.h>\n-\n-int\n-main ()\n-{\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \""$LINENO\""; then :\n-  ac_cv_header_stdc=yes\n-else\n-  ac_cv_header_stdc=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-\n-if test $ac_cv_header_stdc = yes; then\n-  # SunOS 4.x string.h does not declare mem*, contrary to ANSI.\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <string.h>\n-\n-_ACEOF\n-if (eval \""$ac_cpp conftest.$ac_ext\"") 2>&5 |\n-  $EGREP \""memchr\"" >/dev/null 2>&1; then :\n-\n-else\n-  ac_cv_header_stdc=no\n-fi\n-rm -f conftest*\n-\n-fi\n-\n-if test $ac_cv_header_stdc = yes; then\n-  # ISC 2.0.2 stdlib.h does not declare free, contrary to ANSI.\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <stdlib.h>\n-\n-_ACEOF\n-if (eval \""$ac_cpp conftest.$ac_ext\"") 2>&5 |\n-  $EGREP \""free\"" >/dev/null 2>&1; then :\n-\n-else\n-  ac_cv_header_stdc=no\n-fi\n-rm -f conftest*\n-\n-fi\n-\n-if test $ac_cv_header_stdc = yes; then\n-  # /bin/cc in Irix-4.0.5 gets non-ANSI ctype macros unless using -ansi.\n-  if test \""$cross_compiling\"" = yes; then :\n-  :\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <ctype.h>\n-#include <stdlib.h>\n-#if ((' ' & 0x0FF) == 0x020)\n-# define ISLOWER(c) ('a' <= (c) && (c) <= 'z')\n-# define TOUPPER(c) (ISLOWER(c) ? 'A' + ((c) - 'a') : (c))\n-#else\n-# define ISLOWER(c) \\\n-\t\t   (('a' <= (c) && (c) <= 'i') \\\n-\t\t     || ('j' <= (c) && (c) <= 'r') \\\n-\t\t     || ('s' <= (c) && (c) <= 'z'))\n-# define TOUPPER(c) (ISLOWER(c) ? ((c) | 0x40) : (c))\n-#endif\n-\n-#define XOR(e, f) (((e) && !(f)) || (!(e) && (f)))\n-int\n-main ()\n-{\n-  int i;\n-  for (i = 0; i < 256; i++)\n-    if (XOR (islower (i), ISLOWER (i))\n-\t|| toupper (i) != TOUPPER (i))\n-      return 2;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_run \""$LINENO\""; then :\n-\n-else\n-  ac_cv_header_stdc=no\n-fi\n-rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n-  conftest.$ac_objext conftest.beam conftest.$ac_ext\n-fi\n-\n-fi\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_header_stdc\"" >&5\n-$as_echo \""$ac_cv_header_stdc\"" >&6; }\n-if test $ac_cv_header_stdc = yes; then\n-\n-$as_echo \""#define STDC_HEADERS 1\"" >>confdefs.h\n-\n-fi\n-\n-\n-# Checks for typedefs, structures, and compiler characteristics.\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for an ANSI C-conforming const\"" >&5\n-$as_echo_n \""checking for an ANSI C-conforming const... \"" >&6; }\n-if ${ac_cv_c_const+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-int\n-main ()\n-{\n-\n-#ifndef __cplusplus\n-  /* Ultrix mips cc rejects this sort of thing.  */\n-  typedef int charset[2];\n-  const charset cs = { 0, 0 };\n-  /* SunOS 4.1.1 cc rejects this.  */\n-  char const *const *pcpcc;\n-  char **ppc;\n-  /* NEC SVR4.0.2 mips cc rejects this.  */\n-  struct point {int x, y;};\n-  static struct point const zero = {0,0};\n-  /* AIX XL C 1.02.0.0 rejects this.\n-     It does not let you subtract one const X* pointer from another in\n-     an arm of an if-expression whose if-part is not a constant\n-     expression */\n-  const char *g = \""string\"";\n-  pcpcc = &g + (g ? g-g : 0);\n-  /* HPUX 7.0 cc rejects these. */\n-  ++pcpcc;\n-  ppc = (char**) pcpcc;\n-  pcpcc = (char const *const *) ppc;\n-  { /* SCO 3.2v4 cc rejects this sort of thing.  */\n-    char tx;\n-    char *t = &tx;\n-    char const *s = 0 ? (char *) 0 : (char const *) 0;\n-\n-    *t++ = 0;\n-    if (s) return 0;\n-  }\n-  { /* Someone thinks the Sun supposedly-ANSI compiler will reject this.  */\n-    int x[] = {25, 17};\n-    const int *foo = &x[0];\n-    ++foo;\n-  }\n-  { /* Sun SC1.0 ANSI compiler rejects this -- but not the above. */\n-    typedef const int *iptr;\n-    iptr p = 0;\n-    ++p;\n-  }\n-  { /* AIX XL C 1.02.0.0 rejects this sort of thing, saying\n-       \""k.c\"", line 2.27: 1506-025 (S) Operand must be a modifiable lvalue. */\n-    struct s { int j; const int *ap[3]; } bx;\n-    struct s *b = &bx; b->j = 5;\n-  }\n-  { /* ULTRIX-32 V3.1 (Rev 9) vcc rejects this */\n-    const int foo = 10;\n-    if (!foo) return 0;\n-  }\n-  return !cs[0] && !zero.x;\n-#endif\n-\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \""$LINENO\""; then :\n-  ac_cv_c_const=yes\n-else\n-  ac_cv_c_const=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_const\"" >&5\n-$as_echo \""$ac_cv_c_const\"" >&6; }\n-if test $ac_cv_c_const = no; then\n-\n-$as_echo \""#define const /**/\"" >>confdefs.h\n-\n-fi\n-\n-ac_fn_c_check_type \""$LINENO\"" \""size_t\"" \""ac_cv_type_size_t\"" \""$ac_includes_default\""\n-if test \""x$ac_cv_type_size_t\"" = xyes; then :\n-\n-else\n-\n-cat >>confdefs.h <<_ACEOF\n-#define size_t unsigned int\n-_ACEOF\n-\n-fi\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking whether struct tm is in sys/time.h or time.h\"" >&5\n-$as_echo_n \""checking whether struct tm is in sys/time.h or time.h... \"" >&6; }\n-if ${ac_cv_struct_tm+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-#include <sys/types.h>\n-#include <time.h>\n-\n-int\n-main ()\n-{\n-struct tm tm;\n-\t\t\t\t     int *p = &tm.tm_sec;\n-\t\t\t\t     return !p;\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \""$LINENO\""; then :\n-  ac_cv_struct_tm=time.h\n-else\n-  ac_cv_struct_tm=sys/time.h\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_struct_tm\"" >&5\n-$as_echo \""$ac_cv_struct_tm\"" >&6; }\n-if test $ac_cv_struct_tm = sys/time.h; then\n-\n-$as_echo \""#define TM_IN_SYS_TIME 1\"" >>confdefs.h\n-\n-fi\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for C/C++ restrict keyword\"" >&5\n-$as_echo_n \""checking for C/C++ restrict keyword... \"" >&6; }\n-if ${ac_cv_c_restrict+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  ac_cv_c_restrict=no\n-   # The order here caters to the fact that C++ does not require restrict.\n-   for ac_kw in __restrict __restrict__ _Restrict restrict; do\n-     cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-typedef int * int_ptr;\n-\tint foo (int_ptr $ac_kw ip) {\n-\treturn ip[0];\n-       }\n-int\n-main ()\n-{\n-int s[1];\n-\tint * $ac_kw t = s;\n-\tt[0] = 0;\n-\treturn foo(t)\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_compile \""$LINENO\""; then :\n-  ac_cv_c_restrict=$ac_kw\n-fi\n-rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext\n-     test \""$ac_cv_c_restrict\"" != no && break\n-   done\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_restrict\"" >&5\n-$as_echo \""$ac_cv_c_restrict\"" >&6; }\n-\n- case $ac_cv_c_restrict in\n-   restrict) ;;\n-   no) $as_echo \""#define restrict /**/\"" >>confdefs.h\n- ;;\n-   *)  cat >>confdefs.h <<_ACEOF\n-#define restrict $ac_cv_c_restrict\n-_ACEOF\n- ;;\n- esac\n-\n-\n-# Checks for library functions.\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for working strtod\"" >&5\n-$as_echo_n \""checking for working strtod... \"" >&6; }\n-if ${ac_cv_func_strtod+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  if test \""$cross_compiling\"" = yes; then :\n-  ac_cv_func_strtod=no\n-else\n-  cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-$ac_includes_default\n-#ifndef strtod\n-double strtod ();\n-#endif\n-int\n-main()\n-{\n-  {\n-    /* Some versions of Linux strtod mis-parse strings with leading '+'.  */\n-    char *string = \"" +69\"";\n-    char *term;\n-    double value;\n-    value = strtod (string, &term);\n-    if (value != 69 || term != (string + 4))\n-      return 1;\n-  }\n-\n-  {\n-    /* Under Solaris 2.4, strtod returns the wrong value for the\n-       terminating character under some conditions.  */\n-    char *string = \""NaN\"";\n-    char *term;\n-    strtod (string, &term);\n-    if (term != string && *(term - 1) == 0)\n-      return 1;\n-  }\n-  return 0;\n-}\n-\n-_ACEOF\n-if ac_fn_c_try_run \""$LINENO\""; then :\n-  ac_cv_func_strtod=yes\n-else\n-  ac_cv_func_strtod=no\n-fi\n-rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \\\n-  conftest.$ac_objext conftest.beam conftest.$ac_ext\n-fi\n-\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_func_strtod\"" >&5\n-$as_echo \""$ac_cv_func_strtod\"" >&6; }\n-if test $ac_cv_func_strtod = no; then\n-  case \"" $LIBOBJS \"" in\n-  *\"" strtod.$ac_objext \""* ) ;;\n-  *) LIBOBJS=\""$LIBOBJS strtod.$ac_objext\""\n- ;;\n-esac\n-\n-ac_fn_c_check_func \""$LINENO\"" \""pow\"" \""ac_cv_func_pow\""\n-if test \""x$ac_cv_func_pow\"" = xyes; then :\n-\n-fi\n-\n-if test $ac_cv_func_pow = no; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking for pow in -lm\"" >&5\n-$as_echo_n \""checking for pow in -lm... \"" >&6; }\n-if ${ac_cv_lib_m_pow+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  ac_check_lib_save_LIBS=$LIBS\n-LIBS=\""-lm  $LIBS\""\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-/* Override any GCC internal prototype to avoid an error.\n-   Use char because int might match the return type of a GCC\n-   builtin and then its argument prototype would still apply.  */\n-#ifdef __cplusplus\n-extern \""C\""\n-#endif\n-char pow ();\n-int\n-main ()\n-{\n-return pow ();\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_link \""$LINENO\""; then :\n-  ac_cv_lib_m_pow=yes\n-else\n-  ac_cv_lib_m_pow=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n-LIBS=$ac_check_lib_save_LIBS\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_m_pow\"" >&5\n-$as_echo \""$ac_cv_lib_m_pow\"" >&6; }\n-if test \""x$ac_cv_lib_m_pow\"" = xyes; then :\n-  POW_LIB=-lm\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: cannot find library containing definition of pow\"" >&5\n-$as_echo \""$as_me: WARNING: cannot find library containing definition of pow\"" >&2;}\n-fi\n-\n-fi\n-\n-fi\n-\n-for ac_func in memset\n-do :\n-  ac_fn_c_check_func \""$LINENO\"" \""memset\"" \""ac_cv_func_memset\""\n-if test \""x$ac_cv_func_memset\"" = xyes; then :\n-  cat >>confdefs.h <<_ACEOF\n-#define HAVE_MEMSET 1\n-_ACEOF\n-\n-else\n-  as_fn_error $? \""memset not found in libc\"" \""$LINENO\"" 5\n-fi\n-done\n-\n-for ac_func in pow\n-do :\n-  ac_fn_c_check_func \""$LINENO\"" \""pow\"" \""ac_cv_func_pow\""\n-if test \""x$ac_cv_func_pow\"" = xyes; then :\n-  cat >>confdefs.h <<_ACEOF\n-#define HAVE_POW 1\n-_ACEOF\n-\n-else\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: checking for pow in -lm\"" >&5\n-$as_echo_n \""checking for pow in -lm... \"" >&6; }\n-if ${ac_cv_lib_m_pow+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  ac_check_lib_save_LIBS=$LIBS\n-LIBS=\""-lm  $LIBS\""\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-/* Override any GCC internal prototype to avoid an error.\n-   Use char because int might match the return type of a GCC\n-   builtin and then its argument prototype would still apply.  */\n-#ifdef __cplusplus\n-extern \""C\""\n-#endif\n-char pow ();\n-int\n-main ()\n-{\n-return pow ();\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_link \""$LINENO\""; then :\n-  ac_cv_lib_m_pow=yes\n-else\n-  ac_cv_lib_m_pow=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n-LIBS=$ac_check_lib_save_LIBS\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_m_pow\"" >&5\n-$as_echo \""$ac_cv_lib_m_pow\"" >&6; }\n-if test \""x$ac_cv_lib_m_pow\"" = xyes; then :\n-  cat >>confdefs.h <<_ACEOF\n-#define HAVE_LIBM 1\n-_ACEOF\n-\n-  LIBS=\""-lm $LIBS\""\n-\n-else\n-  as_fn_error $? \""cannot find pow\"" \""$LINENO\"" 5\n-fi\n-\n-fi\n-done\n-\n-\n-# Check whether --with-zlib-prefix was given.\n-if test \""${with_zlib_prefix+set}\"" = set; then :\n-  withval=$with_zlib_prefix; ZPREFIX=${withval}\n-else\n-  ZPREFIX='z_'\n-fi\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for zlibVersion in -lz\"" >&5\n-$as_echo_n \""checking for zlibVersion in -lz... \"" >&6; }\n-if ${ac_cv_lib_z_zlibVersion+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  ac_check_lib_save_LIBS=$LIBS\n-LIBS=\""-lz  $LIBS\""\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-/* Override any GCC internal prototype to avoid an error.\n-   Use char because int might match the return type of a GCC\n-   builtin and then its argument prototype would still apply.  */\n-#ifdef __cplusplus\n-extern \""C\""\n-#endif\n-char zlibVersion ();\n-int\n-main ()\n-{\n-return zlibVersion ();\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_link \""$LINENO\""; then :\n-  ac_cv_lib_z_zlibVersion=yes\n-else\n-  ac_cv_lib_z_zlibVersion=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n-LIBS=$ac_check_lib_save_LIBS\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_z_zlibVersion\"" >&5\n-$as_echo \""$ac_cv_lib_z_zlibVersion\"" >&6; }\n-if test \""x$ac_cv_lib_z_zlibVersion\"" = xyes; then :\n-  cat >>confdefs.h <<_ACEOF\n-#define HAVE_LIBZ 1\n-_ACEOF\n-\n-  LIBS=\""-lz $LIBS\""\n-\n-else\n-  as_ac_Lib=`$as_echo \""ac_cv_lib_z_${ZPREFIX}zlibVersion\"" | $as_tr_sh`\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for ${ZPREFIX}zlibVersion in -lz\"" >&5\n-$as_echo_n \""checking for ${ZPREFIX}zlibVersion in -lz... \"" >&6; }\n-if eval \\${$as_ac_Lib+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  ac_check_lib_save_LIBS=$LIBS\n-LIBS=\""-lz  $LIBS\""\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-/* Override any GCC internal prototype to avoid an error.\n-   Use char because int might match the return type of a GCC\n-   builtin and then its argument prototype would still apply.  */\n-#ifdef __cplusplus\n-extern \""C\""\n-#endif\n-char ${ZPREFIX}zlibVersion ();\n-int\n-main ()\n-{\n-return ${ZPREFIX}zlibVersion ();\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_link \""$LINENO\""; then :\n-  eval \""$as_ac_Lib=yes\""\n-else\n-  eval \""$as_ac_Lib=no\""\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n-LIBS=$ac_check_lib_save_LIBS\n-fi\n-eval ac_res=\\$$as_ac_Lib\n-\t       { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_res\"" >&5\n-$as_echo \""$ac_res\"" >&6; }\n-if eval test \\\""x\\$\""$as_ac_Lib\""\\\"" = x\""yes\""; then :\n-  cat >>confdefs.h <<_ACEOF\n-#define HAVE_LIBZ 1\n-_ACEOF\n-\n-  LIBS=\""-lz $LIBS\""\n-\n-else\n-  as_fn_error $? \""zlib not installed\"" \""$LINENO\"" 5\n-fi\n-\n-fi\n-\n-\n-# The following is for pngvalid, to ensure it catches FP errors even on\n-# platforms that don't enable FP exceptions, the function appears in the math\n-# library (typically), it's not an error if it is not found.\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking for feenableexcept in -lm\"" >&5\n-$as_echo_n \""checking for feenableexcept in -lm... \"" >&6; }\n-if ${ac_cv_lib_m_feenableexcept+:} false; then :\n-  $as_echo_n \""(cached) \"" >&6\n-else\n-  ac_check_lib_save_LIBS=$LIBS\n-LIBS=\""-lm  $LIBS\""\n-cat confdefs.h - <<_ACEOF >conftest.$ac_ext\n-/* end confdefs.h.  */\n-\n-/* Override any GCC internal prototype to avoid an error.\n-   Use char because int might match the return type of a GCC\n-   builtin and then its argument prototype would still apply.  */\n-#ifdef __cplusplus\n-extern \""C\""\n-#endif\n-char feenableexcept ();\n-int\n-main ()\n-{\n-return feenableexcept ();\n-  ;\n-  return 0;\n-}\n-_ACEOF\n-if ac_fn_c_try_link \""$LINENO\""; then :\n-  ac_cv_lib_m_feenableexcept=yes\n-else\n-  ac_cv_lib_m_feenableexcept=no\n-fi\n-rm -f core conftest.err conftest.$ac_objext \\\n-    conftest$ac_exeext conftest.$ac_ext\n-LIBS=$ac_check_lib_save_LIBS\n-fi\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_m_feenableexcept\"" >&5\n-$as_echo \""$ac_cv_lib_m_feenableexcept\"" >&6; }\n-if test \""x$ac_cv_lib_m_feenableexcept\"" = xyes; then :\n-  cat >>confdefs.h <<_ACEOF\n-#define HAVE_LIBM 1\n-_ACEOF\n-\n-  LIBS=\""-lm $LIBS\""\n-\n-fi\n-\n-for ac_func in feenableexcept\n-do :\n-  ac_fn_c_check_func \""$LINENO\"" \""feenableexcept\"" \""ac_cv_func_feenableexcept\""\n-if test \""x$ac_cv_func_feenableexcept\"" = xyes; then :\n-  cat >>confdefs.h <<_ACEOF\n-#define HAVE_FEENABLEEXCEPT 1\n-_ACEOF\n-\n-fi\n-done\n-\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking if using Solaris linker\"" >&5\n-$as_echo_n \""checking if using Solaris linker... \"" >&6; }\n-SLD=`$LD --version 2>&1 | grep Solaris`\n-if test \""$SLD\""; then\n-    have_solaris_ld=yes\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: result: yes\"" >&5\n-$as_echo \""yes\"" >&6; }\n-else\n-    have_solaris_ld=no\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-fi\n- if test \""$have_solaris_ld\"" = \""yes\""; then\n-  HAVE_SOLARIS_LD_TRUE=\n-  HAVE_SOLARIS_LD_FALSE='#'\n-else\n-  HAVE_SOLARIS_LD_TRUE='#'\n-  HAVE_SOLARIS_LD_FALSE=\n-fi\n-\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking if libraries can be versioned\"" >&5\n-$as_echo_n \""checking if libraries can be versioned... \"" >&6; }\n-# Special case for PE/COFF platforms: ld reports\n-# support for version-script, but doesn't actually\n-# DO anything with it.\n-case $host in\n-*cygwin* | *mingw32* | *interix* )\n-    have_ld_version_script=no\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-;;\n-* )\n-\n-if test \""$have_solaris_ld\"" = \""yes\""; then\n-    GLD=`$LD --help < /dev/null 2>&1 | grep 'M mapfile'`\n-else\n-    GLD=`$LD --help < /dev/null 2>/dev/null | grep version-script`\n-fi\n-\n-if test \""$GLD\""; then\n-    have_ld_version_script=yes\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: result: yes\"" >&5\n-$as_echo \""yes\"" >&6; }\n-else\n-    have_ld_version_script=no\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: result: no\"" >&5\n-$as_echo \""no\"" >&6; }\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: *** You have not enabled versioned symbols.\"" >&5\n-$as_echo \""$as_me: WARNING: *** You have not enabled versioned symbols.\"" >&2;}\n-fi\n-;;\n-esac\n-\n- if test \""$have_ld_version_script\"" = \""yes\""; then\n-  HAVE_LD_VERSION_SCRIPT_TRUE=\n-  HAVE_LD_VERSION_SCRIPT_FALSE='#'\n-else\n-  HAVE_LD_VERSION_SCRIPT_TRUE='#'\n-  HAVE_LD_VERSION_SCRIPT_FALSE=\n-fi\n-\n-\n-if test \""$have_ld_version_script\"" = \""yes\""; then\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: checking for symbol prefix\"" >&5\n-$as_echo_n \""checking for symbol prefix... \"" >&6; }\n-    SYMBOL_PREFIX=`echo \""PREFIX=__USER_LABEL_PREFIX__\"" \\\n-                  | ${CPP-${CC-gcc} -E} - 2>&1 \\\n-                  | ${EGREP-grep} \""^PREFIX=\"" \\\n-                  | ${SED-sed} -e \""s:^PREFIX=::\"" -e \""s:__USER_LABEL_PREFIX__::\""`\n-\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: result: $SYMBOL_PREFIX\"" >&5\n-$as_echo \""$SYMBOL_PREFIX\"" >&6; }\n-fi\n-\n-# Substitutions for .in files\n-\n-\n-\n-\n-\n-# Additional arguments (and substitutions)\n-# Allow the pkg-config directory to be set\n-\n-# Check whether --with-pkgconfigdir was given.\n-if test \""${with_pkgconfigdir+set}\"" = set; then :\n-  withval=$with_pkgconfigdir; pkgconfigdir=${withval}\n-else\n-  pkgconfigdir='${libdir}/pkgconfig'\n-fi\n-\n-\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: pkgconfig directory is ${pkgconfigdir}\"" >&5\n-$as_echo \""$as_me: pkgconfig directory is ${pkgconfigdir}\"" >&6;}\n-\n-# Make the *-config binary config scripts optional\n-\n-# Check whether --with-binconfigs was given.\n-if test \""${with_binconfigs+set}\"" = set; then :\n-  withval=$with_binconfigs; if test \""${withval}\"" = no; then\n-      binconfigs=\n-      { $as_echo \""$as_me:${as_lineno-$LINENO}: libpng-config scripts will not be built\"" >&5\n-$as_echo \""$as_me: libpng-config scripts will not be built\"" >&6;}\n-    else\n-      binconfigs='${binconfigs}'\n-    fi\n-else\n-  binconfigs='${binconfigs}'\n-fi\n-\n-\n-\n-# Support for prefixes to the API function names; this will generate defines\n-# at the start of the build to rename exported library functions\n-\n-# Check whether --with-libpng-prefix was given.\n-if test \""${with_libpng_prefix+set}\"" = set; then :\n-  withval=$with_libpng_prefix; if test \""${withval:-no}\"" != \""no\""; then\n-      PNG_PREFIX=${withval}\n-\n-    fi\n-fi\n-\n- if test \""${with_libpng_prefix:-no}\"" != \""no\""; then\n-  DO_PNG_PREFIX_TRUE=\n-  DO_PNG_PREFIX_FALSE='#'\n-else\n-  DO_PNG_PREFIX_TRUE='#'\n-  DO_PNG_PREFIX_FALSE=\n-fi\n-\n-\n-# Control over what links are made for installed files.  Versioned files are\n-# always installed, when the following options are turned on corresponding\n-# unversioned links are also created (normally as symbolic links):\n-# Check whether --enable-unversioned-links was given.\n-if test \""${enable_unversioned_links+set}\"" = set; then :\n-  enableval=$enable_unversioned_links;\n-fi\n-\n-\n-# The AM_CONDITIONAL test is written so that the default is enabled;\n-# --disable-unversioned-links must be given to turn the option off.\n- if test \""$enable_unversioned_links\"" != \""no\""; then\n-  DO_INSTALL_LINKS_TRUE=\n-  DO_INSTALL_LINKS_FALSE='#'\n-else\n-  DO_INSTALL_LINKS_TRUE='#'\n-  DO_INSTALL_LINKS_FALSE=\n-fi\n-\n-\n-# Check whether --enable-unversioned-libpng-pc was given.\n-if test \""${enable_unversioned_libpng_pc+set}\"" = set; then :\n-  enableval=$enable_unversioned_libpng_pc;\n-fi\n-\n- if test \""$enable_unversioned_libpng_pc\"" != \""no\""; then\n-  DO_INSTALL_LIBPNG_PC_TRUE=\n-  DO_INSTALL_LIBPNG_PC_FALSE='#'\n-else\n-  DO_INSTALL_LIBPNG_PC_TRUE='#'\n-  DO_INSTALL_LIBPNG_PC_FALSE=\n-fi\n-\n-\n-# Check whether --enable-unversioned-libpng-config was given.\n-if test \""${enable_unversioned_libpng_config+set}\"" = set; then :\n-  enableval=$enable_unversioned_libpng_config;\n-fi\n-\n- if test \""$enable_unversioned_libpng_config\"" != \""no\""; then\n-  DO_INSTALL_LIBPNG_CONFIG_TRUE=\n-  DO_INSTALL_LIBPNG_CONFIG_FALSE='#'\n-else\n-  DO_INSTALL_LIBPNG_CONFIG_TRUE='#'\n-  DO_INSTALL_LIBPNG_CONFIG_FALSE=\n-fi\n-\n-\n-# HOST SPECIFIC OPTIONS\n-# =====================\n-#\n-# ARM\n-# ===\n-#\n-# ARM NEON (SIMD) support.\n-\n-# Check whether --enable-arm-neon was given.\n-if test \""${enable_arm_neon+set}\"" = set; then :\n-  enableval=$enable_arm_neon; case \""$enableval\"" in\n-      no|off)\n-         # disable the default enabling on __ARM_NEON__ systems:\n-\n-$as_echo \""#define PNG_ARM_NEON_OPT 0\"" >>confdefs.h\n-\n-         # Prevent inclusion of the assembler files below:\n-         enable_arm_neon=no;;\n-      check)\n-\n-$as_echo \""#define PNG_ARM_NEON_CHECK_SUPPORTED /**/\"" >>confdefs.h\n-;;\n-      api)\n-\n-$as_echo \""#define PNG_ARM_NEON_API_SUPPORTED /**/\"" >>confdefs.h\n-;;\n-      yes|on)\n-\n-$as_echo \""#define PNG_ARM_NEON_OPT 2\"" >>confdefs.h\n-\n-         { $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: --enable-arm-neon: please specify 'check' or 'api', if\n-            you want the optimizations unconditionally pass -mfpu=neon\n-            to the compiler.\"" >&5\n-$as_echo \""$as_me: WARNING: --enable-arm-neon: please specify 'check' or 'api', if\n-            you want the optimizations unconditionally pass -mfpu=neon\n-            to the compiler.\"" >&2;};;\n-      *)\n-         as_fn_error $? \""--enable-arm-neon=${enable_arm_neon}: invalid value\"" \""$LINENO\"" 5\n-   esac\n-fi\n-\n-\n-# Add ARM specific files to all builds where the host_cpu is arm ('arm*') or\n-# where ARM optimizations were explicitly requested (this allows a fallback if a\n-# future host CPU does not match 'arm*')\n-\n- if test \""$enable_arm_neon\"" != 'no' &&\n-    case \""$host_cpu\"" in\n-      arm*) :;;\n-      *)    test \""$enable_arm_neon\"" != '';;\n-    esac; then\n-  PNG_ARM_NEON_TRUE=\n-  PNG_ARM_NEON_FALSE='#'\n-else\n-  PNG_ARM_NEON_TRUE='#'\n-  PNG_ARM_NEON_FALSE=\n-fi\n-\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: Extra options for compiler: $PNG_COPTS\"" >&5\n-$as_echo \""$as_me: Extra options for compiler: $PNG_COPTS\"" >&6;}\n-\n-# Config files, substituting as above\n-ac_config_files=\""$ac_config_files Makefile libpng.pc:libpng.pc.in\""\n-\n-ac_config_files=\""$ac_config_files libpng-config:libpng-config.in\""\n-\n-\n-cat >confcache <<\\_ACEOF\n-# This file is a shell script that caches the results of configure\n-# tests run on this system so they can be shared between configure\n-# scripts and configure runs, see configure's option --config-cache.\n-# It is not useful on other systems.  If it contains results you don't\n-# want to keep, you may remove or edit it.\n-#\n-# config.status only pays attention to the cache file if you give it\n-# the --recheck option to rerun configure.\n-#\n-# `ac_cv_env_foo' variables (set or unset) will be overridden when\n-# loading this file, other *unset* `ac_cv_foo' will be assigned the\n-# following values.\n-\n-_ACEOF\n-\n-# The following way of writing the cache mishandles newlines in values,\n-# but we know of no workaround that is simple, portable, and efficient.\n-# So, we kill variables containing newlines.\n-# Ultrix sh set writes to stderr and can't be redirected directly,\n-# and sets the high bit in the cache file unless we assign to the vars.\n-(\n-  for ac_var in `(set) 2>&1 | sed -n 's/^\\([a-zA-Z_][a-zA-Z0-9_]*\\)=.*/\\1/p'`; do\n-    eval ac_val=\\$$ac_var\n-    case $ac_val in #(\n-    *${as_nl}*)\n-      case $ac_var in #(\n-      *_cv_*) { $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: cache variable $ac_var contains a newline\"" >&5\n-$as_echo \""$as_me: WARNING: cache variable $ac_var contains a newline\"" >&2;} ;;\n-      esac\n-      case $ac_var in #(\n-      _ | IFS | as_nl) ;; #(\n-      BASH_ARGV | BASH_SOURCE) eval $ac_var= ;; #(\n-      *) { eval $ac_var=; unset $ac_var;} ;;\n-      esac ;;\n-    esac\n-  done\n-\n-  (set) 2>&1 |\n-    case $as_nl`(ac_space=' '; set) 2>&1` in #(\n-    *${as_nl}ac_space=\\ *)\n-      # `set' does not quote correctly, so add quotes: double-quote\n-      # substitution turns \\\\\\\\ into \\\\, and sed turns \\\\ into \\.\n-      sed -n \\\n-\t\""s/'/'\\\\\\\\''/g;\n-\t  s/^\\\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\\\)=\\\\(.*\\\\)/\\\\1='\\\\2'/p\""\n-      ;; #(\n-    *)\n-      # `set' quotes correctly as required by POSIX, so do not add quotes.\n-      sed -n \""/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p\""\n-      ;;\n-    esac |\n-    sort\n-) |\n-  sed '\n-     /^ac_cv_env_/b end\n-     t clear\n-     :clear\n-     s/^\\([^=]*\\)=\\(.*[{}].*\\)$/test \""${\\1+set}\"" = set || &/\n-     t end\n-     s/^\\([^=]*\\)=\\(.*\\)$/\\1=${\\1=\\2}/\n-     :end' >>confcache\n-if diff \""$cache_file\"" confcache >/dev/null 2>&1; then :; else\n-  if test -w \""$cache_file\""; then\n-    if test \""x$cache_file\"" != \""x/dev/null\""; then\n-      { $as_echo \""$as_me:${as_lineno-$LINENO}: updating cache $cache_file\"" >&5\n-$as_echo \""$as_me: updating cache $cache_file\"" >&6;}\n-      if test ! -f \""$cache_file\"" || test -h \""$cache_file\""; then\n-\tcat confcache >\""$cache_file\""\n-      else\n-        case $cache_file in #(\n-        */* | ?:*)\n-\t  mv -f confcache \""$cache_file\""$$ &&\n-\t  mv -f \""$cache_file\""$$ \""$cache_file\"" ;; #(\n-        *)\n-\t  mv -f confcache \""$cache_file\"" ;;\n-\tesac\n-      fi\n-    fi\n-  else\n-    { $as_echo \""$as_me:${as_lineno-$LINENO}: not updating unwritable cache $cache_file\"" >&5\n-$as_echo \""$as_me: not updating unwritable cache $cache_file\"" >&6;}\n-  fi\n-fi\n-rm -f confcache\n-\n-test \""x$prefix\"" = xNONE && prefix=$ac_default_prefix\n-# Let make expand exec_prefix.\n-test \""x$exec_prefix\"" = xNONE && exec_prefix='${prefix}'\n-\n-DEFS=-DHAVE_CONFIG_H\n-\n-ac_libobjs=\n-ac_ltlibobjs=\n-U=\n-for ac_i in : $LIBOBJS; do test \""x$ac_i\"" = x: && continue\n-  # 1. Remove the extension, and $U if already installed.\n-  ac_script='s/\\$U\\././;s/\\.o$//;s/\\.obj$//'\n-  ac_i=`$as_echo \""$ac_i\"" | sed \""$ac_script\""`\n-  # 2. Prepend LIBOBJDIR.  When used with automake>=1.10 LIBOBJDIR\n-  #    will be set to the directory where LIBOBJS objects are built.\n-  as_fn_append ac_libobjs \"" \\${LIBOBJDIR}$ac_i\\$U.$ac_objext\""\n-  as_fn_append ac_ltlibobjs \"" \\${LIBOBJDIR}$ac_i\""'$U.lo'\n-done\n-LIBOBJS=$ac_libobjs\n-\n-LTLIBOBJS=$ac_ltlibobjs\n-\n-\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: checking that generated files are newer than configure\"" >&5\n-$as_echo_n \""checking that generated files are newer than configure... \"" >&6; }\n-   if test -n \""$am_sleep_pid\""; then\n-     # Hide warnings about reused PIDs.\n-     wait $am_sleep_pid 2>/dev/null\n-   fi\n-   { $as_echo \""$as_me:${as_lineno-$LINENO}: result: done\"" >&5\n-$as_echo \""done\"" >&6; }\n- if test -n \""$EXEEXT\""; then\n-  am__EXEEXT_TRUE=\n-  am__EXEEXT_FALSE='#'\n-else\n-  am__EXEEXT_TRUE='#'\n-  am__EXEEXT_FALSE=\n-fi\n-\n-if test -z \""${MAINTAINER_MODE_TRUE}\"" && test -z \""${MAINTAINER_MODE_FALSE}\""; then\n-  as_fn_error $? \""conditional \\\""MAINTAINER_MODE\\\"" was never defined.\n-Usually this means the macro was only invoked conditionally.\"" \""$LINENO\"" 5\n-fi\n-if test -z \""${AMDEP_TRUE}\"" && test -z \""${AMDEP_FALSE}\""; then\n-  as_fn_error $? \""conditional \\\""AMDEP\\\"" was never defined.\n-Usually this means the macro was only invoked conditionally.\"" \""$LINENO\"" 5\n-fi\n-if test -z \""${am__fastdepCC_TRUE}\"" && test -z \""${am__fastdepCC_FALSE}\""; then\n-  as_fn_error $? \""conditional \\\""am__fastdepCC\\\"" was never defined.\n-Usually this means the macro was only invoked conditionally.\"" \""$LINENO\"" 5\n-fi\n-if test -z \""${am__fastdepCCAS_TRUE}\"" && test -z \""${am__fastdepCCAS_FALSE}\""; then\n-  as_fn_error $? \""conditional \\\""am__fastdepCCAS\\\"" was never defined.\n-Usually this means the macro was only invoked conditionally.\"" \""$LINENO\"" 5\n-fi\n-if test -z \""${HAVE_SOLARIS_LD_TRUE}\"" && test -z \""${HAVE_SOLARIS_LD_FALSE}\""; then\n-  as_fn_error $? \""conditional \\\""HAVE_SOLARIS_LD\\\"" was never defined.\n-Usually this means the macro was only invoked conditionally.\"" \""$LINENO\"" 5\n-fi\n-if test -z \""${HAVE_LD_VERSION_SCRIPT_TRUE}\"" && test -z \""${HAVE_LD_VERSION_SCRIPT_FALSE}\""; then\n-  as_fn_error $? \""conditional \\\""HAVE_LD_VERSION_SCRIPT\\\"" was never defined.\n-Usually this means the macro was only invoked conditionally.\"" \""$LINENO\"" 5\n-fi\n-if test -z \""${DO_PNG_PREFIX_TRUE}\"" && test -z \""${DO_PNG_PREFIX_FALSE}\""; then\n-  as_fn_error $? \""conditional \\\""DO_PNG_PREFIX\\\"" was never defined.\n-Usually this means the macro was only invoked conditionally.\"" \""$LINENO\"" 5\n-fi\n-if test -z \""${DO_INSTALL_LINKS_TRUE}\"" && test -z \""${DO_INSTALL_LINKS_FALSE}\""; then\n-  as_fn_error $? \""conditional \\\""DO_INSTALL_LINKS\\\"" was never defined.\n-Usually this means the macro was only invoked conditionally.\"" \""$LINENO\"" 5\n-fi\n-if test -z \""${DO_INSTALL_LIBPNG_PC_TRUE}\"" && test -z \""${DO_INSTALL_LIBPNG_PC_FALSE}\""; then\n-  as_fn_error $? \""conditional \\\""DO_INSTALL_LIBPNG_PC\\\"" was never defined.\n-Usually this means the macro was only invoked conditionally.\"" \""$LINENO\"" 5\n-fi\n-if test -z \""${DO_INSTALL_LIBPNG_CONFIG_TRUE}\"" && test -z \""${DO_INSTALL_LIBPNG_CONFIG_FALSE}\""; then\n-  as_fn_error $? \""conditional \\\""DO_INSTALL_LIBPNG_CONFIG\\\"" was never defined.\n-Usually this means the macro was only invoked conditionally.\"" \""$LINENO\"" 5\n-fi\n-if test -z \""${PNG_ARM_NEON_TRUE}\"" && test -z \""${PNG_ARM_NEON_FALSE}\""; then\n-  as_fn_error $? \""conditional \\\""PNG_ARM_NEON\\\"" was never defined.\n-Usually this means the macro was only invoked conditionally.\"" \""$LINENO\"" 5\n-fi\n-\n-: \""${CONFIG_STATUS=./config.status}\""\n-ac_write_fail=0\n-ac_clean_files_save=$ac_clean_files\n-ac_clean_files=\""$ac_clean_files $CONFIG_STATUS\""\n-{ $as_echo \""$as_me:${as_lineno-$LINENO}: creating $CONFIG_STATUS\"" >&5\n-$as_echo \""$as_me: creating $CONFIG_STATUS\"" >&6;}\n-as_write_fail=0\n-cat >$CONFIG_STATUS <<_ASEOF || as_write_fail=1\n-#! $SHELL\n-# Generated by $as_me.\n-# Run this file to recreate the current configuration.\n-# Compiler output produced by configure, useful for debugging\n-# configure, is in config.log if it exists.\n-\n-debug=false\n-ac_cs_recheck=false\n-ac_cs_silent=false\n-\n-SHELL=\\${CONFIG_SHELL-$SHELL}\n-export SHELL\n-_ASEOF\n-cat >>$CONFIG_STATUS <<\\_ASEOF || as_write_fail=1\n-## -------------------- ##\n-## M4sh Initialization. ##\n-## -------------------- ##\n-\n-# Be more Bourne compatible\n-DUALCASE=1; export DUALCASE # for MKS sh\n-if test -n \""${ZSH_VERSION+set}\"" && (emulate sh) >/dev/null 2>&1; then :\n-  emulate sh\n-  NULLCMD=:\n-  # Pre-4.2 versions of Zsh do word splitting on ${1+\""$@\""}, which\n-  # is contrary to our usage.  Disable this feature.\n-  alias -g '${1+\""$@\""}'='\""$@\""'\n-  setopt NO_GLOB_SUBST\n-else\n-  case `(set -o) 2>/dev/null` in #(\n-  *posix*) :\n-    set -o posix ;; #(\n-  *) :\n-     ;;\n-esac\n-fi\n-\n-\n-as_nl='\n-'\n-export as_nl\n-# Printing a long string crashes Solaris 7 /usr/bin/printf.\n-as_echo='\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\'\n-as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo\n-as_echo=$as_echo$as_echo$as_echo$as_echo$as_echo$as_echo\n-# Prefer a ksh shell builtin over an external printf program on Solaris,\n-# but without wasting forks for bash or zsh.\n-if test -z \""$BASH_VERSION$ZSH_VERSION\"" \\\n-    && (test \""X`print -r -- $as_echo`\"" = \""X$as_echo\"") 2>/dev/null; then\n-  as_echo='print -r --'\n-  as_echo_n='print -rn --'\n-elif (test \""X`printf %s $as_echo`\"" = \""X$as_echo\"") 2>/dev/null; then\n-  as_echo='printf %s\\n'\n-  as_echo_n='printf %s'\n-else\n-  if test \""X`(/usr/ucb/echo -n -n $as_echo) 2>/dev/null`\"" = \""X-n $as_echo\""; then\n-    as_echo_body='eval /usr/ucb/echo -n \""$1$as_nl\""'\n-    as_echo_n='/usr/ucb/echo -n'\n-  else\n-    as_echo_body='eval expr \""X$1\"" : \""X\\\\(.*\\\\)\""'\n-    as_echo_n_body='eval\n-      arg=$1;\n-      case $arg in #(\n-      *\""$as_nl\""*)\n-\texpr \""X$arg\"" : \""X\\\\(.*\\\\)$as_nl\"";\n-\targ=`expr \""X$arg\"" : \"".*$as_nl\\\\(.*\\\\)\""`;;\n-      esac;\n-      expr \""X$arg\"" : \""X\\\\(.*\\\\)\"" | tr -d \""$as_nl\""\n-    '\n-    export as_echo_n_body\n-    as_echo_n='sh -c $as_echo_n_body as_echo'\n-  fi\n-  export as_echo_body\n-  as_echo='sh -c $as_echo_body as_echo'\n-fi\n-\n-# The user is always right.\n-if test \""${PATH_SEPARATOR+set}\"" != set; then\n-  PATH_SEPARATOR=:\n-  (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 && {\n-    (PATH='/bin:/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 ||\n-      PATH_SEPARATOR=';'\n-  }\n-fi\n-\n-\n-# IFS\n-# We need space, tab and new line, in precisely that order.  Quoting is\n-# there to prevent editors from complaining about space-tab.\n-# (If _AS_PATH_WALK were called with IFS unset, it would disable word\n-# splitting by setting IFS to empty value.)\n-IFS=\"" \""\""\t$as_nl\""\n-\n-# Find who we are.  Look in the path if we contain no directory separator.\n-as_myself=\n-case $0 in #((\n-  *[\\\\/]* ) as_myself=$0 ;;\n-  *) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR\n-for as_dir in $PATH\n-do\n-  IFS=$as_save_IFS\n-  test -z \""$as_dir\"" && as_dir=.\n-    test -r \""$as_dir/$0\"" && as_myself=$as_dir/$0 && break\n-  done\n-IFS=$as_save_IFS\n-\n-     ;;\n-esac\n-# We did not find ourselves, most probably we were run as `sh COMMAND'\n-# in which case we are not to be found in the path.\n-if test \""x$as_myself\"" = x; then\n-  as_myself=$0\n-fi\n-if test ! -f \""$as_myself\""; then\n-  $as_echo \""$as_myself: error: cannot find myself; rerun with an absolute file name\"" >&2\n-  exit 1\n-fi\n-\n-# Unset variables that we do not need and which cause bugs (e.g. in\n-# pre-3.0 UWIN ksh).  But do not cause bugs in bash 2.01; the \""|| exit 1\""\n-# suppresses any \""Segmentation fault\"" message there.  '((' could\n-# trigger a bug in pdksh 5.2.14.\n-for as_var in BASH_ENV ENV MAIL MAILPATH\n-do eval test x\\${$as_var+set} = xset \\\n-  && ( (unset $as_var) || exit 1) >/dev/null 2>&1 && unset $as_var || :\n-done\n-PS1='$ '\n-PS2='> '\n-PS4='+ '\n-\n-# NLS nuisances.\n-LC_ALL=C\n-export LC_ALL\n-LANGUAGE=C\n-export LANGUAGE\n-\n-# CDPATH.\n-(unset CDPATH) >/dev/null 2>&1 && unset CDPATH\n-\n-\n-# as_fn_error STATUS ERROR [LINENO LOG_FD]\n-# ----------------------------------------\n-# Output \""`basename $0`: error: ERROR\"" to stderr. If LINENO and LOG_FD are\n-# provided, also output the error to LOG_FD, referencing LINENO. Then exit the\n-# script with STATUS, using 1 if that was 0.\n-as_fn_error ()\n-{\n-  as_status=$1; test $as_status -eq 0 && as_status=1\n-  if test \""$4\""; then\n-    as_lineno=${as_lineno-\""$3\""} as_lineno_stack=as_lineno_stack=$as_lineno_stack\n-    $as_echo \""$as_me:${as_lineno-$LINENO}: error: $2\"" >&$4\n-  fi\n-  $as_echo \""$as_me: error: $2\"" >&2\n-  as_fn_exit $as_status\n-} # as_fn_error\n-\n-\n-# as_fn_set_status STATUS\n-# -----------------------\n-# Set $? to STATUS, without forking.\n-as_fn_set_status ()\n-{\n-  return $1\n-} # as_fn_set_status\n-\n-# as_fn_exit STATUS\n-# -----------------\n-# Exit the shell with STATUS, even in a \""trap 0\"" or \""set -e\"" context.\n-as_fn_exit ()\n-{\n-  set +e\n-  as_fn_set_status $1\n-  exit $1\n-} # as_fn_exit\n-\n-# as_fn_unset VAR\n-# ---------------\n-# Portably unset VAR.\n-as_fn_unset ()\n-{\n-  { eval $1=; unset $1;}\n-}\n-as_unset=as_fn_unset\n-# as_fn_append VAR VALUE\n-# ----------------------\n-# Append the text in VALUE to the end of the definition contained in VAR. Take\n-# advantage of any shell optimizations that allow amortized linear growth over\n-# repeated appends, instead of the typical quadratic growth present in naive\n-# implementations.\n-if (eval \""as_var=1; as_var+=2; test x\\$as_var = x12\"") 2>/dev/null; then :\n-  eval 'as_fn_append ()\n-  {\n-    eval $1+=\\$2\n-  }'\n-else\n-  as_fn_append ()\n-  {\n-    eval $1=\\$$1\\$2\n-  }\n-fi # as_fn_append\n-\n-# as_fn_arith ARG...\n-# ------------------\n-# Perform arithmetic evaluation on the ARGs, and store the result in the\n-# global $as_val. Take advantage of shells that can avoid forks. The arguments\n-# must be portable across $(()) and expr.\n-if (eval \""test \\$(( 1 + 1 )) = 2\"") 2>/dev/null; then :\n-  eval 'as_fn_arith ()\n-  {\n-    as_val=$(( $* ))\n-  }'\n-else\n-  as_fn_arith ()\n-  {\n-    as_val=`expr \""$@\"" || test $? -eq 1`\n-  }\n-fi # as_fn_arith\n-\n-\n-if expr a : '\\(a\\)' >/dev/null 2>&1 &&\n-   test \""X`expr 00001 : '.*\\(...\\)'`\"" = X001; then\n-  as_expr=expr\n-else\n-  as_expr=false\n-fi\n-\n-if (basename -- /) >/dev/null 2>&1 && test \""X`basename -- / 2>&1`\"" = \""X/\""; then\n-  as_basename=basename\n-else\n-  as_basename=false\n-fi\n-\n-if (as_dir=`dirname -- /` && test \""X$as_dir\"" = X/) >/dev/null 2>&1; then\n-  as_dirname=dirname\n-else\n-  as_dirname=false\n-fi\n-\n-as_me=`$as_basename -- \""$0\"" ||\n-$as_expr X/\""$0\"" : '.*/\\([^/][^/]*\\)/*$' \\| \\\n-\t X\""$0\"" : 'X\\(//\\)$' \\| \\\n-\t X\""$0\"" : 'X\\(/\\)' \\| . 2>/dev/null ||\n-$as_echo X/\""$0\"" |\n-    sed '/^.*\\/\\([^/][^/]*\\)\\/*$/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\/\\(\\/\\/\\)$/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\/\\(\\/\\).*/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  s/.*/./; q'`\n-\n-# Avoid depending upon Character Ranges.\n-as_cr_letters='abcdefghijklmnopqrstuvwxyz'\n-as_cr_LETTERS='ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n-as_cr_Letters=$as_cr_letters$as_cr_LETTERS\n-as_cr_digits='0123456789'\n-as_cr_alnum=$as_cr_Letters$as_cr_digits\n-\n-ECHO_C= ECHO_N= ECHO_T=\n-case `echo -n x` in #(((((\n--n*)\n-  case `echo 'xy\\c'` in\n-  *c*) ECHO_T='\t';;\t# ECHO_T is single tab character.\n-  xy)  ECHO_C='\\c';;\n-  *)   echo `echo ksh88 bug on AIX 6.1` > /dev/null\n-       ECHO_T='\t';;\n-  esac;;\n-*)\n-  ECHO_N='-n';;\n-esac\n-\n-rm -f conf$$ conf$$.exe conf$$.file\n-if test -d conf$$.dir; then\n-  rm -f conf$$.dir/conf$$.file\n-else\n-  rm -f conf$$.dir\n-  mkdir conf$$.dir 2>/dev/null\n-fi\n-if (echo >conf$$.file) 2>/dev/null; then\n-  if ln -s conf$$.file conf$$ 2>/dev/null; then\n-    as_ln_s='ln -s'\n-    # ... but there are two gotchas:\n-    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.\n-    # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.\n-    # In both cases, we have to default to `cp -pR'.\n-    ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||\n-      as_ln_s='cp -pR'\n-  elif ln conf$$.file conf$$ 2>/dev/null; then\n-    as_ln_s=ln\n-  else\n-    as_ln_s='cp -pR'\n-  fi\n-else\n-  as_ln_s='cp -pR'\n-fi\n-rm -f conf$$ conf$$.exe conf$$.dir/conf$$.file conf$$.file\n-rmdir conf$$.dir 2>/dev/null\n-\n-\n-# as_fn_mkdir_p\n-# -------------\n-# Create \""$as_dir\"" as a directory, including parents if necessary.\n-as_fn_mkdir_p ()\n-{\n-\n-  case $as_dir in #(\n-  -*) as_dir=./$as_dir;;\n-  esac\n-  test -d \""$as_dir\"" || eval $as_mkdir_p || {\n-    as_dirs=\n-    while :; do\n-      case $as_dir in #(\n-      *\\'*) as_qdir=`$as_echo \""$as_dir\"" | sed \""s/'/'\\\\\\\\\\\\\\\\''/g\""`;; #'(\n-      *) as_qdir=$as_dir;;\n-      esac\n-      as_dirs=\""'$as_qdir' $as_dirs\""\n-      as_dir=`$as_dirname -- \""$as_dir\"" ||\n-$as_expr X\""$as_dir\"" : 'X\\(.*[^/]\\)//*[^/][^/]*/*$' \\| \\\n-\t X\""$as_dir\"" : 'X\\(//\\)[^/]' \\| \\\n-\t X\""$as_dir\"" : 'X\\(//\\)$' \\| \\\n-\t X\""$as_dir\"" : 'X\\(/\\)' \\| . 2>/dev/null ||\n-$as_echo X\""$as_dir\"" |\n-    sed '/^X\\(.*[^/]\\)\\/\\/*[^/][^/]*\\/*$/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\/\\)[^/].*/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\/\\)$/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\).*/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  s/.*/./; q'`\n-      test -d \""$as_dir\"" && break\n-    done\n-    test -z \""$as_dirs\"" || eval \""mkdir $as_dirs\""\n-  } || test -d \""$as_dir\"" || as_fn_error $? \""cannot create directory $as_dir\""\n-\n-\n-} # as_fn_mkdir_p\n-if mkdir -p . 2>/dev/null; then\n-  as_mkdir_p='mkdir -p \""$as_dir\""'\n-else\n-  test -d ./-p && rmdir ./-p\n-  as_mkdir_p=false\n-fi\n-\n-\n-# as_fn_executable_p FILE\n-# -----------------------\n-# Test if FILE is an executable regular file.\n-as_fn_executable_p ()\n-{\n-  test -f \""$1\"" && test -x \""$1\""\n-} # as_fn_executable_p\n-as_test_x='test -x'\n-as_executable_p=as_fn_executable_p\n-\n-# Sed expression to map a string onto a valid CPP name.\n-as_tr_cpp=\""eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'\""\n-\n-# Sed expression to map a string onto a valid variable name.\n-as_tr_sh=\""eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'\""\n-\n-\n-exec 6>&1\n-## ----------------------------------- ##\n-## Main body of $CONFIG_STATUS script. ##\n-## ----------------------------------- ##\n-_ASEOF\n-test $as_write_fail = 0 && chmod +x $CONFIG_STATUS || ac_write_fail=1\n-\n-cat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n-# Save the log message, to keep $0 and so on meaningful, and to\n-# report actual input values of CONFIG_FILES etc. instead of their\n-# values after options handling.\n-ac_log=\""\n-This file was extended by libpng $as_me 1.6.10, which was\n-generated by GNU Autoconf 2.69.  Invocation command line was\n-\n-  CONFIG_FILES    = $CONFIG_FILES\n-  CONFIG_HEADERS  = $CONFIG_HEADERS\n-  CONFIG_LINKS    = $CONFIG_LINKS\n-  CONFIG_COMMANDS = $CONFIG_COMMANDS\n-  $ $0 $@\n-\n-on `(hostname || uname -n) 2>/dev/null | sed 1q`\n-\""\n-\n-_ACEOF\n-\n-case $ac_config_files in *\""\n-\""*) set x $ac_config_files; shift; ac_config_files=$*;;\n-esac\n-\n-case $ac_config_headers in *\""\n-\""*) set x $ac_config_headers; shift; ac_config_headers=$*;;\n-esac\n-\n-\n-cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n-# Files that config.status was made for.\n-config_files=\""$ac_config_files\""\n-config_headers=\""$ac_config_headers\""\n-config_commands=\""$ac_config_commands\""\n-\n-_ACEOF\n-\n-cat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n-ac_cs_usage=\""\\\n-\\`$as_me' instantiates files and other configuration actions\n-from templates according to the current configuration.  Unless the files\n-and actions are specified as TAGs, all are instantiated by default.\n-\n-Usage: $0 [OPTION]... [TAG]...\n-\n-  -h, --help       print this help, then exit\n-  -V, --version    print version number and configuration settings, then exit\n-      --config     print configuration, then exit\n-  -q, --quiet, --silent\n-                   do not print progress messages\n-  -d, --debug      don't remove temporary files\n-      --recheck    update $as_me by reconfiguring in the same conditions\n-      --file=FILE[:TEMPLATE]\n-                   instantiate the configuration file FILE\n-      --header=FILE[:TEMPLATE]\n-                   instantiate the configuration header FILE\n-\n-Configuration files:\n-$config_files\n-\n-Configuration headers:\n-$config_headers\n-\n-Configuration commands:\n-$config_commands\n-\n-Report bugs to <png-mng-implement@lists.sourceforge.net>.\""\n-\n-_ACEOF\n-cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n-ac_cs_config=\""`$as_echo \""$ac_configure_args\"" | sed 's/^ //; s/[\\\\\""\""\\`\\$]/\\\\\\\\&/g'`\""\n-ac_cs_version=\""\\\\\n-libpng config.status 1.6.10\n-configured by $0, generated by GNU Autoconf 2.69,\n-  with options \\\\\""\\$ac_cs_config\\\\\""\n-\n-Copyright (C) 2012 Free Software Foundation, Inc.\n-This config.status script is free software; the Free Software Foundation\n-gives unlimited permission to copy, distribute and modify it.\""\n-\n-ac_pwd='$ac_pwd'\n-srcdir='$srcdir'\n-INSTALL='$INSTALL'\n-MKDIR_P='$MKDIR_P'\n-AWK='$AWK'\n-test -n \""\\$AWK\"" || AWK=awk\n-_ACEOF\n-\n-cat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n-# The default lists apply if the user does not specify any file.\n-ac_need_defaults=:\n-while test $# != 0\n-do\n-  case $1 in\n-  --*=?*)\n-    ac_option=`expr \""X$1\"" : 'X\\([^=]*\\)='`\n-    ac_optarg=`expr \""X$1\"" : 'X[^=]*=\\(.*\\)'`\n-    ac_shift=:\n-    ;;\n-  --*=)\n-    ac_option=`expr \""X$1\"" : 'X\\([^=]*\\)='`\n-    ac_optarg=\n-    ac_shift=:\n-    ;;\n-  *)\n-    ac_option=$1\n-    ac_optarg=$2\n-    ac_shift=shift\n-    ;;\n-  esac\n-\n-  case $ac_option in\n-  # Handling of the options.\n-  -recheck | --recheck | --rechec | --reche | --rech | --rec | --re | --r)\n-    ac_cs_recheck=: ;;\n-  --version | --versio | --versi | --vers | --ver | --ve | --v | -V )\n-    $as_echo \""$ac_cs_version\""; exit ;;\n-  --config | --confi | --conf | --con | --co | --c )\n-    $as_echo \""$ac_cs_config\""; exit ;;\n-  --debug | --debu | --deb | --de | --d | -d )\n-    debug=: ;;\n-  --file | --fil | --fi | --f )\n-    $ac_shift\n-    case $ac_optarg in\n-    *\\'*) ac_optarg=`$as_echo \""$ac_optarg\"" | sed \""s/'/'\\\\\\\\\\\\\\\\''/g\""` ;;\n-    '') as_fn_error $? \""missing file argument\"" ;;\n-    esac\n-    as_fn_append CONFIG_FILES \"" '$ac_optarg'\""\n-    ac_need_defaults=false;;\n-  --header | --heade | --head | --hea )\n-    $ac_shift\n-    case $ac_optarg in\n-    *\\'*) ac_optarg=`$as_echo \""$ac_optarg\"" | sed \""s/'/'\\\\\\\\\\\\\\\\''/g\""` ;;\n-    esac\n-    as_fn_append CONFIG_HEADERS \"" '$ac_optarg'\""\n-    ac_need_defaults=false;;\n-  --he | --h)\n-    # Conflict between --help and --header\n-    as_fn_error $? \""ambiguous option: \\`$1'\n-Try \\`$0 --help' for more information.\"";;\n-  --help | --hel | -h )\n-    $as_echo \""$ac_cs_usage\""; exit ;;\n-  -q | -quiet | --quiet | --quie | --qui | --qu | --q \\\n-  | -silent | --silent | --silen | --sile | --sil | --si | --s)\n-    ac_cs_silent=: ;;\n-\n-  # This is an error.\n-  -*) as_fn_error $? \""unrecognized option: \\`$1'\n-Try \\`$0 --help' for more information.\"" ;;\n-\n-  *) as_fn_append ac_config_targets \"" $1\""\n-     ac_need_defaults=false ;;\n-\n-  esac\n-  shift\n-done\n-\n-ac_configure_extra_args=\n-\n-if $ac_cs_silent; then\n-  exec 6>/dev/null\n-  ac_configure_extra_args=\""$ac_configure_extra_args --silent\""\n-fi\n-\n-_ACEOF\n-cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n-if \\$ac_cs_recheck; then\n-  set X $SHELL '$0' $ac_configure_args \\$ac_configure_extra_args --no-create --no-recursion\n-  shift\n-  \\$as_echo \""running CONFIG_SHELL=$SHELL \\$*\"" >&6\n-  CONFIG_SHELL='$SHELL'\n-  export CONFIG_SHELL\n-  exec \""\\$@\""\n-fi\n-\n-_ACEOF\n-cat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n-exec 5>>config.log\n-{\n-  echo\n-  sed 'h;s/./-/g;s/^.../## /;s/...$/ ##/;p;x;p;x' <<_ASBOX\n-## Running $as_me. ##\n-_ASBOX\n-  $as_echo \""$ac_log\""\n-} >&5\n-\n-_ACEOF\n-cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n-#\n-# INIT-COMMANDS\n-#\n-AMDEP_TRUE=\""$AMDEP_TRUE\"" ac_aux_dir=\""$ac_aux_dir\""\n-\n-\n-# The HP-UX ksh and POSIX shell print the target directory to stdout\n-# if CDPATH is set.\n-(unset CDPATH) >/dev/null 2>&1 && unset CDPATH\n-\n-sed_quote_subst='$sed_quote_subst'\n-double_quote_subst='$double_quote_subst'\n-delay_variable_subst='$delay_variable_subst'\n-SED='`$ECHO \""$SED\"" | $SED \""$delay_single_quote_subst\""`'\n-Xsed='`$ECHO \""$Xsed\"" | $SED \""$delay_single_quote_subst\""`'\n-GREP='`$ECHO \""$GREP\"" | $SED \""$delay_single_quote_subst\""`'\n-EGREP='`$ECHO \""$EGREP\"" | $SED \""$delay_single_quote_subst\""`'\n-FGREP='`$ECHO \""$FGREP\"" | $SED \""$delay_single_quote_subst\""`'\n-SHELL='`$ECHO \""$SHELL\"" | $SED \""$delay_single_quote_subst\""`'\n-ECHO='`$ECHO \""$ECHO\"" | $SED \""$delay_single_quote_subst\""`'\n-LD='`$ECHO \""$LD\"" | $SED \""$delay_single_quote_subst\""`'\n-macro_version='`$ECHO \""$macro_version\"" | $SED \""$delay_single_quote_subst\""`'\n-macro_revision='`$ECHO \""$macro_revision\"" | $SED \""$delay_single_quote_subst\""`'\n-AS='`$ECHO \""$AS\"" | $SED \""$delay_single_quote_subst\""`'\n-DLLTOOL='`$ECHO \""$DLLTOOL\"" | $SED \""$delay_single_quote_subst\""`'\n-OBJDUMP='`$ECHO \""$OBJDUMP\"" | $SED \""$delay_single_quote_subst\""`'\n-enable_shared='`$ECHO \""$enable_shared\"" | $SED \""$delay_single_quote_subst\""`'\n-enable_static='`$ECHO \""$enable_static\"" | $SED \""$delay_single_quote_subst\""`'\n-pic_mode='`$ECHO \""$pic_mode\"" | $SED \""$delay_single_quote_subst\""`'\n-enable_fast_install='`$ECHO \""$enable_fast_install\"" | $SED \""$delay_single_quote_subst\""`'\n-PATH_SEPARATOR='`$ECHO \""$PATH_SEPARATOR\"" | $SED \""$delay_single_quote_subst\""`'\n-host_alias='`$ECHO \""$host_alias\"" | $SED \""$delay_single_quote_subst\""`'\n-host='`$ECHO \""$host\"" | $SED \""$delay_single_quote_subst\""`'\n-host_os='`$ECHO \""$host_os\"" | $SED \""$delay_single_quote_subst\""`'\n-build_alias='`$ECHO \""$build_alias\"" | $SED \""$delay_single_quote_subst\""`'\n-build='`$ECHO \""$build\"" | $SED \""$delay_single_quote_subst\""`'\n-build_os='`$ECHO \""$build_os\"" | $SED \""$delay_single_quote_subst\""`'\n-NM='`$ECHO \""$NM\"" | $SED \""$delay_single_quote_subst\""`'\n-LN_S='`$ECHO \""$LN_S\"" | $SED \""$delay_single_quote_subst\""`'\n-max_cmd_len='`$ECHO \""$max_cmd_len\"" | $SED \""$delay_single_quote_subst\""`'\n-ac_objext='`$ECHO \""$ac_objext\"" | $SED \""$delay_single_quote_subst\""`'\n-exeext='`$ECHO \""$exeext\"" | $SED \""$delay_single_quote_subst\""`'\n-lt_unset='`$ECHO \""$lt_unset\"" | $SED \""$delay_single_quote_subst\""`'\n-lt_SP2NL='`$ECHO \""$lt_SP2NL\"" | $SED \""$delay_single_quote_subst\""`'\n-lt_NL2SP='`$ECHO \""$lt_NL2SP\"" | $SED \""$delay_single_quote_subst\""`'\n-lt_cv_to_host_file_cmd='`$ECHO \""$lt_cv_to_host_file_cmd\"" | $SED \""$delay_single_quote_subst\""`'\n-lt_cv_to_tool_file_cmd='`$ECHO \""$lt_cv_to_tool_file_cmd\"" | $SED \""$delay_single_quote_subst\""`'\n-reload_flag='`$ECHO \""$reload_flag\"" | $SED \""$delay_single_quote_subst\""`'\n-reload_cmds='`$ECHO \""$reload_cmds\"" | $SED \""$delay_single_quote_subst\""`'\n-deplibs_check_method='`$ECHO \""$deplibs_check_method\"" | $SED \""$delay_single_quote_subst\""`'\n-file_magic_cmd='`$ECHO \""$file_magic_cmd\"" | $SED \""$delay_single_quote_subst\""`'\n-file_magic_glob='`$ECHO \""$file_magic_glob\"" | $SED \""$delay_single_quote_subst\""`'\n-want_nocaseglob='`$ECHO \""$want_nocaseglob\"" | $SED \""$delay_single_quote_subst\""`'\n-sharedlib_from_linklib_cmd='`$ECHO \""$sharedlib_from_linklib_cmd\"" | $SED \""$delay_single_quote_subst\""`'\n-AR='`$ECHO \""$AR\"" | $SED \""$delay_single_quote_subst\""`'\n-AR_FLAGS='`$ECHO \""$AR_FLAGS\"" | $SED \""$delay_single_quote_subst\""`'\n-archiver_list_spec='`$ECHO \""$archiver_list_spec\"" | $SED \""$delay_single_quote_subst\""`'\n-STRIP='`$ECHO \""$STRIP\"" | $SED \""$delay_single_quote_subst\""`'\n-RANLIB='`$ECHO \""$RANLIB\"" | $SED \""$delay_single_quote_subst\""`'\n-old_postinstall_cmds='`$ECHO \""$old_postinstall_cmds\"" | $SED \""$delay_single_quote_subst\""`'\n-old_postuninstall_cmds='`$ECHO \""$old_postuninstall_cmds\"" | $SED \""$delay_single_quote_subst\""`'\n-old_archive_cmds='`$ECHO \""$old_archive_cmds\"" | $SED \""$delay_single_quote_subst\""`'\n-lock_old_archive_extraction='`$ECHO \""$lock_old_archive_extraction\"" | $SED \""$delay_single_quote_subst\""`'\n-CC='`$ECHO \""$CC\"" | $SED \""$delay_single_quote_subst\""`'\n-CFLAGS='`$ECHO \""$CFLAGS\"" | $SED \""$delay_single_quote_subst\""`'\n-compiler='`$ECHO \""$compiler\"" | $SED \""$delay_single_quote_subst\""`'\n-GCC='`$ECHO \""$GCC\"" | $SED \""$delay_single_quote_subst\""`'\n-lt_cv_sys_global_symbol_pipe='`$ECHO \""$lt_cv_sys_global_symbol_pipe\"" | $SED \""$delay_single_quote_subst\""`'\n-lt_cv_sys_global_symbol_to_cdecl='`$ECHO \""$lt_cv_sys_global_symbol_to_cdecl\"" | $SED \""$delay_single_quote_subst\""`'\n-lt_cv_sys_global_symbol_to_c_name_address='`$ECHO \""$lt_cv_sys_global_symbol_to_c_name_address\"" | $SED \""$delay_single_quote_subst\""`'\n-lt_cv_sys_global_symbol_to_c_name_address_lib_prefix='`$ECHO \""$lt_cv_sys_global_symbol_to_c_name_address_lib_prefix\"" | $SED \""$delay_single_quote_subst\""`'\n-nm_file_list_spec='`$ECHO \""$nm_file_list_spec\"" | $SED \""$delay_single_quote_subst\""`'\n-lt_sysroot='`$ECHO \""$lt_sysroot\"" | $SED \""$delay_single_quote_subst\""`'\n-objdir='`$ECHO \""$objdir\"" | $SED \""$delay_single_quote_subst\""`'\n-MAGIC_CMD='`$ECHO \""$MAGIC_CMD\"" | $SED \""$delay_single_quote_subst\""`'\n-lt_prog_compiler_no_builtin_flag='`$ECHO \""$lt_prog_compiler_no_builtin_flag\"" | $SED \""$delay_single_quote_subst\""`'\n-lt_prog_compiler_pic='`$ECHO \""$lt_prog_compiler_pic\"" | $SED \""$delay_single_quote_subst\""`'\n-lt_prog_compiler_wl='`$ECHO \""$lt_prog_compiler_wl\"" | $SED \""$delay_single_quote_subst\""`'\n-lt_prog_compiler_static='`$ECHO \""$lt_prog_compiler_static\"" | $SED \""$delay_single_quote_subst\""`'\n-lt_cv_prog_compiler_c_o='`$ECHO \""$lt_cv_prog_compiler_c_o\"" | $SED \""$delay_single_quote_subst\""`'\n-need_locks='`$ECHO \""$need_locks\"" | $SED \""$delay_single_quote_subst\""`'\n-MANIFEST_TOOL='`$ECHO \""$MANIFEST_TOOL\"" | $SED \""$delay_single_quote_subst\""`'\n-DSYMUTIL='`$ECHO \""$DSYMUTIL\"" | $SED \""$delay_single_quote_subst\""`'\n-NMEDIT='`$ECHO \""$NMEDIT\"" | $SED \""$delay_single_quote_subst\""`'\n-LIPO='`$ECHO \""$LIPO\"" | $SED \""$delay_single_quote_subst\""`'\n-OTOOL='`$ECHO \""$OTOOL\"" | $SED \""$delay_single_quote_subst\""`'\n-OTOOL64='`$ECHO \""$OTOOL64\"" | $SED \""$delay_single_quote_subst\""`'\n-libext='`$ECHO \""$libext\"" | $SED \""$delay_single_quote_subst\""`'\n-shrext_cmds='`$ECHO \""$shrext_cmds\"" | $SED \""$delay_single_quote_subst\""`'\n-extract_expsyms_cmds='`$ECHO \""$extract_expsyms_cmds\"" | $SED \""$delay_single_quote_subst\""`'\n-archive_cmds_need_lc='`$ECHO \""$archive_cmds_need_lc\"" | $SED \""$delay_single_quote_subst\""`'\n-enable_shared_with_static_runtimes='`$ECHO \""$enable_shared_with_static_runtimes\"" | $SED \""$delay_single_quote_subst\""`'\n-export_dynamic_flag_spec='`$ECHO \""$export_dynamic_flag_spec\"" | $SED \""$delay_single_quote_subst\""`'\n-whole_archive_flag_spec='`$ECHO \""$whole_archive_flag_spec\"" | $SED \""$delay_single_quote_subst\""`'\n-compiler_needs_object='`$ECHO \""$compiler_needs_object\"" | $SED \""$delay_single_quote_subst\""`'\n-old_archive_from_new_cmds='`$ECHO \""$old_archive_from_new_cmds\"" | $SED \""$delay_single_quote_subst\""`'\n-old_archive_from_expsyms_cmds='`$ECHO \""$old_archive_from_expsyms_cmds\"" | $SED \""$delay_single_quote_subst\""`'\n-archive_cmds='`$ECHO \""$archive_cmds\"" | $SED \""$delay_single_quote_subst\""`'\n-archive_expsym_cmds='`$ECHO \""$archive_expsym_cmds\"" | $SED \""$delay_single_quote_subst\""`'\n-module_cmds='`$ECHO \""$module_cmds\"" | $SED \""$delay_single_quote_subst\""`'\n-module_expsym_cmds='`$ECHO \""$module_expsym_cmds\"" | $SED \""$delay_single_quote_subst\""`'\n-with_gnu_ld='`$ECHO \""$with_gnu_ld\"" | $SED \""$delay_single_quote_subst\""`'\n-allow_undefined_flag='`$ECHO \""$allow_undefined_flag\"" | $SED \""$delay_single_quote_subst\""`'\n-no_undefined_flag='`$ECHO \""$no_undefined_flag\"" | $SED \""$delay_single_quote_subst\""`'\n-hardcode_libdir_flag_spec='`$ECHO \""$hardcode_libdir_flag_spec\"" | $SED \""$delay_single_quote_subst\""`'\n-hardcode_libdir_separator='`$ECHO \""$hardcode_libdir_separator\"" | $SED \""$delay_single_quote_subst\""`'\n-hardcode_direct='`$ECHO \""$hardcode_direct\"" | $SED \""$delay_single_quote_subst\""`'\n-hardcode_direct_absolute='`$ECHO \""$hardcode_direct_absolute\"" | $SED \""$delay_single_quote_subst\""`'\n-hardcode_minus_L='`$ECHO \""$hardcode_minus_L\"" | $SED \""$delay_single_quote_subst\""`'\n-hardcode_shlibpath_var='`$ECHO \""$hardcode_shlibpath_var\"" | $SED \""$delay_single_quote_subst\""`'\n-hardcode_automatic='`$ECHO \""$hardcode_automatic\"" | $SED \""$delay_single_quote_subst\""`'\n-inherit_rpath='`$ECHO \""$inherit_rpath\"" | $SED \""$delay_single_quote_subst\""`'\n-link_all_deplibs='`$ECHO \""$link_all_deplibs\"" | $SED \""$delay_single_quote_subst\""`'\n-always_export_symbols='`$ECHO \""$always_export_symbols\"" | $SED \""$delay_single_quote_subst\""`'\n-export_symbols_cmds='`$ECHO \""$export_symbols_cmds\"" | $SED \""$delay_single_quote_subst\""`'\n-exclude_expsyms='`$ECHO \""$exclude_expsyms\"" | $SED \""$delay_single_quote_subst\""`'\n-include_expsyms='`$ECHO \""$include_expsyms\"" | $SED \""$delay_single_quote_subst\""`'\n-prelink_cmds='`$ECHO \""$prelink_cmds\"" | $SED \""$delay_single_quote_subst\""`'\n-postlink_cmds='`$ECHO \""$postlink_cmds\"" | $SED \""$delay_single_quote_subst\""`'\n-file_list_spec='`$ECHO \""$file_list_spec\"" | $SED \""$delay_single_quote_subst\""`'\n-variables_saved_for_relink='`$ECHO \""$variables_saved_for_relink\"" | $SED \""$delay_single_quote_subst\""`'\n-need_lib_prefix='`$ECHO \""$need_lib_prefix\"" | $SED \""$delay_single_quote_subst\""`'\n-need_version='`$ECHO \""$need_version\"" | $SED \""$delay_single_quote_subst\""`'\n-version_type='`$ECHO \""$version_type\"" | $SED \""$delay_single_quote_subst\""`'\n-runpath_var='`$ECHO \""$runpath_var\"" | $SED \""$delay_single_quote_subst\""`'\n-shlibpath_var='`$ECHO \""$shlibpath_var\"" | $SED \""$delay_single_quote_subst\""`'\n-shlibpath_overrides_runpath='`$ECHO \""$shlibpath_overrides_runpath\"" | $SED \""$delay_single_quote_subst\""`'\n-libname_spec='`$ECHO \""$libname_spec\"" | $SED \""$delay_single_quote_subst\""`'\n-library_names_spec='`$ECHO \""$library_names_spec\"" | $SED \""$delay_single_quote_subst\""`'\n-soname_spec='`$ECHO \""$soname_spec\"" | $SED \""$delay_single_quote_subst\""`'\n-install_override_mode='`$ECHO \""$install_override_mode\"" | $SED \""$delay_single_quote_subst\""`'\n-postinstall_cmds='`$ECHO \""$postinstall_cmds\"" | $SED \""$delay_single_quote_subst\""`'\n-postuninstall_cmds='`$ECHO \""$postuninstall_cmds\"" | $SED \""$delay_single_quote_subst\""`'\n-finish_cmds='`$ECHO \""$finish_cmds\"" | $SED \""$delay_single_quote_subst\""`'\n-finish_eval='`$ECHO \""$finish_eval\"" | $SED \""$delay_single_quote_subst\""`'\n-hardcode_into_libs='`$ECHO \""$hardcode_into_libs\"" | $SED \""$delay_single_quote_subst\""`'\n-sys_lib_search_path_spec='`$ECHO \""$sys_lib_search_path_spec\"" | $SED \""$delay_single_quote_subst\""`'\n-sys_lib_dlsearch_path_spec='`$ECHO \""$sys_lib_dlsearch_path_spec\"" | $SED \""$delay_single_quote_subst\""`'\n-hardcode_action='`$ECHO \""$hardcode_action\"" | $SED \""$delay_single_quote_subst\""`'\n-enable_dlopen='`$ECHO \""$enable_dlopen\"" | $SED \""$delay_single_quote_subst\""`'\n-enable_dlopen_self='`$ECHO \""$enable_dlopen_self\"" | $SED \""$delay_single_quote_subst\""`'\n-enable_dlopen_self_static='`$ECHO \""$enable_dlopen_self_static\"" | $SED \""$delay_single_quote_subst\""`'\n-old_striplib='`$ECHO \""$old_striplib\"" | $SED \""$delay_single_quote_subst\""`'\n-striplib='`$ECHO \""$striplib\"" | $SED \""$delay_single_quote_subst\""`'\n-\n-LTCC='$LTCC'\n-LTCFLAGS='$LTCFLAGS'\n-compiler='$compiler_DEFAULT'\n-\n-# A function that is used when there is no print builtin or printf.\n-func_fallback_echo ()\n-{\n-  eval 'cat <<_LTECHO_EOF\n-\\$1\n-_LTECHO_EOF'\n-}\n-\n-# Quote evaled strings.\n-for var in SED \\\n-GREP \\\n-EGREP \\\n-FGREP \\\n-SHELL \\\n-ECHO \\\n-LD \\\n-AS \\\n-DLLTOOL \\\n-OBJDUMP \\\n-PATH_SEPARATOR \\\n-NM \\\n-LN_S \\\n-lt_SP2NL \\\n-lt_NL2SP \\\n-reload_flag \\\n-deplibs_check_method \\\n-file_magic_cmd \\\n-file_magic_glob \\\n-want_nocaseglob \\\n-sharedlib_from_linklib_cmd \\\n-AR \\\n-AR_FLAGS \\\n-archiver_list_spec \\\n-STRIP \\\n-RANLIB \\\n-CC \\\n-CFLAGS \\\n-compiler \\\n-lt_cv_sys_global_symbol_pipe \\\n-lt_cv_sys_global_symbol_to_cdecl \\\n-lt_cv_sys_global_symbol_to_c_name_address \\\n-lt_cv_sys_global_symbol_to_c_name_address_lib_prefix \\\n-nm_file_list_spec \\\n-lt_prog_compiler_no_builtin_flag \\\n-lt_prog_compiler_pic \\\n-lt_prog_compiler_wl \\\n-lt_prog_compiler_static \\\n-lt_cv_prog_compiler_c_o \\\n-need_locks \\\n-MANIFEST_TOOL \\\n-DSYMUTIL \\\n-NMEDIT \\\n-LIPO \\\n-OTOOL \\\n-OTOOL64 \\\n-shrext_cmds \\\n-export_dynamic_flag_spec \\\n-whole_archive_flag_spec \\\n-compiler_needs_object \\\n-with_gnu_ld \\\n-allow_undefined_flag \\\n-no_undefined_flag \\\n-hardcode_libdir_flag_spec \\\n-hardcode_libdir_separator \\\n-exclude_expsyms \\\n-include_expsyms \\\n-file_list_spec \\\n-variables_saved_for_relink \\\n-libname_spec \\\n-library_names_spec \\\n-soname_spec \\\n-install_override_mode \\\n-finish_eval \\\n-old_striplib \\\n-striplib; do\n-    case \\`eval \\\\\\\\\\$ECHO \\\\\\\\\""\""\\\\\\\\\\$\\$var\""\\\\\\\\\""\\` in\n-    *[\\\\\\\\\\\\\\`\\\\\""\\\\\\$]*)\n-      eval \""lt_\\$var=\\\\\\\\\\\\\""\\\\\\`\\\\\\$ECHO \\\\\""\\\\\\$\\$var\\\\\"" | \\\\\\$SED \\\\\""\\\\\\$sed_quote_subst\\\\\""\\\\\\`\\\\\\\\\\\\\""\""\n-      ;;\n-    *)\n-      eval \""lt_\\$var=\\\\\\\\\\\\\""\\\\\\$\\$var\\\\\\\\\\\\\""\""\n-      ;;\n-    esac\n-done\n-\n-# Double-quote double-evaled strings.\n-for var in reload_cmds \\\n-old_postinstall_cmds \\\n-old_postuninstall_cmds \\\n-old_archive_cmds \\\n-extract_expsyms_cmds \\\n-old_archive_from_new_cmds \\\n-old_archive_from_expsyms_cmds \\\n-archive_cmds \\\n-archive_expsym_cmds \\\n-module_cmds \\\n-module_expsym_cmds \\\n-export_symbols_cmds \\\n-prelink_cmds \\\n-postlink_cmds \\\n-postinstall_cmds \\\n-postuninstall_cmds \\\n-finish_cmds \\\n-sys_lib_search_path_spec \\\n-sys_lib_dlsearch_path_spec; do\n-    case \\`eval \\\\\\\\\\$ECHO \\\\\\\\\""\""\\\\\\\\\\$\\$var\""\\\\\\\\\""\\` in\n-    *[\\\\\\\\\\\\\\`\\\\\""\\\\\\$]*)\n-      eval \""lt_\\$var=\\\\\\\\\\\\\""\\\\\\`\\\\\\$ECHO \\\\\""\\\\\\$\\$var\\\\\"" | \\\\\\$SED -e \\\\\""\\\\\\$double_quote_subst\\\\\"" -e \\\\\""\\\\\\$sed_quote_subst\\\\\"" -e \\\\\""\\\\\\$delay_variable_subst\\\\\""\\\\\\`\\\\\\\\\\\\\""\""\n-      ;;\n-    *)\n-      eval \""lt_\\$var=\\\\\\\\\\\\\""\\\\\\$\\$var\\\\\\\\\\\\\""\""\n-      ;;\n-    esac\n-done\n-\n-ac_aux_dir='$ac_aux_dir'\n-xsi_shell='$xsi_shell'\n-lt_shell_append='$lt_shell_append'\n-\n-# See if we are running on zsh, and set the options which allow our\n-# commands through without removal of \\ escapes INIT.\n-if test -n \""\\${ZSH_VERSION+set}\"" ; then\n-   setopt NO_GLOB_SUBST\n-fi\n-\n-\n-    PACKAGE='$PACKAGE'\n-    VERSION='$VERSION'\n-    TIMESTAMP='$TIMESTAMP'\n-    RM='$RM'\n-    ofile='$ofile'\n-\n-\n-\n-\n-_ACEOF\n-\n-cat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n-\n-# Handling of arguments.\n-for ac_config_target in $ac_config_targets\n-do\n-  case $ac_config_target in\n-    \""config.h\"") CONFIG_HEADERS=\""$CONFIG_HEADERS config.h\"" ;;\n-    \""depfiles\"") CONFIG_COMMANDS=\""$CONFIG_COMMANDS depfiles\"" ;;\n-    \""libtool\"") CONFIG_COMMANDS=\""$CONFIG_COMMANDS libtool\"" ;;\n-    \""Makefile\"") CONFIG_FILES=\""$CONFIG_FILES Makefile\"" ;;\n-    \""libpng.pc\"") CONFIG_FILES=\""$CONFIG_FILES libpng.pc:libpng.pc.in\"" ;;\n-    \""libpng-config\"") CONFIG_FILES=\""$CONFIG_FILES libpng-config:libpng-config.in\"" ;;\n-\n-  *) as_fn_error $? \""invalid argument: \\`$ac_config_target'\"" \""$LINENO\"" 5;;\n-  esac\n-done\n-\n-\n-# If the user did not use the arguments to specify the items to instantiate,\n-# then the envvar interface is used.  Set only those that are not.\n-# We use the long form for the default assignment because of an extremely\n-# bizarre bug on SunOS 4.1.3.\n-if $ac_need_defaults; then\n-  test \""${CONFIG_FILES+set}\"" = set || CONFIG_FILES=$config_files\n-  test \""${CONFIG_HEADERS+set}\"" = set || CONFIG_HEADERS=$config_headers\n-  test \""${CONFIG_COMMANDS+set}\"" = set || CONFIG_COMMANDS=$config_commands\n-fi\n-\n-# Have a temporary directory for convenience.  Make it in the build tree\n-# simply because there is no reason against having it here, and in addition,\n-# creating and moving files from /tmp can sometimes cause problems.\n-# Hook for its removal unless debugging.\n-# Note that there is a small window in which the directory will not be cleaned:\n-# after its creation but before its name has been assigned to `$tmp'.\n-$debug ||\n-{\n-  tmp= ac_tmp=\n-  trap 'exit_status=$?\n-  : \""${ac_tmp:=$tmp}\""\n-  { test ! -d \""$ac_tmp\"" || rm -fr \""$ac_tmp\""; } && exit $exit_status\n-' 0\n-  trap 'as_fn_exit 1' 1 2 13 15\n-}\n-# Create a (secure) tmp directory for tmp files.\n-\n-{\n-  tmp=`(umask 077 && mktemp -d \""./confXXXXXX\"") 2>/dev/null` &&\n-  test -d \""$tmp\""\n-}  ||\n-{\n-  tmp=./conf$$-$RANDOM\n-  (umask 077 && mkdir \""$tmp\"")\n-} || as_fn_error $? \""cannot create a temporary directory in .\"" \""$LINENO\"" 5\n-ac_tmp=$tmp\n-\n-# Set up the scripts for CONFIG_FILES section.\n-# No need to generate them if there are no CONFIG_FILES.\n-# This happens for instance with `./config.status config.h'.\n-if test -n \""$CONFIG_FILES\""; then\n-\n-\n-ac_cr=`echo X | tr X '\\015'`\n-# On cygwin, bash can eat \\r inside `` if the user requested igncr.\n-# But we know of no other shell where ac_cr would be empty at this\n-# point, so we can use a bashism as a fallback.\n-if test \""x$ac_cr\"" = x; then\n-  eval ac_cr=\\$\\'\\\\r\\'\n-fi\n-ac_cs_awk_cr=`$AWK 'BEGIN { print \""a\\rb\"" }' </dev/null 2>/dev/null`\n-if test \""$ac_cs_awk_cr\"" = \""a${ac_cr}b\""; then\n-  ac_cs_awk_cr='\\\\r'\n-else\n-  ac_cs_awk_cr=$ac_cr\n-fi\n-\n-echo 'BEGIN {' >\""$ac_tmp/subs1.awk\"" &&\n-_ACEOF\n-\n-\n-{\n-  echo \""cat >conf$$subs.awk <<_ACEOF\"" &&\n-  echo \""$ac_subst_vars\"" | sed 's/.*/&!$&$ac_delim/' &&\n-  echo \""_ACEOF\""\n-} >conf$$subs.sh ||\n-  as_fn_error $? \""could not make $CONFIG_STATUS\"" \""$LINENO\"" 5\n-ac_delim_num=`echo \""$ac_subst_vars\"" | grep -c '^'`\n-ac_delim='%!_!# '\n-for ac_last_try in false false false false false :; do\n-  . ./conf$$subs.sh ||\n-    as_fn_error $? \""could not make $CONFIG_STATUS\"" \""$LINENO\"" 5\n-\n-  ac_delim_n=`sed -n \""s/.*$ac_delim\\$/X/p\"" conf$$subs.awk | grep -c X`\n-  if test $ac_delim_n = $ac_delim_num; then\n-    break\n-  elif $ac_last_try; then\n-    as_fn_error $? \""could not make $CONFIG_STATUS\"" \""$LINENO\"" 5\n-  else\n-    ac_delim=\""$ac_delim!$ac_delim _$ac_delim!! \""\n-  fi\n-done\n-rm -f conf$$subs.sh\n-\n-cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n-cat >>\""\\$ac_tmp/subs1.awk\"" <<\\\\_ACAWK &&\n-_ACEOF\n-sed -n '\n-h\n-s/^/S[\""/; s/!.*/\""]=/\n-p\n-g\n-s/^[^!]*!//\n-:repl\n-t repl\n-s/'\""$ac_delim\""'$//\n-t delim\n-:nl\n-h\n-s/\\(.\\{148\\}\\)..*/\\1/\n-t more1\n-s/[\""\\\\]/\\\\&/g; s/^/\""/; s/$/\\\\n\""\\\\/\n-p\n-n\n-b repl\n-:more1\n-s/[\""\\\\]/\\\\&/g; s/^/\""/; s/$/\""\\\\/\n-p\n-g\n-s/.\\{148\\}//\n-t nl\n-:delim\n-h\n-s/\\(.\\{148\\}\\)..*/\\1/\n-t more2\n-s/[\""\\\\]/\\\\&/g; s/^/\""/; s/$/\""/\n-p\n-b\n-:more2\n-s/[\""\\\\]/\\\\&/g; s/^/\""/; s/$/\""\\\\/\n-p\n-g\n-s/.\\{148\\}//\n-t delim\n-' <conf$$subs.awk | sed '\n-/^[^\""\""]/{\n-  N\n-  s/\\n//\n-}\n-' >>$CONFIG_STATUS || ac_write_fail=1\n-rm -f conf$$subs.awk\n-cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n-_ACAWK\n-cat >>\""\\$ac_tmp/subs1.awk\"" <<_ACAWK &&\n-  for (key in S) S_is_set[key] = 1\n-  FS = \""\u0007\""\n-\n-}\n-{\n-  line = $ 0\n-  nfields = split(line, field, \""@\"")\n-  substed = 0\n-  len = length(field[1])\n-  for (i = 2; i < nfields; i++) {\n-    key = field[i]\n-    keylen = length(key)\n-    if (S_is_set[key]) {\n-      value = S[key]\n-      line = substr(line, 1, len) \""\"" value \""\"" substr(line, len + keylen + 3)\n-      len += length(value) + length(field[++i])\n-      substed = 1\n-    } else\n-      len += 1 + keylen\n-  }\n-\n-  print line\n-}\n-\n-_ACAWK\n-_ACEOF\n-cat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n-if sed \""s/$ac_cr//\"" < /dev/null > /dev/null 2>&1; then\n-  sed \""s/$ac_cr\\$//; s/$ac_cr/$ac_cs_awk_cr/g\""\n-else\n-  cat\n-fi < \""$ac_tmp/subs1.awk\"" > \""$ac_tmp/subs.awk\"" \\\n-  || as_fn_error $? \""could not setup config files machinery\"" \""$LINENO\"" 5\n-_ACEOF\n-\n-# VPATH may cause trouble with some makes, so we remove sole $(srcdir),\n-# ${srcdir} and @srcdir@ entries from VPATH if srcdir is \"".\"", strip leading and\n-# trailing colons and then remove the whole line if VPATH becomes empty\n-# (actually we leave an empty line to preserve line numbers).\n-if test \""x$srcdir\"" = x.; then\n-  ac_vpsub='/^[\t ]*VPATH[\t ]*=[\t ]*/{\n-h\n-s///\n-s/^/:/\n-s/[\t ]*$/:/\n-s/:\\$(srcdir):/:/g\n-s/:\\${srcdir}:/:/g\n-s/:@srcdir@:/:/g\n-s/^:*//\n-s/:*$//\n-x\n-s/\\(=[\t ]*\\).*/\\1/\n-G\n-s/\\n//\n-s/^[^=]*=[\t ]*$//\n-}'\n-fi\n-\n-cat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n-fi # test -n \""$CONFIG_FILES\""\n-\n-# Set up the scripts for CONFIG_HEADERS section.\n-# No need to generate them if there are no CONFIG_HEADERS.\n-# This happens for instance with `./config.status Makefile'.\n-if test -n \""$CONFIG_HEADERS\""; then\n-cat >\""$ac_tmp/defines.awk\"" <<\\_ACAWK ||\n-BEGIN {\n-_ACEOF\n-\n-# Transform confdefs.h into an awk script `defines.awk', embedded as\n-# here-document in config.status, that substitutes the proper values into\n-# config.h.in to produce config.h.\n-\n-# Create a delimiter string that does not exist in confdefs.h, to ease\n-# handling of long lines.\n-ac_delim='%!_!# '\n-for ac_last_try in false false :; do\n-  ac_tt=`sed -n \""/$ac_delim/p\"" confdefs.h`\n-  if test -z \""$ac_tt\""; then\n-    break\n-  elif $ac_last_try; then\n-    as_fn_error $? \""could not make $CONFIG_HEADERS\"" \""$LINENO\"" 5\n-  else\n-    ac_delim=\""$ac_delim!$ac_delim _$ac_delim!! \""\n-  fi\n-done\n-\n-# For the awk script, D is an array of macro values keyed by name,\n-# likewise P contains macro parameters if any.  Preserve backslash\n-# newline sequences.\n-\n-ac_word_re=[_$as_cr_Letters][_$as_cr_alnum]*\n-sed -n '\n-s/.\\{148\\}/&'\""$ac_delim\""'/g\n-t rset\n-:rset\n-s/^[\t ]*#[\t ]*define[\t ][\t ]*/ /\n-t def\n-d\n-:def\n-s/\\\\$//\n-t bsnl\n-s/[\""\\\\]/\\\\&/g\n-s/^ \\('\""$ac_word_re\""'\\)\\(([^()]*)\\)[\t ]*\\(.*\\)/P[\""\\1\""]=\""\\2\""\\\n-D[\""\\1\""]=\"" \\3\""/p\n-s/^ \\('\""$ac_word_re\""'\\)[\t ]*\\(.*\\)/D[\""\\1\""]=\"" \\2\""/p\n-d\n-:bsnl\n-s/[\""\\\\]/\\\\&/g\n-s/^ \\('\""$ac_word_re\""'\\)\\(([^()]*)\\)[\t ]*\\(.*\\)/P[\""\\1\""]=\""\\2\""\\\n-D[\""\\1\""]=\"" \\3\\\\\\\\\\\\n\""\\\\/p\n-t cont\n-s/^ \\('\""$ac_word_re\""'\\)[\t ]*\\(.*\\)/D[\""\\1\""]=\"" \\2\\\\\\\\\\\\n\""\\\\/p\n-t cont\n-d\n-:cont\n-n\n-s/.\\{148\\}/&'\""$ac_delim\""'/g\n-t clear\n-:clear\n-s/\\\\$//\n-t bsnlc\n-s/[\""\\\\]/\\\\&/g; s/^/\""/; s/$/\""/p\n-d\n-:bsnlc\n-s/[\""\\\\]/\\\\&/g; s/^/\""/; s/$/\\\\\\\\\\\\n\""\\\\/p\n-b cont\n-' <confdefs.h | sed '\n-s/'\""$ac_delim\""'/\""\\\\\\\n-\""/g' >>$CONFIG_STATUS || ac_write_fail=1\n-\n-cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n-  for (key in D) D_is_set[key] = 1\n-  FS = \""\u0007\""\n-}\n-/^[\\t ]*#[\\t ]*(define|undef)[\\t ]+$ac_word_re([\\t (]|\\$)/ {\n-  line = \\$ 0\n-  split(line, arg, \"" \"")\n-  if (arg[1] == \""#\"") {\n-    defundef = arg[2]\n-    mac1 = arg[3]\n-  } else {\n-    defundef = substr(arg[1], 2)\n-    mac1 = arg[2]\n-  }\n-  split(mac1, mac2, \""(\"") #)\n-  macro = mac2[1]\n-  prefix = substr(line, 1, index(line, defundef) - 1)\n-  if (D_is_set[macro]) {\n-    # Preserve the white space surrounding the \""#\"".\n-    print prefix \""define\"", macro P[macro] D[macro]\n-    next\n-  } else {\n-    # Replace #undef with comments.  This is necessary, for example,\n-    # in the case of _POSIX_SOURCE, which is predefined and required\n-    # on some systems where configure will not decide to define it.\n-    if (defundef == \""undef\"") {\n-      print \""/*\"", prefix defundef, macro, \""*/\""\n-      next\n-    }\n-  }\n-}\n-{ print }\n-_ACAWK\n-_ACEOF\n-cat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n-  as_fn_error $? \""could not setup config headers machinery\"" \""$LINENO\"" 5\n-fi # test -n \""$CONFIG_HEADERS\""\n-\n-\n-eval set X \""  :F $CONFIG_FILES  :H $CONFIG_HEADERS    :C $CONFIG_COMMANDS\""\n-shift\n-for ac_tag\n-do\n-  case $ac_tag in\n-  :[FHLC]) ac_mode=$ac_tag; continue;;\n-  esac\n-  case $ac_mode$ac_tag in\n-  :[FHL]*:*);;\n-  :L* | :C*:*) as_fn_error $? \""invalid tag \\`$ac_tag'\"" \""$LINENO\"" 5;;\n-  :[FH]-) ac_tag=-:-;;\n-  :[FH]*) ac_tag=$ac_tag:$ac_tag.in;;\n-  esac\n-  ac_save_IFS=$IFS\n-  IFS=:\n-  set x $ac_tag\n-  IFS=$ac_save_IFS\n-  shift\n-  ac_file=$1\n-  shift\n-\n-  case $ac_mode in\n-  :L) ac_source=$1;;\n-  :[FH])\n-    ac_file_inputs=\n-    for ac_f\n-    do\n-      case $ac_f in\n-      -) ac_f=\""$ac_tmp/stdin\"";;\n-      *) # Look for the file first in the build tree, then in the source tree\n-\t # (if the path is not absolute).  The absolute path cannot be DOS-style,\n-\t # because $ac_f cannot contain `:'.\n-\t test -f \""$ac_f\"" ||\n-\t   case $ac_f in\n-\t   [\\\\/$]*) false;;\n-\t   *) test -f \""$srcdir/$ac_f\"" && ac_f=\""$srcdir/$ac_f\"";;\n-\t   esac ||\n-\t   as_fn_error 1 \""cannot find input file: \\`$ac_f'\"" \""$LINENO\"" 5;;\n-      esac\n-      case $ac_f in *\\'*) ac_f=`$as_echo \""$ac_f\"" | sed \""s/'/'\\\\\\\\\\\\\\\\''/g\""`;; esac\n-      as_fn_append ac_file_inputs \"" '$ac_f'\""\n-    done\n-\n-    # Let's still pretend it is `configure' which instantiates (i.e., don't\n-    # use $as_me), people would be surprised to read:\n-    #    /* config.h.  Generated by config.status.  */\n-    configure_input='Generated from '`\n-\t  $as_echo \""$*\"" | sed 's|^[^:]*/||;s|:[^:]*/|, |g'\n-\t`' by configure.'\n-    if test x\""$ac_file\"" != x-; then\n-      configure_input=\""$ac_file.  $configure_input\""\n-      { $as_echo \""$as_me:${as_lineno-$LINENO}: creating $ac_file\"" >&5\n-$as_echo \""$as_me: creating $ac_file\"" >&6;}\n-    fi\n-    # Neutralize special characters interpreted by sed in replacement strings.\n-    case $configure_input in #(\n-    *\\&* | *\\|* | *\\\\* )\n-       ac_sed_conf_input=`$as_echo \""$configure_input\"" |\n-       sed 's/[\\\\\\\\&|]/\\\\\\\\&/g'`;; #(\n-    *) ac_sed_conf_input=$configure_input;;\n-    esac\n-\n-    case $ac_tag in\n-    *:-:* | *:-) cat >\""$ac_tmp/stdin\"" \\\n-      || as_fn_error $? \""could not create $ac_file\"" \""$LINENO\"" 5 ;;\n-    esac\n-    ;;\n-  esac\n-\n-  ac_dir=`$as_dirname -- \""$ac_file\"" ||\n-$as_expr X\""$ac_file\"" : 'X\\(.*[^/]\\)//*[^/][^/]*/*$' \\| \\\n-\t X\""$ac_file\"" : 'X\\(//\\)[^/]' \\| \\\n-\t X\""$ac_file\"" : 'X\\(//\\)$' \\| \\\n-\t X\""$ac_file\"" : 'X\\(/\\)' \\| . 2>/dev/null ||\n-$as_echo X\""$ac_file\"" |\n-    sed '/^X\\(.*[^/]\\)\\/\\/*[^/][^/]*\\/*$/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\/\\)[^/].*/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\/\\)$/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\).*/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  s/.*/./; q'`\n-  as_dir=\""$ac_dir\""; as_fn_mkdir_p\n-  ac_builddir=.\n-\n-case \""$ac_dir\"" in\n-.) ac_dir_suffix= ac_top_builddir_sub=. ac_top_build_prefix= ;;\n-*)\n-  ac_dir_suffix=/`$as_echo \""$ac_dir\"" | sed 's|^\\.[\\\\/]||'`\n-  # A \""..\"" for each directory in $ac_dir_suffix.\n-  ac_top_builddir_sub=`$as_echo \""$ac_dir_suffix\"" | sed 's|/[^\\\\/]*|/..|g;s|/||'`\n-  case $ac_top_builddir_sub in\n-  \""\"") ac_top_builddir_sub=. ac_top_build_prefix= ;;\n-  *)  ac_top_build_prefix=$ac_top_builddir_sub/ ;;\n-  esac ;;\n-esac\n-ac_abs_top_builddir=$ac_pwd\n-ac_abs_builddir=$ac_pwd$ac_dir_suffix\n-# for backward compatibility:\n-ac_top_builddir=$ac_top_build_prefix\n-\n-case $srcdir in\n-  .)  # We are building in place.\n-    ac_srcdir=.\n-    ac_top_srcdir=$ac_top_builddir_sub\n-    ac_abs_top_srcdir=$ac_pwd ;;\n-  [\\\\/]* | ?:[\\\\/]* )  # Absolute name.\n-    ac_srcdir=$srcdir$ac_dir_suffix;\n-    ac_top_srcdir=$srcdir\n-    ac_abs_top_srcdir=$srcdir ;;\n-  *) # Relative name.\n-    ac_srcdir=$ac_top_build_prefix$srcdir$ac_dir_suffix\n-    ac_top_srcdir=$ac_top_build_prefix$srcdir\n-    ac_abs_top_srcdir=$ac_pwd/$srcdir ;;\n-esac\n-ac_abs_srcdir=$ac_abs_top_srcdir$ac_dir_suffix\n-\n-\n-  case $ac_mode in\n-  :F)\n-  #\n-  # CONFIG_FILE\n-  #\n-\n-  case $INSTALL in\n-  [\\\\/$]* | ?:[\\\\/]* ) ac_INSTALL=$INSTALL ;;\n-  *) ac_INSTALL=$ac_top_build_prefix$INSTALL ;;\n-  esac\n-  ac_MKDIR_P=$MKDIR_P\n-  case $MKDIR_P in\n-  [\\\\/$]* | ?:[\\\\/]* ) ;;\n-  */*) ac_MKDIR_P=$ac_top_build_prefix$MKDIR_P ;;\n-  esac\n-_ACEOF\n-\n-cat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n-# If the template does not know about datarootdir, expand it.\n-# FIXME: This hack should be removed a few years after 2.60.\n-ac_datarootdir_hack=; ac_datarootdir_seen=\n-ac_sed_dataroot='\n-/datarootdir/ {\n-  p\n-  q\n-}\n-/@datadir@/p\n-/@docdir@/p\n-/@infodir@/p\n-/@localedir@/p\n-/@mandir@/p'\n-case `eval \""sed -n \\\""\\$ac_sed_dataroot\\\"" $ac_file_inputs\""` in\n-*datarootdir*) ac_datarootdir_seen=yes;;\n-*@datadir@*|*@docdir@*|*@infodir@*|*@localedir@*|*@mandir@*)\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting\"" >&5\n-$as_echo \""$as_me: WARNING: $ac_file_inputs seems to ignore the --datarootdir setting\"" >&2;}\n-_ACEOF\n-cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n-  ac_datarootdir_hack='\n-  s&@datadir@&$datadir&g\n-  s&@docdir@&$docdir&g\n-  s&@infodir@&$infodir&g\n-  s&@localedir@&$localedir&g\n-  s&@mandir@&$mandir&g\n-  s&\\\\\\${datarootdir}&$datarootdir&g' ;;\n-esac\n-_ACEOF\n-\n-# Neutralize VPATH when `$srcdir' = `.'.\n-# Shell code in configure.ac might set extrasub.\n-# FIXME: do we really want to maintain this feature?\n-cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1\n-ac_sed_extra=\""$ac_vpsub\n-$extrasub\n-_ACEOF\n-cat >>$CONFIG_STATUS <<\\_ACEOF || ac_write_fail=1\n-:t\n-/@[a-zA-Z_][a-zA-Z_0-9]*@/!b\n-s|@configure_input@|$ac_sed_conf_input|;t t\n-s&@top_builddir@&$ac_top_builddir_sub&;t t\n-s&@top_build_prefix@&$ac_top_build_prefix&;t t\n-s&@srcdir@&$ac_srcdir&;t t\n-s&@abs_srcdir@&$ac_abs_srcdir&;t t\n-s&@top_srcdir@&$ac_top_srcdir&;t t\n-s&@abs_top_srcdir@&$ac_abs_top_srcdir&;t t\n-s&@builddir@&$ac_builddir&;t t\n-s&@abs_builddir@&$ac_abs_builddir&;t t\n-s&@abs_top_builddir@&$ac_abs_top_builddir&;t t\n-s&@INSTALL@&$ac_INSTALL&;t t\n-s&@MKDIR_P@&$ac_MKDIR_P&;t t\n-$ac_datarootdir_hack\n-\""\n-eval sed \\\""\\$ac_sed_extra\\\"" \""$ac_file_inputs\"" | $AWK -f \""$ac_tmp/subs.awk\"" \\\n-  >$ac_tmp/out || as_fn_error $? \""could not create $ac_file\"" \""$LINENO\"" 5\n-\n-test -z \""$ac_datarootdir_hack$ac_datarootdir_seen\"" &&\n-  { ac_out=`sed -n '/\\${datarootdir}/p' \""$ac_tmp/out\""`; test -n \""$ac_out\""; } &&\n-  { ac_out=`sed -n '/^[\t ]*datarootdir[\t ]*:*=/p' \\\n-      \""$ac_tmp/out\""`; test -z \""$ac_out\""; } &&\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: $ac_file contains a reference to the variable \\`datarootdir'\n-which seems to be undefined.  Please make sure it is defined\"" >&5\n-$as_echo \""$as_me: WARNING: $ac_file contains a reference to the variable \\`datarootdir'\n-which seems to be undefined.  Please make sure it is defined\"" >&2;}\n-\n-  rm -f \""$ac_tmp/stdin\""\n-  case $ac_file in\n-  -) cat \""$ac_tmp/out\"" && rm -f \""$ac_tmp/out\"";;\n-  *) rm -f \""$ac_file\"" && mv \""$ac_tmp/out\"" \""$ac_file\"";;\n-  esac \\\n-  || as_fn_error $? \""could not create $ac_file\"" \""$LINENO\"" 5\n- ;;\n-  :H)\n-  #\n-  # CONFIG_HEADER\n-  #\n-  if test x\""$ac_file\"" != x-; then\n-    {\n-      $as_echo \""/* $configure_input  */\"" \\\n-      && eval '$AWK -f \""$ac_tmp/defines.awk\""' \""$ac_file_inputs\""\n-    } >\""$ac_tmp/config.h\"" \\\n-      || as_fn_error $? \""could not create $ac_file\"" \""$LINENO\"" 5\n-    if diff \""$ac_file\"" \""$ac_tmp/config.h\"" >/dev/null 2>&1; then\n-      { $as_echo \""$as_me:${as_lineno-$LINENO}: $ac_file is unchanged\"" >&5\n-$as_echo \""$as_me: $ac_file is unchanged\"" >&6;}\n-    else\n-      rm -f \""$ac_file\""\n-      mv \""$ac_tmp/config.h\"" \""$ac_file\"" \\\n-\t|| as_fn_error $? \""could not create $ac_file\"" \""$LINENO\"" 5\n-    fi\n-  else\n-    $as_echo \""/* $configure_input  */\"" \\\n-      && eval '$AWK -f \""$ac_tmp/defines.awk\""' \""$ac_file_inputs\"" \\\n-      || as_fn_error $? \""could not create -\"" \""$LINENO\"" 5\n-  fi\n-# Compute \""$ac_file\""'s index in $config_headers.\n-_am_arg=\""$ac_file\""\n-_am_stamp_count=1\n-for _am_header in $config_headers :; do\n-  case $_am_header in\n-    $_am_arg | $_am_arg:* )\n-      break ;;\n-    * )\n-      _am_stamp_count=`expr $_am_stamp_count + 1` ;;\n-  esac\n-done\n-echo \""timestamp for $_am_arg\"" >`$as_dirname -- \""$_am_arg\"" ||\n-$as_expr X\""$_am_arg\"" : 'X\\(.*[^/]\\)//*[^/][^/]*/*$' \\| \\\n-\t X\""$_am_arg\"" : 'X\\(//\\)[^/]' \\| \\\n-\t X\""$_am_arg\"" : 'X\\(//\\)$' \\| \\\n-\t X\""$_am_arg\"" : 'X\\(/\\)' \\| . 2>/dev/null ||\n-$as_echo X\""$_am_arg\"" |\n-    sed '/^X\\(.*[^/]\\)\\/\\/*[^/][^/]*\\/*$/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\/\\)[^/].*/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\/\\)$/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\).*/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  s/.*/./; q'`/stamp-h$_am_stamp_count\n- ;;\n-\n-  :C)  { $as_echo \""$as_me:${as_lineno-$LINENO}: executing $ac_file commands\"" >&5\n-$as_echo \""$as_me: executing $ac_file commands\"" >&6;}\n- ;;\n-  esac\n-\n-\n-  case $ac_file$ac_mode in\n-    \""depfiles\"":C) test x\""$AMDEP_TRUE\"" != x\""\"" || {\n-  # Older Autoconf quotes --file arguments for eval, but not when files\n-  # are listed without --file.  Let's play safe and only enable the eval\n-  # if we detect the quoting.\n-  case $CONFIG_FILES in\n-  *\\'*) eval set x \""$CONFIG_FILES\"" ;;\n-  *)   set x $CONFIG_FILES ;;\n-  esac\n-  shift\n-  for mf\n-  do\n-    # Strip MF so we end up with the name of the file.\n-    mf=`echo \""$mf\"" | sed -e 's/:.*$//'`\n-    # Check whether this is an Automake generated Makefile or not.\n-    # We used to match only the files named 'Makefile.in', but\n-    # some people rename them; so instead we look at the file content.\n-    # Grep'ing the first line is not enough: some people post-process\n-    # each Makefile.in and add a new line on top of each file to say so.\n-    # Grep'ing the whole file is not good either: AIX grep has a line\n-    # limit of 2048, but all sed's we know have understand at least 4000.\n-    if sed -n 's,^#.*generated by automake.*,X,p' \""$mf\"" | grep X >/dev/null 2>&1; then\n-      dirpart=`$as_dirname -- \""$mf\"" ||\n-$as_expr X\""$mf\"" : 'X\\(.*[^/]\\)//*[^/][^/]*/*$' \\| \\\n-\t X\""$mf\"" : 'X\\(//\\)[^/]' \\| \\\n-\t X\""$mf\"" : 'X\\(//\\)$' \\| \\\n-\t X\""$mf\"" : 'X\\(/\\)' \\| . 2>/dev/null ||\n-$as_echo X\""$mf\"" |\n-    sed '/^X\\(.*[^/]\\)\\/\\/*[^/][^/]*\\/*$/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\/\\)[^/].*/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\/\\)$/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\).*/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  s/.*/./; q'`\n-    else\n-      continue\n-    fi\n-    # Extract the definition of DEPDIR, am__include, and am__quote\n-    # from the Makefile without running 'make'.\n-    DEPDIR=`sed -n 's/^DEPDIR = //p' < \""$mf\""`\n-    test -z \""$DEPDIR\"" && continue\n-    am__include=`sed -n 's/^am__include = //p' < \""$mf\""`\n-    test -z \""$am__include\"" && continue\n-    am__quote=`sed -n 's/^am__quote = //p' < \""$mf\""`\n-    # Find all dependency output files, they are included files with\n-    # $(DEPDIR) in their names.  We invoke sed twice because it is the\n-    # simplest approach to changing $(DEPDIR) to its actual value in the\n-    # expansion.\n-    for file in `sed -n \""\n-      s/^$am__include $am__quote\\(.*(DEPDIR).*\\)$am__quote\""'$/\\1/p' <\""$mf\"" | \\\n-\t sed -e 's/\\$(DEPDIR)/'\""$DEPDIR\""'/g'`; do\n-      # Make sure the directory exists.\n-      test -f \""$dirpart/$file\"" && continue\n-      fdir=`$as_dirname -- \""$file\"" ||\n-$as_expr X\""$file\"" : 'X\\(.*[^/]\\)//*[^/][^/]*/*$' \\| \\\n-\t X\""$file\"" : 'X\\(//\\)[^/]' \\| \\\n-\t X\""$file\"" : 'X\\(//\\)$' \\| \\\n-\t X\""$file\"" : 'X\\(/\\)' \\| . 2>/dev/null ||\n-$as_echo X\""$file\"" |\n-    sed '/^X\\(.*[^/]\\)\\/\\/*[^/][^/]*\\/*$/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\/\\)[^/].*/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\/\\)$/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  /^X\\(\\/\\).*/{\n-\t    s//\\1/\n-\t    q\n-\t  }\n-\t  s/.*/./; q'`\n-      as_dir=$dirpart/$fdir; as_fn_mkdir_p\n-      # echo \""creating $dirpart/$file\""\n-      echo '# dummy' > \""$dirpart/$file\""\n-    done\n-  done\n-}\n- ;;\n-    \""libtool\"":C)\n-\n-    # See if we are running on zsh, and set the options which allow our\n-    # commands through without removal of \\ escapes.\n-    if test -n \""${ZSH_VERSION+set}\"" ; then\n-      setopt NO_GLOB_SUBST\n-    fi\n-\n-    cfgfile=\""${ofile}T\""\n-    trap \""$RM \\\""$cfgfile\\\""; exit 1\"" 1 2 15\n-    $RM \""$cfgfile\""\n-\n-    cat <<_LT_EOF >> \""$cfgfile\""\n-#! $SHELL\n-\n-# `$ECHO \""$ofile\"" | sed 's%^.*/%%'` - Provide generalized library-building support services.\n-# Generated automatically by $as_me ($PACKAGE$TIMESTAMP) $VERSION\n-# Libtool was configured on host `(hostname || uname -n) 2>/dev/null | sed 1q`:\n-# NOTE: Changes made to this file will be lost: look at ltmain.sh.\n-#\n-#   Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2003, 2004, 2005,\n-#                 2006, 2007, 2008, 2009, 2010, 2011 Free Software\n-#                 Foundation, Inc.\n-#   Written by Gordon Matzigkeit, 1996\n-#\n-#   This file is part of GNU Libtool.\n-#\n-# GNU Libtool is free software; you can redistribute it and/or\n-# modify it under the terms of the GNU General Public License as\n-# published by the Free Software Foundation; either version 2 of\n-# the License, or (at your option) any later version.\n-#\n-# As a special exception to the GNU General Public License,\n-# if you distribute this file as part of a program or library that\n-# is built using GNU Libtool, you may include this file under the\n-# same distribution terms that you use for the rest of that program.\n-#\n-# GNU Libtool is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-#\n-# You should have received a copy of the GNU General Public License\n-# along with GNU Libtool; see the file COPYING.  If not, a copy\n-# can be downloaded from http://www.gnu.org/licenses/gpl.html, or\n-# obtained by writing to the Free Software Foundation, Inc.,\n-# 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.\n-\n-\n-# The names of the tagged configurations supported by this script.\n-available_tags=\""\""\n-\n-# ### BEGIN LIBTOOL CONFIG\n-\n-# A sed program that does not truncate output.\n-SED=$lt_SED\n-\n-# Sed that helps us avoid accidentally triggering echo(1) options like -n.\n-Xsed=\""\\$SED -e 1s/^X//\""\n-\n-# A grep program that handles long lines.\n-GREP=$lt_GREP\n-\n-# An ERE matcher.\n-EGREP=$lt_EGREP\n-\n-# A literal string matcher.\n-FGREP=$lt_FGREP\n-\n-# Shell to use when invoking shell scripts.\n-SHELL=$lt_SHELL\n-\n-# An echo program that protects backslashes.\n-ECHO=$lt_ECHO\n-\n-# Which release of libtool.m4 was used?\n-macro_version=$macro_version\n-macro_revision=$macro_revision\n-\n-# Assembler program.\n-AS=$lt_AS\n-\n-# DLL creation program.\n-DLLTOOL=$lt_DLLTOOL\n-\n-# Object dumper program.\n-OBJDUMP=$lt_OBJDUMP\n-\n-# Whether or not to build shared libraries.\n-build_libtool_libs=$enable_shared\n-\n-# Whether or not to build static libraries.\n-build_old_libs=$enable_static\n-\n-# What type of objects to build.\n-pic_mode=$pic_mode\n-\n-# Whether or not to optimize for fast installation.\n-fast_install=$enable_fast_install\n-\n-# The PATH separator for the build system.\n-PATH_SEPARATOR=$lt_PATH_SEPARATOR\n-\n-# The host system.\n-host_alias=$host_alias\n-host=$host\n-host_os=$host_os\n-\n-# The build system.\n-build_alias=$build_alias\n-build=$build\n-build_os=$build_os\n-\n-# A BSD- or MS-compatible name lister.\n-NM=$lt_NM\n-\n-# Whether we need soft or hard links.\n-LN_S=$lt_LN_S\n-\n-# What is the maximum length of a command?\n-max_cmd_len=$max_cmd_len\n-\n-# Object file suffix (normally \""o\"").\n-objext=$ac_objext\n-\n-# Executable file suffix (normally \""\"").\n-exeext=$exeext\n-\n-# whether the shell understands \""unset\"".\n-lt_unset=$lt_unset\n-\n-# turn spaces into newlines.\n-SP2NL=$lt_lt_SP2NL\n-\n-# turn newlines into spaces.\n-NL2SP=$lt_lt_NL2SP\n-\n-# convert \\$build file names to \\$host format.\n-to_host_file_cmd=$lt_cv_to_host_file_cmd\n-\n-# convert \\$build files to toolchain format.\n-to_tool_file_cmd=$lt_cv_to_tool_file_cmd\n-\n-# Method to check whether dependent libraries are shared objects.\n-deplibs_check_method=$lt_deplibs_check_method\n-\n-# Command to use when deplibs_check_method = \""file_magic\"".\n-file_magic_cmd=$lt_file_magic_cmd\n-\n-# How to find potential files when deplibs_check_method = \""file_magic\"".\n-file_magic_glob=$lt_file_magic_glob\n-\n-# Find potential files using nocaseglob when deplibs_check_method = \""file_magic\"".\n-want_nocaseglob=$lt_want_nocaseglob\n-\n-# Command to associate shared and link libraries.\n-sharedlib_from_linklib_cmd=$lt_sharedlib_from_linklib_cmd\n-\n-# The archiver.\n-AR=$lt_AR\n-\n-# Flags to create an archive.\n-AR_FLAGS=$lt_AR_FLAGS\n-\n-# How to feed a file listing to the archiver.\n-archiver_list_spec=$lt_archiver_list_spec\n-\n-# A symbol stripping program.\n-STRIP=$lt_STRIP\n-\n-# Commands used to install an old-style archive.\n-RANLIB=$lt_RANLIB\n-old_postinstall_cmds=$lt_old_postinstall_cmds\n-old_postuninstall_cmds=$lt_old_postuninstall_cmds\n-\n-# Whether to use a lock for old archive extraction.\n-lock_old_archive_extraction=$lock_old_archive_extraction\n-\n-# A C compiler.\n-LTCC=$lt_CC\n-\n-# LTCC compiler flags.\n-LTCFLAGS=$lt_CFLAGS\n-\n-# Take the output of nm and produce a listing of raw symbols and C names.\n-global_symbol_pipe=$lt_lt_cv_sys_global_symbol_pipe\n-\n-# Transform the output of nm in a proper C declaration.\n-global_symbol_to_cdecl=$lt_lt_cv_sys_global_symbol_to_cdecl\n-\n-# Transform the output of nm in a C name address pair.\n-global_symbol_to_c_name_address=$lt_lt_cv_sys_global_symbol_to_c_name_address\n-\n-# Transform the output of nm in a C name address pair when lib prefix is needed.\n-global_symbol_to_c_name_address_lib_prefix=$lt_lt_cv_sys_global_symbol_to_c_name_address_lib_prefix\n-\n-# Specify filename containing input files for \\$NM.\n-nm_file_list_spec=$lt_nm_file_list_spec\n-\n-# The root where to search for dependent libraries,and in which our libraries should be installed.\n-lt_sysroot=$lt_sysroot\n-\n-# The name of the directory that contains temporary libtool files.\n-objdir=$objdir\n-\n-# Used to examine libraries when file_magic_cmd begins with \""file\"".\n-MAGIC_CMD=$MAGIC_CMD\n-\n-# Must we lock files when doing compilation?\n-need_locks=$lt_need_locks\n-\n-# Manifest tool.\n-MANIFEST_TOOL=$lt_MANIFEST_TOOL\n-\n-# Tool to manipulate archived DWARF debug symbol files on Mac OS X.\n-DSYMUTIL=$lt_DSYMUTIL\n-\n-# Tool to change global to local symbols on Mac OS X.\n-NMEDIT=$lt_NMEDIT\n-\n-# Tool to manipulate fat objects and archives on Mac OS X.\n-LIPO=$lt_LIPO\n-\n-# ldd/readelf like tool for Mach-O binaries on Mac OS X.\n-OTOOL=$lt_OTOOL\n-\n-# ldd/readelf like tool for 64 bit Mach-O binaries on Mac OS X 10.4.\n-OTOOL64=$lt_OTOOL64\n-\n-# Old archive suffix (normally \""a\"").\n-libext=$libext\n-\n-# Shared library suffix (normally \"".so\"").\n-shrext_cmds=$lt_shrext_cmds\n-\n-# The commands to extract the exported symbol list from a shared archive.\n-extract_expsyms_cmds=$lt_extract_expsyms_cmds\n-\n-# Variables whose values should be saved in libtool wrapper scripts and\n-# restored at link time.\n-variables_saved_for_relink=$lt_variables_saved_for_relink\n-\n-# Do we need the \""lib\"" prefix for modules?\n-need_lib_prefix=$need_lib_prefix\n-\n-# Do we need a version for libraries?\n-need_version=$need_version\n-\n-# Library versioning type.\n-version_type=$version_type\n-\n-# Shared library runtime path variable.\n-runpath_var=$runpath_var\n-\n-# Shared library path variable.\n-shlibpath_var=$shlibpath_var\n-\n-# Is shlibpath searched before the hard-coded library search path?\n-shlibpath_overrides_runpath=$shlibpath_overrides_runpath\n-\n-# Format of library name prefix.\n-libname_spec=$lt_libname_spec\n-\n-# List of archive names.  First name is the real one, the rest are links.\n-# The last name is the one that the linker finds with -lNAME\n-library_names_spec=$lt_library_names_spec\n-\n-# The coded name of the library, if different from the real name.\n-soname_spec=$lt_soname_spec\n-\n-# Permission mode override for installation of shared libraries.\n-install_override_mode=$lt_install_override_mode\n-\n-# Command to use after installation of a shared archive.\n-postinstall_cmds=$lt_postinstall_cmds\n-\n-# Command to use after uninstallation of a shared archive.\n-postuninstall_cmds=$lt_postuninstall_cmds\n-\n-# Commands used to finish a libtool library installation in a directory.\n-finish_cmds=$lt_finish_cmds\n-\n-# As \""finish_cmds\"", except a single script fragment to be evaled but\n-# not shown.\n-finish_eval=$lt_finish_eval\n-\n-# Whether we should hardcode library paths into libraries.\n-hardcode_into_libs=$hardcode_into_libs\n-\n-# Compile-time system search path for libraries.\n-sys_lib_search_path_spec=$lt_sys_lib_search_path_spec\n-\n-# Run-time system search path for libraries.\n-sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec\n-\n-# Whether dlopen is supported.\n-dlopen_support=$enable_dlopen\n-\n-# Whether dlopen of programs is supported.\n-dlopen_self=$enable_dlopen_self\n-\n-# Whether dlopen of statically linked programs is supported.\n-dlopen_self_static=$enable_dlopen_self_static\n-\n-# Commands to strip libraries.\n-old_striplib=$lt_old_striplib\n-striplib=$lt_striplib\n-\n-\n-# The linker used to build libraries.\n-LD=$lt_LD\n-\n-# How to create reloadable object files.\n-reload_flag=$lt_reload_flag\n-reload_cmds=$lt_reload_cmds\n-\n-# Commands used to build an old-style archive.\n-old_archive_cmds=$lt_old_archive_cmds\n-\n-# A language specific compiler.\n-CC=$lt_compiler\n-\n-# Is the compiler the GNU compiler?\n-with_gcc=$GCC\n-\n-# Compiler flag to turn off builtin functions.\n-no_builtin_flag=$lt_lt_prog_compiler_no_builtin_flag\n-\n-# Additional compiler flags for building library objects.\n-pic_flag=$lt_lt_prog_compiler_pic\n-\n-# How to pass a linker flag through the compiler.\n-wl=$lt_lt_prog_compiler_wl\n-\n-# Compiler flag to prevent dynamic linking.\n-link_static_flag=$lt_lt_prog_compiler_static\n-\n-# Does compiler simultaneously support -c and -o options?\n-compiler_c_o=$lt_lt_cv_prog_compiler_c_o\n-\n-# Whether or not to add -lc for building shared libraries.\n-build_libtool_need_lc=$archive_cmds_need_lc\n-\n-# Whether or not to disallow shared libs when runtime libs are static.\n-allow_libtool_libs_with_static_runtimes=$enable_shared_with_static_runtimes\n-\n-# Compiler flag to allow reflexive dlopens.\n-export_dynamic_flag_spec=$lt_export_dynamic_flag_spec\n-\n-# Compiler flag to generate shared objects directly from archives.\n-whole_archive_flag_spec=$lt_whole_archive_flag_spec\n-\n-# Whether the compiler copes with passing no objects directly.\n-compiler_needs_object=$lt_compiler_needs_object\n-\n-# Create an old-style archive from a shared archive.\n-old_archive_from_new_cmds=$lt_old_archive_from_new_cmds\n-\n-# Create a temporary old-style archive to link instead of a shared archive.\n-old_archive_from_expsyms_cmds=$lt_old_archive_from_expsyms_cmds\n-\n-# Commands used to build a shared archive.\n-archive_cmds=$lt_archive_cmds\n-archive_expsym_cmds=$lt_archive_expsym_cmds\n-\n-# Commands used to build a loadable module if different from building\n-# a shared archive.\n-module_cmds=$lt_module_cmds\n-module_expsym_cmds=$lt_module_expsym_cmds\n-\n-# Whether we are building with GNU ld or not.\n-with_gnu_ld=$lt_with_gnu_ld\n-\n-# Flag that allows shared libraries with undefined symbols to be built.\n-allow_undefined_flag=$lt_allow_undefined_flag\n-\n-# Flag that enforces no undefined symbols.\n-no_undefined_flag=$lt_no_undefined_flag\n-\n-# Flag to hardcode \\$libdir into a binary during linking.\n-# This must work even if \\$libdir does not exist\n-hardcode_libdir_flag_spec=$lt_hardcode_libdir_flag_spec\n-\n-# Whether we need a single \""-rpath\"" flag with a separated argument.\n-hardcode_libdir_separator=$lt_hardcode_libdir_separator\n-\n-# Set to \""yes\"" if using DIR/libNAME\\${shared_ext} during linking hardcodes\n-# DIR into the resulting binary.\n-hardcode_direct=$hardcode_direct\n-\n-# Set to \""yes\"" if using DIR/libNAME\\${shared_ext} during linking hardcodes\n-# DIR into the resulting binary and the resulting library dependency is\n-# \""absolute\"",i.e impossible to change by setting \\${shlibpath_var} if the\n-# library is relocated.\n-hardcode_direct_absolute=$hardcode_direct_absolute\n-\n-# Set to \""yes\"" if using the -LDIR flag during linking hardcodes DIR\n-# into the resulting binary.\n-hardcode_minus_L=$hardcode_minus_L\n-\n-# Set to \""yes\"" if using SHLIBPATH_VAR=DIR during linking hardcodes DIR\n-# into the resulting binary.\n-hardcode_shlibpath_var=$hardcode_shlibpath_var\n-\n-# Set to \""yes\"" if building a shared library automatically hardcodes DIR\n-# into the library and all subsequent libraries and executables linked\n-# against it.\n-hardcode_automatic=$hardcode_automatic\n-\n-# Set to yes if linker adds runtime paths of dependent libraries\n-# to runtime path list.\n-inherit_rpath=$inherit_rpath\n-\n-# Whether libtool must link a program against all its dependency libraries.\n-link_all_deplibs=$link_all_deplibs\n-\n-# Set to \""yes\"" if exported symbols are required.\n-always_export_symbols=$always_export_symbols\n-\n-# The commands to list exported symbols.\n-export_symbols_cmds=$lt_export_symbols_cmds\n-\n-# Symbols that should not be listed in the preloaded symbols.\n-exclude_expsyms=$lt_exclude_expsyms\n-\n-# Symbols that must always be exported.\n-include_expsyms=$lt_include_expsyms\n-\n-# Commands necessary for linking programs (against libraries) with templates.\n-prelink_cmds=$lt_prelink_cmds\n-\n-# Commands necessary for finishing linking programs.\n-postlink_cmds=$lt_postlink_cmds\n-\n-# Specify filename containing input files.\n-file_list_spec=$lt_file_list_spec\n-\n-# How to hardcode a shared library path into an executable.\n-hardcode_action=$hardcode_action\n-\n-# ### END LIBTOOL CONFIG\n-\n-_LT_EOF\n-\n-  case $host_os in\n-  aix3*)\n-    cat <<\\_LT_EOF >> \""$cfgfile\""\n-# AIX sometimes has problems with the GCC collect2 program.  For some\n-# reason, if we set the COLLECT_NAMES environment variable, the problems\n-# vanish in a puff of smoke.\n-if test \""X${COLLECT_NAMES+set}\"" != Xset; then\n-  COLLECT_NAMES=\n-  export COLLECT_NAMES\n-fi\n-_LT_EOF\n-    ;;\n-  esac\n-\n-\n-ltmain=\""$ac_aux_dir/ltmain.sh\""\n-\n-\n-  # We use sed instead of cat because bash on DJGPP gets confused if\n-  # if finds mixed CR/LF and LF-only lines.  Since sed operates in\n-  # text mode, it properly converts lines to CR/LF.  This bash problem\n-  # is reportedly fixed, but why not run on old versions too?\n-  sed '$q' \""$ltmain\"" >> \""$cfgfile\"" \\\n-     || (rm -f \""$cfgfile\""; exit 1)\n-\n-  if test x\""$xsi_shell\"" = xyes; then\n-  sed -e '/^func_dirname ()$/,/^} # func_dirname /c\\\n-func_dirname ()\\\n-{\\\n-\\    case ${1} in\\\n-\\      */*) func_dirname_result=\""${1%/*}${2}\"" ;;\\\n-\\      *  ) func_dirname_result=\""${3}\"" ;;\\\n-\\    esac\\\n-} # Extended-shell func_dirname implementation' \""$cfgfile\"" > $cfgfile.tmp \\\n-  && mv -f \""$cfgfile.tmp\"" \""$cfgfile\"" \\\n-    || (rm -f \""$cfgfile\"" && cp \""$cfgfile.tmp\"" \""$cfgfile\"" && rm -f \""$cfgfile.tmp\"")\n-test 0 -eq $? || _lt_function_replace_fail=:\n-\n-\n-  sed -e '/^func_basename ()$/,/^} # func_basename /c\\\n-func_basename ()\\\n-{\\\n-\\    func_basename_result=\""${1##*/}\""\\\n-} # Extended-shell func_basename implementation' \""$cfgfile\"" > $cfgfile.tmp \\\n-  && mv -f \""$cfgfile.tmp\"" \""$cfgfile\"" \\\n-    || (rm -f \""$cfgfile\"" && cp \""$cfgfile.tmp\"" \""$cfgfile\"" && rm -f \""$cfgfile.tmp\"")\n-test 0 -eq $? || _lt_function_replace_fail=:\n-\n-\n-  sed -e '/^func_dirname_and_basename ()$/,/^} # func_dirname_and_basename /c\\\n-func_dirname_and_basename ()\\\n-{\\\n-\\    case ${1} in\\\n-\\      */*) func_dirname_result=\""${1%/*}${2}\"" ;;\\\n-\\      *  ) func_dirname_result=\""${3}\"" ;;\\\n-\\    esac\\\n-\\    func_basename_result=\""${1##*/}\""\\\n-} # Extended-shell func_dirname_and_basename implementation' \""$cfgfile\"" > $cfgfile.tmp \\\n-  && mv -f \""$cfgfile.tmp\"" \""$cfgfile\"" \\\n-    || (rm -f \""$cfgfile\"" && cp \""$cfgfile.tmp\"" \""$cfgfile\"" && rm -f \""$cfgfile.tmp\"")\n-test 0 -eq $? || _lt_function_replace_fail=:\n-\n-\n-  sed -e '/^func_stripname ()$/,/^} # func_stripname /c\\\n-func_stripname ()\\\n-{\\\n-\\    # pdksh 5.2.14 does not do ${X%$Y} correctly if both X and Y are\\\n-\\    # positional parameters, so assign one to ordinary parameter first.\\\n-\\    func_stripname_result=${3}\\\n-\\    func_stripname_result=${func_stripname_result#\""${1}\""}\\\n-\\    func_stripname_result=${func_stripname_result%\""${2}\""}\\\n-} # Extended-shell func_stripname implementation' \""$cfgfile\"" > $cfgfile.tmp \\\n-  && mv -f \""$cfgfile.tmp\"" \""$cfgfile\"" \\\n-    || (rm -f \""$cfgfile\"" && cp \""$cfgfile.tmp\"" \""$cfgfile\"" && rm -f \""$cfgfile.tmp\"")\n-test 0 -eq $? || _lt_function_replace_fail=:\n-\n-\n-  sed -e '/^func_split_long_opt ()$/,/^} # func_split_long_opt /c\\\n-func_split_long_opt ()\\\n-{\\\n-\\    func_split_long_opt_name=${1%%=*}\\\n-\\    func_split_long_opt_arg=${1#*=}\\\n-} # Extended-shell func_split_long_opt implementation' \""$cfgfile\"" > $cfgfile.tmp \\\n-  && mv -f \""$cfgfile.tmp\"" \""$cfgfile\"" \\\n-    || (rm -f \""$cfgfile\"" && cp \""$cfgfile.tmp\"" \""$cfgfile\"" && rm -f \""$cfgfile.tmp\"")\n-test 0 -eq $? || _lt_function_replace_fail=:\n-\n-\n-  sed -e '/^func_split_short_opt ()$/,/^} # func_split_short_opt /c\\\n-func_split_short_opt ()\\\n-{\\\n-\\    func_split_short_opt_arg=${1#??}\\\n-\\    func_split_short_opt_name=${1%\""$func_split_short_opt_arg\""}\\\n-} # Extended-shell func_split_short_opt implementation' \""$cfgfile\"" > $cfgfile.tmp \\\n-  && mv -f \""$cfgfile.tmp\"" \""$cfgfile\"" \\\n-    || (rm -f \""$cfgfile\"" && cp \""$cfgfile.tmp\"" \""$cfgfile\"" && rm -f \""$cfgfile.tmp\"")\n-test 0 -eq $? || _lt_function_replace_fail=:\n-\n-\n-  sed -e '/^func_lo2o ()$/,/^} # func_lo2o /c\\\n-func_lo2o ()\\\n-{\\\n-\\    case ${1} in\\\n-\\      *.lo) func_lo2o_result=${1%.lo}.${objext} ;;\\\n-\\      *)    func_lo2o_result=${1} ;;\\\n-\\    esac\\\n-} # Extended-shell func_lo2o implementation' \""$cfgfile\"" > $cfgfile.tmp \\\n-  && mv -f \""$cfgfile.tmp\"" \""$cfgfile\"" \\\n-    || (rm -f \""$cfgfile\"" && cp \""$cfgfile.tmp\"" \""$cfgfile\"" && rm -f \""$cfgfile.tmp\"")\n-test 0 -eq $? || _lt_function_replace_fail=:\n-\n-\n-  sed -e '/^func_xform ()$/,/^} # func_xform /c\\\n-func_xform ()\\\n-{\\\n-    func_xform_result=${1%.*}.lo\\\n-} # Extended-shell func_xform implementation' \""$cfgfile\"" > $cfgfile.tmp \\\n-  && mv -f \""$cfgfile.tmp\"" \""$cfgfile\"" \\\n-    || (rm -f \""$cfgfile\"" && cp \""$cfgfile.tmp\"" \""$cfgfile\"" && rm -f \""$cfgfile.tmp\"")\n-test 0 -eq $? || _lt_function_replace_fail=:\n-\n-\n-  sed -e '/^func_arith ()$/,/^} # func_arith /c\\\n-func_arith ()\\\n-{\\\n-    func_arith_result=$(( $* ))\\\n-} # Extended-shell func_arith implementation' \""$cfgfile\"" > $cfgfile.tmp \\\n-  && mv -f \""$cfgfile.tmp\"" \""$cfgfile\"" \\\n-    || (rm -f \""$cfgfile\"" && cp \""$cfgfile.tmp\"" \""$cfgfile\"" && rm -f \""$cfgfile.tmp\"")\n-test 0 -eq $? || _lt_function_replace_fail=:\n-\n-\n-  sed -e '/^func_len ()$/,/^} # func_len /c\\\n-func_len ()\\\n-{\\\n-    func_len_result=${#1}\\\n-} # Extended-shell func_len implementation' \""$cfgfile\"" > $cfgfile.tmp \\\n-  && mv -f \""$cfgfile.tmp\"" \""$cfgfile\"" \\\n-    || (rm -f \""$cfgfile\"" && cp \""$cfgfile.tmp\"" \""$cfgfile\"" && rm -f \""$cfgfile.tmp\"")\n-test 0 -eq $? || _lt_function_replace_fail=:\n-\n-fi\n-\n-if test x\""$lt_shell_append\"" = xyes; then\n-  sed -e '/^func_append ()$/,/^} # func_append /c\\\n-func_append ()\\\n-{\\\n-    eval \""${1}+=\\\\${2}\""\\\n-} # Extended-shell func_append implementation' \""$cfgfile\"" > $cfgfile.tmp \\\n-  && mv -f \""$cfgfile.tmp\"" \""$cfgfile\"" \\\n-    || (rm -f \""$cfgfile\"" && cp \""$cfgfile.tmp\"" \""$cfgfile\"" && rm -f \""$cfgfile.tmp\"")\n-test 0 -eq $? || _lt_function_replace_fail=:\n-\n-\n-  sed -e '/^func_append_quoted ()$/,/^} # func_append_quoted /c\\\n-func_append_quoted ()\\\n-{\\\n-\\    func_quote_for_eval \""${2}\""\\\n-\\    eval \""${1}+=\\\\\\\\ \\\\$func_quote_for_eval_result\""\\\n-} # Extended-shell func_append_quoted implementation' \""$cfgfile\"" > $cfgfile.tmp \\\n-  && mv -f \""$cfgfile.tmp\"" \""$cfgfile\"" \\\n-    || (rm -f \""$cfgfile\"" && cp \""$cfgfile.tmp\"" \""$cfgfile\"" && rm -f \""$cfgfile.tmp\"")\n-test 0 -eq $? || _lt_function_replace_fail=:\n-\n-\n-  # Save a `func_append' function call where possible by direct use of '+='\n-  sed -e 's%func_append \\([a-zA-Z_]\\{1,\\}\\) \""%\\1+=\""%g' $cfgfile > $cfgfile.tmp \\\n-    && mv -f \""$cfgfile.tmp\"" \""$cfgfile\"" \\\n-      || (rm -f \""$cfgfile\"" && cp \""$cfgfile.tmp\"" \""$cfgfile\"" && rm -f \""$cfgfile.tmp\"")\n-  test 0 -eq $? || _lt_function_replace_fail=:\n-else\n-  # Save a `func_append' function call even when '+=' is not available\n-  sed -e 's%func_append \\([a-zA-Z_]\\{1,\\}\\) \""%\\1=\""$\\1%g' $cfgfile > $cfgfile.tmp \\\n-    && mv -f \""$cfgfile.tmp\"" \""$cfgfile\"" \\\n-      || (rm -f \""$cfgfile\"" && cp \""$cfgfile.tmp\"" \""$cfgfile\"" && rm -f \""$cfgfile.tmp\"")\n-  test 0 -eq $? || _lt_function_replace_fail=:\n-fi\n-\n-if test x\""$_lt_function_replace_fail\"" = x\"":\""; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: Unable to substitute extended shell functions in $ofile\"" >&5\n-$as_echo \""$as_me: WARNING: Unable to substitute extended shell functions in $ofile\"" >&2;}\n-fi\n-\n-\n-   mv -f \""$cfgfile\"" \""$ofile\"" ||\n-    (rm -f \""$ofile\"" && cp \""$cfgfile\"" \""$ofile\"" && rm -f \""$cfgfile\"")\n-  chmod +x \""$ofile\""\n-\n- ;;\n-    \""libpng-config\"":F) chmod +x libpng-config ;;\n-\n-  esac\n-done # for ac_tag\n-\n-\n-as_fn_exit 0\n-_ACEOF\n-ac_clean_files=$ac_clean_files_save\n-\n-test $ac_write_fail = 0 ||\n-  as_fn_error $? \""write failure creating $CONFIG_STATUS\"" \""$LINENO\"" 5\n-\n-\n-# configure is writing to config.log, and then calls config.status.\n-# config.status does its own redirection, appending to config.log.\n-# Unfortunately, on DOS this fails, as config.log is still kept open\n-# by configure, so config.status won't be able to write to it; its\n-# output is simply discarded.  So we exec the FD to /dev/null,\n-# effectively closing config.log, so it can be properly (re)opened and\n-# appended to by config.status.  When coming back to configure, we\n-# need to make the FD available again.\n-if test \""$no_create\"" != yes; then\n-  ac_cs_success=:\n-  ac_config_status_args=\n-  test \""$silent\"" = yes &&\n-    ac_config_status_args=\""$ac_config_status_args --quiet\""\n-  exec 5>/dev/null\n-  $SHELL $CONFIG_STATUS $ac_config_status_args || ac_cs_success=false\n-  exec 5>>config.log\n-  # Use ||, not &&, to avoid exiting from the if with $? = 1, which\n-  # would make configure fail if this is the last instruction.\n-  $ac_cs_success || as_fn_exit 1\n-fi\n-if test -n \""$ac_unrecognized_opts\"" && test \""$enable_option_checking\"" != no; then\n-  { $as_echo \""$as_me:${as_lineno-$LINENO}: WARNING: unrecognized options: $ac_unrecognized_opts\"" >&5\n-$as_echo \""$as_me: WARNING: unrecognized options: $ac_unrecognized_opts\"" >&2;}\n-fi\n-\n""}<_**next**_>{""filename"": ""configure.ac"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/configure.ac"", ""patch"": ""@@ -18,7 +18,7 @@\n\n \n dnl Version number stuff here:\n \n-AC_INIT([libpng],[1.6.10],[png-mng-implement@lists.sourceforge.net])\n+AC_INIT([libpng],[1.6.20],[png-mng-implement@lists.sourceforge.net])\n AC_CONFIG_MACRO_DIR([scripts])\n \n # libpng does not follow GNU file name conventions (hence 'foreign')\n@@ -39,10 +39,10 @@\n\n dnl AM_PREREQ([1.11.2])\n dnl stop configure from automagically running automake\n \n-PNGLIB_VERSION=1.6.10\n+PNGLIB_VERSION=1.6.20\n PNGLIB_MAJOR=1\n PNGLIB_MINOR=6\n-PNGLIB_RELEASE=10\n+PNGLIB_RELEASE=20\n \n dnl End of version number stuff\n \n@@ -310,7 +310,7 @@\n\n AM_CONDITIONAL([PNG_ARM_NEON],\n    [test \""$enable_arm_neon\"" != 'no' &&\n     case \""$host_cpu\"" in\n-      arm*) :;;\n+      arm*|aarch64*) :;;\n       *)    test \""$enable_arm_neon\"" != '';;\n     esac])\n \n""}<_**next**_>{""filename"": ""contrib/README.txt"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/README.txt"", ""patch"": ""@@ -1,4 +1,5 @@\n\n \n This \""contrib\"" directory contains contributions which are not necessarily under\n the libpng license, although all are open source.  They are not part of\n-libpng proper and are not used for building the library.\n+libpng proper and are not used for building the library, although some are used\n+for testing the library via \""make check\"".\n""}<_**next**_>{""filename"": ""contrib/arm-neon/README"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/arm-neon/README"", ""patch"": ""@@ -1,7 +1,7 @@\n\n OPERATING SYSTEM SPECIFIC ARM NEON DETECTION\n --------------------------------------------\n \n-Detection of the ability to exexcute ARM NEON on an ARM processor requires\n+Detection of the ability to execute ARM NEON on an ARM processor requires\n operating system support.  (The information is not available in user mode.)\n \n HOW TO USE THIS\n""}<_**next**_>{""filename"": ""contrib/arm-neon/linux-auxv.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/arm-neon/linux-auxv.c"", ""patch"": ""@@ -7,7 +7,7 @@\n\n  * This code is released under the libpng license.\n  * For conditions of distribution and use, see the disclaimer\n  * and license in png.h\n- * \n+ *\n  * SEE contrib/arm-neon/README before reporting bugs\n  *\n  * STATUS: COMPILED, TESTED\n""}<_**next**_>{""filename"": ""contrib/arm-neon/linux.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/arm-neon/linux.c"", ""patch"": ""@@ -2,7 +2,7 @@\n\n  *\n  * Copyright (c) 2014 Glenn Randers-Pehrson\n  * Written by John Bowler, 2014.\n- * Last changed in libpng 1.6.10 [March 6, 2014]\n+ * Last changed in libpng 1.6.16 [December 22, 2014]\n  *\n  * This code is released under the libpng license.\n  * For conditions of distribution and use, see the disclaimer\n@@ -16,8 +16,8 @@\n\n  * png_have_neon implemented for Linux by reading the widely available\n  * pseudo-file /proc/cpuinfo.\n  *\n- * This code is strict ANSI-C and is probably moderately portable, it does\n- * however use <stdio.h> and assumes that /proc/cpuinfo is never localized.\n+ * This code is strict ANSI-C and is probably moderately portable; it does\n+ * however use <stdio.h> and it assumes that /proc/cpuinfo is never localized.\n  */\n #include <stdio.h>\n \n@@ -72,7 +72,7 @@\n\n                      state = Colon;\n                   break;\n                }\n-               \n+\n                /* did not match 'feature' */\n                state = SkipLine;\n                /* FALL THROUGH */\n@@ -152,8 +152,10 @@\n\n       }\n    }\n \n+#ifdef PNG_WARNINGS_SUPPORTED\n    else\n       png_warning(png_ptr, \""/proc/cpuinfo open failed\"");\n+#endif\n \n    return 0;\n }\n""}<_**next**_>{""filename"": ""contrib/examples/iccfrompng.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/examples/iccfrompng.c"", ""patch"": ""@@ -26,6 +26,10 @@\n\n \n #include <png.h>\n \n+#if defined(PNG_READ_SUPPORTED) && defined(PNG_STDIO_SUPPORTED) && \\\n+    defined (PNG_iCCP_SUPPORTED)\n+\n+\n static int verbose = 1;\n static png_byte no_profile[] = \""no profile\"";\n \n@@ -178,3 +182,4 @@\n\n    /* Exit code is true if any extract succeeds */\n    return extracted == 0;\n }\n+#endif /* READ && STDIO && iCCP */\n""}<_**next**_>{""filename"": ""contrib/examples/pngpixel.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/examples/pngpixel.c"", ""patch"": ""@@ -27,6 +27,8 @@\n\n  */\n #include \""../../png.h\""\n \n+#if defined(PNG_READ_SUPPORTED) && defined(PNG_SEQUENTIAL_READ_SUPPORTED)\n+\n /* Return component 'c' of pixel 'x' from the given row. */\n static unsigned int\n component(png_const_bytep row, png_uint_32 x, unsigned int c,\n@@ -85,7 +87,7 @@\n\n        */\n       case PNG_COLOR_TYPE_PALETTE:\n          {\n-            PNG_CONST unsigned int index = component(row, x, 0, bit_depth, 1);\n+            PNG_CONST int index = component(row, x, 0, bit_depth, 1);\n             png_colorp palette = NULL;\n             int num_palette = 0;\n \n@@ -366,3 +368,4 @@\n\n \n    return result;\n }\n+#endif /* READ && SEQUENTIAL_READ */\n""}<_**next**_>{""filename"": ""contrib/examples/pngtopng.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/examples/pngtopng.c"", ""patch"": ""@@ -20,6 +20,8 @@\n\n  * ensure the code picks up the local libpng implementation:\n  */\n #include \""../../png.h\""\n+#if defined(PNG_SIMPLIFIED_READ_SUPPORTED) && \\\n+    defined(PNG_SIMPLIFIED_WRITE_SUPPORTED)\n \n int main(int argc, const char **argv)\n {\n@@ -90,3 +92,4 @@\n\n \n    return result;\n }\n+#endif /* READ && WRITE */\n""}<_**next**_>{""filename"": ""contrib/examples/simpleover.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/examples/simpleover.c"", ""patch"": ""@@ -0,0 +1,648 @@\n\n+/*- simpleover\n+ *\n+ * COPYRIGHT: Written by John Cunningham Bowler, 2015.\n+ * To the extent possible under law, the author has waived all copyright and\n+ * related or neighboring rights to this work.  This work is published from:\n+ * United States.\n+ *\n+ * Read several PNG files, which should have an alpha channel or transparency\n+ * information, and composite them together to produce one or more 16-bit linear\n+ * RGBA intermediates.  This involves doing the correct 'over' composition to\n+ * combine the alpha channels and corresponding data.\n+ *\n+ * Finally read an output (background) PNG using the 24-bit RGB format (the\n+ * PNG will be composited on green (#00ff00) by default if it has an alpha\n+ * channel), and apply the intermediate image generated above to specified\n+ * locations in the image.\n+ *\n+ * The command line has the general format:\n+ *\n+ *    simpleover <background.png> [output.png]\n+ *        {--sprite=width,height,name {[--at=x,y] {sprite.png}}}\n+ *        {--add=name {x,y}}\n+ *\n+ * The --sprite and --add options may occur multiple times. They are executed\n+ * in order.  --add may refer to any sprite already read.\n+ *\n+ * This code is intended to show how to composite multiple images together\n+ * correctly.  Apart from the libpng Simplified API the only work done in here\n+ * is to combine multiple input PNG images into a single sprite; this involves\n+ * a Porter-Duff 'over' operation and the input PNG images may, as a result,\n+ * be regarded as being layered one on top of the other with the first (leftmost\n+ * on the command line) being at the bottom and the last on the top.\n+ */\n+#include <stddef.h>\n+#include <stdlib.h>\n+#include <string.h>\n+#include <stdio.h>\n+#include <errno.h>\n+\n+/* Normally use <png.h> here to get the installed libpng, but this is done to\n+ * ensure the code picks up the local libpng implementation, so long as this\n+ * file is linked against a sufficiently recent libpng (1.6+) it is ok to\n+ * change this to <png.h>:\n+ */\n+#include \""../../png.h\""\n+\n+#ifdef PNG_SIMPLIFIED_READ_SUPPORTED\n+\n+#define sprite_name_chars 15\n+struct sprite {\n+   FILE         *file;\n+   png_uint_16p  buffer;\n+   unsigned int  width;\n+   unsigned int  height;\n+   char          name[sprite_name_chars+1];\n+};\n+\n+#if 0 /* div by 65535 test program */\n+#include <math.h>\n+#include <stdio.h>\n+\n+int main(void) {\n+   double err = 0;\n+   unsigned int xerr = 0;\n+   unsigned int r = 32769;\n+   {\n+      unsigned int x = 0;\n+\n+      do {\n+         unsigned int t = x + (x >> 16) /*+ (x >> 31)*/ + r;\n+         double v = x, errtest;\n+\n+         if (t < x) {\n+            fprintf(stderr, \""overflow: %u+%u -> %u\\n\"", x, r, t);\n+            return 1;\n+         }\n+\n+         v /= 65535;\n+         errtest = v;\n+         t >>= 16;\n+         errtest -= t;\n+\n+         if (errtest > err) {\n+            err = errtest;\n+            xerr = x;\n+\n+            if (errtest >= .5) {\n+               fprintf(stderr, \""error: %u/65535 = %f, not %u, error %f\\n\"",\n+                     x, v, t, errtest);\n+               return 0;\n+            }\n+         }\n+      } while (++x <= 65535U*65535U);\n+   }\n+\n+   printf(\""error %f @ %u\\n\"", err, xerr);\n+\n+   return 0;\n+}\n+#endif /* div by 65535 test program */\n+\n+static void\n+sprite_op(const struct sprite *sprite, int x_offset, int y_offset,\n+   png_imagep image, const png_uint_16 *buffer)\n+{\n+   /* This is where the Porter-Duff 'Over' operator is evaluated; change this\n+    * code to change the operator (this could be parameterized).  Any other\n+    * image processing operation could be used here.\n+    */\n+\n+\n+   /* Check for an x or y offset that pushes any part of the image beyond the\n+    * right or bottom of the sprite:\n+    */\n+   if ((y_offset < 0 || (unsigned)/*SAFE*/y_offset < sprite->height) &&\n+       (x_offset < 0 || (unsigned)/*SAFE*/x_offset < sprite->width))\n+   {\n+      unsigned int y = 0;\n+\n+      if (y_offset < 0)\n+         y = -y_offset; /* Skip to first visible row */\n+\n+      do\n+      {\n+         unsigned int x = 0;\n+\n+         if (x_offset < 0)\n+            x = -x_offset;\n+\n+         do\n+         {\n+            /* In and out are RGBA values, so: */\n+            const png_uint_16 *in_pixel = buffer + (y * image->width + x)*4;\n+            png_uint_32 in_alpha = in_pixel[3];\n+\n+            /* This is the optimized Porter-Duff 'Over' operation, when the\n+             * input alpha is 0 the output is not changed.\n+             */\n+            if (in_alpha > 0)\n+            {\n+               png_uint_16 *out_pixel = sprite->buffer +\n+                  ((y+y_offset) * sprite->width + (x+x_offset))*4;\n+\n+               /* This is the weight to apply to the output: */\n+               in_alpha = 65535-in_alpha;\n+\n+               if (in_alpha > 0)\n+               {\n+                  /* The input must be composed onto the output. This means\n+                   * multiplying the current output pixel value by the inverse\n+                   * of the input alpha (1-alpha). A division is required but\n+                   * it is by the constant 65535.  Approximate this as:\n+                   *\n+                   *     (x + (x >> 16) + 32769) >> 16;\n+                   *\n+                   * This is exact (and does not overflow) for all values of\n+                   * x in the range 0..65535*65535.  (Note that the calculation\n+                   * produces the closest integer; the maximum error is <0.5).\n+                   */\n+                  png_uint_32 tmp;\n+\n+#                 define compose(c)\\\n+                     tmp = out_pixel[c] * in_alpha;\\\n+                     tmp = (tmp + (tmp >> 16) + 32769) >> 16;\\\n+                     out_pixel[c] = tmp + in_pixel[c]\n+\n+                  /* The following is very vectorizable... */\n+                  compose(0);\n+                  compose(1);\n+                  compose(2);\n+                  compose(3);\n+               }\n+\n+               else\n+                  out_pixel[0] = in_pixel[0],\n+                  out_pixel[1] = in_pixel[1],\n+                  out_pixel[2] = in_pixel[2],\n+                  out_pixel[3] = in_pixel[3];\n+            }\n+         }\n+         while (++x < image->width);\n+      }\n+      while (++y < image->height);\n+   }\n+}\n+\n+static int\n+create_sprite(struct sprite *sprite, int *argc, const char ***argv)\n+{\n+   /* Read the arguments and create this sprite. The sprite buffer has already\n+    * been allocated. This reads the input PNGs one by one in linear format,\n+    * composes them onto the sprite buffer (the code in the function above)\n+    * then saves the result, converting it on the fly to PNG RGBA 8-bit format.\n+    */\n+   while (*argc > 0)\n+   {\n+      char tombstone;\n+      int x = 0, y = 0;\n+\n+      if ((*argv)[0][0] == '-' && (*argv)[0][1] == '-')\n+      {\n+         /* The only supported option is --at. */\n+         if (sscanf((*argv)[0], \""--at=%d,%d%c\"", &x, &y, &tombstone) != 2)\n+            break; /* success; caller will parse this option */\n+\n+         ++*argv, --*argc;\n+      }\n+\n+      else\n+      {\n+         /* The argument has to be a file name */\n+         png_image image;\n+\n+         image.version = PNG_IMAGE_VERSION;\n+         image.opaque = NULL;\n+\n+         if (png_image_begin_read_from_file(&image, (*argv)[0]))\n+         {\n+            png_uint_16p buffer;\n+\n+            image.format = PNG_FORMAT_LINEAR_RGB_ALPHA;\n+\n+            buffer = malloc(PNG_IMAGE_SIZE(image));\n+\n+            if (buffer != NULL)\n+            {\n+               if (png_image_finish_read(&image, NULL/*background*/, buffer,\n+                  0/*row_stride*/,\n+                  NULL/*colormap for PNG_FORMAT_FLAG_COLORMAP*/))\n+               {\n+                  /* This is the place where the Porter-Duff 'Over' operator\n+                   * needs to be done by this code.  In fact, any image\n+                   * processing required can be done here; the data is in\n+                   * the correct format (linear, 16-bit) and source and\n+                   * destination are in memory.\n+                   */\n+                  sprite_op(sprite, x, y, &image, buffer);\n+                  free(buffer);\n+                  ++*argv, --*argc;\n+                  /* And continue to the next argument */\n+                  continue;\n+               }\n+\n+               else\n+               {\n+                  free(buffer);\n+                  fprintf(stderr, \""simpleover: read %s: %s\\n\"", (*argv)[0],\n+                      image.message);\n+               }\n+            }\n+\n+            else\n+            {\n+               fprintf(stderr, \""simpleover: out of memory: %lu bytes\\n\"",\n+                  (unsigned long)PNG_IMAGE_SIZE(image));\n+\n+               /* png_image_free must be called if we abort the Simplified API\n+                * read because of a problem detected in this code.  If problems\n+                * are detected in the Simplified API it cleans up itself.\n+                */\n+               png_image_free(&image);\n+            }\n+         }\n+\n+         else\n+         {\n+            /* Failed to read the first argument: */\n+            fprintf(stderr, \""simpleover: %s: %s\\n\"", (*argv)[0], image.message);\n+         }\n+\n+         return 0; /* failure */\n+      }\n+   }\n+\n+   /* All the sprite operations have completed successfully. Save the RGBA\n+    * buffer as a PNG using the simplified write API.\n+    */\n+   sprite->file = tmpfile();\n+\n+   if (sprite->file != NULL)\n+   {\n+      png_image save;\n+\n+      memset(&save, 0, sizeof save);\n+      save.version = PNG_IMAGE_VERSION;\n+      save.opaque = NULL;\n+      save.width = sprite->width;\n+      save.height = sprite->height;\n+      save.format = PNG_FORMAT_LINEAR_RGB_ALPHA;\n+      save.flags = PNG_IMAGE_FLAG_FAST;\n+      save.colormap_entries = 0;\n+\n+      if (png_image_write_to_stdio(&save, sprite->file, 1/*convert_to_8_bit*/,\n+          sprite->buffer, 0/*row_stride*/, NULL/*colormap*/))\n+      {\n+         /* Success; the buffer is no longer needed: */\n+         free(sprite->buffer);\n+         sprite->buffer = NULL;\n+         return 1; /* ok */\n+      }\n+\n+      else\n+         fprintf(stderr, \""simpleover: write sprite %s: %s\\n\"", sprite->name,\n+            save.message);\n+   }\n+\n+   else\n+      fprintf(stderr, \""simpleover: sprite %s: could not allocate tmpfile: %s\\n\"",\n+         sprite->name, strerror(errno));\n+\n+   return 0; /* fail */\n+}\n+\n+static int\n+add_sprite(png_imagep output, png_bytep out_buf, struct sprite *sprite,\n+   int *argc, const char ***argv)\n+{\n+   /* Given a --add argument naming this sprite, perform the operations listed\n+    * in the following arguments.  The arguments are expected to have the form\n+    * (x,y), which is just an offset at which to add the sprite to the\n+    * output.\n+    */\n+   while (*argc > 0)\n+   {\n+      char tombstone;\n+      int x, y;\n+\n+      if ((*argv)[0][0] == '-' && (*argv)[0][1] == '-')\n+         return 1; /* success */\n+\n+      if (sscanf((*argv)[0], \""%d,%d%c\"", &x, &y, &tombstone) == 2)\n+      {\n+         /* Now add the new image into the sprite data, but only if it\n+          * will fit.\n+          */\n+         if (x < 0 || y < 0 ||\n+             (unsigned)/*SAFE*/x >= output->width ||\n+             (unsigned)/*SAFE*/y >= output->height ||\n+             sprite->width > output->width-x ||\n+             sprite->height > output->height-y)\n+         {\n+            fprintf(stderr, \""simpleover: sprite %s @ (%d,%d) outside image\\n\"",\n+               sprite->name, x, y);\n+            /* Could just skip this, but for the moment it is an error */\n+            return 0; /* error */\n+         }\n+\n+         else\n+         {\n+            /* Since we know the sprite fits we can just read it into the\n+             * output using the simplified API.\n+             */\n+            png_image in;\n+\n+            in.version = PNG_IMAGE_VERSION;\n+            rewind(sprite->file);\n+\n+            if (png_image_begin_read_from_stdio(&in, sprite->file))\n+            {\n+               in.format = PNG_FORMAT_RGB; /* force compose */\n+\n+               if (png_image_finish_read(&in, NULL/*background*/,\n+                  out_buf + (y*output->width + x)*3/*RGB*/,\n+                  output->width*3/*row_stride*/,\n+                  NULL/*colormap for PNG_FORMAT_FLAG_COLORMAP*/))\n+               {\n+                  ++*argv, --*argc;\n+                  continue;\n+               }\n+            }\n+\n+            /* The read failed: */\n+            fprintf(stderr, \""simpleover: add sprite %s: %s\\n\"", sprite->name,\n+                in.message);\n+            return 0; /* error */\n+         }\n+      }\n+\n+      else\n+      {\n+         fprintf(stderr, \""simpleover: --add='%s': invalid position %s\\n\"",\n+               sprite->name, (*argv)[0]);\n+         return 0; /* error */\n+      }\n+   }\n+\n+   return 1; /* ok */\n+}\n+\n+static int\n+simpleover_process(png_imagep output, png_bytep out_buf, int argc,\n+   const char **argv)\n+{\n+   int result = 1; /* success */\n+#  define csprites 10/*limit*/\n+#  define str(a) #a\n+   int nsprites = 0;\n+   struct sprite sprites[csprites];\n+\n+   while (argc > 0)\n+   {\n+      result = 0; /* fail */\n+\n+      if (strncmp(argv[0], \""--sprite=\"", 9) == 0)\n+      {\n+         char tombstone;\n+\n+         if (nsprites < csprites)\n+         {\n+            int n;\n+\n+            sprites[nsprites].width = sprites[nsprites].height = 0;\n+            sprites[nsprites].name[0] = 0;\n+\n+            n = sscanf(argv[0], \""--sprite=%u,%u,%\"" str(sprite_name_chars) \""s%c\"",\n+                &sprites[nsprites].width, &sprites[nsprites].height,\n+                sprites[nsprites].name, &tombstone);\n+\n+            if ((n == 2 || n == 3) &&\n+                sprites[nsprites].width > 0 && sprites[nsprites].height > 0)\n+            {\n+               size_t buf_size, tmp;\n+\n+               /* Default a name if not given. */\n+               if (sprites[nsprites].name[0] == 0)\n+                  sprintf(sprites[nsprites].name, \""sprite-%d\"", nsprites+1);\n+\n+               /* Allocate a buffer for the sprite and calculate the buffer\n+                * size:\n+                */\n+               buf_size = sizeof (png_uint_16 [4]);\n+               buf_size *= sprites[nsprites].width;\n+               buf_size *= sprites[nsprites].height;\n+\n+               /* This can overflow a (size_t); check for this: */\n+               tmp = buf_size;\n+               tmp /= sprites[nsprites].width;\n+               tmp /= sprites[nsprites].height;\n+\n+               if (tmp == sizeof (png_uint_16 [4]))\n+               {\n+                  sprites[nsprites].buffer = malloc(buf_size);\n+                  /* This buffer must be initialized to transparent: */\n+                  memset(sprites[nsprites].buffer, 0, buf_size);\n+\n+                  if (sprites[nsprites].buffer != NULL)\n+                  {\n+                     sprites[nsprites].file = NULL;\n+                     ++argv, --argc;\n+\n+                     if (create_sprite(sprites+nsprites++, &argc, &argv))\n+                     {\n+                        result = 1; /* still ok */\n+                        continue;\n+                     }\n+\n+                     break; /* error */\n+                  }\n+               }\n+\n+               /* Overflow, or OOM */\n+               fprintf(stderr, \""simpleover: %s: sprite too large\\n\"", argv[0]);\n+               break;\n+            }\n+\n+            else\n+            {\n+               fprintf(stderr, \""simpleover: %s: invalid sprite (%u,%u)\\n\"",\n+                  argv[0], sprites[nsprites].width, sprites[nsprites].height);\n+               break;\n+            }\n+         }\n+\n+         else\n+         {\n+            fprintf(stderr, \""simpleover: %s: too many sprites\\n\"", argv[0]);\n+            break;\n+         }\n+      }\n+\n+      else if (strncmp(argv[0], \""--add=\"", 6) == 0)\n+      {\n+         const char *name = argv[0]+6;\n+         int isprite = nsprites;\n+\n+         ++argv, --argc;\n+\n+         while (--isprite >= 0)\n+         {\n+            if (strcmp(sprites[isprite].name, name) == 0)\n+            {\n+               if (!add_sprite(output, out_buf, sprites+isprite, &argc, &argv))\n+                  goto out; /* error in add_sprite */\n+\n+               break;\n+            }\n+         }\n+\n+         if (isprite < 0) /* sprite not found */\n+         {\n+            fprintf(stderr, \""simpleover: --add='%s': sprite not found\\n\"", name);\n+            break;\n+         }\n+      }\n+\n+      else\n+      {\n+         fprintf(stderr, \""simpleover: %s: unrecognized operation\\n\"", argv[0]);\n+         break;\n+      }\n+\n+      result = 1; /* ok  */\n+   }\n+\n+   /* Clean up the cache of sprites: */\n+out:\n+   while (--nsprites >= 0)\n+   {\n+      if (sprites[nsprites].buffer != NULL)\n+         free(sprites[nsprites].buffer);\n+\n+      if (sprites[nsprites].file != NULL)\n+         (void)fclose(sprites[nsprites].file);\n+   }\n+\n+   return result;\n+}\n+\n+int main(int argc, const char **argv)\n+{\n+   int result = 1; /* default to fail */\n+\n+   if (argc >= 2)\n+   {\n+      int argi = 2;\n+      const char *output = NULL;\n+      png_image image;\n+\n+      if (argc > 2 && argv[2][0] != '-'/*an operation*/)\n+      {\n+         output = argv[2];\n+         argi = 3;\n+      }\n+\n+      image.version = PNG_IMAGE_VERSION;\n+      image.opaque = NULL;\n+\n+      if (png_image_begin_read_from_file(&image, argv[1]))\n+      {\n+         png_bytep buffer;\n+\n+         image.format = PNG_FORMAT_RGB; /* 24-bit RGB */\n+\n+         buffer = malloc(PNG_IMAGE_SIZE(image));\n+\n+         if (buffer != NULL)\n+         {\n+            png_color background = {0, 0xff, 0}; /* fully saturated green */\n+\n+            if (png_image_finish_read(&image, &background, buffer,\n+               0/*row_stride*/, NULL/*colormap for PNG_FORMAT_FLAG_COLORMAP */))\n+            {\n+               /* At this point png_image_finish_read has cleaned up the\n+                * allocated data in png_image, and only the buffer needs to be\n+                * freed.\n+                *\n+                * Perform the remaining operations:\n+                */\n+               if (simpleover_process(&image, buffer, argc-argi, argv+argi))\n+               {\n+                  /* Write the output: */\n+                  if ((output != NULL &&\n+                       png_image_write_to_file(&image, output,\n+                        0/*convert_to_8bit*/, buffer, 0/*row_stride*/,\n+                        NULL/*colormap*/)) ||\n+                      (output == NULL &&\n+                       png_image_write_to_stdio(&image, stdout,\n+                        0/*convert_to_8bit*/, buffer, 0/*row_stride*/,\n+                        NULL/*colormap*/)))\n+                     result = 0;\n+\n+                  else\n+                     fprintf(stderr, \""simpleover: write %s: %s\\n\"",\n+                        output == NULL ? \""stdout\"" : output, image.message);\n+               }\n+\n+               /* else simpleover_process writes an error message */\n+            }\n+\n+            else\n+               fprintf(stderr, \""simpleover: read %s: %s\\n\"", argv[1],\n+                   image.message);\n+\n+            free(buffer);\n+         }\n+\n+         else\n+         {\n+            fprintf(stderr, \""simpleover: out of memory: %lu bytes\\n\"",\n+               (unsigned long)PNG_IMAGE_SIZE(image));\n+\n+            /* This is the only place where a 'free' is required; libpng does\n+             * the cleanup on error and success, but in this case we couldn't\n+             * complete the read because of running out of memory.\n+             */\n+            png_image_free(&image);\n+         }\n+      }\n+\n+      else\n+      {\n+         /* Failed to read the first argument: */\n+         fprintf(stderr, \""simpleover: %s: %s\\n\"", argv[1], image.message);\n+      }\n+   }\n+\n+   else\n+   {\n+      /* Usage message */\n+      fprintf(stderr,\n+         \""simpleover: usage: simpleover background.png [output.png]\\n\""\n+         \""  Output 'background.png' as a 24-bit RGB PNG file in 'output.png'\\n\""\n+         \""   or, if not given, stdout.  'background.png' will be composited\\n\""\n+         \""   on fully saturated green.\\n\""\n+         \""\\n\""\n+         \""  Optionally, before output, process additional PNG files:\\n\""\n+         \""\\n\""\n+         \""   --sprite=width,height,name {[--at=x,y] {sprite.png}}\\n\""\n+         \""    Produce a transparent sprite of size (width,height) and with\\n\""\n+         \""     name 'name'.\\n\""\n+         \""    For each sprite.png composite it using a Porter-Duff 'Over'\\n\""\n+         \""     operation at offset (x,y) in the sprite (defaulting to (0,0)).\\n\""\n+         \""     Input PNGs will be truncated to the area of the sprite.\\n\""\n+         \""\\n\""\n+         \""   --add='name' {x,y}\\n\""\n+         \""    Optionally, before output, composite a sprite, 'name', which\\n\""\n+         \""     must have been previously produced using --sprite, at each\\n\""\n+         \""     offset (x,y) in the output image.  Each sprite must fit\\n\""\n+         \""     completely within the output image.\\n\""\n+         \""\\n\""\n+         \""  PNG files are processed in the order they occur on the command\\n\""\n+         \""  line and thus the first PNG processed appears as the bottommost\\n\""\n+         \""  in the output image.\\n\"");\n+   }\n+\n+   return result;\n+}\n+#endif /* SIMPLIFIED_READ */\n""}<_**next**_>{""filename"": ""contrib/gregbook/Makefile.unx"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/gregbook/Makefile.unx"", ""patch"": ""@@ -59,15 +59,16 @@\n\n RLIBSd = $(PNGLIBd) $(ZLIBd) $(XLIB) -lm\n RLIBSs = $(PNGLIBs) $(ZLIBs) $(XLIB) -lm\n WLIBSd = $(PNGLIBd) $(ZLIBd) -lm\n-WLIBSs = $(PNGLIBs) $(ZLIBs)\n+WLIBSs = $(PNGLIBs) $(ZLIBs) -lm\n \n CC = gcc\n LD = gcc\n RM = rm -f\n CPPFLAGS = $(INCS) -DFEATURE_LOOP\n CFLAGS = -O -Wall\n+#CFLAGS = -O -W -Wall -Wextra -pedantic -ansi\n # [note that -Wall is a gcc-specific compilation flag (\""most warnings on\"")]\n-# [-ansi, -pedantic and -W can also be used]\n+# [-ansi, -pedantic, -Wextra, and -W can also be used]\n LDFLAGS =\n O = .o\n E =\n""}<_**next**_>{""filename"": ""contrib/gregbook/readpng.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/gregbook/readpng.c"", ""patch"": ""@@ -100,7 +100,8 @@\n\n \n     /* could pass pointers to user-defined error handlers instead of NULLs: */\n \n-    png_ptr = png_create_read_struct(PNG_LIBPNG_VER_STRING, NULL, NULL, NULL);\n+    png_ptr = png_create_read_struct(png_get_libpng_ver(NULL), NULL, NULL,\n+        NULL);\n     if (!png_ptr)\n         return 4;   /* out of memory */\n \n""}<_**next**_>{""filename"": ""contrib/gregbook/readpng2.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/gregbook/readpng2.c"", ""patch"": ""@@ -4,7 +4,7 @@\n\n \n   ---------------------------------------------------------------------------\n \n-      Copyright (c) 1998-2007 Greg Roelofs.  All rights reserved.\n+      Copyright (c) 1998-2015 Greg Roelofs.  All rights reserved.\n \n       This software is provided \""as is,\"" without warranty of any kind,\n       express or implied.  In no event shall the author or contributors\n@@ -51,6 +51,11 @@\n\n       along with this program; if not, write to the Free Software Foundation,\n       Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n \n+  ---------------------------------------------------------------------------\n+\n+   Changelog:\n+     %RDATE% - Check return value of png_get_bKGD() (Glenn R-P)\n+\n   ---------------------------------------------------------------------------*/\n \n \n@@ -104,7 +109,7 @@\n\n \n     /* could also replace libpng warning-handler (final NULL), but no need: */\n \n-    png_ptr = png_create_read_struct(PNG_LIBPNG_VER_STRING, mainprog_ptr,\n+    png_ptr = png_create_read_struct(png_get_libpng_ver(NULL), mainprog_ptr,\n       readpng2_error_handler, readpng2_warning_handler);\n     if (!png_ptr)\n         return 4;   /* out of memory */\n@@ -261,36 +266,38 @@\n\n     /* since we know we've read all of the PNG file's \""header\"" (i.e., up\n      * to IDAT), we can check for a background color here */\n \n-    if (mainprog_ptr->need_bgcolor &&\n-        png_get_valid(png_ptr, info_ptr, PNG_INFO_bKGD))\n+    if (mainprog_ptr->need_bgcolor)\n     {\n         png_color_16p pBackground;\n \n         /* it is not obvious from the libpng documentation, but this function\n          * takes a pointer to a pointer, and it always returns valid red,\n          * green and blue values, regardless of color_type: */\n-        png_get_bKGD(png_ptr, info_ptr, &pBackground);\n+        if (png_get_bKGD(png_ptr, info_ptr, &pBackground))\n+        {\n \n-        /* however, it always returns the raw bKGD data, regardless of any\n-         * bit-depth transformations, so check depth and adjust if necessary */\n-        if (bit_depth == 16) {\n-            mainprog_ptr->bg_red   = pBackground->red   >> 8;\n-            mainprog_ptr->bg_green = pBackground->green >> 8;\n-            mainprog_ptr->bg_blue  = pBackground->blue  >> 8;\n-        } else if (color_type == PNG_COLOR_TYPE_GRAY && bit_depth < 8) {\n-            if (bit_depth == 1)\n-                mainprog_ptr->bg_red = mainprog_ptr->bg_green =\n-                  mainprog_ptr->bg_blue = pBackground->gray? 255 : 0;\n-            else if (bit_depth == 2)\n-                mainprog_ptr->bg_red = mainprog_ptr->bg_green =\n-                  mainprog_ptr->bg_blue = (255/3) * pBackground->gray;\n-            else /* bit_depth == 4 */\n-                mainprog_ptr->bg_red = mainprog_ptr->bg_green =\n-                  mainprog_ptr->bg_blue = (255/15) * pBackground->gray;\n-        } else {\n-            mainprog_ptr->bg_red   = (uch)pBackground->red;\n-            mainprog_ptr->bg_green = (uch)pBackground->green;\n-            mainprog_ptr->bg_blue  = (uch)pBackground->blue;\n+           /* however, it always returns the raw bKGD data, regardless of any\n+            * bit-depth transformations, so check depth and adjust if necessary\n+            */\n+           if (bit_depth == 16) {\n+               mainprog_ptr->bg_red   = pBackground->red   >> 8;\n+               mainprog_ptr->bg_green = pBackground->green >> 8;\n+               mainprog_ptr->bg_blue  = pBackground->blue  >> 8;\n+           } else if (color_type == PNG_COLOR_TYPE_GRAY && bit_depth < 8) {\n+               if (bit_depth == 1)\n+                   mainprog_ptr->bg_red = mainprog_ptr->bg_green =\n+                     mainprog_ptr->bg_blue = pBackground->gray? 255 : 0;\n+               else if (bit_depth == 2)\n+                   mainprog_ptr->bg_red = mainprog_ptr->bg_green =\n+                     mainprog_ptr->bg_blue = (255/3) * pBackground->gray;\n+               else /* bit_depth == 4 */\n+                   mainprog_ptr->bg_red = mainprog_ptr->bg_green =\n+                     mainprog_ptr->bg_blue = (255/15) * pBackground->gray;\n+           } else {\n+               mainprog_ptr->bg_red   = (uch)pBackground->red;\n+               mainprog_ptr->bg_green = (uch)pBackground->green;\n+               mainprog_ptr->bg_blue  = (uch)pBackground->blue;\n+           }\n         }\n     }\n \n@@ -448,6 +455,8 @@\n\n \n     /* all done */\n \n+    (void)info_ptr; /* Unused */\n+\n     return;\n }\n \n@@ -472,6 +481,7 @@\n\n {\n     fprintf(stderr, \""readpng2 libpng warning: %s\\n\"", msg);\n     fflush(stderr);\n+    (void)png_ptr; /* Unused */\n }\n \n \n""}<_**next**_>{""filename"": ""contrib/gregbook/readppm.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/gregbook/readppm.c"", ""patch"": ""@@ -163,8 +163,12 @@\n\n \n     /* now we can go ahead and just read the whole image */\n \n-    fread(image_data, 1L, rowbytes*height, saved_infile);\n-\n+    if (fread(image_data, 1L, rowbytes*height, saved_infile) <\n+       rowbytes*height) {\n+        free (image_data);\n+        image_data = NULL;\n+        return NULL;\n+    }\n \n     return image_data;\n }\n""}<_**next**_>{""filename"": ""contrib/gregbook/rpng-x.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/gregbook/rpng-x.c"", ""patch"": ""@@ -26,6 +26,8 @@\n\n     - 1.14:  added support for X resources (thanks to Gerhard Niklasch)\n     - 2.00:  dual-licensed (added GNU GPL)\n     - 2.01:  fixed improper display of usage screen on PNG error(s)\n+    - 2.02:  Added \""void(argc);\"" statement to quiet pedantic compiler warnings\n+             about unused variable (GR-P)\n \n   ---------------------------------------------------------------------------\n \n@@ -80,7 +82,7 @@\n\n \n #define PROGNAME  \""rpng-x\""\n #define LONGNAME  \""Simple PNG Viewer for X\""\n-#define VERSION   \""2.01 of 16 March 2008\""\n+#define VERSION   \""2.02 of 15 June 2014\""\n #define RESNAME   \""rpng\""        /* our X resource application name */\n #define RESCLASS  \""Rpng\""        /* our X resource class name */\n \n@@ -279,15 +281,17 @@\n\n           \""Usage:  %s [-display xdpy] [-gamma exp] [-bgcolor bg] file.png\\n\""\n           \""    xdpy\\tname of the target X display (e.g., ``hostname:0'')\\n\""\n           \""    exp \\ttransfer-function exponent (``gamma'') of the display\\n\""\n-          \""\\t\\t  system in floating-point format (e.g., ``%.1f''); equal\\n\""\n+          \""\\t\\t  system in floating-point format (e.g., ``%.1f''); equal\\n\"",\n+          PROGNAME, default_display_exponent);\n+\n+        fprintf(stderr, \""\\n\""\n           \""\\t\\t  to the product of the lookup-table exponent (varies)\\n\""\n           \""\\t\\t  and the CRT exponent (usually 2.2); must be positive\\n\""\n           \""    bg  \\tdesired background color in 7-character hex RGB format\\n\""\n           \""\\t\\t  (e.g., ``#ff7700'' for orange:  same as HTML colors);\\n\""\n           \""\\t\\t  used with transparent images\\n\""\n           \""\\nPress Q, Esc or mouse button 1 (within image window, after image\\n\""\n-          \""is displayed) to quit.\\n\""\n-          \""\\n\"", PROGNAME, default_display_exponent);\n+          \""is displayed) to quit.\\n\"");\n         exit(1);\n     }\n \n@@ -419,6 +423,8 @@\n\n \n     rpng_x_cleanup();\n \n+    (void)argc; /* Unused */\n+\n     return 0;\n }\n \n""}<_**next**_>{""filename"": ""contrib/gregbook/rpng2-win.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/gregbook/rpng2-win.c"", ""patch"": ""@@ -33,6 +33,8 @@\n\n     - 2.02:  fixed improper display of usage screen on PNG error(s); fixed\n               unexpected-EOF and file-read-error cases\n     - 2.03:  removed runtime MMX-enabling/disabling and obsolete -mmx* options\n+    - 2.04:\n+             (GR-P)\n \n   ---------------------------------------------------------------------------\n \n""}<_**next**_>{""filename"": ""contrib/gregbook/rpng2-x.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/gregbook/rpng2-x.c"", ""patch"": ""@@ -41,10 +41,12 @@\n\n               unexpected-EOF and file-read-error cases; fixed Trace() cut-and-\n               paste bugs\n     - 2.03:  deleted runtime MMX-enabling/disabling and obsolete -mmx* options\n-\n+    - 2.04:  Added \""void(foo);\"" statements to quiet pedantic compiler warnings\n+             about unused variables (GR-P)\n+    - 2.05:  Use nanosleep() instead of usleep(), which is deprecated (GR-P).\n   ---------------------------------------------------------------------------\n \n-      Copyright (c) 1998-2008 Greg Roelofs.  All rights reserved.\n+      Copyright (c) 1998-2010, 2014-2015 Greg Roelofs.  All rights reserved.\n \n       This software is provided \""as is,\"" without warranty of any kind,\n       express or implied.  In no event shall the author or contributors\n@@ -95,7 +97,7 @@\n\n \n #define PROGNAME  \""rpng2-x\""\n #define LONGNAME  \""Progressive PNG Viewer for X\""\n-#define VERSION   \""2.03 of 25 February 2010\""\n+#define VERSION   \""2.04 of 15 June 2014\""\n #define RESNAME   \""rpng2\""       /* our X resource application name */\n #define RESCLASS  \""Rpng\""       /* our X resource class name */\n \n@@ -111,6 +113,19 @@\n\n #include <X11/Xos.h>\n #include <X11/keysym.h>   /* defines XK_* macros */\n \n+#if _POSIX_C_SOURCE >= 199309L /* have nanosleep() */\n+# undef usleep\n+# define usleep(usec) {        \\\n+   struct timespec ts;         \\\n+   ts.tv_sec = 0;              \\\n+   ts.tv_nsec = (usec) * 1000; \\\n+   nanosleep(&ts, NULL); }\n+#  endif\n+\n+#ifndef usleep /* have neither nanosleep() nor usleep() */\n+#  define usleep(x) sleep(((x)+499999)/1000000)\n+#endif\n+\n #ifdef VMS\n #  include <unistd.h>\n #endif\n@@ -456,40 +471,47 @@\n\n         fprintf(stderr, \""\\n%s %s:  %s\\n\\n\"", PROGNAME, VERSION, appname);\n         readpng2_version_info();\n         fprintf(stderr, \""\\n\""\n-          \""Usage:  %s [-display xdpy] [-gamma exp] [-bgcolor bg | -bgpat pat]\\n\""\n+          \""Usage:   \"");\n+        fprintf(stderr,\n+          \""%s [-display xdpy] [-gamma exp] [-bgcolor bg | -bgpat pat]\\n\""\n+          \""        %*s [-usleep dur | -timing] [-pause]\\n\"",\n+          PROGNAME, (int)strlen(PROGNAME), \"" \"");\n+        fprintf(stderr,\n #ifdef FEATURE_LOOP\n-          \""        %*s [-usleep dur | -timing] [-pause] [-loop [sec]] file.png\\n\\n\""\n-#else\n-          \""        %*s [-usleep dur | -timing] [-pause] file.png\\n\\n\""\n+          \""        [-loop [sec]]\""\n #endif\n+          \"" file.png\\n\\n\"");\n+        fprintf(stderr,\n           \""    xdpy\\tname of the target X display (e.g., ``hostname:0'')\\n\""\n           \""    exp \\ttransfer-function exponent (``gamma'') of the display\\n\""\n           \""\\t\\t  system in floating-point format (e.g., ``%.1f''); equal\\n\""\n-          \""\\t\\t  to the product of the lookup-table exponent (varies)\\n\""\n+          \""\\t\\t  to the product of the lookup-table exponent (varies)\\n\"",\n+          default_display_exponent);\n+        fprintf(stderr,\n           \""\\t\\t  and the CRT exponent (usually 2.2); must be positive\\n\""\n           \""    bg  \\tdesired background color in 7-character hex RGB format\\n\""\n           \""\\t\\t  (e.g., ``#ff7700'' for orange:  same as HTML colors);\\n\""\n           \""\\t\\t  used with transparent images; overrides -bgpat\\n\""\n           \""    pat \\tdesired background pattern number (0-%d); used with\\n\""\n-          \""\\t\\t  transparent images; overrides -bgcolor\\n\""\n+          \""\\t\\t  transparent images; overrides -bgcolor\\n\"",\n+          num_bgpat-1);\n #ifdef FEATURE_LOOP\n+        fprintf(stderr,\n           \""    -loop\\tloops through background images after initial display\\n\""\n           \""\\t\\t  is complete (depends on -bgpat)\\n\""\n-          \""    sec \\tseconds to display each background image (default = 2)\\n\""\n+          \""    sec \\tseconds to display each background image (default = 2)\\n\"");\n #endif\n+        fprintf(stderr,\n           \""    dur \\tduration in microseconds to wait after displaying each\\n\""\n           \""\\t\\t  row (for demo purposes)\\n\""\n           \""    -timing\\tenables delay for every block read, to simulate modem\\n\""\n           \""\\t\\t  download of image (~36 Kbps)\\n\""\n           \""    -pause\\tpauses after displaying each pass until mouse clicked\\n\""\n           \""\\nPress Q, Esc or mouse button 1 (within image window, after image\\n\""\n-          \""is displayed) to quit.\\n\""\n-          \""\\n\"", PROGNAME,\n-          (int)strlen(PROGNAME), \"" \"", default_display_exponent, num_bgpat-1);\n+          \""is displayed) to quit.\\n\"");\n         exit(1);\n     }\n \n-\n     if (!(infile = fopen(filename, \""rb\""))) {\n         fprintf(stderr, PROGNAME \"":  can't open PNG file [%s]\\n\"", filename);\n         ++error;\n@@ -735,6 +757,8 @@\n\n     Trace((stderr, \""about to call rpng2_x_cleanup()\\n\""))\n     rpng2_x_cleanup();\n \n+    (void)argc; /* Unused */\n+\n     return 0;\n }\n \n@@ -1826,6 +1850,9 @@\n\n         XFlush(display);\n     }\n \n+    (void)startcol;\n+    (void)width;\n+\n } /* end function rpng2_x_redisplay_image() */\n \n \n""}<_**next**_>{""filename"": ""contrib/gregbook/writepng.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/gregbook/writepng.c"", ""patch"": ""@@ -90,7 +90,7 @@\n\n \n     /* could also replace libpng warning-handler (final NULL), but no need: */\n \n-    png_ptr = png_create_write_struct(PNG_LIBPNG_VER_STRING, mainprog_ptr,\n+    png_ptr = png_create_write_struct(png_get_libpng_ver(NULL), mainprog_ptr,\n       writepng_error_handler, NULL);\n     if (!png_ptr)\n         return 4;   /* out of memory */\n""}<_**next**_>{""filename"": ""contrib/libtests/fakepng.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/libtests/fakepng.c"", ""patch"": ""@@ -1,4 +1,12 @@\n\n-/* Fake a PNG - just write it out directly. */\n+/* Fake a PNG - just write it out directly.\n+ *\n+ * COPYRIGHT: Written by John Cunningham Bowler, 2014.\n+ * To the extent possible under law, the author has waived all copyright and\n+ * related or neighboring rights to this work.  This work is published from:\n+ * United States.\n+ *\n+ */\n+\n #include <stdio.h>\n #include <zlib.h> /* for crc32 */\n \n@@ -52,6 +60,6 @@\n\n    fwrite(signature, sizeof signature, 1, stdout);\n    put_chunk(IHDR, sizeof IHDR);\n \n-   for(;;)\n+   for (;;)\n       put_chunk(unknown, sizeof unknown);\n }\n""}<_**next**_>{""filename"": ""contrib/libtests/makepng.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/libtests/makepng.c"", ""patch"": ""@@ -1,8 +1,9 @@\n\n-/* makepng.c\n- *\n- * Copyright (c) 2013 John Cunningham Bowler\n- *\n- * Last changed in libpng 1.6.1 [March 28, 2013]\n+/* makepng.c */\n+#define _ISOC99_SOURCE\n+/* Copyright: */\n+#define COPYRIGHT \""\\251 2013,2015 John Cunningham Bowler\""\n+/*\n+ * Last changed in libpng 1.7.0 [(PENDING RELEASE)]\n  *\n  * This code is released under the libpng license.\n  * For conditions of distribution and use, see the disclaimer\n@@ -10,8 +11,8 @@\n\n  *\n  * Make a test PNG image.  The arguments are as follows:\n  *\n- *  makepng [--sRGB|--linear|--1.8] [--color=<color>] color-type bit-depth \\\n- *      [file-name]\n+ *    makepng [--sRGB|--linear|--1.8] [--tRNS] [--nofilters] \\\n+ *       color-type bit-depth [file-name]\n  *\n  * The color-type may be numeric (and must match the numbers used by the PNG\n  * specification) or one of the format names listed below.  The bit-depth is the\n@@ -39,8 +40,8 @@\n\n  * 4 channels: linear combinations of, from the top-left corner clockwise,\n  *    transparent, red, green, blue.\n  *\n- * For color-mapped images a four channel color-map is used and the PNG file has\n- * a tRNS chunk, as follows:\n+ * For color-mapped images a four channel color-map is used and if --tRNS is\n+ * given the PNG file has a tRNS chunk, as follows:\n  *\n  * 1-bit: entry 0 is transparent-red, entry 1 is opaque-white\n  * 2-bit: entry 0: transparent-green\n@@ -53,6 +54,9 @@\n\n  * The palette always has 2^bit-depth entries and the tRNS chunk one fewer.  The\n  * image is the 1-channel diamond, but using palette index, not luminosity.\n  *\n+ * For formats other than color-mapped ones if --tRNS is specified a tRNS chunk\n+ * is generated with all channels equal to the low bits of 0x0101.\n+ *\n  * Image size is determined by the final pixel depth in bits, i.e. channels x\n  * bit-depth, as follows:\n  *\n@@ -60,20 +64,64 @@\n\n  * 16 bits:           256x256\n  * More than 16 bits: 1024x1024\n  *\n- * Row filtering is turned off (the 'none' filter is used on every row) and the\n- * images are not interlaced.\n+ * Row filtering is the libpng default but may be turned off (the 'none' filter\n+ * is used on every row) with the --nofilters option.\n+ *\n+ * The images are not interlaced.\n+ *\n+ * If file-name is given then the PNG is written to that file, else it is\n+ * written to stdout.  Notice that stdout is not supported on systems where, by\n+ * default, it assumes text output; this program makes no attempt to change the\n+ * text mode of stdout!\n+ *\n+ *    makepng --color=<color> ...\n  *\n  * If --color is given then the whole image has that color, color-mapped images\n  * will have exactly one palette entry and all image files with be 16x16 in\n  * size.  The color value is 1 to 4 decimal numbers as appropriate for the color\n  * type.\n  *\n- * If file-name is given then the PNG is written to that file, else it is\n- * written to stdout.  Notice that stdout is not supported on systems where, by\n- * default, it assumes text output; this program makes no attempt to change the\n- * text mode of stdout!\n+ *    makepng --small ...\n+ *\n+ * If --small is given the images are no larger than required to include every\n+ * possible pixel value for the format.\n+ *\n+ * For formats with pixels 8 bits or fewer in size the images consist of a\n+ * single row with 2^pixel-depth pixels, one of every possible value.\n+ *\n+ * For formats with 16-bit pixels a 256x256 image is generated containing every\n+ * possible pixel value.\n+ *\n+ * For larger pixel sizes a 256x256 image is generated where the first row\n+ * consists of each pixel that has identical byte values throughout the pixel\n+ * followed by rows where the byte values differ within the pixel.\n+ *\n+ * In all cases the pixel values are arranged in such a way that the SUB and UP\n+ * filters give byte sequences for maximal zlib compression.  By default (if\n+ * --nofilters is not given) the SUB filter is used on the first row and the UP\n+ * filter on all following rows.\n+ *\n+ * The --small option is meant to provide good test-case coverage, however the\n+ * images are not easy to examine visually.  Without the --small option the\n+ * images contain identical color values; the pixel values are adjusted\n+ * according to the gamma encoding with no gamma encoding being interpreted as\n+ * sRGB.\n+ *\n+ * LICENSING\n+ * =========\n+ *\n+ * This code is copyright of the authors, see the COPYRIGHT define above.  The\n+ * code is licensed as above, using the libpng license.  The code generates\n+ * images which are solely the product of the code; the options choose which of\n+ * the many possibilities to generate.  The images that result (but not the code\n+ * which generates them) are licensed as defined here:\n+ *\n+ * IMPORTANT: the COPYRIGHT #define must contain ISO-Latin-1 characters, the\n+ * IMAGE_LICENSING #define must contain UTF-8 characters.  The 'copyright'\n+ * symbol 0xA9U (\\251) in ISO-Latin-1 encoding and 0xC20xA9 (\\302\\251) in UTF-8.\n  */\n-#define _ISOC99_SOURCE /* for strtoull */\n+#define IMAGE_LICENSING \""Dedicated to the public domain per Creative Commons \""\\\n+    \""license \\\""CC0 1.0\\\""; https://creativecommons.org/publicdomain/zero/1.0/\""\n \n #include <stddef.h> /* for offsetof */\n #include <stdlib.h>\n@@ -82,6 +130,8 @@\n\n #include <ctype.h>\n #include <math.h>\n #include <errno.h>\n+#include <assert.h>\n+#include <stdint.h>\n \n #if defined(HAVE_CONFIG_H) && !defined(PNG_NO_CONFIG_H)\n #  include <config.h>\n@@ -96,6 +146,25 @@\n\n #  include \""../../png.h\""\n #endif\n \n+#include <zlib.h>\n+\n+/* Work round for GCC complaints about casting a (double) function result to\n+ * an unsigned:\n+ */\n+static unsigned int\n+flooru(double d)\n+{\n+   d = floor(d);\n+   return (unsigned int)d;\n+}\n+\n+static png_byte\n+floorb(double d)\n+{\n+   d = floor(d);\n+   return (png_byte)d;\n+}\n+\n /* This structure is used for inserting extra chunks (the --insert argument, not\n  * documented above.)\n  */\n@@ -107,7 +176,7 @@\n\n    png_charp            parameters[1];\n } chunk_insert;\n \n-static int\n+static unsigned int\n channels_of_type(int color_type)\n {\n    if (color_type & PNG_COLOR_MASK_PALETTE)\n@@ -128,14 +197,15 @@\n\n    }\n }\n \n-static int\n+static unsigned int\n pixel_depth_of_type(int color_type, int bit_depth)\n {\n    return channels_of_type(color_type) * bit_depth;\n }\n \n static unsigned int\n-image_size_of_type(int color_type, int bit_depth, unsigned int *colors)\n+image_size_of_type(int color_type, int bit_depth, unsigned int *colors,\n+   int small)\n {\n    if (*colors)\n       return 16;\n@@ -144,7 +214,16 @@\n\n    {\n       int pixel_depth = pixel_depth_of_type(color_type, bit_depth);\n \n-      if (pixel_depth < 8)\n+      if (small)\n+      {\n+         if (pixel_depth <= 8) /* there will be one row */\n+            return 1 << pixel_depth;\n+\n+         else\n+            return 256;\n+      }\n+\n+      else if (pixel_depth < 8)\n          return 64;\n \n       else if (pixel_depth > 16)\n@@ -217,7 +296,8 @@\n\n          else\n          {\n             unsigned int size = 1U << (bit_depth/2); /* 2, 4 or 16 */\n-            unsigned int x, y, ip;\n+            unsigned int x, y;\n+            volatile unsigned int ip = 0;\n \n             for (x=0; x<size; ++x) for (y=0; y<size; ++y)\n             {\n@@ -281,7 +361,7 @@\n\n                exit(1);\n \n             case 16:\n-               value = (unsigned int)floor(65535*pow(value/65535.,conv)+.5);\n+               value = flooru(65535*pow(value/65535.,conv)+.5);\n                *row++ = (png_byte)(value >> 8);\n                *row = (png_byte)value;\n                return;\n@@ -306,15 +386,148 @@\n\n    }\n }\n \n-static void\n+static int /* filter mask for row */\n generate_row(png_bytep row, size_t rowbytes, unsigned int y, int color_type,\n    int bit_depth, png_const_bytep gamma_table, double conv,\n-   unsigned int *colors)\n+   unsigned int *colors, int small)\n {\n-   png_uint_32 size_max = image_size_of_type(color_type, bit_depth, colors)-1;\n+   int filters = 0; /* file *MASK*, 0 means the default, not NONE */\n+   png_uint_32 size_max =\n+      image_size_of_type(color_type, bit_depth, colors, small)-1;\n    png_uint_32 depth_max = (1U << bit_depth)-1; /* up to 65536 */\n \n-   if (colors[0] == 0) switch (channels_of_type(color_type))\n+   if (colors[0] == 0) if (small)\n+   {\n+      unsigned int pixel_depth = pixel_depth_of_type(color_type, bit_depth);\n+\n+      /* For pixel depths less than 16 generate a single row containing all the\n+       * possible pixel values.  For 16 generate all 65536 byte pair\n+       * combinations in a 256x256 pixel array.\n+       */\n+      switch (pixel_depth)\n+      {\n+         case 1:\n+            assert(y == 0 && rowbytes == 1 && size_max == 1);\n+            row[0] = 0x6CU; /* binary: 01101100, only top 2 bits used */\n+            filters = PNG_FILTER_NONE;\n+            break;\n+\n+         case 2:\n+            assert(y == 0 && rowbytes == 1 && size_max == 3);\n+            row[0] = 0x1BU; /* binary 00011011, all bits used */\n+            filters = PNG_FILTER_NONE;\n+            break;\n+\n+         case 4:\n+            assert(y == 0 && rowbytes == 8 && size_max == 15);\n+            row[0] = 0x01U;\n+            row[1] = 0x23U; /* SUB gives 0x22U for all following bytes */\n+            row[2] = 0x45U;\n+            row[3] = 0x67U;\n+            row[4] = 0x89U;\n+            row[5] = 0xABU;\n+            row[6] = 0xCDU;\n+            row[7] = 0xEFU;\n+            filters = PNG_FILTER_SUB;\n+            break;\n+\n+         case 8:\n+            /* The row will have all the pixel values in order starting with\n+             * '1', the SUB filter will change every byte into '1' (including\n+             * the last, which generates pixel value '0').  Since the SUB filter\n+             * has value 1 this should result in maximum compression.\n+             */\n+            assert(y == 0 && rowbytes == 256 && size_max == 255);\n+            for (;;)\n+            {\n+               row[size_max] = 0xFFU & (size_max+1);\n+               if (size_max == 0)\n+                  break;\n+               --size_max;\n+            }\n+            filters = PNG_FILTER_SUB;\n+            break;\n+\n+         case 16:\n+            /* Rows are generated such that each row has a constant difference\n+             * between the first and second byte of each pixel and so that the\n+             * difference increases by 1 at each row.  The rows start with the\n+             * first byte value of 0 and the value increases to 255 across the\n+             * row.\n+             *\n+             * The difference starts at 1, so the first row is:\n+             *\n+             *     0 1 1 2 2 3 3 4 ... 254 255 255 0\n+             *\n+             * This means that running the SUB filter on the first row produces:\n+             *\n+             *   [SUB==1] 0 1 0 1 0 1...\n+             *\n+             * Then the difference is 2 on the next row, giving:\n+             *\n+             *    0 2 1 3 2 4 3 5 ... 254 0 255 1\n+             *\n+             * When the UP filter is run on this libpng produces:\n+             *\n+             *   [UP ==2] 0 1 0 1 0 1...\n+             *\n+             * And so on for all the remain rows to the final two * rows:\n+             *\n+             *    row 254: 0 255 1 0 2 1 3 2 4 3 ... 254 253 255 254\n+             *    row 255: 0   0 1 1 2 2 3 3 4 4 ... 254 254 255 255\n+             */\n+            assert(rowbytes == 512 && size_max == 255);\n+            for (;;)\n+            {\n+               row[2*size_max  ] = 0xFFU & size_max;\n+               row[2*size_max+1] = 0xFFU & (size_max+y+1);\n+               if (size_max == 0)\n+                  break;\n+               --size_max;\n+            }\n+            /* The first row must include PNG_FILTER_UP so that libpng knows we\n+             * need to keep it for the following row:\n+             */\n+            filters = (y == 0 ? PNG_FILTER_SUB+PNG_FILTER_UP : PNG_FILTER_UP);\n+            break;\n+\n+         case 24:\n+         case 32:\n+         case 48:\n+         case 64:\n+            /* The rows are filled by an alogorithm similar to the above, in the\n+             * first row pixel bytes are all equal, increasing from 0 by 1 for\n+             * each pixel.  In the second row the bytes within a pixel are\n+             * incremented 1,3,5,7,... from the previous row byte.  Using an odd\n+             * number ensures all the possible byte values are used.\n+             */\n+            assert(size_max == 255 && rowbytes == 256*(pixel_depth>>3));\n+            pixel_depth >>= 3; /* now in bytes */\n+            while (rowbytes > 0)\n+            {\n+               const size_t pixel_index = --rowbytes/pixel_depth;\n+\n+               if (y == 0)\n+                  row[rowbytes] = 0xFFU & pixel_index;\n+\n+               else\n+               {\n+                  const size_t byte_offset =\n+                     rowbytes - pixel_index * pixel_depth;\n+\n+                  row[rowbytes] =\n+                     0xFFU & (pixel_index + (byte_offset * 2*y) + 1);\n+               }\n+            }\n+            filters = (y == 0 ? PNG_FILTER_SUB+PNG_FILTER_UP : PNG_FILTER_UP);\n+            break;\n+\n+         default:\n+            assert(0/*NOT REACHED*/);\n+      }\n+   }\n+\n+   else switch (channels_of_type(color_type))\n    {\n    /* 1 channel: a square image with a diamond, the least luminous colors are on\n     *    the edge of the image, the most luminous in the center.\n@@ -526,6 +739,8 @@\n\n          colors[0], channels_of_type(color_type));\n       exit(1);\n    }\n+\n+   return filters;\n }\n \n \n@@ -554,7 +769,7 @@\n\n static int /* 0 on success, else an error code */\n write_png(const char **name, FILE *fp, int color_type, int bit_depth,\n    volatile png_fixed_point gamma, chunk_insert * volatile insert,\n-   unsigned int filters, unsigned int *colors)\n+   unsigned int filters, unsigned int *colors, int small, int tRNS)\n {\n    png_structp png_ptr = png_create_write_struct(PNG_LIBPNG_VER_STRING,\n       name, makepng_error, makepng_warning);\n@@ -581,6 +796,15 @@\n\n \n    /* Allow benign errors so that we can write PNGs with errors */\n    png_set_benign_errors(png_ptr, 1/*allowed*/);\n+\n+   /* Max out the text compression level in an attempt to make the license\n+    * small.   If --small then do the same for the IDAT.\n+    */\n+   if (small)\n+      png_set_compression_level(png_ptr, Z_BEST_COMPRESSION);\n+\n+   png_set_text_compression_level(png_ptr, Z_BEST_COMPRESSION);\n+\n    png_init_io(png_ptr, fp);\n \n    info_ptr = png_create_info_struct(png_ptr);\n@@ -588,11 +812,37 @@\n\n       png_error(png_ptr, \""OOM allocating info structure\"");\n \n    {\n-      unsigned int size = image_size_of_type(color_type, bit_depth, colors);\n+      const unsigned int size =\n+         image_size_of_type(color_type, bit_depth, colors, small);\n+      unsigned int ysize;\n       png_fixed_point real_gamma = 45455; /* For sRGB */\n       png_byte gamma_table[256];\n       double conv;\n \n+      /* Normally images are square, but with 'small' we want to simply generate\n+       * all the pixel values, or all that we reasonably can:\n+       */\n+      if (small)\n+      {\n+         const unsigned int pixel_depth =\n+            pixel_depth_of_type(color_type, bit_depth);\n+\n+         if (pixel_depth <= 8U)\n+         {\n+            assert(size == (1U<<pixel_depth));\n+            ysize = 1U;\n+         }\n+\n+         else\n+         {\n+            assert(size == 256U);\n+            ysize = 256U;\n+         }\n+      }\n+\n+      else\n+         ysize = size;\n+\n       /* This function uses the libpng values used on read to carry extra\n        * information about the gamma:\n        */\n@@ -625,13 +875,13 @@\n\n             gamma_table[0] = 0;\n \n             for (i=1; i<255; ++i)\n-               gamma_table[i] = (png_byte)floor(pow(i/255.,conv) * 255 + .5);\n+               gamma_table[i] = floorb(pow(i/255.,conv) * 255 + .5);\n \n             gamma_table[255] = 255;\n          }\n       }\n \n-      png_set_IHDR(png_ptr, info_ptr, size, size, bit_depth, color_type,\n+      png_set_IHDR(png_ptr, info_ptr, size, ysize, bit_depth, color_type,\n          PNG_INTERLACE_NONE, PNG_COMPRESSION_TYPE_BASE, PNG_FILTER_TYPE_BASE);\n \n       if (color_type & PNG_COLOR_MASK_PALETTE)\n@@ -643,14 +893,26 @@\n\n          npalette = generate_palette(palette, trans, bit_depth, gamma_table,\n             colors);\n          png_set_PLTE(png_ptr, info_ptr, palette, npalette);\n-         png_set_tRNS(png_ptr, info_ptr, trans, npalette-1,\n-            NULL/*transparent color*/);\n+\n+         if (tRNS)\n+            png_set_tRNS(png_ptr, info_ptr, trans, npalette-1,\n+               NULL/*transparent color*/);\n \n          /* Reset gamma_table to prevent the image rows being changed */\n          for (npalette=0; npalette<256; ++npalette)\n             gamma_table[npalette] = (png_byte)npalette;\n       }\n \n+      else if (tRNS)\n+      {\n+         png_color_16 col;\n+\n+         col.red = col.green = col.blue = col.gray =\n+            0x0101U & ((1U<<bit_depth)-1U);\n+         col.index = 0U;\n+         png_set_tRNS(png_ptr, info_ptr, NULL/*trans*/, 1U, &col);\n+      }\n+\n       if (gamma == PNG_DEFAULT_sRGB)\n          png_set_sRGB(png_ptr, info_ptr, PNG_sRGB_INTENT_ABSOLUTE);\n \n@@ -682,7 +944,11 @@\n\n       png_set_filter(png_ptr, PNG_FILTER_TYPE_BASE, filters);\n \n       {\n-         int passes = png_set_interlace_handling(png_ptr);\n+#        ifdef PNG_WRITE_INTERLACING_SUPPORTED\n+            int passes = png_set_interlace_handling(png_ptr);\n+#        else /* !WRITE_INTERLACING */\n+            int passes = 1;\n+#        endif /* !WRITE_INTERLACING */\n          int pass;\n          png_size_t rowbytes = png_get_rowbytes(png_ptr, info_ptr);\n \n@@ -695,10 +961,15 @@\n\n          {\n             unsigned int y;\n \n-            for (y=0; y<size; ++y)\n+            for (y=0; y<ysize; ++y)\n             {\n-               generate_row(row, rowbytes, y, color_type, bit_depth,\n-                  gamma_table, conv, colors);\n+               unsigned int row_filters =\n+                  generate_row(row, rowbytes, y, color_type, bit_depth,\n+                        gamma_table, conv, colors, small);\n+\n+               if (row_filters != 0 && filters == PNG_ALL_FILTERS)\n+                  png_set_filter(png_ptr, PNG_FILTER_TYPE_BASE, row_filters);\n+\n                png_write_row(png_ptr, row);\n             }\n          }\n@@ -827,7 +1098,7 @@\n\n load_fake(png_charp param, png_bytepp profile)\n {\n    char *endptr = NULL;\n-   unsigned long long int size = strtoull(param, &endptr, 0/*base*/);\n+   uint64_t size = strtoull(param, &endptr, 0/*base*/);\n \n    /* The 'fake' format is <number>*[string] */\n    if (endptr != NULL && *endptr == '*')\n@@ -1062,7 +1333,8 @@\n\n }\n \n static void\n-insert_hIST(png_structp png_ptr, png_infop info_ptr, int nparams, png_charpp params)\n+insert_hIST(png_structp png_ptr, png_infop info_ptr, int nparams,\n+      png_charpp params)\n {\n    int i;\n    png_uint_16 freq[256];\n@@ -1089,6 +1361,56 @@\n\n    png_set_hIST(png_ptr, info_ptr, freq);\n }\n \n+static png_byte\n+bval(png_const_structrp png_ptr, png_charp param, unsigned int maxval)\n+{\n+   char *endptr = NULL;\n+   unsigned long int l = strtoul(param, &endptr, 0/*base*/);\n+\n+   if (param[0] && *endptr == 0 && l <= maxval)\n+      return (png_byte)l;\n+\n+   else\n+      png_error(png_ptr, \""sBIT: invalid sBIT value\"");\n+}\n+\n+static void\n+insert_sBIT(png_structp png_ptr, png_infop info_ptr, int nparams,\n+      png_charpp params)\n+{\n+   const int ct = png_get_color_type(png_ptr, info_ptr);\n+   const int c = (ct & PNG_COLOR_MASK_COLOR ? 3 : 1) +\n+      (ct & PNG_COLOR_MASK_ALPHA ? 1 : 0);\n+   const unsigned int maxval =\n+      ct & PNG_COLOR_MASK_PALETTE ? 8U : png_get_bit_depth(png_ptr, info_ptr);\n+   png_color_8 sBIT;\n+\n+   if (nparams != c)\n+      png_error(png_ptr, \""sBIT: incorrect parameter count\"");\n+\n+   if (ct & PNG_COLOR_MASK_COLOR)\n+   {\n+      sBIT.red = bval(png_ptr, params[0], maxval);\n+      sBIT.green = bval(png_ptr, params[1], maxval);\n+      sBIT.blue = bval(png_ptr, params[2], maxval);\n+      sBIT.gray = 42;\n+   }\n+\n+   else\n+   {\n+      sBIT.red = sBIT.green = sBIT.blue = 42;\n+      sBIT.gray = bval(png_ptr, params[0], maxval);\n+   }\n+\n+   if (ct & PNG_COLOR_MASK_ALPHA)\n+      sBIT.alpha = bval(png_ptr, params[nparams-1], maxval);\n+\n+   else\n+      sBIT.alpha = 42;\n+\n+   png_set_sBIT(png_ptr, info_ptr, &sBIT);\n+}\n+\n #if 0\n static void\n insert_sPLT(png_structp png_ptr, png_infop info_ptr, int nparams, png_charpp params)\n@@ -1216,6 +1538,11 @@\n\n             return make_insert(what, insert_hIST, nparams, parameter_list);\n          break;\n \n+      case CHUNK(115,66,73,84): /* sBIT */\n+         if (nparams <= 4)\n+            return make_insert(what, insert_sBIT, nparams, parameter_list);\n+         break;\n+\n #if 0\n       case CHUNK(115,80,76,84):  /* sPLT */\n          return make_insert(what, insert_sPLT, nparams, parameter_list);\n@@ -1231,6 +1558,80 @@\n\n    return NULL;\n }\n \n+/* This is necessary because libpng expects writeable strings for things like\n+ * text chunks (maybe this should be fixed...)\n+ */\n+static png_charp\n+strstash(png_const_charp foo)\n+{\n+   /* The program indicates a memory allocation error by crashing, this is by\n+    * design.\n+    */\n+   if (foo != NULL)\n+   {\n+      png_charp bar = malloc(strlen(foo)+1);\n+      return strcpy(bar, foo);\n+   }\n+\n+   return NULL;\n+}\n+\n+static png_charp\n+strstash_list(const png_const_charp *text)\n+{\n+   size_t foo = 0;\n+   png_charp result, bar;\n+   const png_const_charp *line = text;\n+\n+   while (*line != NULL)\n+      foo += strlen(*line++);\n+\n+   result = bar = malloc(foo+1);\n+\n+   line = text;\n+   while (*line != NULL)\n+   {\n+      foo = strlen(*line);\n+      memcpy(bar, *line++, foo);\n+      bar += foo;\n+   }\n+\n+   *bar = 0;\n+   return result;\n+}\n+\n+/* These are used to insert Copyright and Licence fields, they allow the text to\n+ * have \\n unlike the --insert option.\n+ */\n+static chunk_insert *\n+add_tEXt(const char *key, const png_const_charp *text)\n+{\n+   static char what[5] = { 116, 69, 88, 116, 0 };\n+   png_charp parameter_list[3];\n+\n+   parameter_list[0] = strstash(key);\n+   parameter_list[1] = strstash_list(text);\n+   parameter_list[2] = NULL;\n+\n+   return make_insert(what, insert_tEXt, 2, parameter_list);\n+}\n+\n+static chunk_insert *\n+add_iTXt(const char *key, const char *language, const char *language_key,\n+      const png_const_charp *text)\n+{\n+   static char what[5] = { 105, 84, 88, 116, 0 };\n+   png_charp parameter_list[5];\n+\n+   parameter_list[0] = strstash(key);\n+   parameter_list[1] = strstash(language);\n+   parameter_list[2] = strstash(language_key);\n+   parameter_list[3] = strstash_list(text);\n+   parameter_list[4] = NULL;\n+\n+   return make_insert(what, insert_iTXt, 4, parameter_list);\n+}\n+\n /* This is a not-very-good parser for a sequence of numbers (including 0).  It\n  * doesn't accept some apparently valid things, but it accepts all the sensible\n  * combinations.\n@@ -1280,6 +1681,8 @@\n\n    const char *file_name = NULL;\n    int color_type = 8; /* invalid */\n    int bit_depth = 32; /* invalid */\n+   int small = 0; /* make full size images */\n+   int tRNS = 0; /* don't output a tRNS chunk */\n    unsigned int colors[5];\n    unsigned int filters = PNG_ALL_FILTERS;\n    png_fixed_point gamma = 0; /* not set */\n@@ -1292,6 +1695,18 @@\n\n    {\n       char *arg = *++argv;\n \n+      if (strcmp(arg, \""--small\"") == 0)\n+      {\n+         small = 1;\n+         continue;\n+      }\n+\n+      if (strcmp(arg, \""--tRNS\"") == 0)\n+      {\n+         tRNS = 1;\n+         continue;\n+      }\n+\n       if (strcmp(arg, \""--sRGB\"") == 0)\n       {\n          gamma = PNG_DEFAULT_sRGB;\n@@ -1432,9 +1847,10 @@\n\n \n    if (color_type == 8 || bit_depth == 32)\n    {\n-      fprintf(stderr, \""usage: makepng [--sRGB|--linear|--1.8] \""\n+      fprintf(stderr, \""usage: makepng [--small] [--sRGB|--linear|--1.8] \""\n          \""[--color=...] color-type bit-depth [file-name]\\n\""\n-         \""  Make a test PNG file, by default writes to stdout.\\n\"");\n+         \""  Make a test PNG file, by default writes to stdout.\\n\""\n+         \""  Other options are available, UTSL.\\n\"");\n       exit(1);\n    }\n \n@@ -1453,10 +1869,19 @@\n\n          }\n    }\n \n+   /* small and colors are incomparible (will probably crash if both are used at\n+    * the same time!)\n+    */\n+   if (small && colors[0] != 0)\n+   {\n+      fprintf(stderr, \""makepng: --color --small: only one at a time!\\n\"");\n+      exit(1);\n+   }\n+\n    /* Restrict the filters for more speed to those we know are used for the\n     * generated images.\n     */\n-   if (filters == PNG_ALL_FILTERS)\n+   if (filters == PNG_ALL_FILTERS && !small/*small provides defaults*/)\n    {\n       if ((color_type & PNG_COLOR_MASK_PALETTE) != 0 || bit_depth < 8)\n          filters = PNG_FILTER_NONE;\n@@ -1474,9 +1899,39 @@\n\n          filters &= ~PNG_FILTER_NONE;\n    }\n \n+   /* Insert standard copyright and licence text. */\n+   {\n+      static png_const_charp copyright[] =\n+      {\n+         COPYRIGHT, /* ISO-Latin-1 */\n+         NULL\n+      };\n+      static png_const_charp licensing[] =\n+      {\n+         IMAGE_LICENSING, /* UTF-8 */\n+         NULL\n+      };\n+\n+      chunk_insert *new_insert;\n+\n+      new_insert = add_tEXt(\""Copyright\"", copyright);\n+      if (new_insert != NULL)\n+      {\n+         *insert_ptr = new_insert;\n+         insert_ptr = &new_insert->next;\n+      }\n+\n+      new_insert = add_iTXt(\""Licensing\"", \""en\"", NULL, licensing);\n+      if (new_insert != NULL)\n+      {\n+         *insert_ptr = new_insert;\n+         insert_ptr = &new_insert->next;\n+      }\n+   }\n+\n    {\n       int ret = write_png(&file_name, fp, color_type, bit_depth, gamma,\n-         head_insert, filters, colors);\n+         head_insert, filters, colors, small, tRNS);\n \n       if (ret != 0 && file_name != NULL)\n          remove(file_name);\n""}<_**next**_>{""filename"": ""contrib/libtests/pngimage.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/libtests/pngimage.c"", ""patch"": ""@@ -1,8 +1,8 @@\n\n /* pngimage.c\n  *\n- * Copyright (c) 2014 John Cunningham Bowler\n+ * Copyright (c) 2015 John Cunningham Bowler\n  *\n- * Last changed in libpng 1.6.10 [March 6, 2014]\n+ * Last changed in libpng 1.6.20 [December 3, 2015]\n  *\n  * This code is released under the libpng license.\n  * For conditions of distribution and use, see the disclaimer\n@@ -36,7 +36,8 @@\n\n #  include <setjmp.h> /* because png.h did *not* include this */\n #endif\n \n-#if defined(PNG_INFO_IMAGE_SUPPORTED) && defined(PNG_SEQUENTIAL_READ_SUPPORTED)\n+#if defined(PNG_INFO_IMAGE_SUPPORTED) && defined(PNG_SEQUENTIAL_READ_SUPPORTED)\\\n+    && (defined(PNG_READ_PNG_SUPPORTED) || PNG_LIBPNG_VER < 10700)\n /* If a transform is valid on both read and write this implies that if the\n  * transform is applied to read it must also be applied on write to produce\n  * meaningful data.  This is because these transforms when performed on read\n@@ -236,10 +237,12 @@\n\n        */\n #endif\n #ifdef PNG_READ_SCALE_16_TO_8_SUPPORTED\n-   T(SCALE_16,            NONE, X,   X,   16,  R)\n+   T(SCALE_16,            NONE, X,   X,   16,  R),\n       /* scales 16-bit components to 8-bits. */\n #endif\n \n+   { NULL /*name*/, 0, 0, 0, 0, 0, 0, 0/*!tested*/ }\n+\n #undef T\n };\n \n@@ -294,7 +297,7 @@\n\n \n    t &= -t; /* first set bit */\n \n-   for (i=0; i<TTABLE_SIZE; ++i)\n+   for (i=0; i<TTABLE_SIZE; ++i) if (transform_info[i].name != NULL)\n    {\n       if ((transform_info[i].transform & t) != 0)\n          return transform_info[i].name;\n@@ -315,7 +318,7 @@\n\n {\n    unsigned int i;\n \n-   for (i=0; i<TTABLE_SIZE; ++i)\n+   for (i=0; i<TTABLE_SIZE; ++i) if (transform_info[i].name != NULL)\n    {\n       if (transform_info[i].when & TRANSFORM_R)\n          read_transforms |= transform_info[i].transform;\n@@ -337,6 +340,9 @@\n\n  *    In both cases the file data is held in a linked list of buffers - not all\n  *    of these are in use at any time.\n  */\n+#define NEW(type) ((type *)malloc(sizeof (type)))\n+#define DELETE(ptr) (free(ptr))\n+\n struct buffer_list\n {\n    struct buffer_list *next;         /* next buffer in list */\n@@ -361,6 +367,25 @@\n\n    buffer->current = NULL;\n }\n \n+static void\n+buffer_destroy_list(struct buffer_list *list)\n+{\n+   if (list != NULL)\n+   {\n+      struct buffer_list *next = list->next;\n+      DELETE(list);\n+      buffer_destroy_list(next);\n+   }\n+}\n+\n+static void\n+buffer_destroy(struct buffer *buffer)\n+{\n+   struct buffer_list *list = buffer->first.next;\n+   buffer_init(buffer);\n+   buffer_destroy_list(list);\n+}\n+\n #ifdef PNG_WRITE_SUPPORTED\n static void\n buffer_start_write(struct buffer *buffer)\n@@ -390,8 +415,6 @@\n\n    return (struct buffer*)png_get_io_ptr(pp);\n }\n \n-#define NEW(type) ((type *)malloc(sizeof (type)))\n-\n static struct buffer_list *\n buffer_extend(struct buffer_list *current)\n {\n@@ -485,6 +508,7 @@\n\n #define SKIP_BUGS       0x100 /* Skip over known bugs */\n #define LOG_SKIPPED     0x200 /* Log skipped bugs */\n #define FIND_BAD_COMBOS 0x400 /* Attempt to deduce bad combos */\n+#define LIST_COMBOS     0x800 /* List combos by name */\n \n /* Result masks apply to the result bits in the 'results' field below; these\n  * bits are simple 1U<<error_level.  A pass requires either nothing worse than\n@@ -598,6 +622,17 @@\n\n    dp->results = 0; /* reset for next time */\n }\n \n+static void\n+display_destroy(struct display *dp)\n+{\n+    /* Release any memory held in the display. */\n+#  ifdef PNG_WRITE_SUPPORTED\n+      buffer_destroy(&dp->written_file);\n+#  endif\n+\n+   buffer_destroy(&dp->original_file);\n+}\n+\n static struct display *\n get_dp(png_structp pp)\n    /* The display pointer is always stored in the png_struct error pointer */\n@@ -659,7 +694,35 @@\n\n          int tr = dp->transforms;\n \n          if (is_combo(tr))\n-            fprintf(stderr, \""(0x%x)\"", tr);\n+         {\n+            if (dp->options & LIST_COMBOS)\n+            {\n+               int trx = tr;\n+\n+               fprintf(stderr, \""(\"");\n+               if (trx)\n+               {\n+                  int start = 0;\n+\n+                  while (trx)\n+                  {\n+                     int trz = trx & -trx;\n+\n+                     if (start) fprintf(stderr, \""+\"");\n+                     fprintf(stderr, \""%s\"", transform_name(trz));\n+                     start = 1;\n+                     trx &= ~trz;\n+                  }\n+               }\n+\n+               else\n+                  fprintf(stderr, \""-\"");\n+               fprintf(stderr, \"")\"");\n+            }\n+\n+            else\n+               fprintf(stderr, \""(0x%x)\"", tr);\n+         }\n \n          else\n             fprintf(stderr, \""(%s)\"", transform_name(tr));\n@@ -879,13 +942,13 @@\n\n       int bd = dp->bit_depth;\n       unsigned int i;\n \n-      for (i=0; i<TTABLE_SIZE; ++i)\n+      for (i=0; i<TTABLE_SIZE; ++i) if (transform_info[i].name != NULL)\n       {\n          int transform = transform_info[i].transform;\n \n          if ((transform_info[i].valid_chunks == 0 ||\n                (transform_info[i].valid_chunks & chunks) != 0) &&\n-            (transform_info[i].color_mask_required & ct) == \n+            (transform_info[i].color_mask_required & ct) ==\n                transform_info[i].color_mask_required &&\n             (transform_info[i].color_mask_absent & ct) == 0 &&\n             (transform_info[i].bit_depths & bd) != 0 &&\n@@ -904,9 +967,6 @@\n\n \n       dp->active_transforms = active;\n       dp->ignored_transforms = inactive; /* excluding write-only transforms */\n-\n-      if (active == 0)\n-         display_log(dp, INTERNAL_ERROR, \""bad transform table\"");\n    }\n }\n \n@@ -946,7 +1006,7 @@\n\n    {\n       unsigned long chunks =\n          png_get_valid(dp->read_pp, dp->read_ip, 0xffffffff);\n-      \n+\n       if (chunks != dp->chunks)\n          display_log(dp, APP_FAIL, \""PNG chunks changed from 0x%lx to 0x%lx\"",\n             (unsigned long)dp->chunks, chunks);\n@@ -1089,8 +1149,8 @@\n\n          {\n             int b;\n \n-            case 16: /* Two bytes per component, bit-endian */\n-               for (b = (bpp >> 4); b > 0; )\n+            case 16: /* Two bytes per component, big-endian */\n+               for (b = (bpp >> 4); b > 0; --b)\n                {\n                   unsigned int sig = (unsigned int)(0xffff0000 >> sig_bits[b]);\n \n@@ -1557,6 +1617,12 @@\n\n       else if (strcmp(name, \""--nofind-bad-combos\"") == 0)\n          d.options &= ~FIND_BAD_COMBOS;\n \n+      else if (strcmp(name, \""--list-combos\"") == 0)\n+         d.options |= LIST_COMBOS;\n+\n+      else if (strcmp(name, \""--nolist-combos\"") == 0)\n+         d.options &= ~LIST_COMBOS;\n+\n       else if (name[0] == '-' && name[1] == '-')\n       {\n          fprintf(stderr, \""pngimage: %s: unknown option\\n\"", name);\n@@ -1605,10 +1671,13 @@\n\n          display_clean(&d);\n       }\n \n+      /* Release allocated memory */\n+      display_destroy(&d);\n+\n       return errors != 0;\n    }\n }\n-#else /* !PNG_INFO_IMAGE_SUPPORTED || !PNG_READ_SUPPORTED */\n+#else /* !INFO_IMAGE || !SEQUENTIAL_READ || !READ_PNG*/\n int\n main(void)\n {\n""}<_**next**_>{""filename"": ""contrib/libtests/pngstest-errors.h"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/libtests/pngstest-errors.h"", ""patch"": ""@@ -0,0 +1,165 @@\n\n+/* contrib/libtests/pngstest-errors.h\n+ *\n+ * BUILT USING: libpng version 1.6.19beta03 - September 25, 2015\n+ *\n+ * This code is released under the libpng license.\n+ * For conditions of distribution and use, see the disclaimer\n+ * and license in png.h\n+ *\n+ * THIS IS A MACHINE GENERATED FILE: do not edit it directly!\n+ * Instead run:\n+ *\n+ *    pngstest --accumulate\n+ *\n+ * on as many PNG files as possible; at least PNGSuite and\n+ * contrib/libtests/testpngs.\n+ */\n+static png_uint_16 gpc_error[16/*in*/][16/*out*/][4/*a*/] =\n+{\n+ { /* input: sRGB-gray */\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 372, 0 }, { 0, 0, 372, 0 }, { 0, 0, 372, 0 }, { 0, 0, 372, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n+ }, { /* input: sRGB-gray+alpha */\n+  { 0, 19, 0, 0 }, { 0, 0, 0, 0 }, { 0, 20, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 897, 788, 0 }, { 0, 897, 788, 0 }, { 0, 897, 788, 0 }, { 0, 897, 788, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n+ }, { /* input: sRGB-rgb */\n+  { 0, 0, 19, 0 }, { 0, 0, 19, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 893, 0 }, { 0, 0, 893, 0 }, { 0, 0, 811, 0 }, { 0, 0, 811, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n+ }, { /* input: sRGB-rgb+alpha */\n+  { 0, 16, 17, 0 }, { 0, 17, 17, 0 }, { 0, 19, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 850, 875, 0 }, { 0, 850, 875, 0 }, { 0, 897, 788, 0 }, { 0, 897, 788, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n+ }, { /* input: linear-gray */\n+  { 0, 0, 9, 0 }, { 0, 0, 9, 0 }, { 0, 0, 9, 0 }, { 0, 0, 9, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n+ }, { /* input: linear-gray+alpha */\n+  { 0, 74, 9, 0 }, { 0, 20, 9, 0 }, { 0, 74, 9, 0 }, { 0, 20, 9, 0 },\n+  { 0, 0, 0, 0 }, { 0, 1, 0, 0 }, { 0, 0, 0, 0 }, { 0, 1, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n+ }, { /* input: linear-rgb */\n+  { 0, 0, 9, 0 }, { 0, 0, 9, 0 }, { 0, 0, 9, 0 }, { 0, 0, 9, 0 },\n+  { 0, 0, 4, 0 }, { 0, 0, 4, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n+ }, { /* input: linear-rgb+alpha */\n+  { 0, 126, 143, 0 }, { 0, 11, 7, 0 }, { 0, 74, 9, 0 }, { 0, 17, 9, 0 },\n+  { 0, 4, 4, 0 }, { 0, 5, 4, 0 }, { 0, 0, 0, 0 }, { 0, 1, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n+ }, { /* input: color-mapped-sRGB-gray */\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n+ }, { /* input: color-mapped-sRGB-gray+alpha */\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n+ }, { /* input: color-mapped-sRGB-rgb */\n+  { 0, 0, 13, 0 }, { 0, 0, 13, 0 }, { 0, 0, 9, 0 }, { 0, 0, 9, 0 },\n+  { 0, 0, 673, 0 }, { 0, 0, 673, 0 }, { 0, 0, 674, 0 }, { 0, 0, 674, 0 },\n+  { 0, 0, 1, 0 }, { 0, 0, 1, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 460, 0 }, { 0, 0, 460, 0 }, { 0, 0, 263, 0 }, { 0, 0, 263, 0 }\n+ }, { /* input: color-mapped-sRGB-rgb+alpha */\n+  { 0, 6, 8, 0 }, { 0, 7, 8, 0 }, { 0, 75, 9, 0 }, { 0, 9, 9, 0 },\n+  { 0, 585, 427, 0 }, { 0, 585, 427, 0 }, { 0, 717, 514, 0 }, { 0, 717, 514, 0 },\n+  { 0, 1, 1, 0 }, { 0, 1, 1, 0 }, { 0, 1, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 13323, 460, 0 }, { 0, 427, 460, 0 }, { 0, 16480, 263, 0 }, { 0, 243, 263, 0 }\n+ }, { /* input: color-mapped-linear-gray */\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 282, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n+ }, { /* input: color-mapped-linear-gray+alpha */\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 253, 282, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n+ }, { /* input: color-mapped-linear-rgb */\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 265, 0 }, { 0, 0, 0, 0 }\n+ }, { /* input: color-mapped-linear-rgb+alpha */\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 243, 265, 0 }\n+ }\n+};\n+static png_uint_16 gpc_error_via_linear[16][4/*out*/][4] =\n+{\n+ { /* input: sRGB-gray */\n+  { 0, 0, 7, 0 }, { 0, 0, 7, 0 }, { 0, 0, 7, 0 }, { 0, 0, 7, 0 }\n+ }, { /* input: sRGB-gray+alpha */\n+  { 0, 15, 15, 0 }, { 0, 186, 15, 0 }, { 0, 15, 15, 0 }, { 0, 186, 15, 0 }\n+ }, { /* input: sRGB-rgb */\n+  { 0, 0, 20, 0 }, { 0, 0, 20, 0 }, { 0, 0, 15, 0 }, { 0, 0, 15, 0 }\n+ }, { /* input: sRGB-rgb+alpha */\n+  { 0, 16, 17, 0 }, { 0, 187, 17, 0 }, { 0, 15, 15, 0 }, { 0, 186, 15, 0 }\n+ }, { /* input: linear-gray */\n+  { 0, 0, 1, 0 }, { 0, 0, 1, 0 }, { 0, 0, 1, 0 }, { 0, 0, 1, 0 }\n+ }, { /* input: linear-gray+alpha */\n+  { 0, 1, 1, 0 }, { 0, 1, 1, 0 }, { 0, 1, 1, 0 }, { 0, 1, 1, 0 }\n+ }, { /* input: linear-rgb */\n+  { 0, 0, 1, 0 }, { 0, 0, 1, 0 }, { 0, 0, 1, 0 }, { 0, 0, 1, 0 }\n+ }, { /* input: linear-rgb+alpha */\n+  { 0, 1, 1, 0 }, { 0, 9, 1, 0 }, { 0, 1, 1, 0 }, { 0, 1, 1, 0 }\n+ }, { /* input: color-mapped-sRGB-gray */\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n+ }, { /* input: color-mapped-sRGB-gray+alpha */\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n+ }, { /* input: color-mapped-sRGB-rgb */\n+  { 0, 0, 13, 0 }, { 0, 0, 13, 0 }, { 0, 0, 14, 0 }, { 0, 0, 14, 0 }\n+ }, { /* input: color-mapped-sRGB-rgb+alpha */\n+  { 0, 4, 8, 0 }, { 0, 9, 8, 0 }, { 0, 9, 5, 0 }, { 0, 32, 5, 0 }\n+ }, { /* input: color-mapped-linear-gray */\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n+ }, { /* input: color-mapped-linear-gray+alpha */\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n+ }, { /* input: color-mapped-linear-rgb */\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n+ }, { /* input: color-mapped-linear-rgb+alpha */\n+  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n+ }\n+};\n+static png_uint_16 gpc_error_to_colormap[8/*i*/][8/*o*/][4] =\n+{\n+ { /* input: sRGB-gray */\n+  { 0, 0, 9, 0 }, { 0, 0, 9, 0 }, { 0, 0, 9, 0 }, { 0, 0, 9, 0 },\n+  { 0, 0, 560, 0 }, { 0, 0, 560, 0 }, { 0, 0, 560, 0 }, { 0, 0, 560, 0 }\n+ }, { /* input: sRGB-gray+alpha */\n+  { 0, 19, 9, 0 }, { 0, 255, 9, 25 }, { 0, 88, 9, 0 }, { 0, 255, 9, 25 },\n+  { 0, 1012, 928, 0 }, { 0, 16026, 928, 6425 }, { 0, 1012, 928, 0 }, { 0, 16026, 928, 6425 }\n+ }, { /* input: sRGB-rgb */\n+  { 0, 0, 19, 0 }, { 0, 0, 19, 0 }, { 0, 0, 25, 0 }, { 0, 0, 25, 0 },\n+  { 0, 0, 962, 0 }, { 0, 0, 962, 0 }, { 0, 0, 13677, 0 }, { 0, 0, 13677, 0 }\n+ }, { /* input: sRGB-rgb+alpha */\n+  { 0, 63, 77, 0 }, { 0, 255, 19, 25 }, { 0, 225, 25, 0 }, { 0, 255, 25, 67 },\n+  { 0, 17534, 18491, 0 }, { 0, 15736, 2824, 6425 }, { 0, 14019, 13677, 0 }, { 0, 50115, 13677, 17219 }\n+ }, { /* input: linear-gray */\n+  { 0, 0, 73, 0 }, { 0, 0, 73, 0 }, { 0, 0, 73, 0 }, { 0, 0, 73, 0 },\n+  { 0, 0, 18817, 0 }, { 0, 0, 18817, 0 }, { 0, 0, 18817, 0 }, { 0, 0, 18817, 0 }\n+ }, { /* input: linear-gray+alpha */\n+  { 0, 74, 74, 0 }, { 0, 255, 74, 25 }, { 0, 99, 74, 0 }, { 0, 255, 74, 25 },\n+  { 0, 18919, 18907, 0 }, { 0, 24549, 18907, 6553 }, { 0, 18919, 18907, 0 }, { 0, 24549, 18907, 6553 }\n+ }, { /* input: linear-rgb */\n+  { 0, 0, 73, 0 }, { 0, 0, 73, 0 }, { 0, 0, 98, 0 }, { 0, 0, 98, 0 },\n+  { 0, 0, 18664, 0 }, { 0, 0, 18664, 0 }, { 0, 0, 24998, 0 }, { 0, 0, 24998, 0 }\n+ }, { /* input: linear-rgb+alpha */\n+  { 0, 181, 196, 0 }, { 0, 255, 61, 25 }, { 206, 187, 98, 0 }, { 0, 255, 98, 67 },\n+  { 0, 18141, 18137, 0 }, { 0, 17494, 17504, 6553 }, { 0, 24979, 24992, 0 }, { 0, 49172, 24992, 17347 }\n+ }\n+};\n+/* END MACHINE GENERATED */\n""}<_**next**_>{""filename"": ""contrib/libtests/pngstest.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/libtests/pngstest.c"", ""patch"": ""@@ -1,9 +1,9 @@\n\n /*-\n  * pngstest.c\n  *\n- * Copyright (c) 2013 John Cunningham Bowler\n+ * Copyright (c) 2013-2015 John Cunningham Bowler\n  *\n- * Last changed in libpng 1.6.8 [December 19, 2013]\n+ * Last changed in libpng 1.6.19 [(PENDING RELEASE)]\n  *\n  * This code is released under the libpng license.\n  * For conditions of distribution and use, see the disclaimer\n@@ -615,7 +615,7 @@\n\n \n    if (image->tmpfile_name[0] != 0 && (image->opts & KEEP_TMPFILES) == 0)\n    {\n-      remove(image->tmpfile_name);\n+      (void)remove(image->tmpfile_name);\n       image->tmpfile_name[0] = 0;\n    }\n }\n@@ -1984,156 +1984,7 @@\n\n  * gpc_error_to_colormap.\n  */\n #if PNG_FORMAT_FLAG_COLORMAP == 8 /* extra check also required */\n-/* START MACHINE GENERATED */\n-static png_uint_16 gpc_error[16/*in*/][16/*out*/][4/*a*/] =\n-{\n- { /* input: sRGB-gray */\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 372, 0 }, { 0, 0, 372, 0 }, { 0, 0, 372, 0 }, { 0, 0, 372, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n- }, { /* input: sRGB-gray+alpha */\n-  { 0, 18, 0, 0 }, { 0, 0, 0, 0 }, { 0, 20, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 897, 788, 0 }, { 0, 897, 788, 0 }, { 0, 897, 788, 0 }, { 0, 897, 788, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n- }, { /* input: sRGB-rgb */\n-  { 0, 0, 19, 0 }, { 0, 0, 19, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 893, 0 }, { 0, 0, 893, 0 }, { 0, 0, 811, 0 }, { 0, 0, 811, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n- }, { /* input: sRGB-rgb+alpha */\n-  { 0, 4, 13, 0 }, { 0, 14, 13, 0 }, { 0, 19, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 832, 764, 0 }, { 0, 832, 764, 0 }, { 0, 897, 788, 0 }, { 0, 897, 788, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n- }, { /* input: linear-gray */\n-  { 0, 0, 9, 0 }, { 0, 0, 9, 0 }, { 0, 0, 9, 0 }, { 0, 0, 9, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n- }, { /* input: linear-gray+alpha */\n-  { 0, 74, 9, 0 }, { 0, 20, 9, 0 }, { 0, 74, 9, 0 }, { 0, 20, 9, 0 },\n-  { 0, 0, 0, 0 }, { 0, 1, 0, 0 }, { 0, 0, 0, 0 }, { 0, 1, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n- }, { /* input: linear-rgb */\n-  { 0, 0, 9, 0 }, { 0, 0, 9, 0 }, { 0, 0, 9, 0 }, { 0, 0, 9, 0 },\n-  { 0, 0, 4, 0 }, { 0, 0, 4, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n- }, { /* input: linear-rgb+alpha */\n-  { 0, 126, 143, 0 }, { 0, 9, 7, 0 }, { 0, 74, 9, 0 }, { 0, 16, 9, 0 },\n-  { 0, 4, 4, 0 }, { 0, 5, 4, 0 }, { 0, 0, 0, 0 }, { 0, 1, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n- }, { /* input: color-mapped-sRGB-gray */\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n- }, { /* input: color-mapped-sRGB-gray+alpha */\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n- }, { /* input: color-mapped-sRGB-rgb */\n-  { 0, 0, 13, 0 }, { 0, 0, 13, 0 }, { 0, 0, 8, 0 }, { 0, 0, 8, 0 },\n-  { 0, 0, 673, 0 }, { 0, 0, 673, 0 }, { 0, 0, 674, 0 }, { 0, 0, 674, 0 },\n-  { 0, 0, 1, 0 }, { 0, 0, 1, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 460, 0 }, { 0, 0, 460, 0 }, { 0, 0, 263, 0 }, { 0, 0, 263, 0 }\n- }, { /* input: color-mapped-sRGB-rgb+alpha */\n-  { 0, 6, 8, 0 }, { 0, 7, 8, 0 }, { 0, 75, 8, 0 }, { 0, 9, 8, 0 },\n-  { 0, 585, 427, 0 }, { 0, 585, 427, 0 }, { 0, 717, 409, 0 }, { 0, 717, 409, 0 },\n-  { 0, 1, 1, 0 }, { 0, 1, 1, 0 }, { 0, 1, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 13323, 460, 0 }, { 0, 334, 460, 0 }, { 0, 16480, 263, 0 }, { 0, 243, 263, 0 }\n- }, { /* input: color-mapped-linear-gray */\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 282, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n- }, { /* input: color-mapped-linear-gray+alpha */\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 253, 282, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n- }, { /* input: color-mapped-linear-rgb */\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 265, 0 }, { 0, 0, 0, 0 }\n- }, { /* input: color-mapped-linear-rgb+alpha */\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 },\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 243, 265, 0 }\n- }\n-};\n-static png_uint_16 gpc_error_via_linear[16][4/*out*/][4] =\n-{\n- { /* input: sRGB-gray */\n-  { 0, 0, 7, 0 }, { 0, 0, 7, 0 }, { 0, 0, 7, 0 }, { 0, 0, 7, 0 }\n- }, { /* input: sRGB-gray+alpha */\n-  { 0, 15, 15, 0 }, { 0, 186, 15, 0 }, { 0, 15, 15, 0 }, { 0, 186, 15, 0 }\n- }, { /* input: sRGB-rgb */\n-  { 0, 0, 19, 0 }, { 0, 0, 19, 0 }, { 0, 0, 15, 0 }, { 0, 0, 15, 0 }\n- }, { /* input: sRGB-rgb+alpha */\n-  { 0, 12, 14, 0 }, { 0, 180, 14, 0 }, { 0, 14, 15, 0 }, { 0, 186, 15, 0 }\n- }, { /* input: linear-gray */\n-  { 0, 0, 1, 0 }, { 0, 0, 1, 0 }, { 0, 0, 1, 0 }, { 0, 0, 1, 0 }\n- }, { /* input: linear-gray+alpha */\n-  { 0, 1, 1, 0 }, { 0, 1, 1, 0 }, { 0, 1, 1, 0 }, { 0, 1, 1, 0 }\n- }, { /* input: linear-rgb */\n-  { 0, 0, 1, 0 }, { 0, 0, 1, 0 }, { 0, 0, 1, 0 }, { 0, 0, 1, 0 }\n- }, { /* input: linear-rgb+alpha */\n-  { 0, 1, 1, 0 }, { 0, 8, 1, 0 }, { 0, 1, 1, 0 }, { 0, 1, 1, 0 }\n- }, { /* input: color-mapped-sRGB-gray */\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n- }, { /* input: color-mapped-sRGB-gray+alpha */\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n- }, { /* input: color-mapped-sRGB-rgb */\n-  { 0, 0, 13, 0 }, { 0, 0, 13, 0 }, { 0, 0, 14, 0 }, { 0, 0, 14, 0 }\n- }, { /* input: color-mapped-sRGB-rgb+alpha */\n-  { 0, 4, 8, 0 }, { 0, 9, 8, 0 }, { 0, 8, 3, 0 }, { 0, 32, 3, 0 }\n- }, { /* input: color-mapped-linear-gray */\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n- }, { /* input: color-mapped-linear-gray+alpha */\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n- }, { /* input: color-mapped-linear-rgb */\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n- }, { /* input: color-mapped-linear-rgb+alpha */\n-  { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }, { 0, 0, 0, 0 }\n- }\n-};\n-static png_uint_16 gpc_error_to_colormap[8/*i*/][8/*o*/][4] =\n-{\n- { /* input: sRGB-gray */\n-  { 0, 0, 9, 0 }, { 0, 0, 9, 0 }, { 0, 0, 9, 0 }, { 0, 0, 9, 0 },\n-  { 0, 0, 560, 0 }, { 0, 0, 560, 0 }, { 0, 0, 560, 0 }, { 0, 0, 560, 0 }\n- }, { /* input: sRGB-gray+alpha */\n-  { 0, 19, 2, 0 }, { 0, 255, 2, 25 }, { 0, 88, 2, 0 }, { 0, 255, 2, 25 },\n-  { 0, 1012, 745, 0 }, { 0, 16026, 745, 6425 }, { 0, 1012, 745, 0 }, { 0, 16026, 745, 6425 }\n- }, { /* input: sRGB-rgb */\n-  { 0, 0, 19, 0 }, { 0, 0, 19, 0 }, { 0, 0, 25, 0 }, { 0, 0, 25, 0 },\n-  { 0, 0, 937, 0 }, { 0, 0, 937, 0 }, { 0, 0, 13677, 0 }, { 0, 0, 13677, 0 }\n- }, { /* input: sRGB-rgb+alpha */\n-  { 0, 63, 77, 0 }, { 0, 255, 19, 25 }, { 0, 220, 25, 0 }, { 0, 255, 25, 67 },\n-  { 0, 17534, 18491, 0 }, { 0, 15614, 2824, 6425 }, { 0, 14019, 13677, 0 }, { 0, 48573, 13677, 17219 }\n- }, { /* input: linear-gray */\n-  { 0, 0, 73, 0 }, { 0, 0, 73, 0 }, { 0, 0, 73, 0 }, { 0, 0, 73, 0 },\n-  { 0, 0, 18817, 0 }, { 0, 0, 18817, 0 }, { 0, 0, 18817, 0 }, { 0, 0, 18817, 0 }\n- }, { /* input: linear-gray+alpha */\n-  { 0, 74, 74, 0 }, { 0, 255, 74, 25 }, { 0, 97, 74, 0 }, { 0, 255, 74, 25 },\n-  { 0, 18919, 18907, 0 }, { 0, 24549, 18907, 6552 }, { 0, 18919, 18907, 0 }, { 0, 24549, 18907, 6552 }\n- }, { /* input: linear-rgb */\n-  { 0, 0, 73, 0 }, { 0, 0, 73, 0 }, { 0, 0, 98, 0 }, { 0, 0, 98, 0 },\n-  { 0, 0, 18664, 0 }, { 0, 0, 18664, 0 }, { 0, 0, 24998, 0 }, { 0, 0, 24998, 0 }\n- }, { /* input: linear-rgb+alpha */\n-  { 0, 181, 196, 0 }, { 0, 255, 61, 25 }, { 206, 187, 98, 0 }, { 0, 255, 98, 67 },\n-  { 0, 18141, 18137, 0 }, { 0, 17494, 17504, 6553 }, { 0, 24979, 24992, 0 }, { 0, 46509, 24992, 17347 }\n- }\n-};\n-/* END MACHINE GENERATED */\n+#  include \""pngstest-errors.h\"" /* machine generated */\n #endif /* COLORMAP flag check */\n #endif /* flag checks */\n \n@@ -2154,7 +2005,7 @@\n\n    int          in_opaque;   /* Value of input alpha that is opaque */\n    int          is_palette;  /* Sample values come from the palette */\n    int          accumulate;  /* Accumlate component errors (don't log) */\n-   int          output_8bit; /* Output is 8 bit (else 16 bit) */\n+   int          output_8bit; /* Output is 8-bit (else 16-bit) */\n \n    void (*in_gp)(Pixel*, png_const_voidp);\n    void (*out_gp)(Pixel*, png_const_voidp);\n@@ -2828,7 +2679,7 @@\n\n \n             else if (y >= b->image.colormap_entries)\n             {\n-               if ((a->opts & ACCUMULATE) == 0)\n+               if ((b->opts & ACCUMULATE) == 0)\n                   {\n                   char pindex[9];\n                   sprintf(pindex, \""%lu[%lu]\"", (unsigned long)y,\n@@ -3173,32 +3024,45 @@\n\n             {\n                long int cb = ftell(f);\n \n-               if (cb > 0 && (unsigned long int)cb < (size_t)~(size_t)0)\n+               if (cb > 0)\n                {\n-                  png_bytep b = voidcast(png_bytep, malloc((size_t)cb));\n-\n-                  if (b != NULL)\n+#ifndef __COVERITY__\n+                  if ((unsigned long int)cb <= (size_t)~(size_t)0)\n+#endif\n                   {\n-                     rewind(f);\n+                     png_bytep b = voidcast(png_bytep, malloc((size_t)cb));\n \n-                     if (fread(b, (size_t)cb, 1, f) == 1)\n+                     if (b != NULL)\n                      {\n-                        fclose(f);\n-                        image->input_memory_size = cb;\n-                        image->input_memory = b;\n+                        rewind(f);\n+\n+                        if (fread(b, (size_t)cb, 1, f) == 1)\n+                        {\n+                           fclose(f);\n+                           image->input_memory_size = cb;\n+                           image->input_memory = b;\n+                        }\n+\n+                        else\n+                        {\n+                           free(b);\n+                           return logclose(image, f, image->file_name,\n+                              \"": read failed: \"");\n+                        }\n                      }\n \n                      else\n-                     {\n-                        free(b);\n                         return logclose(image, f, image->file_name,\n-                           \"": read failed: \"");\n-                     }\n+                           \"": out of memory: \"");\n                   }\n \n                   else\n                      return logclose(image, f, image->file_name,\n-                        \"": out of memory: \"");\n+                        \"": file too big for this architecture: \"");\n+                     /* cb is the length of the file as a (long) and\n+                      * this is greater than the maximum amount of\n+                      * memory that can be requested from malloc.\n+                      */\n                }\n \n                else if (cb == 0)\n@@ -3232,7 +3096,40 @@\n\n \n    if (image->opts & USE_STDIO)\n    {\n+#ifndef PNG_USE_MKSTEMP\n       FILE *f = tmpfile();\n+#else\n+      /* Experimental. Coverity says tmpfile() is insecure because it\n+       * generates predictable names.\n+       *\n+       * It is possible to satisfy Coverity by using mkstemp(); however,\n+       * any platform supporting mkstemp() undoubtedly has a secure tmpfile()\n+       * implementation as well, and doesn't need the fix.  Note that\n+       * the fix won't work on platforms that don't support mkstemp().\n+       *\n+       * https://www.securecoding.cert.org/confluence/display/c/\n+       * FIO21-C.+Do+not+create+temporary+files+in+shared+directories\n+       * says that most historic implementations of tmpfile() provide\n+       * only a limited number of possible temporary file names\n+       * (usually 26) before file names are recycled. That article also\n+       * provides a secure solution that unfortunately depends upon mkstemp().\n+       */\n+      char tmpfile[] = \""pngstest-XXXXXX\"";\n+      int filedes;\n+      FILE *f;\n+      umask(0177);\n+      filedes = mkstemp(tmpfile);\n+      if (filedes < 0)\n+        f = NULL;\n+      else\n+      {\n+        f = fdopen(filedes,\""w+\"");\n+        /* Hide the filename immediately and ensure that the file does\n+         * not exist after the program ends\n+         */\n+        (void) unlink(tmpfile);\n+      }\n+#endif\n \n       if (f != NULL)\n       {\n@@ -3577,7 +3474,7 @@\n\n             }\n \n             /* Safe: checked above */\n-            strcpy(tmpf, argv[c]);\n+            strncpy(tmpf, argv[c], sizeof (tmpf)-1);\n          }\n \n          else\n@@ -3676,6 +3573,23 @@\n\n    {\n       unsigned int in;\n \n+      printf(\""/* contrib/libtests/pngstest-errors.h\\n\"");\n+      printf(\"" *\\n\"");\n+      printf(\"" * BUILT USING:\"" PNG_HEADER_VERSION_STRING);\n+      printf(\"" *\\n\"");\n+      printf(\"" * This code is released under the libpng license.\\n\"");\n+      printf(\"" * For conditions of distribution and use, see the disclaimer\\n\"");\n+      printf(\"" * and license in png.h\\n\"");\n+      printf(\"" *\\n\"");\n+      printf(\"" * THIS IS A MACHINE GENERATED FILE: do not edit it directly!\\n\"");\n+      printf(\"" * Instead run:\\n\"");\n+      printf(\"" *\\n\"");\n+      printf(\"" *    pngstest --accumulate\\n\"");\n+      printf(\"" *\\n\"");\n+      printf(\"" * on as many PNG files as possible; at least PNGSuite and\\n\"");\n+      printf(\"" * contrib/libtests/testpngs.\\n\"");\n+      printf(\"" */\\n\"");\n+\n       printf(\""static png_uint_16 gpc_error[16/*in*/][16/*out*/][4/*a*/] =\\n\"");\n       printf(\""{\\n\"");\n       for (in=0; in<16; ++in)\n@@ -3765,6 +3679,7 @@\n\n             putchar('\\n');\n       }\n       printf(\""};\\n\"");\n+      printf(\""/* END MACHINE GENERATED */\\n\"");\n    }\n \n    if (retval == 0 && touch != NULL)\n""}<_**next**_>{""filename"": ""contrib/libtests/pngunknown.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/libtests/pngunknown.c"", ""patch"": ""@@ -363,7 +363,7 @@\n\n    return PNG_CHUNK_ANCILLARY(PNG_U32(name[0], name[1], name[2], name[3]));\n }\n \n-#ifdef PNG_STORE_UNKNOWN_CHUNKS_SUPPORTED\n+#ifdef PNG_SAVE_UNKNOWN_CHUNKS_SUPPORTED\n static int\n ancillaryb(const png_byte *name)\n {\n@@ -554,7 +554,7 @@\n\n    /* However if there is no support to store unknown chunks don't ask libpng to\n     * do it; there will be an png_error.\n     */\n-#  ifdef PNG_STORE_UNKNOWN_CHUNKS_SUPPORTED\n+#  ifdef PNG_SAVE_UNKNOWN_CHUNKS_SUPPORTED\n       return discard;\n #  else\n       return 1; /*handled; discard*/\n@@ -562,7 +562,7 @@\n\n }\n #endif /* READ_USER_CHUNKS_SUPPORTED */\n \n-#ifdef PNG_STORE_UNKNOWN_CHUNKS_SUPPORTED\n+#ifdef PNG_SAVE_UNKNOWN_CHUNKS_SUPPORTED\n static png_uint_32\n get_unknown(display *d, png_infop info_ptr, int after_IDAT)\n {\n@@ -722,11 +722,17 @@\n\n                    * in this case, so we just check the arguments!  This could\n                    * be improved in the future by using the read callback.\n                    */\n-                  png_byte name[5];\n+#                 if PNG_LIBPNG_VER >= 10700 &&\\\n+                     !defined(PNG_SAVE_UNKNOWN_CHUNKS_SUPPORTED)\n+                     if (option < PNG_HANDLE_CHUNK_IF_SAFE)\n+#                 endif /* 1.7+ SAVE_UNKNOWN_CHUNKS */\n+                  {\n+                     png_byte name[5];\n \n-                  memcpy(name, chunk_info[chunk].name, 5);\n-                  png_set_keep_unknown_chunks(d->png_ptr, option, name, 1);\n-                  chunk_info[chunk].keep = option;\n+                     memcpy(name, chunk_info[chunk].name, 5);\n+                     png_set_keep_unknown_chunks(d->png_ptr, option, name, 1);\n+                     chunk_info[chunk].keep = option;\n+                  }\n                   continue;\n                }\n \n@@ -735,7 +741,12 @@\n\n             case 7: /* default */\n                if (memcmp(argv[i], \""default\"", 7) == 0)\n                {\n-                  png_set_keep_unknown_chunks(d->png_ptr, option, NULL, 0);\n+#                 if PNG_LIBPNG_VER >= 10700 &&\\\n+                     !defined(PNG_SAVE_UNKNOWN_CHUNKS_SUPPORTED)\n+                     if (option < PNG_HANDLE_CHUNK_IF_SAFE)\n+#                 endif /* 1.7+ SAVE_UNKNOWN_CHUNKS */\n+                     png_set_keep_unknown_chunks(d->png_ptr, option, NULL, 0);\n+\n                   d->keep = option;\n                   continue;\n                }\n@@ -745,7 +756,12 @@\n\n             case 3: /* all */\n                if (memcmp(argv[i], \""all\"", 3) == 0)\n                {\n-                  png_set_keep_unknown_chunks(d->png_ptr, option, NULL, -1);\n+#                 if PNG_LIBPNG_VER >= 10700 &&\\\n+                     !defined(PNG_SAVE_UNKNOWN_CHUNKS_SUPPORTED)\n+                     if (option < PNG_HANDLE_CHUNK_IF_SAFE)\n+#                 endif /* 1.7+ SAVE_UNKNOWN_CHUNKS */\n+                     png_set_keep_unknown_chunks(d->png_ptr, option, NULL, -1);\n+\n                   d->keep = option;\n \n                   for (chunk = 0; chunk < NINFO; ++chunk)\n""}<_**next**_>{""filename"": ""contrib/libtests/pngvalid.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/libtests/pngvalid.c"", ""patch"": ""@@ -1,8 +1,8 @@\n\n \n /* pngvalid.c - validate libpng by constructing then reading png files.\n  *\n- * Last changed in libpng 1.6.10 [March 6, 2014]\n- * Copyright (c) 2014 Glenn Randers-Pehrson\n+ * Last changed in libpng 1.5.25 [December 3, 2015]\n+ * Copyright (c) 2014-2015 Glenn Randers-Pehrson\n  * Written by John Cunningham Bowler\n  *\n  * This code is released under the libpng license.\n@@ -34,6 +34,16 @@\n\n #  include <fenv.h>\n #endif\n \n+#ifndef FE_DIVBYZERO\n+#  define FE_DIVBYZERO 0\n+#endif\n+#ifndef FE_INVALID\n+#  define FE_INVALID 0\n+#endif\n+#ifndef FE_OVERFLOW\n+#  define FE_OVERFLOW 0\n+#endif\n+\n /* Define the following to use this test against your installed libpng, rather\n  * than the one being built here:\n  */\n@@ -64,7 +74,7 @@\n\n    (defined(PNG_FIXED_POINT_SUPPORTED) || defined(PNG_FLOATING_POINT_SUPPORTED))\n \n #if PNG_LIBPNG_VER < 10500\n-/* This deliberately lacks the PNG_CONST. */\n+/* This deliberately lacks the const. */\n typedef png_byte *png_const_bytep;\n \n /* This is copied from 1.5.1 png.h: */\n@@ -147,6 +157,31 @@\n\n    &(ps)->exception_context\n #define context(ps,fault) anon_context(ps); png_store *fault\n \n+/* This macro returns the number of elements in an array as an (unsigned int),\n+ * it is necessary to avoid the inability of certain versions of GCC to use\n+ * the value of a compile-time constant when performing range checks.  It must\n+ * be passed an array name.\n+ */\n+#define ARRAY_SIZE(a) ((unsigned int)((sizeof (a))/(sizeof (a)[0])))\n+\n+/* GCC BUG 66447 (https://gcc.gnu.org/bugzilla/show_bug.cgi?id=66447) requires\n+ * some broken GCC versions to be fixed up to avoid invalid whining about auto\n+ * variables that are *not* changed within the scope of a setjmp being changed.\n+ *\n+ * Feel free to extend the list of broken versions.\n+ */\n+#define is_gnu(major,minor)\\\n+   (defined __GNUC__) && __GNUC__ == (major) && __GNUC_MINOR__ == (minor)\n+#define is_gnu_patch(major,minor,patch)\\\n+   is_gnu(major,minor) && __GNUC_PATCHLEVEL__ == 0\n+/* For the moment just do it always; all versions of GCC seem to be broken: */\n+#ifdef __GNUC__\n+   const void * volatile make_volatile_for_gnu;\n+#  define gnu_volatile(x) make_volatile_for_gnu = &x;\n+#else /* !GNUC broken versions */\n+#  define gnu_volatile(x)\n+#endif /* !GNUC broken versions */\n+\n /******************************* UTILITIES ************************************/\n /* Error handling is particularly problematic in production code - error\n  * handlers often themselves have bugs which lead to programs that detect\n@@ -155,7 +190,7 @@\n\n  * warning messages into buffers that are too small.\n  */\n static size_t safecat(char *buffer, size_t bufsize, size_t pos,\n-   PNG_CONST char *cat)\n+   const char *cat)\n {\n    while (pos < bufsize && cat != NULL && *cat != 0)\n       buffer[pos++] = *cat++;\n@@ -184,16 +219,16 @@\n\n }\n #endif\n \n-static PNG_CONST char invalid[] = \""invalid\"";\n-static PNG_CONST char sep[] = \"": \"";\n+static const char invalid[] = \""invalid\"";\n+static const char sep[] = \"": \"";\n \n-static PNG_CONST char *colour_types[8] =\n+static const char *colour_types[8] =\n {\n    \""grayscale\"", invalid, \""truecolour\"", \""indexed-colour\"",\n    \""grayscale with alpha\"", invalid, \""truecolour with alpha\"", invalid\n };\n \n-#ifdef PNG_READ_SUPPORTED\n+#ifdef PNG_READ_TRANSFORMS_SUPPORTED\n /* Convert a double precision value to fixed point. */\n static png_fixed_point\n fix(double d)\n@@ -241,7 +276,7 @@\n\n    make_random_bytes(seed, bytes, 4);\n }\n \n-#ifdef PNG_READ_SUPPORTED\n+#if defined PNG_READ_SUPPORTED || defined PNG_WRITE_tRNS_SUPPORTED\n static void\n randomize(void *pv, size_t size)\n {\n@@ -250,7 +285,9 @@\n\n }\n \n #define RANDOMIZE(this) randomize(&(this), sizeof (this))\n+#endif /* READ || WRITE_tRNS */\n \n+#ifdef PNG_READ_TRANSFORMS_SUPPORTED\n static unsigned int\n random_mod(unsigned int max)\n {\n@@ -261,7 +298,8 @@\n\n    return x % max; /* 0 .. max-1 */\n }\n \n-#ifdef PNG_READ_RGB_TO_GRAY_SUPPORTED\n+#if (defined PNG_READ_RGB_TO_GRAY_SUPPORTED) ||\\\n+    (defined PNG_READ_FILLER_SUPPORTED)\n static int\n random_choice(void)\n {\n@@ -277,7 +315,8 @@\n\n /* A numeric ID based on PNG file characteristics.  The 'do_interlace' field\n  * simply records whether pngvalid did the interlace itself or whether it\n  * was done by libpng.  Width and height must be less than 256.  'palette' is an\n- * index of the palette to use for formats with a palette (0 otherwise.)\n+ * index of the palette to use for formats with a palette otherwise a boolean\n+ * indicating if a tRNS chunk was generated.\n  */\n #define FILEID(col, depth, palette, interlace, width, height, do_interlace) \\\n    ((png_uint_32)((col) + ((depth)<<3) + ((palette)<<8) + ((interlace)<<13) + \\\n@@ -286,7 +325,7 @@\n\n #define COL_FROM_ID(id) ((png_byte)((id)& 0x7U))\n #define DEPTH_FROM_ID(id) ((png_byte)(((id) >> 3) & 0x1fU))\n #define PALETTE_FROM_ID(id) (((id) >> 8) & 0x1f)\n-#define INTERLACE_FROM_ID(id) ((int)(((id) >> 13) & 0x3))\n+#define INTERLACE_FROM_ID(id) ((png_byte)(((id) >> 13) & 0x3))\n #define DO_INTERLACE_FROM_ID(id) ((int)(((id)>>15) & 1))\n #define WIDTH_FROM_ID(id) (((id)>>16) & 0xff)\n #define HEIGHT_FROM_ID(id) (((id)>>24) & 0xff)\n@@ -298,12 +337,16 @@\n\n     png_uint_32 w, png_uint_32 h, int do_interlace)\n {\n    pos = safecat(buffer, bufsize, pos, colour_types[colour_type]);\n-   if (npalette > 0)\n+   if (colour_type == 3) /* must have a palette */\n    {\n       pos = safecat(buffer, bufsize, pos, \""[\"");\n       pos = safecatn(buffer, bufsize, pos, npalette);\n       pos = safecat(buffer, bufsize, pos, \""]\"");\n    }\n+\n+   else if (npalette != 0)\n+      pos = safecat(buffer, bufsize, pos, \""+tRNS\"");\n+\n    pos = safecat(buffer, bufsize, pos, \"" \"");\n    pos = safecatn(buffer, bufsize, pos, bit_depth);\n    pos = safecat(buffer, bufsize, pos, \"" bit\"");\n@@ -360,25 +403,32 @@\n\n \n static int\n next_format(png_bytep colour_type, png_bytep bit_depth,\n-   unsigned int* palette_number, int no_low_depth_gray)\n+   unsigned int* palette_number, int low_depth_gray, int tRNS)\n {\n    if (*bit_depth == 0)\n    {\n       *colour_type = 0;\n-      if (no_low_depth_gray)\n-         *bit_depth = 8;\n-      else\n+      if (low_depth_gray)\n          *bit_depth = 1;\n+      else\n+         *bit_depth = 8;\n       *palette_number = 0;\n       return 1;\n    }\n \n-   if (*colour_type == 3)\n+   if  (*colour_type < 4/*no alpha channel*/)\n    {\n-      /* Add multiple palettes for colour type 3. */\n-      if (++*palette_number < PALETTE_COUNT(*bit_depth))\n+      /* Add multiple palettes for colour type 3, one image with tRNS\n+       * and one without for other non-alpha formats:\n+       */\n+      unsigned int pn = ++*palette_number;\n+      png_byte ct = *colour_type;\n+\n+      if (((ct == 0/*GRAY*/ || ct/*RGB*/ == 2) && tRNS && pn < 2) ||\n+          (ct == 3/*PALETTE*/ && pn < PALETTE_COUNT(*bit_depth)))\n          return 1;\n \n+      /* No: next bit depth */\n       *palette_number = 0;\n    }\n \n@@ -386,9 +436,9 @@\n\n \n    /* Palette images are restricted to 8 bit depth */\n    if (*bit_depth <= 8\n-#     ifdef DO_16BIT\n+#ifdef DO_16BIT\n          || (*colour_type != 3 && *bit_depth <= 16)\n-#     endif\n+#endif\n       )\n       return 1;\n \n@@ -423,7 +473,7 @@\n\n #ifdef PNG_READ_TRANSFORMS_SUPPORTED\n static unsigned int\n sample(png_const_bytep row, png_byte colour_type, png_byte bit_depth,\n-    png_uint_32 x, unsigned int sample_index)\n+    png_uint_32 x, unsigned int sample_index, int swap16, int littleendian)\n {\n    png_uint_32 bit_index, result;\n \n@@ -452,11 +502,23 @@\n\n       return result;\n \n    else if (bit_depth > 8)\n-      return (result << 8) + *++row;\n+   {\n+      if (swap16)\n+         return (*++row << 8) + result;\n+      else\n+         return (result << 8) + *++row;\n+   }\n \n-   /* Less than 8 bits per sample. */\n+   /* Less than 8 bits per sample.  By default PNG has the big end of\n+    * the egg on the left of the screen, but if littleendian is set\n+    * then the big end is on the right.\n+    */\n    bit_index &= 7;\n-   return (result >> (8-bit_index-bit_depth)) & ((1U<<bit_depth)-1);\n+\n+   if (!littleendian)\n+      bit_index = 8-bit_index-bit_depth;\n+\n+   return (result >> bit_index) & ((1U<<bit_depth)-1);\n }\n #endif /* PNG_READ_TRANSFORMS_SUPPORTED */\n \n@@ -470,7 +532,8 @@\n\n  */\n static void\n pixel_copy(png_bytep toBuffer, png_uint_32 toIndex,\n-   png_const_bytep fromBuffer, png_uint_32 fromIndex, unsigned int pixelSize)\n+   png_const_bytep fromBuffer, png_uint_32 fromIndex, unsigned int pixelSize,\n+   int littleendian)\n {\n    /* Assume we can multiply by 'size' without overflow because we are\n     * just working in a single buffer.\n@@ -480,15 +543,25 @@\n\n    if (pixelSize < 8) /* Sub-byte */\n    {\n       /* Mask to select the location of the copied pixel: */\n-      unsigned int destMask = ((1U<<pixelSize)-1) << (8-pixelSize-(toIndex&7));\n+      unsigned int destMask = ((1U<<pixelSize)-1) <<\n+         (littleendian ? toIndex&7 : 8-pixelSize-(toIndex&7));\n       /* The following read the entire pixels and clears the extra: */\n       unsigned int destByte = toBuffer[toIndex >> 3] & ~destMask;\n       unsigned int sourceByte = fromBuffer[fromIndex >> 3];\n \n       /* Don't rely on << or >> supporting '0' here, just in case: */\n       fromIndex &= 7;\n-      if (fromIndex > 0) sourceByte <<= fromIndex;\n-      if ((toIndex & 7) > 0) sourceByte >>= toIndex & 7;\n+      if (littleendian)\n+      {\n+         if (fromIndex > 0) sourceByte >>= fromIndex;\n+         if ((toIndex & 7) > 0) sourceByte <<= toIndex & 7;\n+      }\n+\n+      else\n+      {\n+         if (fromIndex > 0) sourceByte <<= fromIndex;\n+         if ((toIndex & 7) > 0) sourceByte >>= toIndex & 7;\n+      }\n \n       toBuffer[toIndex >> 3] = (png_byte)(destByte | (sourceByte & destMask));\n    }\n@@ -501,7 +574,8 @@\n\n  * bytes at the end.\n  */\n static void\n-row_copy(png_bytep toBuffer, png_const_bytep fromBuffer, unsigned int bitWidth)\n+row_copy(png_bytep toBuffer, png_const_bytep fromBuffer, unsigned int bitWidth,\n+      int littleendian)\n {\n    memcpy(toBuffer, fromBuffer, bitWidth >> 3);\n \n@@ -511,10 +585,10 @@\n\n \n       toBuffer += bitWidth >> 3;\n       fromBuffer += bitWidth >> 3;\n-      /* The remaining bits are in the top of the byte, the mask is the bits to\n-       * retain.\n-       */\n-      mask = 0xff >> (bitWidth & 7);\n+      if (littleendian)\n+         mask = 0xff << (bitWidth & 7);\n+      else\n+         mask = 0xff >> (bitWidth & 7);\n       *toBuffer = (png_byte)((*toBuffer & mask) | (*fromBuffer & ~mask));\n    }\n }\n@@ -678,7 +752,7 @@\n\n    make_four_random_bytes(store_seed, mark);\n }\n \n-#ifdef PNG_READ_SUPPORTED\n+#ifdef PNG_READ_TRANSFORMS_SUPPORTED\n /* Use this for random 32 bit values; this function makes sure the result is\n  * non-zero.\n  */\n@@ -686,7 +760,7 @@\n\n random_32(void)\n {\n \n-   for(;;)\n+   for (;;)\n    {\n       png_byte mark[4];\n       png_uint_32 result;\n@@ -836,7 +910,7 @@\n\n /* Generate an error message (in the given buffer) */\n static size_t\n store_message(png_store *ps, png_const_structp pp, char *buffer, size_t bufsize,\n-   size_t pos, PNG_CONST char *msg)\n+   size_t pos, const char *msg)\n {\n    if (pp != NULL && pp == ps->pread)\n    {\n@@ -954,7 +1028,7 @@\n\n  */\n /* Return a single row from the correct image. */\n static png_bytep\n-store_image_row(PNG_CONST png_store* ps, png_const_structp pp, int nImage,\n+store_image_row(const png_store* ps, png_const_structp pp, int nImage,\n    png_uint_32 y)\n {\n    png_size_t coffset = (nImage * ps->image_h + y) * (ps->cb_row + 5) + 2;\n@@ -1058,7 +1132,7 @@\n\n \n #ifdef PNG_READ_SUPPORTED\n static void\n-store_image_check(PNG_CONST png_store* ps, png_const_structp pp, int iImage)\n+store_image_check(const png_store* ps, png_const_structp pp, int iImage)\n {\n    png_const_bytep image = ps->image;\n \n@@ -1275,7 +1349,10 @@\n\n     * operation.)\n     */\n    if (ps->current == NULL)\n+   {\n       store_log(ps, ps->pread, \""no current stream for palette\"", 1);\n+      return NULL;\n+   }\n \n    /* The result may be null if there is no palette. */\n    *npalette = ps->current->npalette;\n@@ -1305,7 +1382,7 @@\n\n  * all the memory.\n  */\n static void\n-store_pool_error(png_store *ps, png_const_structp pp, PNG_CONST char *msg)\n+store_pool_error(png_store *ps, png_const_structp pp, const char *msg)\n {\n    if (pp != NULL)\n       png_error(pp, msg);\n@@ -1369,7 +1446,7 @@\n\n          next->next = NULL;\n \n          fprintf(stderr, \""\\t%lu bytes @ %p\\n\"",\n-             (unsigned long)next->size, (PNG_CONST void*)(next+1));\n+             (unsigned long)next->size, (const void*)(next+1));\n          /* The NULL means this will always return, even if the memory is\n           * corrupted.\n           */\n@@ -1524,8 +1601,7 @@\n\n  * returned libpng structures as destroyed by store_write_reset above.\n  */\n static png_structp\n-set_store_for_write(png_store *ps, png_infopp ppi,\n-   PNG_CONST char * volatile name)\n+set_store_for_write(png_store *ps, png_infopp ppi, const char *name)\n {\n    anon_context(ps);\n \n@@ -1645,7 +1721,7 @@\n\n  */\n static png_structp\n set_store_for_read(png_store *ps, png_infopp ppi, png_uint_32 id,\n-   PNG_CONST char *name)\n+   const char *name)\n {\n    /* Set the name for png_error */\n    safecat(ps->test, sizeof ps->test, 0, name);\n@@ -1752,6 +1828,7 @@\n\n } color_encoding;\n \n #ifdef PNG_READ_SUPPORTED\n+#if defined PNG_READ_TRANSFORMS_SUPPORTED && defined PNG_READ_cHRM_SUPPORTED\n static double\n chromaticity_x(CIE_color c)\n {\n@@ -1765,7 +1842,7 @@\n\n }\n \n static CIE_color\n-white_point(PNG_CONST color_encoding *encoding)\n+white_point(const color_encoding *encoding)\n {\n    CIE_color white;\n \n@@ -1775,12 +1852,13 @@\n\n \n    return white;\n }\n+#endif /* READ_TRANSFORMS && READ_cHRM */\n \n #ifdef PNG_READ_RGB_TO_GRAY_SUPPORTED\n static void\n normalize_color_encoding(color_encoding *encoding)\n {\n-   PNG_CONST double whiteY = encoding->red.Y + encoding->green.Y +\n+   const double whiteY = encoding->red.Y + encoding->green.Y +\n       encoding->blue.Y;\n \n    if (whiteY != 1)\n@@ -1798,9 +1876,10 @@\n\n }\n #endif\n \n+#ifdef PNG_READ_TRANSFORMS_SUPPORTED\n static size_t\n safecat_color_encoding(char *buffer, size_t bufsize, size_t pos,\n-   PNG_CONST color_encoding *e, double encoding_gamma)\n+   const color_encoding *e, double encoding_gamma)\n {\n    if (e != 0)\n    {\n@@ -1837,6 +1916,7 @@\n\n \n    return pos;\n }\n+#endif /* READ_TRANSFORMS */\n #endif /* PNG_READ_SUPPORTED */\n \n typedef struct png_modifier\n@@ -1861,9 +1941,9 @@\n\n    unsigned int              ngammas;\n    unsigned int              ngamma_tests;     /* Number of gamma tests to run*/\n    double                    current_gamma;    /* 0 if not set */\n-   PNG_CONST color_encoding *encodings;\n+   const color_encoding *encodings;\n    unsigned int              nencodings;\n-   PNG_CONST color_encoding *current_encoding; /* If an encoding has been set */\n+   const color_encoding *current_encoding; /* If an encoding has been set */\n    unsigned int              encoding_counter; /* For iteration */\n    int                       encoding_ignored; /* Something overwrote it */\n \n@@ -1874,7 +1954,7 @@\n\n    unsigned int              repeat :1;   /* Repeat this transform test. */\n    unsigned int              test_uses_encoding :1;\n \n-   /* Lowest sbit to test (libpng fails for sbit < 8) */\n+   /* Lowest sbit to test (pre-1.7 libpng fails for sbit < 8) */\n    png_byte                 sbitlow;\n \n    /* Error control - these are the limits on errors accepted by the gamma tests\n@@ -1929,6 +2009,7 @@\n\n \n    /* Run tests on reading with a combination of transforms, */\n    unsigned int             test_transform :1;\n+   unsigned int             test_tRNS :1; /* Includes tRNS images */\n \n    /* When to use the use_input_precision option, this controls the gamma\n     * validation code checks.  If set any value that is within the transformed\n@@ -1960,6 +2041,16 @@\n\n    unsigned int             test_gamma_expand16 :1;\n    unsigned int             test_exhaustive :1;\n \n+   /* Whether or not to run the low-bit-depth grayscale tests.  This fails on\n+    * gamma images in some cases because of gross inaccuracies in the grayscale\n+    * gamma handling for low bit depth.\n+    */\n+   unsigned int             test_lbg :1;\n+   unsigned int             test_lbg_gamma_threshold :1;\n+   unsigned int             test_lbg_gamma_transform :1;\n+   unsigned int             test_lbg_gamma_sbit :1;\n+   unsigned int             test_lbg_gamma_composition :1;\n+\n    unsigned int             log :1;   /* Log max error */\n \n    /* Buffer information, the buffer size limits the size of the chunks that can\n@@ -2012,6 +2103,11 @@\n\n    pm->test_standard = 0;\n    pm->test_size = 0;\n    pm->test_transform = 0;\n+#  ifdef PNG_WRITE_tRNS_SUPPORTED\n+      pm->test_tRNS = 1;\n+#  else\n+      pm->test_tRNS = 0;\n+#  endif\n    pm->use_input_precision = 0;\n    pm->use_input_precision_sbit = 0;\n    pm->use_input_precision_16to8 = 0;\n@@ -2024,6 +2120,11 @@\n\n    pm->test_gamma_background = 0;\n    pm->test_gamma_alpha_mode = 0;\n    pm->test_gamma_expand16 = 0;\n+   pm->test_lbg = 1;\n+   pm->test_lbg_gamma_threshold = 1;\n+   pm->test_lbg_gamma_transform = 1;\n+   pm->test_lbg_gamma_sbit = 1;\n+   pm->test_lbg_gamma_composition = 1;\n    pm->test_exhaustive = 0;\n    pm->log = 0;\n \n@@ -2057,7 +2158,7 @@\n\n     * rounding and 'do_round' should be 1, if it is 0 the digitized value will\n     * be truncated.\n     */\n-   PNG_CONST unsigned int digitization_factor = (1U << depth) -1;\n+   const unsigned int digitization_factor = (1U << depth) -1;\n \n    /* Limiting the range is done as a convenience to the caller - it's easier to\n     * do it once here than every time at the call site.\n@@ -2076,7 +2177,7 @@\n\n #endif /* RGB_TO_GRAY */\n \n #ifdef PNG_READ_GAMMA_SUPPORTED\n-static double abserr(PNG_CONST png_modifier *pm, int in_depth, int out_depth)\n+static double abserr(const png_modifier *pm, int in_depth, int out_depth)\n {\n    /* Absolute error permitted in linear values - affected by the bit depth of\n     * the calculations.\n@@ -2088,7 +2189,7 @@\n\n       return pm->maxabs8;\n }\n \n-static double calcerr(PNG_CONST png_modifier *pm, int in_depth, int out_depth)\n+static double calcerr(const png_modifier *pm, int in_depth, int out_depth)\n {\n    /* Error in the linear composition arithmetic - only relevant when\n     * composition actually happens (0 < alpha < 1).\n@@ -2101,7 +2202,7 @@\n\n       return pm->maxcalc8;\n }\n \n-static double pcerr(PNG_CONST png_modifier *pm, int in_depth, int out_depth)\n+static double pcerr(const png_modifier *pm, int in_depth, int out_depth)\n {\n    /* Percentage error permitted in the linear values.  Note that the specified\n     * value is a percentage but this routine returns a simple number.\n@@ -2124,7 +2225,7 @@\n\n  * The specified parameter does *not* include the base .5 digitization error but\n  * it is added here.\n  */\n-static double outerr(PNG_CONST png_modifier *pm, int in_depth, int out_depth)\n+static double outerr(const png_modifier *pm, int in_depth, int out_depth)\n {\n    /* There is a serious error in the 2 and 4 bit grayscale transform because\n     * the gamma table value (8 bits) is simply shifted, not rounded, so the\n@@ -2156,7 +2257,7 @@\n\n  * rather than raising a warning.  This is useful for debugging to track down\n  * exactly what set of parameters cause high error values.\n  */\n-static double outlog(PNG_CONST png_modifier *pm, int in_depth, int out_depth)\n+static double outlog(const png_modifier *pm, int in_depth, int out_depth)\n {\n    /* The command line parameters are either 8 bit (0..255) or 16 bit (0..65535)\n     * and so must be adjusted for low bit depth grayscale:\n@@ -2194,7 +2295,7 @@\n\n  * but in the 8 bit calculation case it's actually quantization to a multiple of\n  * 257!\n  */\n-static int output_quantization_factor(PNG_CONST png_modifier *pm, int in_depth,\n+static int output_quantization_factor(const png_modifier *pm, int in_depth,\n    int out_depth)\n {\n    if (out_depth == 16 && in_depth != 16 &&\n@@ -2258,7 +2359,7 @@\n\n \n #ifdef PNG_READ_RGB_TO_GRAY_SUPPORTED\n static void\n-modifier_current_encoding(PNG_CONST png_modifier *pm, color_encoding *ce)\n+modifier_current_encoding(const png_modifier *pm, color_encoding *ce)\n {\n    if (pm->current_encoding != 0)\n       *ce = *pm->current_encoding;\n@@ -2270,9 +2371,10 @@\n\n }\n #endif\n \n+#ifdef PNG_READ_TRANSFORMS_SUPPORTED\n static size_t\n safecat_current_encoding(char *buffer, size_t bufsize, size_t pos,\n-   PNG_CONST png_modifier *pm)\n+   const png_modifier *pm)\n {\n    pos = safecat_color_encoding(buffer, bufsize, pos, pm->current_encoding,\n       pm->current_gamma);\n@@ -2282,6 +2384,7 @@\n\n \n    return pos;\n }\n+#endif\n \n /* Iterate through the usefully testable color encodings.  An encoding is one\n  * of:\n@@ -2301,7 +2404,7 @@\n\n  * caller of modifier_reset must reset it at the start of each run of the test!\n  */\n static unsigned int\n-modifier_total_encodings(PNG_CONST png_modifier *pm)\n+modifier_total_encodings(const png_modifier *pm)\n {\n    return 1 +                 /* (1) nothing */\n       pm->ngammas +           /* (2) gamma values to test */\n@@ -2417,14 +2520,14 @@\n\n  * assumption below that the first encoding in the list is the one for sRGB.\n  */\n static int\n-modifier_color_encoding_is_sRGB(PNG_CONST png_modifier *pm)\n+modifier_color_encoding_is_sRGB(const png_modifier *pm)\n {\n    return pm->current_encoding != 0 && pm->current_encoding == pm->encodings &&\n       pm->current_encoding->gamma == pm->current_gamma;\n }\n \n static int\n-modifier_color_encoding_is_set(PNG_CONST png_modifier *pm)\n+modifier_color_encoding_is_set(const png_modifier *pm)\n {\n    return pm->current_gamma != 0;\n }\n@@ -2743,7 +2846,7 @@\n\n /* Set up a modifier. */\n static png_structp\n set_modifier_for_read(png_modifier *pm, png_infopp ppi, png_uint_32 id,\n-    PNG_CONST char *name)\n+    const char *name)\n {\n    /* Do this first so that the modifier fields are cleared even if an error\n     * happens allocating the png_struct.  No allocation is done here so no\n@@ -2803,7 +2906,7 @@\n\n typedef struct chrm_modification\n {\n    png_modification          this;\n-   PNG_CONST color_encoding *encoding;\n+   const color_encoding *encoding;\n    png_fixed_point           wx, wy, rx, ry, gx, gy, bx, by;\n } chrm_modification;\n \n@@ -2827,7 +2930,7 @@\n\n \n static void\n chrm_modification_init(chrm_modification *me, png_modifier *pm,\n-   PNG_CONST color_encoding *encoding)\n+   const color_encoding *encoding)\n {\n    CIE_color white = white_point(encoding);\n \n@@ -3162,6 +3265,45 @@\n\n    }\n }\n \n+#ifdef PNG_WRITE_tRNS_SUPPORTED\n+static void\n+set_random_tRNS(png_structp pp, png_infop pi, const png_byte colour_type,\n+   const int bit_depth)\n+{\n+   /* To make this useful the tRNS color needs to match at least one pixel.\n+    * Random values are fine for gray, including the 16-bit case where we know\n+    * that the test image contains all the gray values.  For RGB we need more\n+    * method as only 65536 different RGB values are generated.\n+    */\n+   png_color_16 tRNS;\n+   const png_uint_16 mask = (png_uint_16)((1U << bit_depth)-1);\n+\n+   RANDOMIZE(tRNS);\n+\n+   if (colour_type & 2/*RGB*/)\n+   {\n+      if (bit_depth == 8)\n+      {\n+         tRNS.blue = tRNS.red ^ tRNS.green;\n+         tRNS.red &= mask;\n+         tRNS.green &= mask;\n+         tRNS.blue &= mask;\n+      }\n+\n+      else /* bit_depth == 16 */\n+      {\n+         tRNS.green = (png_uint_16)(tRNS.red * 257);\n+         tRNS.blue = (png_uint_16)(tRNS.green * 17);\n+      }\n+   }\n+\n+   else\n+      tRNS.gray &= mask;\n+\n+   png_set_tRNS(pp, pi, NULL, 0, &tRNS);\n+}\n+#endif\n+\n /* The number of passes is related to the interlace type. There was no libpng\n  * API to determine this prior to 1.5, so we need an inquiry function:\n  */\n@@ -3411,13 +3553,17 @@\n\n #ifdef PNG_WRITE_INTERLACING_SUPPORTED\n #  define INTERLACE_LAST PNG_INTERLACE_LAST\n #  define check_interlace_type(type) ((void)(type))\n-#else\n-#  define INTERLACE_LAST (PNG_INTERLACE_NONE+1)\n-#  define png_set_interlace_handling(a) (1)\n-\n+#  define set_write_interlace_handling(pp,type) png_set_interlace_handling(pp)\n+#  define do_own_interlace 0\n+#elif PNG_LIBPNG_VER < 10700\n+#  define set_write_interlace_handling(pp,type) (1)\n static void\n-check_interlace_type(int PNG_CONST interlace_type)\n+check_interlace_type(int const interlace_type)\n {\n+   /* Prior to 1.7.0 libpng does not support the write of an interlaced image\n+    * unless PNG_WRITE_INTERLACING_SUPPORTED, even with do_interlace so the\n+    * code here does the pixel interlace itself, so:\n+    */\n    if (interlace_type != PNG_INTERLACE_NONE)\n    {\n       /* This is an internal error - --interlace tests should be skipped, not\n@@ -3427,17 +3573,85 @@\n\n       exit(99);\n    }\n }\n-#endif\n+#  define INTERLACE_LAST (PNG_INTERLACE_NONE+1)\n+#  define do_own_interlace 0\n+#else /* libpng 1.7+ */\n+#  define set_write_interlace_handling(pp,type)\\\n+      npasses_from_interlace_type(pp,type)\n+#  define check_interlace_type(type) ((void)(type))\n+#  define INTERLACE_LAST PNG_INTERLACE_LAST\n+#  define do_own_interlace 1\n+#endif /* WRITE_INTERLACING tests */\n \n-/* Make a standardized image given a an image colour type, bit depth and\n+#define CAN_WRITE_INTERLACE\\\n+   PNG_LIBPNG_VER >= 10700 || defined PNG_WRITE_INTERLACING_SUPPORTED\n+\n+/* Do the same thing for read interlacing; this controls whether read tests do\n+ * their own de-interlace or use libpng.\n+ */\n+#ifdef PNG_READ_INTERLACING_SUPPORTED\n+#  define do_read_interlace 0\n+#else /* no libpng read interlace support */\n+#  define do_read_interlace 1\n+#endif\n+/* The following two routines use the PNG interlace support macros from\n+ * png.h to interlace or deinterlace rows.\n+ */\n+static void\n+interlace_row(png_bytep buffer, png_const_bytep imageRow,\n+   unsigned int pixel_size, png_uint_32 w, int pass, int littleendian)\n+{\n+   png_uint_32 xin, xout, xstep;\n+\n+   /* Note that this can, trivially, be optimized to a memcpy on pass 7, the\n+    * code is presented this way to make it easier to understand.  In practice\n+    * consult the code in the libpng source to see other ways of doing this.\n+    *\n+    * It is OK for buffer and imageRow to be identical, because 'xin' moves\n+    * faster than 'xout' and we copy up.\n+    */\n+   xin = PNG_PASS_START_COL(pass);\n+   xstep = 1U<<PNG_PASS_COL_SHIFT(pass);\n+\n+   for (xout=0; xin<w; xin+=xstep)\n+   {\n+      pixel_copy(buffer, xout, imageRow, xin, pixel_size, littleendian);\n+      ++xout;\n+   }\n+}\n+\n+#ifdef PNG_READ_SUPPORTED\n+static void\n+deinterlace_row(png_bytep buffer, png_const_bytep row,\n+   unsigned int pixel_size, png_uint_32 w, int pass, int littleendian)\n+{\n+   /* The inverse of the above, 'row' is part of row 'y' of the output image,\n+    * in 'buffer'.  The image is 'w' wide and this is pass 'pass', distribute\n+    * the pixels of row into buffer and return the number written (to allow\n+    * this to be checked).\n+    */\n+   png_uint_32 xin, xout, xstep;\n+\n+   xout = PNG_PASS_START_COL(pass);\n+   xstep = 1U<<PNG_PASS_COL_SHIFT(pass);\n+\n+   for (xin=0; xout<w; xout+=xstep)\n+   {\n+      pixel_copy(buffer, xout, row, xin, pixel_size, littleendian);\n+      ++xin;\n+   }\n+}\n+#endif /* PNG_READ_SUPPORTED */\n+\n+/* Make a standardized image given an image colour type, bit depth and\n  * interlace type.  The standard images have a very restricted range of\n  * rows and heights and are used for testing transforms rather than image\n  * layout details.  See make_size_images below for a way to make images\n  * that test odd sizes along with the libpng interlace handling.\n  */\n static void\n-make_transform_image(png_store* PNG_CONST ps, png_byte PNG_CONST colour_type,\n-    png_byte PNG_CONST bit_depth, unsigned int palette_number,\n+make_transform_image(png_store* const ps, png_byte const colour_type,\n+    png_byte const bit_depth, unsigned int palette_number,\n     int interlace_type, png_const_charp name)\n {\n    context(ps, fault);\n@@ -3448,7 +3662,7 @@\n\n    {\n       png_infop pi;\n       png_structp pp = set_store_for_write(ps, &pi, name);\n-      png_uint_32 h;\n+      png_uint_32 h, w;\n \n       /* In the event of a problem return control to the Catch statement below\n        * to do the clean up - it is not possible to 'return' directly from a Try\n@@ -3457,10 +3671,10 @@\n\n       if (pp == NULL)\n          Throw ps;\n \n+      w = transform_width(pp, colour_type, bit_depth);\n       h = transform_height(pp, colour_type, bit_depth);\n \n-      png_set_IHDR(pp, pi, transform_width(pp, colour_type, bit_depth), h,\n-         bit_depth, colour_type, interlace_type,\n+      png_set_IHDR(pp, pi, w, h, bit_depth, colour_type, interlace_type,\n          PNG_COMPRESSION_TYPE_BASE, PNG_FILTER_TYPE_BASE);\n \n #ifdef PNG_TEXT_SUPPORTED\n@@ -3495,11 +3709,16 @@\n\n       if (colour_type == 3) /* palette */\n          init_standard_palette(ps, pp, pi, 1U << bit_depth, 1/*do tRNS*/);\n \n+#     ifdef PNG_WRITE_tRNS_SUPPORTED\n+         else if (palette_number)\n+            set_random_tRNS(pp, pi, colour_type, bit_depth);\n+#     endif\n+\n       png_write_info(pp, pi);\n \n       if (png_get_rowbytes(pp, pi) !=\n           transform_rowsize(pp, colour_type, bit_depth))\n-         png_error(pp, \""row size incorrect\"");\n+         png_error(pp, \""transform row size incorrect\"");\n \n       else\n       {\n@@ -3507,7 +3726,7 @@\n\n           * because if it is called before, the information in *pp has not been\n           * updated to reflect the interlaced image.\n           */\n-         int npasses = png_set_interlace_handling(pp);\n+         int npasses = set_write_interlace_handling(pp, interlace_type);\n          int pass;\n \n          if (npasses != npasses_from_interlace_type(pp, interlace_type))\n@@ -3517,11 +3736,37 @@\n\n          {\n             png_uint_32 y;\n \n+            /* do_own_interlace is a pre-defined boolean (a #define) which is\n+             * set if we have to work out the interlaced rows here.\n+             */\n             for (y=0; y<h; ++y)\n             {\n                png_byte buffer[TRANSFORM_ROWMAX];\n \n                transform_row(pp, buffer, colour_type, bit_depth, y);\n+\n+#              if do_own_interlace\n+                  /* If do_own_interlace *and* the image is interlaced we need a\n+                   * reduced interlace row; this may be reduced to empty.\n+                   */\n+                  if (interlace_type == PNG_INTERLACE_ADAM7)\n+                  {\n+                     /* The row must not be written if it doesn't exist, notice\n+                      * that there are two conditions here, either the row isn't\n+                      * ever in the pass or the row would be but isn't wide\n+                      * enough to contribute any pixels.  In fact the wPass test\n+                      * can be used to skip the whole y loop in this case.\n+                      */\n+                     if (PNG_ROW_IN_INTERLACE_PASS(y, pass) &&\n+                         PNG_PASS_COLS(w, pass) > 0)\n+                        interlace_row(buffer, buffer,\n+                              bit_size(pp, colour_type, bit_depth), w, pass,\n+                              0/*data always bigendian*/);\n+                     else\n+                        continue;\n+                  }\n+#              endif /* do_own_interlace */\n+\n                png_write_row(pp, buffer);\n             }\n          }\n@@ -3568,19 +3813,20 @@\n\n }\n \n static void\n-make_transform_images(png_store *ps)\n+make_transform_images(png_modifier *pm)\n {\n    png_byte colour_type = 0;\n    png_byte bit_depth = 0;\n    unsigned int palette_number = 0;\n \n    /* This is in case of errors. */\n-   safecat(ps->test, sizeof ps->test, 0, \""make standard images\"");\n+   safecat(pm->this.test, sizeof pm->this.test, 0, \""make standard images\"");\n \n    /* Use next_format to enumerate all the combinations we test, including\n-    * generating multiple low bit depth palette images.\n+    * generating multiple low bit depth palette images. Non-A images (palette\n+    * and direct) are created with and without tRNS chunks.\n     */\n-   while (next_format(&colour_type, &bit_depth, &palette_number, 0))\n+   while (next_format(&colour_type, &bit_depth, &palette_number, 1, 1))\n    {\n       int interlace_type;\n \n@@ -3590,59 +3836,13 @@\n\n          char name[FILE_NAME_SIZE];\n \n          standard_name(name, sizeof name, 0, colour_type, bit_depth,\n-            palette_number, interlace_type, 0, 0, 0);\n-         make_transform_image(ps, colour_type, bit_depth, palette_number,\n+            palette_number, interlace_type, 0, 0, do_own_interlace);\n+         make_transform_image(&pm->this, colour_type, bit_depth, palette_number,\n             interlace_type, name);\n       }\n    }\n }\n \n-/* The following two routines use the PNG interlace support macros from\n- * png.h to interlace or deinterlace rows.\n- */\n-static void\n-interlace_row(png_bytep buffer, png_const_bytep imageRow,\n-   unsigned int pixel_size, png_uint_32 w, int pass)\n-{\n-   png_uint_32 xin, xout, xstep;\n-\n-   /* Note that this can, trivially, be optimized to a memcpy on pass 7, the\n-    * code is presented this way to make it easier to understand.  In practice\n-    * consult the code in the libpng source to see other ways of doing this.\n-    */\n-   xin = PNG_PASS_START_COL(pass);\n-   xstep = 1U<<PNG_PASS_COL_SHIFT(pass);\n-\n-   for (xout=0; xin<w; xin+=xstep)\n-   {\n-      pixel_copy(buffer, xout, imageRow, xin, pixel_size);\n-      ++xout;\n-   }\n-}\n-\n-#ifdef PNG_READ_SUPPORTED\n-static void\n-deinterlace_row(png_bytep buffer, png_const_bytep row,\n-   unsigned int pixel_size, png_uint_32 w, int pass)\n-{\n-   /* The inverse of the above, 'row' is part of row 'y' of the output image,\n-    * in 'buffer'.  The image is 'w' wide and this is pass 'pass', distribute\n-    * the pixels of row into buffer and return the number written (to allow\n-    * this to be checked).\n-    */\n-   png_uint_32 xin, xout, xstep;\n-\n-   xout = PNG_PASS_START_COL(pass);\n-   xstep = 1U<<PNG_PASS_COL_SHIFT(pass);\n-\n-   for (xin=0; xout<w; xout+=xstep)\n-   {\n-      pixel_copy(buffer, xout, row, xin, pixel_size);\n-      ++xin;\n-   }\n-}\n-#endif /* PNG_READ_SUPPORTED */\n-\n /* Build a single row for the 'size' test images; this fills in only the\n  * first bit_width bits of the sample row.\n  */\n@@ -3668,17 +3868,13 @@\n\n }\n \n static void\n-make_size_image(png_store* PNG_CONST ps, png_byte PNG_CONST colour_type,\n-    png_byte PNG_CONST bit_depth, int PNG_CONST interlace_type,\n-    png_uint_32 PNG_CONST w, png_uint_32 PNG_CONST h,\n-    int PNG_CONST do_interlace)\n+make_size_image(png_store* const ps, png_byte const colour_type,\n+    png_byte const bit_depth, int const interlace_type,\n+    png_uint_32 const w, png_uint_32 const h,\n+    int const do_interlace)\n {\n    context(ps, fault);\n \n-   /* At present libpng does not support the write of an interlaced image unless\n-    * PNG_WRITE_INTERLACING_SUPPORTED, even with do_interlace so the code here\n-    * does the pixel interlace itself, so:\n-    */\n    check_interlace_type(interlace_type);\n \n    Try\n@@ -3689,7 +3885,7 @@\n\n \n       /* Make a name and get an appropriate id for the store: */\n       char name[FILE_NAME_SIZE];\n-      PNG_CONST png_uint_32 id = FILEID(colour_type, bit_depth, 0/*palette*/,\n+      const png_uint_32 id = FILEID(colour_type, bit_depth, 0/*palette*/,\n          interlace_type, w, h, do_interlace);\n \n       standard_name_from_id(name, sizeof name, 0, id);\n@@ -3740,7 +3936,7 @@\n\n        */\n       pixel_size = bit_size(pp, colour_type, bit_depth);\n       if (png_get_rowbytes(pp, pi) != ((w * pixel_size) + 7) / 8)\n-         png_error(pp, \""row size incorrect\"");\n+         png_error(pp, \""size row size incorrect\"");\n \n       else\n       {\n@@ -3757,7 +3953,8 @@\n\n           */\n          memset(image, 0xff, sizeof image);\n \n-         if (!do_interlace && npasses != png_set_interlace_handling(pp))\n+         if (!do_interlace &&\n+             npasses != set_write_interlace_handling(pp, interlace_type))\n             png_error(pp, \""write: png_set_interlace_handling failed\"");\n \n          /* Prepare the whole image first to avoid making it 7 times: */\n@@ -3767,7 +3964,7 @@\n\n          for (pass=0; pass<npasses; ++pass)\n          {\n             /* The following two are for checking the macros: */\n-            PNG_CONST png_uint_32 wPass = PNG_PASS_COLS(w, pass);\n+            const png_uint_32 wPass = PNG_PASS_COLS(w, pass);\n \n             /* If do_interlace is set we don't call png_write_row for every\n              * row because some of them are empty.  In fact, for a 1x1 image,\n@@ -3796,7 +3993,8 @@\n\n                       * set unset things to 0).\n                       */\n                      memset(tempRow, 0xff, sizeof tempRow);\n-                     interlace_row(tempRow, row, pixel_size, w, pass);\n+                     interlace_row(tempRow, row, pixel_size, w, pass,\n+                           0/*data always bigendian*/);\n                      row = tempRow;\n                   }\n                   else\n@@ -3866,8 +4064,8 @@\n\n }\n \n static void\n-make_size(png_store* PNG_CONST ps, png_byte PNG_CONST colour_type, int bdlo,\n-    int PNG_CONST bdhi)\n+make_size(png_store* const ps, png_byte const colour_type, int bdlo,\n+    int const bdhi)\n {\n    for (; bdlo <= bdhi; ++bdlo)\n    {\n@@ -3890,6 +4088,11 @@\n\n #        ifdef PNG_WRITE_INTERLACING_SUPPORTED\n             make_size_image(ps, colour_type, DEPTH(bdlo), PNG_INTERLACE_ADAM7,\n                width, height, 0);\n+#        endif\n+#        if CAN_WRITE_INTERLACE\n+            /* 1.7.0 removes the hack that prevented app write of an interlaced\n+             * image if WRITE_INTERLACE was not supported\n+             */\n             make_size_image(ps, colour_type, DEPTH(bdlo), PNG_INTERLACE_ADAM7,\n                width, height, 1);\n #        endif\n@@ -3963,41 +4166,45 @@\n\n    png_set_sBIT(pp, pi, &bad);\n }\n \n-static PNG_CONST struct\n+static const struct\n {\n    void          (*fn)(png_structp, png_infop);\n-   PNG_CONST char *msg;\n+   const char *msg;\n    unsigned int    warning :1; /* the error is a warning... */\n } error_test[] =\n     {\n-       /* no warnings makes these errors undetectable. */\n-       { sBIT0_error_fn, \""sBIT(0): failed to detect error\"", 1 },\n-       { sBIT_error_fn, \""sBIT(too big): failed to detect error\"", 1 },\n+       /* no warnings makes these errors undetectable prior to 1.7.0 */\n+       { sBIT0_error_fn, \""sBIT(0): failed to detect error\"",\n+         PNG_LIBPNG_VER < 10700 },\n+\n+       { sBIT_error_fn, \""sBIT(too big): failed to detect error\"",\n+         PNG_LIBPNG_VER < 10700 },\n     };\n \n static void\n-make_error(png_store* volatile psIn, png_byte PNG_CONST colour_type,\n+make_error(png_store* const ps, png_byte const colour_type,\n     png_byte bit_depth, int interlace_type, int test, png_const_charp name)\n {\n-   png_store * volatile ps = psIn;\n-\n    context(ps, fault);\n \n    check_interlace_type(interlace_type);\n \n    Try\n    {\n-      png_structp pp;\n       png_infop pi;\n-\n-      pp = set_store_for_write(ps, &pi, name);\n+      const png_structp pp = set_store_for_write(ps, &pi, name);\n+      png_uint_32 w, h;\n+      gnu_volatile(pp)\n \n       if (pp == NULL)\n          Throw ps;\n \n-      png_set_IHDR(pp, pi, transform_width(pp, colour_type, bit_depth),\n-         transform_height(pp, colour_type, bit_depth), bit_depth, colour_type,\n-         interlace_type, PNG_COMPRESSION_TYPE_BASE, PNG_FILTER_TYPE_BASE);\n+      w = transform_width(pp, colour_type, bit_depth);\n+      gnu_volatile(w)\n+      h = transform_height(pp, colour_type, bit_depth);\n+      gnu_volatile(h)\n+      png_set_IHDR(pp, pi, w, h, bit_depth, colour_type, interlace_type,\n+            PNG_COMPRESSION_TYPE_BASE, PNG_FILTER_TYPE_BASE);\n \n       if (colour_type == 3) /* palette */\n          init_standard_palette(ps, pp, pi, 1U << bit_depth, 0/*do tRNS*/);\n@@ -4009,6 +4216,8 @@\n\n #     define exception__env exception_env_1\n       Try\n       {\n+         gnu_volatile(exception__prev)\n+\n          /* Expect this to throw: */\n          ps->expect_error = !error_test[test].warning;\n          ps->expect_warning = error_test[test].warning;\n@@ -4029,7 +4238,8 @@\n\n       }\n \n       Catch (fault)\n-         ps = fault; /* expected exit, make sure ps is not clobbered */\n+      { /* expected exit */\n+      }\n #undef exception__prev\n #undef exception__env\n \n@@ -4046,8 +4256,7 @@\n\n \n       else\n       {\n-         png_uint_32 h = transform_height(pp, colour_type, bit_depth);\n-         int npasses = png_set_interlace_handling(pp);\n+         int npasses = set_write_interlace_handling(pp, interlace_type);\n          int pass;\n \n          if (npasses != npasses_from_interlace_type(pp, interlace_type))\n@@ -4062,6 +4271,29 @@\n\n                png_byte buffer[TRANSFORM_ROWMAX];\n \n                transform_row(pp, buffer, colour_type, bit_depth, y);\n+\n+#              if do_own_interlace\n+                  /* If do_own_interlace *and* the image is interlaced we need a\n+                   * reduced interlace row; this may be reduced to empty.\n+                   */\n+                  if (interlace_type == PNG_INTERLACE_ADAM7)\n+                  {\n+                     /* The row must not be written if it doesn't exist, notice\n+                      * that there are two conditions here, either the row isn't\n+                      * ever in the pass or the row would be but isn't wide\n+                      * enough to contribute any pixels.  In fact the wPass test\n+                      * can be used to skip the whole y loop in this case.\n+                      */\n+                     if (PNG_ROW_IN_INTERLACE_PASS(y, pass) &&\n+                         PNG_PASS_COLS(w, pass) > 0)\n+                        interlace_row(buffer, buffer,\n+                              bit_size(pp, colour_type, bit_depth), w, pass,\n+                              0/*data always bigendian*/);\n+                     else\n+                        continue;\n+                  }\n+#              endif /* do_own_interlace */\n+\n                png_write_row(pp, buffer);\n             }\n          }\n@@ -4080,8 +4312,8 @@\n\n }\n \n static int\n-make_errors(png_modifier* PNG_CONST pm, png_byte PNG_CONST colour_type,\n-    int bdlo, int PNG_CONST bdhi)\n+make_errors(png_modifier* const pm, png_byte const colour_type,\n+    int bdlo, int const bdhi)\n {\n    for (; bdlo <= bdhi; ++bdlo)\n    {\n@@ -4094,9 +4326,9 @@\n\n          char name[FILE_NAME_SIZE];\n \n          standard_name(name, sizeof name, 0, colour_type, 1<<bdlo, 0,\n-            interlace_type, 0, 0, 0);\n+            interlace_type, 0, 0, do_own_interlace);\n \n-         for (test=0; test<(sizeof error_test)/(sizeof error_test[0]); ++test)\n+         for (test=0; test<ARRAY_SIZE(error_test); ++test)\n          {\n             make_error(&pm->this, colour_type, DEPTH(bdlo), interlace_type,\n                test, name);\n@@ -4141,7 +4373,7 @@\n\n  * then the warning messages the library outputs will probably be garbage.\n  */\n static void\n-perform_formatting_test(png_store *volatile ps)\n+perform_formatting_test(png_store *ps)\n {\n #ifdef PNG_TIME_RFC1123_SUPPORTED\n    /* The handle into the formatting code is the RFC1123 support; this test does\n@@ -4246,7 +4478,8 @@\n\n    png_byte    green_sBIT;\n    png_byte    blue_sBIT;\n    png_byte    alpha_sBIT;\n-   int         interlace_type;\n+   png_byte    interlace_type;\n+   png_byte    filler;         /* Output has a filler */\n    png_uint_32 id;             /* Calculated file ID */\n    png_uint_32 w;              /* Width of image */\n    png_uint_32 h;              /* Height of image */\n@@ -4255,7 +4488,9 @@\n\n    png_uint_32 bit_width;      /* Width of output row in bits */\n    size_t      cbRow;          /* Bytes in a row of the output image */\n    int         do_interlace;   /* Do interlacing internally */\n+   int         littleendian;   /* App (row) data is little endian */\n    int         is_transparent; /* Transparency information was present. */\n+   int         has_tRNS;       /* color type GRAY or RGB with a tRNS chunk. */\n    int         speed;          /* Doing a speed test */\n    int         use_update_info;/* Call update_info, not start_image */\n    struct\n@@ -4296,6 +4531,7 @@\n\n    dp->bit_width = 0;\n    dp->cbRow = 0;\n    dp->do_interlace = do_interlace;\n+   dp->littleendian = 0;\n    dp->is_transparent = 0;\n    dp->speed = ps->speed;\n    dp->use_update_info = use_update_info;\n@@ -4588,14 +4824,14 @@\n\n          case 0:\n             dp->transparent.red = dp->transparent.green = dp->transparent.blue =\n                trans_color->gray;\n-            dp->is_transparent = 1;\n+            dp->has_tRNS = 1;\n             break;\n \n          case 2:\n             dp->transparent.red = trans_color->red;\n             dp->transparent.green = trans_color->green;\n             dp->transparent.blue = trans_color->blue;\n-            dp->is_transparent = 1;\n+            dp->has_tRNS = 1;\n             break;\n \n          case 3:\n@@ -4616,8 +4852,19 @@\n\n     * turning on interlace handling (if do_interlace is not set.)\n     */\n    dp->npasses = npasses_from_interlace_type(pp, dp->interlace_type);\n-   if (!dp->do_interlace && dp->npasses != png_set_interlace_handling(pp))\n-      png_error(pp, \""validate: file changed interlace type\"");\n+   if (!dp->do_interlace)\n+   {\n+#     ifdef PNG_READ_INTERLACING_SUPPORTED\n+         if (dp->npasses != png_set_interlace_handling(pp))\n+            png_error(pp, \""validate: file changed interlace type\"");\n+#     else /* !READ_INTERLACING */\n+         /* This should never happen: the relevant tests (!do_interlace) should\n+          * not be run.\n+          */\n+         if (dp->npasses > 1)\n+            png_error(pp, \""validate: no libpng interlace support\"");\n+#     endif /* !READ_INTERLACING */\n+   }\n \n    /* Caller calls png_read_update_info or png_start_read_image now, then calls\n     * part2.\n@@ -4633,8 +4880,16 @@\n\n     png_const_infop pi, int nImages)\n {\n    /* Record cbRow now that it can be found. */\n-   dp->pixel_size = bit_size(pp, png_get_color_type(pp, pi),\n-      png_get_bit_depth(pp, pi));\n+   {\n+      png_byte ct = png_get_color_type(pp, pi);\n+      png_byte bd = png_get_bit_depth(pp, pi);\n+\n+      if (bd >= 8 && (ct == PNG_COLOR_TYPE_RGB || ct == PNG_COLOR_TYPE_GRAY) &&\n+          dp->filler)\n+          ct |= 4; /* handle filler as faked alpha channel */\n+\n+      dp->pixel_size = bit_size(pp, ct, bd);\n+   }\n    dp->bit_width = png_get_image_width(pp, pi) * dp->pixel_size;\n    dp->cbRow = png_get_rowbytes(pp, pi);\n \n@@ -4691,7 +4946,7 @@\n\n progressive_row(png_structp ppIn, png_bytep new_row, png_uint_32 y, int pass)\n {\n    png_const_structp pp = ppIn;\n-   PNG_CONST standard_display *dp = voidcast(standard_display*,\n+   const standard_display *dp = voidcast(standard_display*,\n       png_get_progressive_ptr(pp));\n \n    /* When handling interlacing some rows will be absent in each pass, the\n@@ -4715,7 +4970,7 @@\n\n \n          if (pass != png_get_current_pass_number(pp))\n             png_error(pp, \""png_get_current_pass_number is broken\"");\n-#endif\n+#endif /* USER_TRANSFORM_INFO */\n \n          y = PNG_ROW_FROM_PASS_ROW(y, pass);\n       }\n@@ -4726,38 +4981,39 @@\n\n \n       row = store_image_row(dp->ps, pp, 0, y);\n \n-#ifdef PNG_READ_INTERLACING_SUPPORTED\n       /* Combine the new row into the old: */\n+#ifdef PNG_READ_INTERLACING_SUPPORTED\n       if (dp->do_interlace)\n+#endif /* READ_INTERLACING */\n       {\n          if (dp->interlace_type == PNG_INTERLACE_ADAM7)\n-            deinterlace_row(row, new_row, dp->pixel_size, dp->w, pass);\n+            deinterlace_row(row, new_row, dp->pixel_size, dp->w, pass,\n+                  dp->littleendian);\n          else\n-            row_copy(row, new_row, dp->pixel_size * dp->w);\n+            row_copy(row, new_row, dp->pixel_size * dp->w, dp->littleendian);\n       }\n+#ifdef PNG_READ_INTERLACING_SUPPORTED\n       else\n          png_progressive_combine_row(pp, row, new_row);\n #endif /* PNG_READ_INTERLACING_SUPPORTED */\n    }\n \n-#ifdef PNG_READ_INTERLACING_SUPPORTED\n    else if (dp->interlace_type == PNG_INTERLACE_ADAM7 &&\n        PNG_ROW_IN_INTERLACE_PASS(y, pass) &&\n        PNG_PASS_COLS(dp->w, pass) > 0)\n       png_error(pp, \""missing row in progressive de-interlacing\"");\n-#endif /* PNG_READ_INTERLACING_SUPPORTED */\n }\n \n static void\n sequential_row(standard_display *dp, png_structp pp, png_infop pi,\n-    PNG_CONST int iImage, PNG_CONST int iDisplay)\n+    const int iImage, const int iDisplay)\n {\n-   PNG_CONST int         npasses = dp->npasses;\n-   PNG_CONST int         do_interlace = dp->do_interlace &&\n+   const int         npasses = dp->npasses;\n+   const int         do_interlace = dp->do_interlace &&\n       dp->interlace_type == PNG_INTERLACE_ADAM7;\n-   PNG_CONST png_uint_32 height = standard_height(pp, dp->id);\n-   PNG_CONST png_uint_32 width = standard_width(pp, dp->id);\n-   PNG_CONST png_store*  ps = dp->ps;\n+   const png_uint_32 height = standard_height(pp, dp->id);\n+   const png_uint_32 width = standard_width(pp, dp->id);\n+   const png_store*  ps = dp->ps;\n    int pass;\n \n    for (pass=0; pass<npasses; ++pass)\n@@ -4792,11 +5048,11 @@\n\n \n                if (iImage >= 0)\n                   deinterlace_row(store_image_row(ps, pp, iImage, y), row,\n-                     dp->pixel_size, dp->w, pass);\n+                     dp->pixel_size, dp->w, pass, dp->littleendian);\n \n                if (iDisplay >= 0)\n                   deinterlace_row(store_image_row(ps, pp, iDisplay, y), display,\n-                     dp->pixel_size, dp->w, pass);\n+                     dp->pixel_size, dp->w, pass, dp->littleendian);\n             }\n          }\n          else\n@@ -4943,14 +5199,6 @@\n\n     * In earlier passes 'row' will be partially filled in, with only the pixels\n     * that have been read so far, but 'display' will have those pixels\n     * replicated to fill the unread pixels while reading an interlaced image.\n-#if PNG_LIBPNG_VER < 10506\n-    * The side effect inside the libpng sequential reader is that the 'row'\n-    * array retains the correct values for unwritten pixels within the row\n-    * bytes, while the 'display' array gets bits off the end of the image (in\n-    * the last byte) trashed.  Unfortunately in the progressive reader the\n-    * row bytes are always trashed, so we always do a pixel_cmp here even though\n-    * a memcmp of all cbRow bytes will succeed for the sequential reader.\n-#endif\n     */\n    if (iImage >= 0 &&\n       (where = pixel_cmp(std, store_image_row(dp->ps, pp, iImage, y),\n@@ -4963,19 +5211,12 @@\n\n       png_error(pp, msg);\n    }\n \n-#if PNG_LIBPNG_VER < 10506\n-   /* In this case use pixel_cmp because we need to compare a partial\n-    * byte at the end of the row if the row is not an exact multiple\n-    * of 8 bits wide.  (This is fixed in libpng-1.5.6 and pixel_cmp is\n-    * changed to match!)\n-    */\n-#endif\n    if (iDisplay >= 0 &&\n       (where = pixel_cmp(std, store_image_row(dp->ps, pp, iDisplay, y),\n          dp->bit_width)) != 0)\n    {\n       char msg[64];\n-      sprintf(msg, \""display  row[%lu][%d] changed from %.2x to %.2x\"",\n+      sprintf(msg, \""display row[%lu][%d] changed from %.2x to %.2x\"",\n          (unsigned long)y, where-1, std[where-1],\n          store_image_row(dp->ps, pp, iDisplay, y)[where-1]);\n       png_error(pp, msg);\n@@ -5020,7 +5261,7 @@\n\n \n /* A single test run checking the standard image to ensure it is not damaged. */\n static void\n-standard_test(png_store* PNG_CONST psIn, png_uint_32 PNG_CONST id,\n+standard_test(png_store* const psIn, png_uint_32 const id,\n    int do_interlace, int use_update_info)\n {\n    standard_display d;\n@@ -5108,8 +5349,8 @@\n\n }\n \n static int\n-test_standard(png_modifier* PNG_CONST pm, png_byte PNG_CONST colour_type,\n-    int bdlo, int PNG_CONST bdhi)\n+test_standard(png_modifier* const pm, png_byte const colour_type,\n+    int bdlo, int const bdhi)\n {\n    for (; bdlo <= bdhi; ++bdlo)\n    {\n@@ -5119,7 +5360,7 @@\n\n            interlace_type < INTERLACE_LAST; ++interlace_type)\n       {\n          standard_test(&pm->this, FILEID(colour_type, DEPTH(bdlo), 0/*palette*/,\n-            interlace_type, 0, 0, 0), 0/*do_interlace*/, pm->use_update_info);\n+            interlace_type, 0, 0, 0), do_read_interlace, pm->use_update_info);\n \n          if (fail(pm))\n             return 0;\n@@ -5154,8 +5395,8 @@\n\n \n /********************************** SIZE TESTS ********************************/\n static int\n-test_size(png_modifier* PNG_CONST pm, png_byte PNG_CONST colour_type,\n-    int bdlo, int PNG_CONST bdhi)\n+test_size(png_modifier* const pm, png_byte const colour_type,\n+    int bdlo, int const bdhi)\n {\n    /* Run the tests on each combination.\n     *\n@@ -5164,8 +5405,10 @@\n\n     * width and height.  This is a waste of time in practice, hence the\n     * hinc and winc stuff:\n     */\n-   static PNG_CONST png_byte hinc[] = {1, 3, 11, 1, 5};\n-   static PNG_CONST png_byte winc[] = {1, 9, 5, 7, 1};\n+   static const png_byte hinc[] = {1, 3, 11, 1, 5};\n+   static const png_byte winc[] = {1, 9, 5, 7, 1};\n+   const int save_bdlo = bdlo;\n+\n    for (; bdlo <= bdhi; ++bdlo)\n    {\n       png_uint_32 h, w;\n@@ -5191,22 +5434,6 @@\n\n          if (fail(pm))\n             return 0;\n \n-#     ifdef PNG_WRITE_INTERLACING_SUPPORTED\n-         standard_test(&pm->this, FILEID(colour_type, DEPTH(bdlo), 0/*palette*/,\n-            PNG_INTERLACE_ADAM7, w, h, 0), 0/*do_interlace*/,\n-            pm->use_update_info);\n-\n-         if (fail(pm))\n-            return 0;\n-\n-         standard_test(&pm->this, FILEID(colour_type, DEPTH(bdlo), 0/*palette*/,\n-            PNG_INTERLACE_ADAM7, w, h, 1), 0/*do_interlace*/,\n-            pm->use_update_info);\n-\n-         if (fail(pm))\n-            return 0;\n-#     endif\n-\n          /* Now validate the interlaced read side - do_interlace true,\n           * in the progressive case this does actually make a difference\n           * to the code used in the non-interlaced case too.\n@@ -5218,7 +5445,45 @@\n\n          if (fail(pm))\n             return 0;\n \n+#     if CAN_WRITE_INTERLACE\n+         /* Validate the pngvalid code itself: */\n+         standard_test(&pm->this, FILEID(colour_type, DEPTH(bdlo), 0/*palette*/,\n+            PNG_INTERLACE_ADAM7, w, h, 1), 1/*do_interlace*/,\n+            pm->use_update_info);\n+\n+         if (fail(pm))\n+            return 0;\n+#     endif\n+      }\n+   }\n+\n+   /* Now do the tests of libpng interlace handling, after we have made sure\n+    * that the pngvalid version works:\n+    */\n+   for (bdlo = save_bdlo; bdlo <= bdhi; ++bdlo)\n+   {\n+      png_uint_32 h, w;\n+\n+      for (h=1; h<=16; h+=hinc[bdlo]) for (w=1; w<=16; w+=winc[bdlo])\n+      {\n+#     ifdef PNG_READ_INTERLACING_SUPPORTED\n+         /* Test with pngvalid generated interlaced images first; we have\n+          * already verify these are ok (unless pngvalid has self-consistent\n+          * read/write errors, which is unlikely), so this detects errors in the\n+          * read side first:\n+          */\n+#     if CAN_WRITE_INTERLACE\n+         standard_test(&pm->this, FILEID(colour_type, DEPTH(bdlo), 0/*palette*/,\n+            PNG_INTERLACE_ADAM7, w, h, 1), 0/*do_interlace*/,\n+            pm->use_update_info);\n+\n+         if (fail(pm))\n+            return 0;\n+#     endif\n+#     endif /* READ_INTERLACING */\n+\n #     ifdef PNG_WRITE_INTERLACING_SUPPORTED\n+         /* Test the libpng write side against the pngvalid read side: */\n          standard_test(&pm->this, FILEID(colour_type, DEPTH(bdlo), 0/*palette*/,\n             PNG_INTERLACE_ADAM7, w, h, 0), 1/*do_interlace*/,\n             pm->use_update_info);\n@@ -5226,6 +5491,18 @@\n\n          if (fail(pm))\n             return 0;\n #     endif\n+\n+#     ifdef PNG_READ_INTERLACING_SUPPORTED\n+#     ifdef PNG_WRITE_INTERLACING_SUPPORTED\n+         /* Test both together: */\n+         standard_test(&pm->this, FILEID(colour_type, DEPTH(bdlo), 0/*palette*/,\n+            PNG_INTERLACE_ADAM7, w, h, 0), 0/*do_interlace*/,\n+            pm->use_update_info);\n+\n+         if (fail(pm))\n+            return 0;\n+#     endif\n+#     endif /* READ_INTERLACING */\n       }\n    }\n \n@@ -5274,10 +5551,17 @@\n\n     */\n    unsigned int red, green, blue, alpha; /* For non-palette images. */\n    unsigned int palette_index;           /* For a palette image. */\n-   png_byte colour_type;                 /* As in the spec. */\n-   png_byte bit_depth;                   /* Defines bit size in row */\n-   png_byte sample_depth;                /* Scale of samples */\n-   int      have_tRNS;                   /* tRNS chunk may need processing */\n+   png_byte     colour_type;             /* As in the spec. */\n+   png_byte     bit_depth;               /* Defines bit size in row */\n+   png_byte     sample_depth;            /* Scale of samples */\n+   unsigned int have_tRNS :1;            /* tRNS chunk may need processing */\n+   unsigned int swap_rgb :1;             /* RGB swapped to BGR */\n+   unsigned int alpha_first :1;          /* Alpha at start, not end */\n+   unsigned int alpha_inverted :1;       /* Alpha channel inverted */\n+   unsigned int mono_inverted :1;        /* Gray channel inverted */\n+   unsigned int swap16 :1;               /* Byte swap 16-bit components */\n+   unsigned int littleendian :1;         /* High bits on right */\n+   unsigned int sig_bits :1;             /* Pixel shifted (sig bits only) */\n \n    /* For checking the code calculates double precision floating point values\n     * along with an error value, accumulated from the transforms.  Because an\n@@ -5285,6 +5569,9 @@\n\n     * up to just less than +/-1 in the scaled value) the *lowest* sBIT for each\n     * channel is stored.  This sBIT value is folded in to the stored error value\n     * at the end of the application of the transforms to the pixel.\n+    *\n+    * If sig_bits is set above the red, green, blue and alpha values have been\n+    * scaled so they only contain the significant bits of the component values.\n     */\n    double   redf, greenf, bluef, alphaf;\n    double   rede, greene, bluee, alphae;\n@@ -5293,26 +5580,27 @@\n\n \n /* Shared utility function, see below. */\n static void\n-image_pixel_setf(image_pixel *this, unsigned int max)\n+image_pixel_setf(image_pixel *this, unsigned int rMax, unsigned int gMax,\n+        unsigned int bMax, unsigned int aMax)\n {\n-   this->redf = this->red / (double)max;\n-   this->greenf = this->green / (double)max;\n-   this->bluef = this->blue / (double)max;\n-   this->alphaf = this->alpha / (double)max;\n+   this->redf = this->red / (double)rMax;\n+   this->greenf = this->green / (double)gMax;\n+   this->bluef = this->blue / (double)bMax;\n+   this->alphaf = this->alpha / (double)aMax;\n \n-   if (this->red < max)\n+   if (this->red < rMax)\n       this->rede = this->redf * DBL_EPSILON;\n    else\n       this->rede = 0;\n-   if (this->green < max)\n+   if (this->green < gMax)\n       this->greene = this->greenf * DBL_EPSILON;\n    else\n       this->greene = 0;\n-   if (this->blue < max)\n+   if (this->blue < bMax)\n       this->bluee = this->bluef * DBL_EPSILON;\n    else\n       this->bluee = 0;\n-   if (this->alpha < max)\n+   if (this->alpha < aMax)\n       this->alphae = this->alphaf * DBL_EPSILON;\n    else\n       this->alphae = 0;\n@@ -5324,18 +5612,22 @@\n\n  */\n static void\n image_pixel_init(image_pixel *this, png_const_bytep row, png_byte colour_type,\n-    png_byte bit_depth, png_uint_32 x, store_palette palette)\n+    png_byte bit_depth, png_uint_32 x, store_palette palette,\n+    const image_pixel *format /*from pngvalid transform of input*/)\n {\n-   PNG_CONST png_byte sample_depth = (png_byte)(colour_type ==\n+   const png_byte sample_depth = (png_byte)(colour_type ==\n       PNG_COLOR_TYPE_PALETTE ? 8 : bit_depth);\n-   PNG_CONST unsigned int max = (1U<<sample_depth)-1;\n+   const unsigned int max = (1U<<sample_depth)-1;\n+   const int swap16 = (format != 0 && format->swap16);\n+   const int littleendian = (format != 0 && format->littleendian);\n+   const int sig_bits = (format != 0 && format->sig_bits);\n \n    /* Initially just set everything to the same number and the alpha to opaque.\n     * Note that this currently assumes a simple palette where entry x has colour\n     * rgb(x,x,x)!\n     */\n    this->palette_index = this->red = this->green = this->blue =\n-      sample(row, colour_type, bit_depth, x, 0);\n+      sample(row, colour_type, bit_depth, x, 0, swap16, littleendian);\n    this->alpha = max;\n    this->red_sBIT = this->green_sBIT = this->blue_sBIT = this->alpha_sBIT =\n       sample_depth;\n@@ -5346,7 +5638,7 @@\n\n       /* This permits the caller to default to the sample value. */\n       if (palette != 0)\n       {\n-         PNG_CONST unsigned int i = this->palette_index;\n+         const unsigned int i = this->palette_index;\n \n          this->red = palette[i].red;\n          this->green = palette[i].green;\n@@ -5359,21 +5651,52 @@\n\n    {\n       unsigned int i = 0;\n \n+      if ((colour_type & 4) != 0 && format != 0 && format->alpha_first)\n+      {\n+         this->alpha = this->red;\n+         /* This handles the gray case for 'AG' pixels */\n+         this->palette_index = this->red = this->green = this->blue =\n+            sample(row, colour_type, bit_depth, x, 1, swap16, littleendian);\n+         i = 1;\n+      }\n+\n       if (colour_type & 2)\n       {\n-         this->green = sample(row, colour_type, bit_depth, x, 1);\n-         this->blue = sample(row, colour_type, bit_depth, x, 2);\n-         i = 2;\n+         /* Green is second for both BGR and RGB: */\n+         this->green = sample(row, colour_type, bit_depth, x, ++i, swap16,\n+                 littleendian);\n+\n+         if (format != 0 && format->swap_rgb) /* BGR */\n+             this->red = sample(row, colour_type, bit_depth, x, ++i, swap16,\n+                     littleendian);\n+         else\n+             this->blue = sample(row, colour_type, bit_depth, x, ++i, swap16,\n+                     littleendian);\n       }\n-      if (colour_type & 4)\n-         this->alpha = sample(row, colour_type, bit_depth, x, ++i);\n+\n+      else /* grayscale */ if (format != 0 && format->mono_inverted)\n+         this->red = this->green = this->blue = this->red ^ max;\n+\n+      if ((colour_type & 4) != 0) /* alpha */\n+      {\n+         if (format == 0 || !format->alpha_first)\n+             this->alpha = sample(row, colour_type, bit_depth, x, ++i, swap16,\n+                     littleendian);\n+\n+         if (format != 0 && format->alpha_inverted)\n+            this->alpha ^= max;\n+      }\n    }\n \n    /* Calculate the scaled values, these are simply the values divided by\n     * 'max' and the error is initialized to the double precision epsilon value\n     * from the header file.\n     */\n-   image_pixel_setf(this, max);\n+   image_pixel_setf(this,\n+      sig_bits ? (1U << format->red_sBIT)-1 : max,\n+      sig_bits ? (1U << format->green_sBIT)-1 : max,\n+      sig_bits ? (1U << format->blue_sBIT)-1 : max,\n+      sig_bits ? (1U << format->alpha_sBIT)-1 : max);\n \n    /* Store the input information for use in the transforms - these will\n     * modify the information.\n@@ -5382,8 +5705,18 @@\n\n    this->bit_depth = bit_depth;\n    this->sample_depth = sample_depth;\n    this->have_tRNS = 0;\n+   this->swap_rgb = 0;\n+   this->alpha_first = 0;\n+   this->alpha_inverted = 0;\n+   this->mono_inverted = 0;\n+   this->swap16 = 0;\n+   this->littleendian = 0;\n+   this->sig_bits = 0;\n }\n \n+#if defined PNG_READ_EXPAND_SUPPORTED || defined PNG_READ_GRAY_TO_RGB_SUPPORTED\\\n+   || defined PNG_READ_EXPAND_SUPPORTED || defined PNG_READ_EXPAND_16_SUPPORTED\\\n+   || defined PNG_READ_BACKGROUND_SUPPORTED\n /* Convert a palette image to an rgb image.  This necessarily converts the tRNS\n  * chunk at the same time, because the tRNS will be in palette form.  The way\n  * palette validation works means that the original palette is never updated,\n@@ -5413,10 +5746,14 @@\n\n \n /* Add an alpha channel; this will import the tRNS information because tRNS is\n  * not valid in an alpha image.  The bit depth will invariably be set to at\n- * least 8.  Palette images will be converted to alpha (using the above API).\n+ * least 8 prior to 1.7.0.  Palette images will be converted to alpha (using\n+ * the above API).  With png_set_background the alpha channel is never expanded\n+ * but this routine is used by pngvalid to simplify code; 'for_background'\n+ * records this.\n  */\n static void\n-image_pixel_add_alpha(image_pixel *this, PNG_CONST standard_display *display)\n+image_pixel_add_alpha(image_pixel *this, const standard_display *display,\n+   int for_background)\n {\n    if (this->colour_type == PNG_COLOR_TYPE_PALETTE)\n       image_pixel_convert_PLTE(this);\n@@ -5425,11 +5762,21 @@\n\n    {\n       if (this->colour_type == PNG_COLOR_TYPE_GRAY)\n       {\n-         if (this->bit_depth < 8)\n-            this->bit_depth = 8;\n+#        if PNG_LIBPNG_VER < 10700\n+            if (!for_background && this->bit_depth < 8)\n+               this->bit_depth = this->sample_depth = 8;\n+#        endif\n \n          if (this->have_tRNS)\n          {\n+            /* After 1.7 the expansion of bit depth only happens if there is a\n+             * tRNS chunk to expand at this point.\n+             */\n+#           if PNG_LIBPNG_VER >= 10700\n+               if (!for_background && this->bit_depth < 8)\n+                  this->bit_depth = this->sample_depth = 8;\n+#           endif\n+\n             this->have_tRNS = 0;\n \n             /* Check the input, original, channel value here against the\n@@ -5461,9 +5808,11 @@\n\n                this->alphaf = 0;\n             else\n                this->alphaf = 1;\n-\n-            this->colour_type = PNG_COLOR_TYPE_RGB_ALPHA;\n          }\n+         else\n+            this->alphaf = 1;\n+\n+         this->colour_type = PNG_COLOR_TYPE_RGB_ALPHA;\n       }\n \n       /* The error in the alpha is zero and the sBIT value comes from the\n@@ -5473,18 +5822,19 @@\n\n       this->alpha_sBIT = display->alpha_sBIT;\n    }\n }\n+#endif /* transforms that need image_pixel_add_alpha */\n \n struct transform_display;\n typedef struct image_transform\n {\n    /* The name of this transform: a string. */\n-   PNG_CONST char *name;\n+   const char *name;\n \n    /* Each transform can be disabled from the command line: */\n    int enable;\n \n    /* The global list of transforms; read only. */\n-   struct image_transform *PNG_CONST list;\n+   struct image_transform *const list;\n \n    /* The global count of the number of times this transform has been set on an\n     * image.\n@@ -5497,7 +5847,7 @@\n\n    /* The next transform in the list, each transform must call its own next\n     * transform after it has processed the pixel successfully.\n     */\n-   PNG_CONST struct image_transform *next;\n+   const struct image_transform *next;\n \n    /* A single transform for the image, expressed as a series of function\n     * callbacks and some space for values.\n@@ -5505,12 +5855,12 @@\n\n     * First a callback to add any required modifications to the png_modifier;\n     * this gets called just before the modifier is set up for read.\n     */\n-   void (*ini)(PNG_CONST struct image_transform *this,\n+   void (*ini)(const struct image_transform *this,\n       struct transform_display *that);\n \n    /* And a callback to set the transform on the current png_read_struct:\n     */\n-   void (*set)(PNG_CONST struct image_transform *this,\n+   void (*set)(const struct image_transform *this,\n       struct transform_display *that, png_structp pp, png_infop pi);\n \n    /* Then a transform that takes an input pixel in one PNG format or another\n@@ -5519,8 +5869,8 @@\n\n     * in the libpng implementation!)  The png_structp is solely to allow error\n     * reporting via png_error and png_warning.\n     */\n-   void (*mod)(PNG_CONST struct image_transform *this, image_pixel *that,\n-      png_const_structp pp, PNG_CONST struct transform_display *display);\n+   void (*mod)(const struct image_transform *this, image_pixel *that,\n+      png_const_structp pp, const struct transform_display *display);\n \n    /* Add this transform to the list and return true if the transform is\n     * meaningful for this colour type and bit depth - if false then the\n@@ -5528,7 +5878,7 @@\n\n     * point running it.\n     */\n    int (*add)(struct image_transform *this,\n-      PNG_CONST struct image_transform **that, png_byte colour_type,\n+      const struct image_transform **that, png_byte colour_type,\n       png_byte bit_depth);\n } image_transform;\n \n@@ -5538,11 +5888,13 @@\n\n \n    /* Parameters */\n    png_modifier*              pm;\n-   PNG_CONST image_transform* transform_list;\n+   const image_transform* transform_list;\n+   unsigned int max_gamma_8;\n \n    /* Local variables */\n    png_byte output_colour_type;\n    png_byte output_bit_depth;\n+   png_byte unpacked;\n \n    /* Modifications (not necessarily used.) */\n    gama_modification gama_mod;\n@@ -5579,7 +5931,7 @@\n\n \n /* Three functions to end the list: */\n static void\n-image_transform_ini_end(PNG_CONST image_transform *this,\n+image_transform_ini_end(const image_transform *this,\n    transform_display *that)\n {\n    UNUSED(this)\n@@ -5587,7 +5939,7 @@\n\n }\n \n static void\n-image_transform_set_end(PNG_CONST image_transform *this,\n+image_transform_set_end(const image_transform *this,\n    transform_display *that, png_structp pp, png_infop pi)\n {\n    UNUSED(this)\n@@ -5614,10 +5966,11 @@\n\n }\n \n static void\n-image_transform_mod_end(PNG_CONST image_transform *this, image_pixel *that,\n-    png_const_structp pp, PNG_CONST transform_display *display)\n+image_transform_mod_end(const image_transform *this, image_pixel *that,\n+    png_const_structp pp, const transform_display *display)\n {\n-   PNG_CONST unsigned int scale = (1U<<that->sample_depth)-1;\n+   const unsigned int scale = (1U<<that->sample_depth)-1;\n+   const int sig_bits = that->sig_bits;\n \n    UNUSED(this)\n    UNUSED(pp)\n@@ -5632,6 +5985,13 @@\n\n     */\n    that->red = sample_scale(that->redf, scale);\n \n+   /* This is a bit bogus; really the above calculation should use the red_sBIT\n+    * value, not sample_depth, but because libpng does png_set_shift by just\n+    * shifting the bits we get errors if we don't do it the same way.\n+    */\n+   if (sig_bits && that->red_sBIT < that->sample_depth)\n+      that->red >>= that->sample_depth - that->red_sBIT;\n+\n    /* The error value is increased, at the end, according to the lowest sBIT\n     * value seen.  Common sense tells us that the intermediate integer\n     * representations are no more accurate than +/- 0.5 in the integral values,\n@@ -5647,7 +6007,13 @@\n\n    if (that->colour_type & PNG_COLOR_MASK_COLOR)\n    {\n       that->green = sample_scale(that->greenf, scale);\n+      if (sig_bits && that->green_sBIT < that->sample_depth)\n+         that->green >>= that->sample_depth - that->green_sBIT;\n+\n       that->blue = sample_scale(that->bluef, scale);\n+      if (sig_bits && that->blue_sBIT < that->sample_depth)\n+         that->blue >>= that->sample_depth - that->blue_sBIT;\n+\n       that->greene += 1./(2*((1U<<that->green_sBIT)-1));\n       that->bluee += 1./(2*((1U<<that->blue_sBIT)-1));\n    }\n@@ -5667,9 +6033,12 @@\n\n    else\n    {\n       that->alpha = scale; /* opaque */\n-      that->alpha = 1;     /* Override this. */\n+      that->alphaf = 1;    /* Override this. */\n       that->alphae = 0;    /* It's exact ;-) */\n    }\n+\n+   if (sig_bits && that->alpha_sBIT < that->sample_depth)\n+      that->alpha >>= that->sample_depth - that->alpha_sBIT;\n }\n \n /* Static 'end' structure: */\n@@ -5692,21 +6061,23 @@\n\n  */\n static void\n transform_display_init(transform_display *dp, png_modifier *pm, png_uint_32 id,\n-    PNG_CONST image_transform *transform_list)\n+    const image_transform *transform_list)\n {\n    memset(dp, 0, sizeof *dp);\n \n    /* Standard fields */\n-   standard_display_init(&dp->this, &pm->this, id, 0/*do_interlace*/,\n+   standard_display_init(&dp->this, &pm->this, id, do_read_interlace,\n       pm->use_update_info);\n \n    /* Parameter fields */\n    dp->pm = pm;\n    dp->transform_list = transform_list;\n+   dp->max_gamma_8 = 16;\n \n    /* Local variable fields */\n    dp->output_colour_type = 255; /* invalid */\n    dp->output_bit_depth = 255;  /* invalid */\n+   dp->unpacked = 0; /* not unpacked */\n }\n \n static void\n@@ -5734,6 +6105,14 @@\n\n    dp->output_colour_type = png_get_color_type(pp, pi);\n    dp->output_bit_depth = png_get_bit_depth(pp, pi);\n \n+   /* If png_set_filler is in action then fake the output color type to include\n+    * an alpha channel where appropriate.\n+    */\n+   if (dp->output_bit_depth >= 8 &&\n+       (dp->output_colour_type == PNG_COLOR_TYPE_RGB ||\n+        dp->output_colour_type == PNG_COLOR_TYPE_GRAY) && dp->this.filler)\n+       dp->output_colour_type |= 4;\n+\n    /* Validate the combination of colour type and bit depth that we are getting\n     * out of libpng; the semantics of something not in the PNG spec are, at\n     * best, unclear.\n@@ -5768,7 +6147,8 @@\n\n    }\n \n    /* Use a test pixel to check that the output agrees with what we expect -\n-    * this avoids running the whole test if the output is unexpected.\n+    * this avoids running the whole test if the output is unexpected.  This also\n+    * checks for internal errors.\n     */\n    {\n       image_pixel test_pixel;\n@@ -5783,7 +6163,7 @@\n\n       /* Don't need sBIT here, but it must be set to non-zero to avoid\n        * arithmetic overflows.\n        */\n-      test_pixel.have_tRNS = dp->this.is_transparent;\n+      test_pixel.have_tRNS = dp->this.is_transparent != 0;\n       test_pixel.red_sBIT = test_pixel.green_sBIT = test_pixel.blue_sBIT =\n          test_pixel.alpha_sBIT = test_pixel.sample_depth;\n \n@@ -5814,22 +6194,41 @@\n\n       }\n \n       /* If both bit depth and colour type are correct check the sample depth.\n-       * I believe these are both internal errors.\n        */\n-      if (test_pixel.colour_type == PNG_COLOR_TYPE_PALETTE)\n-      {\n-         if (test_pixel.sample_depth != 8) /* oops - internal error! */\n-            png_error(pp, \""pngvalid: internal: palette sample depth not 8\"");\n-      }\n-      else if (test_pixel.sample_depth != dp->output_bit_depth)\n+      if (test_pixel.colour_type == PNG_COLOR_TYPE_PALETTE &&\n+          test_pixel.sample_depth != 8) /* oops - internal error! */\n+         png_error(pp, \""pngvalid: internal: palette sample depth not 8\"");\n+      else if (dp->unpacked && test_pixel.bit_depth != 8)\n+         png_error(pp, \""pngvalid: internal: bad unpacked pixel depth\"");\n+      else if (!dp->unpacked && test_pixel.colour_type != PNG_COLOR_TYPE_PALETTE\n+              && test_pixel.bit_depth != test_pixel.sample_depth)\n       {\n          char message[128];\n          size_t pos = safecat(message, sizeof message, 0,\n             \""internal: sample depth \"");\n \n+         /* Because unless something has set 'unpacked' or the image is palette\n+          * mapped we expect the transform to keep sample depth and bit depth\n+          * the same.\n+          */\n+         pos = safecatn(message, sizeof message, pos, test_pixel.sample_depth);\n+         pos = safecat(message, sizeof message, pos, \"" expected \"");\n+         pos = safecatn(message, sizeof message, pos, test_pixel.bit_depth);\n+\n+         png_error(pp, message);\n+      }\n+      else if (test_pixel.bit_depth != dp->output_bit_depth)\n+      {\n+         /* This could be a libpng error too; libpng has not produced what we\n+          * expect for the output bit depth.\n+          */\n+         char message[128];\n+         size_t pos = safecat(message, sizeof message, 0,\n+            \""internal: bit depth \"");\n+\n          pos = safecatn(message, sizeof message, pos, dp->output_bit_depth);\n          pos = safecat(message, sizeof message, pos, \"" expected \"");\n-         pos = safecatn(message, sizeof message, pos, test_pixel.sample_depth);\n+         pos = safecatn(message, sizeof message, pos, test_pixel.bit_depth);\n \n          png_error(pp, message);\n       }\n@@ -5847,7 +6246,7 @@\n\n transform_range_check(png_const_structp pp, unsigned int r, unsigned int g,\n    unsigned int b, unsigned int a, unsigned int in_digitized, double in,\n    unsigned int out, png_byte sample_depth, double err, double limit,\n-   PNG_CONST char *name, double digitization_error)\n+   const char *name, double digitization_error)\n {\n    /* Compare the scaled, digitzed, values of our local calculation (in+-err)\n     * with the digitized values libpng produced;  'sample_depth' is the actual\n@@ -5891,20 +6290,20 @@\n\n    png_infop pi)\n {\n    /* Constants for the loop below: */\n-   PNG_CONST png_store* PNG_CONST ps = dp->this.ps;\n-   PNG_CONST png_byte in_ct = dp->this.colour_type;\n-   PNG_CONST png_byte in_bd = dp->this.bit_depth;\n-   PNG_CONST png_uint_32 w = dp->this.w;\n-   PNG_CONST png_uint_32 h = dp->this.h;\n-   PNG_CONST png_byte out_ct = dp->output_colour_type;\n-   PNG_CONST png_byte out_bd = dp->output_bit_depth;\n-   PNG_CONST png_byte sample_depth = (png_byte)(out_ct ==\n+   const png_store* const ps = dp->this.ps;\n+   const png_byte in_ct = dp->this.colour_type;\n+   const png_byte in_bd = dp->this.bit_depth;\n+   const png_uint_32 w = dp->this.w;\n+   const png_uint_32 h = dp->this.h;\n+   const png_byte out_ct = dp->output_colour_type;\n+   const png_byte out_bd = dp->output_bit_depth;\n+   const png_byte sample_depth = (png_byte)(out_ct ==\n       PNG_COLOR_TYPE_PALETTE ? 8 : out_bd);\n-   PNG_CONST png_byte red_sBIT = dp->this.red_sBIT;\n-   PNG_CONST png_byte green_sBIT = dp->this.green_sBIT;\n-   PNG_CONST png_byte blue_sBIT = dp->this.blue_sBIT;\n-   PNG_CONST png_byte alpha_sBIT = dp->this.alpha_sBIT;\n-   PNG_CONST int have_tRNS = dp->this.is_transparent;\n+   const png_byte red_sBIT = dp->this.red_sBIT;\n+   const png_byte green_sBIT = dp->this.green_sBIT;\n+   const png_byte blue_sBIT = dp->this.blue_sBIT;\n+   const png_byte alpha_sBIT = dp->this.alpha_sBIT;\n+   const int have_tRNS = dp->this.is_transparent;\n    double digitization_error;\n \n    store_palette out_palette;\n@@ -5959,7 +6358,7 @@\n\n \n    for (y=0; y<h; ++y)\n    {\n-      png_const_bytep PNG_CONST pRow = store_image_row(ps, pp, 0, y);\n+      png_const_bytep const pRow = store_image_row(ps, pp, 0, y);\n       png_uint_32 x;\n \n       /* The original, standard, row pre-transforms. */\n@@ -5976,13 +6375,14 @@\n\n          unsigned int r, g, b, a;\n \n          /* Find out what we think the pixel should be: */\n-         image_pixel_init(&in_pixel, std, in_ct, in_bd, x, dp->this.palette);\n+         image_pixel_init(&in_pixel, std, in_ct, in_bd, x, dp->this.palette,\n+                 NULL);\n \n          in_pixel.red_sBIT = red_sBIT;\n          in_pixel.green_sBIT = green_sBIT;\n          in_pixel.blue_sBIT = blue_sBIT;\n          in_pixel.alpha_sBIT = alpha_sBIT;\n-         in_pixel.have_tRNS = have_tRNS;\n+         in_pixel.have_tRNS = have_tRNS != 0;\n \n          /* For error detection, below. */\n          r = in_pixel.red;\n@@ -5990,12 +6390,18 @@\n\n          b = in_pixel.blue;\n          a = in_pixel.alpha;\n \n+         /* This applies the transforms to the input data, including output\n+          * format operations which must be used when reading the output\n+          * pixel that libpng produces.\n+          */\n          dp->transform_list->mod(dp->transform_list, &in_pixel, pp, dp);\n \n          /* Read the output pixel and compare it to what we got, we don't\n-          * use the error field here, so no need to update sBIT.\n+          * use the error field here, so no need to update sBIT.  in_pixel\n+          * says whether we expect libpng to change the output format.\n           */\n-         image_pixel_init(&out_pixel, pRow, out_ct, out_bd, x, out_palette);\n+         image_pixel_init(&out_pixel, pRow, out_ct, out_bd, x, out_palette,\n+                 &in_pixel);\n \n          /* We don't expect changes to the index here even if the bit depth is\n           * changed.\n@@ -6058,8 +6464,8 @@\n\n \n /* A single test run. */\n static void\n-transform_test(png_modifier *pmIn, PNG_CONST png_uint_32 idIn,\n-    PNG_CONST image_transform* transform_listIn, PNG_CONST char * volatile name)\n+transform_test(png_modifier *pmIn, const png_uint_32 idIn,\n+    const image_transform* transform_listIn, const char * const name)\n {\n    transform_display d;\n    context(&pmIn->this, fault);\n@@ -6160,8 +6566,11 @@\n\n #define PT ITSTRUCT(end) /* stores the previous transform */\n \n /* To save code: */\n-static void\n-image_transform_default_ini(PNG_CONST image_transform *this,\n+extern void image_transform_default_ini(const image_transform *this,\n+   transform_display *that); /* silence GCC warnings */\n+\n+void /* private, but almost always needed */\n+image_transform_default_ini(const image_transform *this,\n     transform_display *that)\n {\n    this->next->ini(this->next, that);\n@@ -6170,7 +6579,7 @@\n\n #ifdef PNG_READ_BACKGROUND_SUPPORTED\n static int\n image_transform_default_add(image_transform *this,\n-    PNG_CONST image_transform **that, png_byte colour_type, png_byte bit_depth)\n+    const image_transform **that, png_byte colour_type, png_byte bit_depth)\n {\n    UNUSED(colour_type)\n    UNUSED(bit_depth)\n@@ -6185,7 +6594,7 @@\n\n #ifdef PNG_READ_EXPAND_SUPPORTED\n /* png_set_palette_to_rgb */\n static void\n-image_transform_png_set_palette_to_rgb_set(PNG_CONST image_transform *this,\n+image_transform_png_set_palette_to_rgb_set(const image_transform *this,\n     transform_display *that, png_structp pp, png_infop pi)\n {\n    png_set_palette_to_rgb(pp);\n@@ -6193,9 +6602,9 @@\n\n }\n \n static void\n-image_transform_png_set_palette_to_rgb_mod(PNG_CONST image_transform *this,\n+image_transform_png_set_palette_to_rgb_mod(const image_transform *this,\n     image_pixel *that, png_const_structp pp,\n-    PNG_CONST transform_display *display)\n+    const transform_display *display)\n {\n    if (that->colour_type == PNG_COLOR_TYPE_PALETTE)\n       image_pixel_convert_PLTE(that);\n@@ -6205,7 +6614,7 @@\n\n \n static int\n image_transform_png_set_palette_to_rgb_add(image_transform *this,\n-    PNG_CONST image_transform **that, png_byte colour_type, png_byte bit_depth)\n+    const image_transform **that, png_byte colour_type, png_byte bit_depth)\n {\n    UNUSED(bit_depth)\n \n@@ -6223,28 +6632,42 @@\n\n #ifdef PNG_READ_EXPAND_SUPPORTED\n /* png_set_tRNS_to_alpha */\n static void\n-image_transform_png_set_tRNS_to_alpha_set(PNG_CONST image_transform *this,\n+image_transform_png_set_tRNS_to_alpha_set(const image_transform *this,\n    transform_display *that, png_structp pp, png_infop pi)\n {\n    png_set_tRNS_to_alpha(pp);\n+\n+   /* If there was a tRNS chunk that would get expanded and add an alpha\n+    * channel is_transparent must be updated:\n+    */\n+   if (that->this.has_tRNS)\n+      that->this.is_transparent = 1;\n+\n    this->next->set(this->next, that, pp, pi);\n }\n \n static void\n-image_transform_png_set_tRNS_to_alpha_mod(PNG_CONST image_transform *this,\n+image_transform_png_set_tRNS_to_alpha_mod(const image_transform *this,\n    image_pixel *that, png_const_structp pp,\n-   PNG_CONST transform_display *display)\n+   const transform_display *display)\n {\n+#if PNG_LIBPNG_VER < 10700\n    /* LIBPNG BUG: this always forces palette images to RGB. */\n    if (that->colour_type == PNG_COLOR_TYPE_PALETTE)\n       image_pixel_convert_PLTE(that);\n+#endif\n \n    /* This effectively does an 'expand' only if there is some transparency to\n     * convert to an alpha channel.\n     */\n    if (that->have_tRNS)\n-      image_pixel_add_alpha(that, &display->this);\n+#     if PNG_LIBPNG_VER >= 10700\n+         if (that->colour_type != PNG_COLOR_TYPE_PALETTE &&\n+             (that->colour_type & PNG_COLOR_MASK_ALPHA) == 0)\n+#     endif\n+      image_pixel_add_alpha(that, &display->this, 0/*!for background*/);\n \n+#if PNG_LIBPNG_VER < 10700\n    /* LIBPNG BUG: otherwise libpng still expands to 8 bits! */\n    else\n    {\n@@ -6253,13 +6676,14 @@\n\n       if (that->sample_depth < 8)\n          that->sample_depth = 8;\n    }\n+#endif\n \n    this->next->mod(this->next, that, pp, display);\n }\n \n static int\n image_transform_png_set_tRNS_to_alpha_add(image_transform *this,\n-    PNG_CONST image_transform **that, png_byte colour_type, png_byte bit_depth)\n+    const image_transform **that, png_byte colour_type, png_byte bit_depth)\n {\n    UNUSED(bit_depth)\n \n@@ -6268,9 +6692,14 @@\n\n \n    /* We don't know yet whether there will be a tRNS chunk, but we know that\n     * this transformation should do nothing if there already is an alpha\n-    * channel.\n+    * channel.  In addition, after the bug fix in 1.7.0, there is no longer\n+    * any action on a palette image.\n     */\n-   return (colour_type & PNG_COLOR_MASK_ALPHA) == 0;\n+   return\n+#  if PNG_LIBPNG_VER >= 10700\n+      colour_type != PNG_COLOR_TYPE_PALETTE &&\n+#  endif\n+   (colour_type & PNG_COLOR_MASK_ALPHA) == 0;\n }\n \n IT(tRNS_to_alpha);\n@@ -6281,17 +6710,18 @@\n\n #ifdef PNG_READ_GRAY_TO_RGB_SUPPORTED\n /* png_set_gray_to_rgb */\n static void\n-image_transform_png_set_gray_to_rgb_set(PNG_CONST image_transform *this,\n+image_transform_png_set_gray_to_rgb_set(const image_transform *this,\n     transform_display *that, png_structp pp, png_infop pi)\n {\n    png_set_gray_to_rgb(pp);\n+   /* NOTE: this doesn't result in tRNS expansion. */\n    this->next->set(this->next, that, pp, pi);\n }\n \n static void\n-image_transform_png_set_gray_to_rgb_mod(PNG_CONST image_transform *this,\n+image_transform_png_set_gray_to_rgb_mod(const image_transform *this,\n     image_pixel *that, png_const_structp pp,\n-    PNG_CONST transform_display *display)\n+    const transform_display *display)\n {\n    /* NOTE: we can actually pend the tRNS processing at this point because we\n     * can correctly recognize the original pixel value even though we have\n@@ -6299,7 +6729,7 @@\n\n     * doesn't do this, so we don't either.\n     */\n    if ((that->colour_type & PNG_COLOR_MASK_COLOR) == 0 && that->have_tRNS)\n-      image_pixel_add_alpha(that, &display->this);\n+      image_pixel_add_alpha(that, &display->this, 0/*!for background*/);\n \n    /* Simply expand the bit depth and alter the colour type as required. */\n    if (that->colour_type == PNG_COLOR_TYPE_GRAY)\n@@ -6322,7 +6752,7 @@\n\n \n static int\n image_transform_png_set_gray_to_rgb_add(image_transform *this,\n-    PNG_CONST image_transform **that, png_byte colour_type, png_byte bit_depth)\n+    const image_transform **that, png_byte colour_type, png_byte bit_depth)\n {\n    UNUSED(bit_depth)\n \n@@ -6340,17 +6770,21 @@\n\n #ifdef PNG_READ_EXPAND_SUPPORTED\n /* png_set_expand */\n static void\n-image_transform_png_set_expand_set(PNG_CONST image_transform *this,\n+image_transform_png_set_expand_set(const image_transform *this,\n     transform_display *that, png_structp pp, png_infop pi)\n {\n    png_set_expand(pp);\n+\n+   if (that->this.has_tRNS)\n+      that->this.is_transparent = 1;\n+\n    this->next->set(this->next, that, pp, pi);\n }\n \n static void\n-image_transform_png_set_expand_mod(PNG_CONST image_transform *this,\n+image_transform_png_set_expand_mod(const image_transform *this,\n     image_pixel *that, png_const_structp pp,\n-    PNG_CONST transform_display *display)\n+    const transform_display *display)\n {\n    /* The general expand case depends on what the colour type is: */\n    if (that->colour_type == PNG_COLOR_TYPE_PALETTE)\n@@ -6359,14 +6793,14 @@\n\n       that->sample_depth = that->bit_depth = 8;\n \n    if (that->have_tRNS)\n-      image_pixel_add_alpha(that, &display->this);\n+      image_pixel_add_alpha(that, &display->this, 0/*!for background*/);\n \n    this->next->mod(this->next, that, pp, display);\n }\n \n static int\n image_transform_png_set_expand_add(image_transform *this,\n-    PNG_CONST image_transform **that, png_byte colour_type, png_byte bit_depth)\n+    const image_transform **that, png_byte colour_type, png_byte bit_depth)\n {\n    UNUSED(bit_depth)\n \n@@ -6386,31 +6820,53 @@\n\n \n #ifdef PNG_READ_EXPAND_SUPPORTED\n /* png_set_expand_gray_1_2_4_to_8\n- * LIBPNG BUG: this just does an 'expand'\n+ * Pre 1.7.0 LIBPNG BUG: this just does an 'expand'\n  */\n static void\n image_transform_png_set_expand_gray_1_2_4_to_8_set(\n-    PNG_CONST image_transform *this, transform_display *that, png_structp pp,\n+    const image_transform *this, transform_display *that, png_structp pp,\n     png_infop pi)\n {\n    png_set_expand_gray_1_2_4_to_8(pp);\n+   /* NOTE: don't expect this to expand tRNS */\n    this->next->set(this->next, that, pp, pi);\n }\n \n static void\n image_transform_png_set_expand_gray_1_2_4_to_8_mod(\n-    PNG_CONST image_transform *this, image_pixel *that, png_const_structp pp,\n-    PNG_CONST transform_display *display)\n+    const image_transform *this, image_pixel *that, png_const_structp pp,\n+    const transform_display *display)\n {\n+#if PNG_LIBPNG_VER < 10700\n    image_transform_png_set_expand_mod(this, that, pp, display);\n+#else\n+   /* Only expand grayscale of bit depth less than 8: */\n+   if (that->colour_type == PNG_COLOR_TYPE_GRAY &&\n+       that->bit_depth < 8)\n+      that->sample_depth = that->bit_depth = 8;\n+\n+   this->next->mod(this->next, that, pp, display);\n+#endif /* 1.7 or later */\n }\n \n static int\n image_transform_png_set_expand_gray_1_2_4_to_8_add(image_transform *this,\n-    PNG_CONST image_transform **that, png_byte colour_type, png_byte bit_depth)\n+    const image_transform **that, png_byte colour_type, png_byte bit_depth)\n {\n+#if PNG_LIBPNG_VER < 10700\n    return image_transform_png_set_expand_add(this, that, colour_type,\n       bit_depth);\n+#else\n+   UNUSED(bit_depth)\n+\n+   this->next = *that;\n+   *that = this;\n+\n+   /* This should do nothing unless the color type is gray and the bit depth is\n+    * less than 8:\n+    */\n+   return colour_type == PNG_COLOR_TYPE_GRAY && bit_depth < 8;\n+#endif /* 1.7 or later */\n }\n \n IT(expand_gray_1_2_4_to_8);\n@@ -6421,17 +6877,24 @@\n\n #ifdef PNG_READ_EXPAND_16_SUPPORTED\n /* png_set_expand_16 */\n static void\n-image_transform_png_set_expand_16_set(PNG_CONST image_transform *this,\n+image_transform_png_set_expand_16_set(const image_transform *this,\n     transform_display *that, png_structp pp, png_infop pi)\n {\n    png_set_expand_16(pp);\n+\n+   /* NOTE: prior to 1.7 libpng does SET_EXPAND as well, so tRNS is expanded. */\n+#  if PNG_LIBPNG_VER < 10700\n+      if (that->this.has_tRNS)\n+         that->this.is_transparent = 1;\n+#  endif\n+\n    this->next->set(this->next, that, pp, pi);\n }\n \n static void\n-image_transform_png_set_expand_16_mod(PNG_CONST image_transform *this,\n+image_transform_png_set_expand_16_mod(const image_transform *this,\n     image_pixel *that, png_const_structp pp,\n-    PNG_CONST transform_display *display)\n+    const transform_display *display)\n {\n    /* Expect expand_16 to expand everything to 16 bits as a result of also\n     * causing 'expand' to happen.\n@@ -6440,7 +6903,7 @@\n\n       image_pixel_convert_PLTE(that);\n \n    if (that->have_tRNS)\n-      image_pixel_add_alpha(that, &display->this);\n+      image_pixel_add_alpha(that, &display->this, 0/*!for background*/);\n \n    if (that->bit_depth < 16)\n       that->sample_depth = that->bit_depth = 16;\n@@ -6450,7 +6913,7 @@\n\n \n static int\n image_transform_png_set_expand_16_add(image_transform *this,\n-    PNG_CONST image_transform **that, png_byte colour_type, png_byte bit_depth)\n+    const image_transform **that, png_byte colour_type, png_byte bit_depth)\n {\n    UNUSED(colour_type)\n \n@@ -6469,17 +6932,21 @@\n\n #ifdef PNG_READ_SCALE_16_TO_8_SUPPORTED  /* API added in 1.5.4 */\n /* png_set_scale_16 */\n static void\n-image_transform_png_set_scale_16_set(PNG_CONST image_transform *this,\n+image_transform_png_set_scale_16_set(const image_transform *this,\n     transform_display *that, png_structp pp, png_infop pi)\n {\n    png_set_scale_16(pp);\n+#  if PNG_LIBPNG_VER < 10700\n+      /* libpng will limit the gamma table size: */\n+      that->max_gamma_8 = PNG_MAX_GAMMA_8;\n+#  endif\n    this->next->set(this->next, that, pp, pi);\n }\n \n static void\n-image_transform_png_set_scale_16_mod(PNG_CONST image_transform *this,\n+image_transform_png_set_scale_16_mod(const image_transform *this,\n     image_pixel *that, png_const_structp pp,\n-    PNG_CONST transform_display *display)\n+    const transform_display *display)\n {\n    if (that->bit_depth == 16)\n    {\n@@ -6495,7 +6962,7 @@\n\n \n static int\n image_transform_png_set_scale_16_add(image_transform *this,\n-    PNG_CONST image_transform **that, png_byte colour_type, png_byte bit_depth)\n+    const image_transform **that, png_byte colour_type, png_byte bit_depth)\n {\n    UNUSED(colour_type)\n \n@@ -6513,17 +6980,21 @@\n\n #ifdef PNG_READ_16_TO_8_SUPPORTED /* the default before 1.5.4 */\n /* png_set_strip_16 */\n static void\n-image_transform_png_set_strip_16_set(PNG_CONST image_transform *this,\n+image_transform_png_set_strip_16_set(const image_transform *this,\n     transform_display *that, png_structp pp, png_infop pi)\n {\n    png_set_strip_16(pp);\n+#  if PNG_LIBPNG_VER < 10700\n+      /* libpng will limit the gamma table size: */\n+      that->max_gamma_8 = PNG_MAX_GAMMA_8;\n+#  endif\n    this->next->set(this->next, that, pp, pi);\n }\n \n static void\n-image_transform_png_set_strip_16_mod(PNG_CONST image_transform *this,\n+image_transform_png_set_strip_16_mod(const image_transform *this,\n     image_pixel *that, png_const_structp pp,\n-    PNG_CONST transform_display *display)\n+    const transform_display *display)\n {\n    if (that->bit_depth == 16)\n    {\n@@ -6548,7 +7019,7 @@\n\n           * png_set_scale_16 API in 1.5.4 (but 1.5.4+ always defines the above!)\n           */\n          {\n-            PNG_CONST double d = (255-128.5)/65535;\n+            const double d = (255-128.5)/65535;\n             that->rede += d;\n             that->greene += d;\n             that->bluee += d;\n@@ -6562,7 +7033,7 @@\n\n \n static int\n image_transform_png_set_strip_16_add(image_transform *this,\n-    PNG_CONST image_transform **that, png_byte colour_type, png_byte bit_depth)\n+    const image_transform **that, png_byte colour_type, png_byte bit_depth)\n {\n    UNUSED(colour_type)\n \n@@ -6580,7 +7051,7 @@\n\n #ifdef PNG_READ_STRIP_ALPHA_SUPPORTED\n /* png_set_strip_alpha */\n static void\n-image_transform_png_set_strip_alpha_set(PNG_CONST image_transform *this,\n+image_transform_png_set_strip_alpha_set(const image_transform *this,\n     transform_display *that, png_structp pp, png_infop pi)\n {\n    png_set_strip_alpha(pp);\n@@ -6588,9 +7059,9 @@\n\n }\n \n static void\n-image_transform_png_set_strip_alpha_mod(PNG_CONST image_transform *this,\n+image_transform_png_set_strip_alpha_mod(const image_transform *this,\n     image_pixel *that, png_const_structp pp,\n-    PNG_CONST transform_display *display)\n+    const transform_display *display)\n {\n    if (that->colour_type == PNG_COLOR_TYPE_GRAY_ALPHA)\n       that->colour_type = PNG_COLOR_TYPE_GRAY;\n@@ -6605,7 +7076,7 @@\n\n \n static int\n image_transform_png_set_strip_alpha_add(image_transform *this,\n-    PNG_CONST image_transform **that, png_byte colour_type, png_byte bit_depth)\n+    const image_transform **that, png_byte colour_type, png_byte bit_depth)\n {\n    UNUSED(bit_depth)\n \n@@ -6626,7 +7097,8 @@\n\n  *    png_fixed_point green)\n  * png_get_rgb_to_gray_status\n  *\n- * The 'default' test here uses values known to be used inside libpng:\n+ * The 'default' test here uses values known to be used inside libpng prior to\n+ * 1.7.0:\n  *\n  *   red:    6968\n  *   green: 23434\n@@ -6663,11 +7135,11 @@\n\n #undef image_transform_ini\n #define image_transform_ini image_transform_png_set_rgb_to_gray_ini\n static void\n-image_transform_png_set_rgb_to_gray_ini(PNG_CONST image_transform *this,\n+image_transform_png_set_rgb_to_gray_ini(const image_transform *this,\n     transform_display *that)\n {\n    png_modifier *pm = that->pm;\n-   PNG_CONST color_encoding *e = pm->current_encoding;\n+   const color_encoding *e = pm->current_encoding;\n \n    UNUSED(this)\n \n@@ -6682,7 +7154,7 @@\n\n       /* Coefficients come from the encoding, but may need to be normalized to a\n        * white point Y of 1.0\n        */\n-      PNG_CONST double whiteY = e->red.Y + e->green.Y + e->blue.Y;\n+      const double whiteY = e->red.Y + e->green.Y + e->blue.Y;\n \n       data.red_coefficient = e->red.Y;\n       data.green_coefficient = e->green.Y;\n@@ -6699,9 +7171,15 @@\n\n    else\n    {\n       /* The default (built in) coeffcients, as above: */\n-      data.red_coefficient = 6968 / 32768.;\n-      data.green_coefficient = 23434 / 32768.;\n-      data.blue_coefficient = 2366 / 32768.;\n+#     if PNG_LIBPNG_VER < 10700\n+         data.red_coefficient = 6968 / 32768.;\n+         data.green_coefficient = 23434 / 32768.;\n+         data.blue_coefficient = 2366 / 32768.;\n+#     else\n+         data.red_coefficient = .2126;\n+         data.green_coefficient = .7152;\n+         data.blue_coefficient = .0722;\n+#     endif\n    }\n \n    data.gamma = pm->current_gamma;\n@@ -6776,14 +7254,15 @@\n\n           *  conversion adds another +/-2 in the 16-bit case and\n           *  +/-(1<<(15-PNG_MAX_GAMMA_8)) in the 8-bit case.\n           */\n+#        if PNG_LIBPNG_VER < 10700\n+            if (that->this.bit_depth < 16)\n+               that->max_gamma_8 = PNG_MAX_GAMMA_8;\n+#        endif\n          that->pm->limit += pow(\n-#           if PNG_MAX_GAMMA_8 < 14\n-               (that->this.bit_depth == 16 ? 8. :\n-                  6. + (1<<(15-PNG_MAX_GAMMA_8)))\n-#           else\n-               8.\n-#           endif\n-               /65535, data.gamma);\n+            (that->this.bit_depth == 16 || that->max_gamma_8 > 14 ?\n+               8. :\n+               6. + (1<<(15-that->max_gamma_8))\n+            )/65535, data.gamma);\n       }\n \n       else\n@@ -6795,19 +7274,18 @@\n\n           * When DIGITIZE is set because a pre-1.7 version of libpng is being\n           * tested allow a bigger slack.\n           *\n-          * NOTE: this magic number was determined by experiment to be 1.1 (when\n-          * using fixed point arithmetic).  There's no great merit to the value\n-          * below, however it only affects the limit used for checking for\n-          * internal calculation errors, not the actual limit imposed by\n-          * pngvalid on the output errors.\n+          * NOTE: this magic number was determined by experiment to be about\n+          * 1.263.  There's no great merit to the value below, however it only\n+          * affects the limit used for checking for internal calculation errors,\n+          * not the actual limit imposed by pngvalid on the output errors.\n           */\n          that->pm->limit += pow(\n-#           if DIGITIZE\n-               1.1\n-#           else\n-               1.\n-#           endif\n-               /255, data.gamma);\n+#        if DIGITIZE\n+            1.3\n+#        else\n+            1.0\n+#        endif\n+            /255, data.gamma);\n       }\n    }\n \n@@ -6822,10 +7300,10 @@\n\n }\n \n static void\n-image_transform_png_set_rgb_to_gray_set(PNG_CONST image_transform *this,\n+image_transform_png_set_rgb_to_gray_set(const image_transform *this,\n     transform_display *that, png_structp pp, png_infop pi)\n {\n-   PNG_CONST int error_action = 1; /* no error, no defines in png.h */\n+   const int error_action = 1; /* no error, no defines in png.h */\n \n #  ifdef PNG_FLOATING_POINT_SUPPORTED\n       png_set_rgb_to_gray(pp, error_action, data.red_to_set, data.green_to_set);\n@@ -6862,7 +7340,7 @@\n\n                & PNG_INFO_cHRM) != 0)\n          {\n             double maxe;\n-            PNG_CONST char *el;\n+            const char *el;\n             color_encoding e, o;\n \n             /* Expect libpng to return a normalized result, but the original\n@@ -6949,26 +7427,32 @@\n\n }\n \n static void\n-image_transform_png_set_rgb_to_gray_mod(PNG_CONST image_transform *this,\n+image_transform_png_set_rgb_to_gray_mod(const image_transform *this,\n     image_pixel *that, png_const_structp pp,\n-    PNG_CONST transform_display *display)\n+    const transform_display *display)\n {\n    if ((that->colour_type & PNG_COLOR_MASK_COLOR) != 0)\n    {\n       double gray, err;\n \n-      if (that->colour_type == PNG_COLOR_TYPE_PALETTE)\n-         image_pixel_convert_PLTE(that);\n+#     if PNG_LIBPNG_VER < 10700\n+         if (that->colour_type == PNG_COLOR_TYPE_PALETTE)\n+            image_pixel_convert_PLTE(that);\n+#     endif\n \n       /* Image now has RGB channels... */\n #  if DIGITIZE\n       {\n-         PNG_CONST png_modifier *pm = display->pm;\n+         const png_modifier *pm = display->pm;\n          const unsigned int sample_depth = that->sample_depth;\n          const unsigned int calc_depth = (pm->assume_16_bit_calculations ? 16 :\n             sample_depth);\n-         const unsigned int gamma_depth = (sample_depth == 16 ? 16 :\n-            (pm->assume_16_bit_calculations ? PNG_MAX_GAMMA_8 : sample_depth));\n+         const unsigned int gamma_depth =\n+            (sample_depth == 16 ?\n+               display->max_gamma_8 :\n+               (pm->assume_16_bit_calculations ?\n+                  display->max_gamma_8 :\n+                  sample_depth));\n          int isgray;\n          double r, g, b;\n          double rlo, rhi, glo, ghi, blo, bhi, graylo, grayhi;\n@@ -6981,56 +7465,73 @@\n\n           * will be identical after this operation if there is only one\n           * transform, feel free to delete the png_error checks on this below in\n           * the future (this is just me trying to ensure it works!)\n+          *\n+          * Interval arithmetic is exact, but to implement it it must be\n+          * possible to control the floating point implementation rounding mode.\n+          * This cannot be done in ANSI-C, so instead I reduce the 'lo' values\n+          * by DBL_EPSILON and increase the 'hi' values by the same.\n           */\n+#        define DD(v,d,r) (digitize(v*(1-DBL_EPSILON), d, r) * (1-DBL_EPSILON))\n+#        define DU(v,d,r) (digitize(v*(1+DBL_EPSILON), d, r) * (1+DBL_EPSILON))\n+\n          r = rlo = rhi = that->redf;\n          rlo -= that->rede;\n-         rlo = digitize(rlo, calc_depth, 1/*round*/);\n+         rlo = DD(rlo, calc_depth, 1/*round*/);\n          rhi += that->rede;\n-         rhi = digitize(rhi, calc_depth, 1/*round*/);\n+         rhi = DU(rhi, calc_depth, 1/*round*/);\n \n          g = glo = ghi = that->greenf;\n          glo -= that->greene;\n-         glo = digitize(glo, calc_depth, 1/*round*/);\n+         glo = DD(glo, calc_depth, 1/*round*/);\n          ghi += that->greene;\n-         ghi = digitize(ghi, calc_depth, 1/*round*/);\n+         ghi = DU(ghi, calc_depth, 1/*round*/);\n \n          b = blo = bhi = that->bluef;\n          blo -= that->bluee;\n-         blo = digitize(blo, calc_depth, 1/*round*/);\n-         bhi += that->greene;\n-         bhi = digitize(bhi, calc_depth, 1/*round*/);\n+         blo = DD(blo, calc_depth, 1/*round*/);\n+         bhi += that->bluee;\n+         bhi = DU(bhi, calc_depth, 1/*round*/);\n \n          isgray = r==g && g==b;\n \n          if (data.gamma != 1)\n          {\n-            PNG_CONST double power = 1/data.gamma;\n-            PNG_CONST double abse = calc_depth == 16 ? .5/65535 : .5/255;\n+            const double power = 1/data.gamma;\n+            const double abse = .5/(sample_depth == 16 ? 65535 : 255);\n \n-            /* 'abse' is the absolute error permitted in linear calculations. It\n-             * is used here to capture the error permitted in the handling\n-             * (undoing) of the gamma encoding.  Once again digitization occurs\n-             * to handle the upper and lower bounds of the values.  This is\n-             * where the real errors are introduced.\n+            /* If a gamma calculation is done it is done using lookup tables of\n+             * precision gamma_depth, so the already digitized value above may\n+             * need to be further digitized here.\n              */\n+            if (gamma_depth != calc_depth)\n+            {\n+               rlo = DD(rlo, gamma_depth, 0/*truncate*/);\n+               rhi = DU(rhi, gamma_depth, 0/*truncate*/);\n+               glo = DD(glo, gamma_depth, 0/*truncate*/);\n+               ghi = DU(ghi, gamma_depth, 0/*truncate*/);\n+               blo = DD(blo, gamma_depth, 0/*truncate*/);\n+               bhi = DU(bhi, gamma_depth, 0/*truncate*/);\n+            }\n+\n+            /* 'abse' is the error in the gamma table calculation itself. */\n             r = pow(r, power);\n-            rlo = digitize(pow(rlo, power)-abse, calc_depth, 1);\n-            rhi = digitize(pow(rhi, power)+abse, calc_depth, 1);\n+            rlo = DD(pow(rlo, power)-abse, calc_depth, 1);\n+            rhi = DU(pow(rhi, power)+abse, calc_depth, 1);\n \n             g = pow(g, power);\n-            glo = digitize(pow(glo, power)-abse, calc_depth, 1);\n-            ghi = digitize(pow(ghi, power)+abse, calc_depth, 1);\n+            glo = DD(pow(glo, power)-abse, calc_depth, 1);\n+            ghi = DU(pow(ghi, power)+abse, calc_depth, 1);\n \n             b = pow(b, power);\n-            blo = digitize(pow(blo, power)-abse, calc_depth, 1);\n-            bhi = digitize(pow(bhi, power)+abse, calc_depth, 1);\n+            blo = DD(pow(blo, power)-abse, calc_depth, 1);\n+            bhi = DU(pow(bhi, power)+abse, calc_depth, 1);\n          }\n \n          /* Now calculate the actual gray values.  Although the error in the\n           * coefficients depends on whether they were specified on the command\n           * line (in which case truncation to 15 bits happened) or not (rounding\n           * was used) the maxium error in an individual coefficient is always\n-          * 1/32768, because even in the rounding case the requirement that\n+          * 2/32768, because even in the rounding case the requirement that\n           * coefficients add up to 32768 can cause a larger rounding error.\n           *\n           * The only time when rounding doesn't occur in 1.5.5 and later is when\n@@ -7040,32 +7541,46 @@\n\n             b * data.blue_coefficient;\n \n          {\n-            PNG_CONST int do_round = data.gamma != 1 || calc_depth == 16;\n-            PNG_CONST double ce = 1. / 32768;\n+            const int do_round = data.gamma != 1 || calc_depth == 16;\n+            const double ce = 2. / 32768;\n \n-            graylo = digitize(rlo * (data.red_coefficient-ce) +\n+            graylo = DD(rlo * (data.red_coefficient-ce) +\n                glo * (data.green_coefficient-ce) +\n-               blo * (data.blue_coefficient-ce), gamma_depth, do_round);\n-            if (graylo <= 0)\n-               graylo = 0;\n+               blo * (data.blue_coefficient-ce), calc_depth, do_round);\n+            if (graylo > gray) /* always accept the right answer */\n+               graylo = gray;\n \n-            grayhi = digitize(rhi * (data.red_coefficient+ce) +\n+            grayhi = DU(rhi * (data.red_coefficient+ce) +\n                ghi * (data.green_coefficient+ce) +\n-               bhi * (data.blue_coefficient+ce), gamma_depth, do_round);\n-            if (grayhi >= 1)\n-               grayhi = 1;\n+               bhi * (data.blue_coefficient+ce), calc_depth, do_round);\n+            if (grayhi < gray)\n+               grayhi = gray;\n          }\n \n          /* And invert the gamma. */\n          if (data.gamma != 1)\n          {\n-            PNG_CONST double power = data.gamma;\n+            const double power = data.gamma;\n+\n+            /* And this happens yet again, shifting the values once more. */\n+            if (gamma_depth != sample_depth)\n+            {\n+               rlo = DD(rlo, gamma_depth, 0/*truncate*/);\n+               rhi = DU(rhi, gamma_depth, 0/*truncate*/);\n+               glo = DD(glo, gamma_depth, 0/*truncate*/);\n+               ghi = DU(ghi, gamma_depth, 0/*truncate*/);\n+               blo = DD(blo, gamma_depth, 0/*truncate*/);\n+               bhi = DU(bhi, gamma_depth, 0/*truncate*/);\n+            }\n \n             gray = pow(gray, power);\n-            graylo = digitize(pow(graylo, power), sample_depth, 1);\n-            grayhi = digitize(pow(grayhi, power), sample_depth, 1);\n+            graylo = DD(pow(graylo, power), sample_depth, 1);\n+            grayhi = DU(pow(grayhi, power), sample_depth, 1);\n          }\n \n+#        undef DD\n+#        undef DU\n+\n          /* Now the error can be calculated.\n           *\n           * If r==g==b because there is no overall gamma correction libpng\n@@ -7103,29 +7618,46 @@\n\n          double b = that->bluef;\n          double be = that->bluee;\n \n-         /* The true gray case involves no math. */\n-         if (r == g && r == b)\n-         {\n-            gray = r;\n-            err = re;\n-            if (err < ge) err = ge;\n-            if (err < be) err = be;\n-         }\n+#        if PNG_LIBPNG_VER < 10700\n+            /* The true gray case involves no math in earlier versions (not\n+             * true, there was some if gamma correction was happening too.)\n+             */\n+            if (r == g && r == b)\n+            {\n+               gray = r;\n+               err = re;\n+               if (err < ge) err = ge;\n+               if (err < be) err = be;\n+            }\n \n-         else if (data.gamma == 1)\n+            else\n+#        endif /* before 1.7 */\n+         if (data.gamma == 1)\n          {\n             /* There is no need to do the conversions to and from linear space,\n              * so the calculation should be a lot more accurate.  There is a\n-             * built in 1/32768 error in the coefficients because they only have\n-             * 15 bits and are adjusted to make sure they add up to 32768, so\n-             * the result may have an additional error up to 1/32768.  (Note\n-             * that adding the 1/32768 here avoids needing to increase the\n-             * global error limits to take this into account.)\n+             * built in error in the coefficients because they only have 15 bits\n+             * and are adjusted to make sure they add up to 32768.  This\n+             * involves a integer calculation with truncation of the form:\n+             *\n+             *     ((int)(coefficient * 100000) * 32768)/100000\n+             *\n+             * This is done to the red and green coefficients (the ones\n+             * provided to the API) then blue is calculated from them so the\n+             * result adds up to 32768.  In the worst case this can result in\n+             * a -1 error in red and green and a +2 error in blue.  Consequently\n+             * the worst case in the calculation below is 2/32768 error.\n+             *\n+             * TODO: consider fixing this in libpng by rounding the calculation\n+             * limiting the error to 1/32768.\n+             *\n+             * Handling this by adding 2/32768 here avoids needing to increase\n+             * the global error limits to take this into account.)\n              */\n             gray = r * data.red_coefficient + g * data.green_coefficient +\n                b * data.blue_coefficient;\n             err = re * data.red_coefficient + ge * data.green_coefficient +\n-               be * data.blue_coefficient + 1./32768 + gray * 5 * DBL_EPSILON;\n+               be * data.blue_coefficient + 2./32768 + gray * 5 * DBL_EPSILON;\n          }\n \n          else\n@@ -7136,10 +7668,10 @@\n\n              * lookups in the calculation and each introduces a quantization\n              * error defined by the table size.\n              */\n-            PNG_CONST png_modifier *pm = display->pm;\n+            const png_modifier *pm = display->pm;\n             double in_qe = (that->sample_depth > 8 ? .5/65535 : .5/255);\n             double out_qe = (that->sample_depth > 8 ? .5/65535 :\n-               (pm->assume_16_bit_calculations ? .5/(1<<PNG_MAX_GAMMA_8) :\n+               (pm->assume_16_bit_calculations ? .5/(1<<display->max_gamma_8) :\n                .5/255));\n             double rhi, ghi, bhi, grayhi;\n             double g1 = 1/data.gamma;\n@@ -7160,7 +7692,7 @@\n\n              * previously added input quantization error at this point.\n              */\n             gray = r * data.red_coefficient + g * data.green_coefficient +\n-               b * data.blue_coefficient - 1./32768 - out_qe;\n+               b * data.blue_coefficient - 2./32768 - out_qe;\n             if (gray <= 0)\n                gray = 0;\n             else\n@@ -7170,7 +7702,7 @@\n\n             }\n \n             grayhi = rhi * data.red_coefficient + ghi * data.green_coefficient +\n-               bhi * data.blue_coefficient + 1./32768 + out_qe;\n+               bhi * data.blue_coefficient + 2./32768 + out_qe;\n             grayhi *= (1 + 6 * DBL_EPSILON);\n             if (grayhi >= 1)\n                grayhi = 1;\n@@ -7226,7 +7758,7 @@\n\n \n static int\n image_transform_png_set_rgb_to_gray_add(image_transform *this,\n-    PNG_CONST image_transform **that, png_byte colour_type, png_byte bit_depth)\n+    const image_transform **that, png_byte colour_type, png_byte bit_depth)\n {\n    UNUSED(bit_depth)\n \n@@ -7257,7 +7789,7 @@\n\n static image_pixel data;\n \n static void\n-image_transform_png_set_background_set(PNG_CONST image_transform *this,\n+image_transform_png_set_background_set(const image_transform *this,\n     transform_display *that, png_structp pp, png_infop pi)\n {\n    png_byte colour_type, bit_depth;\n@@ -7285,12 +7817,15 @@\n\n \n    else\n    {\n+      if (that->this.has_tRNS)\n+         that->this.is_transparent = 1;\n+\n       bit_depth = that->this.bit_depth;\n       expand = 1;\n    }\n \n    image_pixel_init(&data, random_bytes, colour_type,\n-      bit_depth, 0/*x*/, 0/*unused: palette*/);\n+      bit_depth, 0/*x*/, 0/*unused: palette*/, NULL/*format*/);\n \n    /* Extract the background colour from this image_pixel, but make sure the\n     * unused fields of 'back' are garbage.\n@@ -7317,13 +7852,13 @@\n\n }\n \n static void\n-image_transform_png_set_background_mod(PNG_CONST image_transform *this,\n+image_transform_png_set_background_mod(const image_transform *this,\n     image_pixel *that, png_const_structp pp,\n-    PNG_CONST transform_display *display)\n+    const transform_display *display)\n {\n    /* Check for tRNS first: */\n    if (that->have_tRNS && that->colour_type != PNG_COLOR_TYPE_PALETTE)\n-      image_pixel_add_alpha(that, &display->this);\n+      image_pixel_add_alpha(that, &display->this, 1/*for background*/);\n \n    /* This is only necessary if the alpha value is less than 1. */\n    if (that->alphaf < 1)\n@@ -7362,14 +7897,14 @@\n\n       /* Remove the alpha type and set the alpha (not in that order.) */\n       that->alphaf = 1;\n       that->alphae = 0;\n-\n-      if (that->colour_type == PNG_COLOR_TYPE_RGB_ALPHA)\n-         that->colour_type = PNG_COLOR_TYPE_RGB;\n-      else if (that->colour_type == PNG_COLOR_TYPE_GRAY_ALPHA)\n-         that->colour_type = PNG_COLOR_TYPE_GRAY;\n-      /* PNG_COLOR_TYPE_PALETTE is not changed */\n    }\n \n+   if (that->colour_type == PNG_COLOR_TYPE_RGB_ALPHA)\n+      that->colour_type = PNG_COLOR_TYPE_RGB;\n+   else if (that->colour_type == PNG_COLOR_TYPE_GRAY_ALPHA)\n+      that->colour_type = PNG_COLOR_TYPE_GRAY;\n+   /* PNG_COLOR_TYPE_PALETTE is not changed */\n+\n    this->next->mod(this->next, that, pp, display);\n }\n \n@@ -7381,11 +7916,604 @@\n\n #define PT ITSTRUCT(background)\n #endif /* PNG_READ_BACKGROUND_SUPPORTED */\n \n-/* This may just be 'end' if all the transforms are disabled! */\n-static image_transform *PNG_CONST image_transform_first = &PT;\n+/* png_set_quantize(png_structp, png_colorp palette, int num_palette,\n+ *    int maximum_colors, png_const_uint_16p histogram, int full_quantize)\n+ *\n+ * Very difficult to validate this!\n+ */\n+/*NOTE: TBD NYI */\n+\n+/* The data layout transforms are handled by swapping our own channel data,\n+ * necessarily these need to happen at the end of the transform list because the\n+ * semantic of the channels changes after these are executed.  Some of these,\n+ * like set_shift and set_packing, can't be done at present because they change\n+ * the layout of the data at the sub-sample level so sample() won't get the\n+ * right answer.\n+ */\n+/* png_set_invert_alpha */\n+#ifdef PNG_READ_INVERT_ALPHA_SUPPORTED\n+/* Invert the alpha channel\n+ *\n+ *  png_set_invert_alpha(png_structrp png_ptr)\n+ */\n+static void\n+image_transform_png_set_invert_alpha_set(const image_transform *this,\n+    transform_display *that, png_structp pp, png_infop pi)\n+{\n+   png_set_invert_alpha(pp);\n+   this->next->set(this->next, that, pp, pi);\n+}\n \n static void\n-transform_enable(PNG_CONST char *name)\n+image_transform_png_set_invert_alpha_mod(const image_transform *this,\n+    image_pixel *that, png_const_structp pp,\n+    const transform_display *display)\n+{\n+   if (that->colour_type & 4)\n+      that->alpha_inverted = 1;\n+\n+   this->next->mod(this->next, that, pp, display);\n+}\n+\n+static int\n+image_transform_png_set_invert_alpha_add(image_transform *this,\n+    const image_transform **that, png_byte colour_type, png_byte bit_depth)\n+{\n+   UNUSED(bit_depth)\n+\n+   this->next = *that;\n+   *that = this;\n+\n+   /* Only has an effect on pixels with alpha: */\n+   return (colour_type & 4) != 0;\n+}\n+\n+IT(invert_alpha);\n+#undef PT\n+#define PT ITSTRUCT(invert_alpha)\n+\n+#endif /* PNG_READ_INVERT_ALPHA_SUPPORTED */\n+\n+/* png_set_bgr */\n+#ifdef PNG_READ_BGR_SUPPORTED\n+/* Swap R,G,B channels to order B,G,R.\n+ *\n+ *  png_set_bgr(png_structrp png_ptr)\n+ *\n+ * This only has an effect on RGB and RGBA pixels.\n+ */\n+static void\n+image_transform_png_set_bgr_set(const image_transform *this,\n+    transform_display *that, png_structp pp, png_infop pi)\n+{\n+   png_set_bgr(pp);\n+   this->next->set(this->next, that, pp, pi);\n+}\n+\n+static void\n+image_transform_png_set_bgr_mod(const image_transform *this,\n+    image_pixel *that, png_const_structp pp,\n+    const transform_display *display)\n+{\n+   if (that->colour_type == PNG_COLOR_TYPE_RGB ||\n+       that->colour_type == PNG_COLOR_TYPE_RGBA)\n+       that->swap_rgb = 1;\n+\n+   this->next->mod(this->next, that, pp, display);\n+}\n+\n+static int\n+image_transform_png_set_bgr_add(image_transform *this,\n+    const image_transform **that, png_byte colour_type, png_byte bit_depth)\n+{\n+   UNUSED(bit_depth)\n+\n+   this->next = *that;\n+   *that = this;\n+\n+   return colour_type == PNG_COLOR_TYPE_RGB ||\n+       colour_type == PNG_COLOR_TYPE_RGBA;\n+}\n+\n+IT(bgr);\n+#undef PT\n+#define PT ITSTRUCT(bgr)\n+\n+#endif /* PNG_READ_BGR_SUPPORTED */\n+\n+/* png_set_swap_alpha */\n+#ifdef PNG_READ_SWAP_ALPHA_SUPPORTED\n+/* Put the alpha channel first.\n+ *\n+ *  png_set_swap_alpha(png_structrp png_ptr)\n+ *\n+ * This only has an effect on GA and RGBA pixels.\n+ */\n+static void\n+image_transform_png_set_swap_alpha_set(const image_transform *this,\n+    transform_display *that, png_structp pp, png_infop pi)\n+{\n+   png_set_swap_alpha(pp);\n+   this->next->set(this->next, that, pp, pi);\n+}\n+\n+static void\n+image_transform_png_set_swap_alpha_mod(const image_transform *this,\n+    image_pixel *that, png_const_structp pp,\n+    const transform_display *display)\n+{\n+   if (that->colour_type == PNG_COLOR_TYPE_GA ||\n+       that->colour_type == PNG_COLOR_TYPE_RGBA)\n+      that->alpha_first = 1;\n+\n+   this->next->mod(this->next, that, pp, display);\n+}\n+\n+static int\n+image_transform_png_set_swap_alpha_add(image_transform *this,\n+    const image_transform **that, png_byte colour_type, png_byte bit_depth)\n+{\n+   UNUSED(bit_depth)\n+\n+   this->next = *that;\n+   *that = this;\n+\n+   return colour_type == PNG_COLOR_TYPE_GA ||\n+       colour_type == PNG_COLOR_TYPE_RGBA;\n+}\n+\n+IT(swap_alpha);\n+#undef PT\n+#define PT ITSTRUCT(swap_alpha)\n+\n+#endif /* PNG_READ_SWAP_ALPHA_SUPPORTED */\n+\n+/* png_set_swap */\n+#ifdef PNG_READ_SWAP_SUPPORTED\n+/* Byte swap 16-bit components.\n+ *\n+ *  png_set_swap(png_structrp png_ptr)\n+ */\n+static void\n+image_transform_png_set_swap_set(const image_transform *this,\n+    transform_display *that, png_structp pp, png_infop pi)\n+{\n+   png_set_swap(pp);\n+   this->next->set(this->next, that, pp, pi);\n+}\n+\n+static void\n+image_transform_png_set_swap_mod(const image_transform *this,\n+    image_pixel *that, png_const_structp pp,\n+    const transform_display *display)\n+{\n+   if (that->bit_depth == 16)\n+      that->swap16 = 1;\n+\n+   this->next->mod(this->next, that, pp, display);\n+}\n+\n+static int\n+image_transform_png_set_swap_add(image_transform *this,\n+    const image_transform **that, png_byte colour_type, png_byte bit_depth)\n+{\n+   UNUSED(colour_type)\n+\n+   this->next = *that;\n+   *that = this;\n+\n+   return bit_depth == 16;\n+}\n+\n+IT(swap);\n+#undef PT\n+#define PT ITSTRUCT(swap)\n+\n+#endif /* PNG_READ_SWAP_SUPPORTED */\n+\n+#ifdef PNG_READ_FILLER_SUPPORTED\n+/* Add a filler byte to 8-bit Gray or 24-bit RGB images.\n+ *\n+ *  png_set_filler, (png_structp png_ptr, png_uint_32 filler, int flags));\n+ *\n+ * Flags:\n+ *\n+ *  PNG_FILLER_BEFORE\n+ *  PNG_FILLER_AFTER\n+ */\n+#define data ITDATA(filler)\n+static struct\n+{\n+   png_uint_32 filler;\n+   int         flags;\n+} data;\n+\n+static void\n+image_transform_png_set_filler_set(const image_transform *this,\n+    transform_display *that, png_structp pp, png_infop pi)\n+{\n+   /* Need a random choice for 'before' and 'after' as well as for the\n+    * filler.  The 'filler' value has all 32 bits set, but only bit_depth\n+    * will be used.  At this point we don't know bit_depth.\n+    */\n+   RANDOMIZE(data.filler);\n+   data.flags = random_choice();\n+\n+   png_set_filler(pp, data.filler, data.flags);\n+\n+   /* The standard display handling stuff also needs to know that\n+    * there is a filler, so set that here.\n+    */\n+   that->this.filler = 1;\n+\n+   this->next->set(this->next, that, pp, pi);\n+}\n+\n+static void\n+image_transform_png_set_filler_mod(const image_transform *this,\n+    image_pixel *that, png_const_structp pp,\n+    const transform_display *display)\n+{\n+   if (that->bit_depth >= 8 &&\n+       (that->colour_type == PNG_COLOR_TYPE_RGB ||\n+        that->colour_type == PNG_COLOR_TYPE_GRAY))\n+   {\n+      const unsigned int max = (1U << that->bit_depth)-1;\n+      that->alpha = data.filler & max;\n+      that->alphaf = ((double)that->alpha) / max;\n+      that->alphae = 0;\n+\n+      /* The filler has been stored in the alpha channel, we must record\n+       * that this has been done for the checking later on, the color\n+       * type is faked to have an alpha channel, but libpng won't report\n+       * this; the app has to know the extra channel is there and this\n+       * was recording in standard_display::filler above.\n+       */\n+      that->colour_type |= 4; /* alpha added */\n+      that->alpha_first = data.flags == PNG_FILLER_BEFORE;\n+   }\n+\n+   this->next->mod(this->next, that, pp, display);\n+}\n+\n+static int\n+image_transform_png_set_filler_add(image_transform *this,\n+    const image_transform **that, png_byte colour_type, png_byte bit_depth)\n+{\n+   this->next = *that;\n+   *that = this;\n+\n+   return bit_depth >= 8 && (colour_type == PNG_COLOR_TYPE_RGB ||\n+           colour_type == PNG_COLOR_TYPE_GRAY);\n+}\n+\n+#undef data\n+IT(filler);\n+#undef PT\n+#define PT ITSTRUCT(filler)\n+\n+/* png_set_add_alpha, (png_structp png_ptr, png_uint_32 filler, int flags)); */\n+/* Add an alpha byte to 8-bit Gray or 24-bit RGB images. */\n+#define data ITDATA(add_alpha)\n+static struct\n+{\n+   png_uint_32 filler;\n+   int         flags;\n+} data;\n+\n+static void\n+image_transform_png_set_add_alpha_set(const image_transform *this,\n+    transform_display *that, png_structp pp, png_infop pi)\n+{\n+   /* Need a random choice for 'before' and 'after' as well as for the\n+    * filler.  The 'filler' value has all 32 bits set, but only bit_depth\n+    * will be used.  At this point we don't know bit_depth.\n+    */\n+   RANDOMIZE(data.filler);\n+   data.flags = random_choice();\n+\n+   png_set_add_alpha(pp, data.filler, data.flags);\n+   this->next->set(this->next, that, pp, pi);\n+}\n+\n+static void\n+image_transform_png_set_add_alpha_mod(const image_transform *this,\n+    image_pixel *that, png_const_structp pp,\n+    const transform_display *display)\n+{\n+   if (that->bit_depth >= 8 &&\n+       (that->colour_type == PNG_COLOR_TYPE_RGB ||\n+        that->colour_type == PNG_COLOR_TYPE_GRAY))\n+   {\n+      const unsigned int max = (1U << that->bit_depth)-1;\n+      that->alpha = data.filler & max;\n+      that->alphaf = ((double)that->alpha) / max;\n+      that->alphae = 0;\n+\n+      that->colour_type |= 4; /* alpha added */\n+      that->alpha_first = data.flags == PNG_FILLER_BEFORE;\n+   }\n+\n+   this->next->mod(this->next, that, pp, display);\n+}\n+\n+static int\n+image_transform_png_set_add_alpha_add(image_transform *this,\n+    const image_transform **that, png_byte colour_type, png_byte bit_depth)\n+{\n+   this->next = *that;\n+   *that = this;\n+\n+   return bit_depth >= 8 && (colour_type == PNG_COLOR_TYPE_RGB ||\n+           colour_type == PNG_COLOR_TYPE_GRAY);\n+}\n+\n+#undef data\n+IT(add_alpha);\n+#undef PT\n+#define PT ITSTRUCT(add_alpha)\n+\n+#endif /* PNG_READ_FILLER_SUPPORTED */\n+\n+/* png_set_packing */\n+#ifdef PNG_READ_PACK_SUPPORTED\n+/* Use 1 byte per pixel in 1, 2, or 4-bit depth files.\n+ *\n+ *  png_set_packing(png_structrp png_ptr)\n+ *\n+ * This should only affect grayscale and palette images with less than 8 bits\n+ * per pixel.\n+ */\n+static void\n+image_transform_png_set_packing_set(const image_transform *this,\n+    transform_display *that, png_structp pp, png_infop pi)\n+{\n+   png_set_packing(pp);\n+   that->unpacked = 1;\n+   this->next->set(this->next, that, pp, pi);\n+}\n+\n+static void\n+image_transform_png_set_packing_mod(const image_transform *this,\n+    image_pixel *that, png_const_structp pp,\n+    const transform_display *display)\n+{\n+   /* The general expand case depends on what the colour type is,\n+    * low bit-depth pixel values are unpacked into bytes without\n+    * scaling, so sample_depth is not changed.\n+    */\n+   if (that->bit_depth < 8) /* grayscale or palette */\n+      that->bit_depth = 8;\n+\n+   this->next->mod(this->next, that, pp, display);\n+}\n+\n+static int\n+image_transform_png_set_packing_add(image_transform *this,\n+    const image_transform **that, png_byte colour_type, png_byte bit_depth)\n+{\n+   UNUSED(colour_type)\n+\n+   this->next = *that;\n+   *that = this;\n+\n+   /* Nothing should happen unless the bit depth is less than 8: */\n+   return bit_depth < 8;\n+}\n+\n+IT(packing);\n+#undef PT\n+#define PT ITSTRUCT(packing)\n+\n+#endif /* PNG_READ_PACK_SUPPORTED */\n+\n+/* png_set_packswap */\n+#ifdef PNG_READ_PACKSWAP_SUPPORTED\n+/* Swap pixels packed into bytes; reverses the order on screen so that\n+ * the high order bits correspond to the rightmost pixels.\n+ *\n+ *  png_set_packswap(png_structrp png_ptr)\n+ */\n+static void\n+image_transform_png_set_packswap_set(const image_transform *this,\n+    transform_display *that, png_structp pp, png_infop pi)\n+{\n+   png_set_packswap(pp);\n+   that->this.littleendian = 1;\n+   this->next->set(this->next, that, pp, pi);\n+}\n+\n+static void\n+image_transform_png_set_packswap_mod(const image_transform *this,\n+    image_pixel *that, png_const_structp pp,\n+    const transform_display *display)\n+{\n+   if (that->bit_depth < 8)\n+      that->littleendian = 1;\n+\n+   this->next->mod(this->next, that, pp, display);\n+}\n+\n+static int\n+image_transform_png_set_packswap_add(image_transform *this,\n+    const image_transform **that, png_byte colour_type, png_byte bit_depth)\n+{\n+   UNUSED(colour_type)\n+\n+   this->next = *that;\n+   *that = this;\n+\n+   return bit_depth < 8;\n+}\n+\n+IT(packswap);\n+#undef PT\n+#define PT ITSTRUCT(packswap)\n+\n+#endif /* PNG_READ_PACKSWAP_SUPPORTED */\n+\n+\n+/* png_set_invert_mono */\n+#ifdef PNG_READ_INVERT_MONO_SUPPORTED\n+/* Invert the gray channel\n+ *\n+ *  png_set_invert_mono(png_structrp png_ptr)\n+ */\n+static void\n+image_transform_png_set_invert_mono_set(const image_transform *this,\n+    transform_display *that, png_structp pp, png_infop pi)\n+{\n+   png_set_invert_mono(pp);\n+   this->next->set(this->next, that, pp, pi);\n+}\n+\n+static void\n+image_transform_png_set_invert_mono_mod(const image_transform *this,\n+    image_pixel *that, png_const_structp pp,\n+    const transform_display *display)\n+{\n+   if (that->colour_type & 4)\n+      that->mono_inverted = 1;\n+\n+   this->next->mod(this->next, that, pp, display);\n+}\n+\n+static int\n+image_transform_png_set_invert_mono_add(image_transform *this,\n+    const image_transform **that, png_byte colour_type, png_byte bit_depth)\n+{\n+   UNUSED(bit_depth)\n+\n+   this->next = *that;\n+   *that = this;\n+\n+   /* Only has an effect on pixels with no colour: */\n+   return (colour_type & 2) == 0;\n+}\n+\n+IT(invert_mono);\n+#undef PT\n+#define PT ITSTRUCT(invert_mono)\n+\n+#endif /* PNG_READ_INVERT_MONO_SUPPORTED */\n+\n+#ifdef PNG_READ_SHIFT_SUPPORTED\n+/* png_set_shift(png_structp, png_const_color_8p true_bits)\n+ *\n+ * The output pixels will be shifted by the given true_bits\n+ * values.\n+ */\n+#define data ITDATA(shift)\n+static png_color_8 data;\n+\n+static void\n+image_transform_png_set_shift_set(const image_transform *this,\n+    transform_display *that, png_structp pp, png_infop pi)\n+{\n+   /* Get a random set of shifts.  The shifts need to do something\n+    * to test the transform, so they are limited to the bit depth\n+    * of the input image.  Notice that in the following the 'gray'\n+    * field is randomized independently.  This acts as a check that\n+    * libpng does use the correct field.\n+    */\n+   const unsigned int depth = that->this.bit_depth;\n+\n+   data.red = (png_byte)/*SAFE*/(random_mod(depth)+1);\n+   data.green = (png_byte)/*SAFE*/(random_mod(depth)+1);\n+   data.blue = (png_byte)/*SAFE*/(random_mod(depth)+1);\n+   data.gray = (png_byte)/*SAFE*/(random_mod(depth)+1);\n+   data.alpha = (png_byte)/*SAFE*/(random_mod(depth)+1);\n+\n+   png_set_shift(pp, &data);\n+   this->next->set(this->next, that, pp, pi);\n+}\n+\n+static void\n+image_transform_png_set_shift_mod(const image_transform *this,\n+    image_pixel *that, png_const_structp pp,\n+    const transform_display *display)\n+{\n+   /* Copy the correct values into the sBIT fields, libpng does not do\n+    * anything to palette data:\n+    */\n+   if (that->colour_type != PNG_COLOR_TYPE_PALETTE)\n+   {\n+       that->sig_bits = 1;\n+\n+       /* The sBIT fields are reset to the values previously sent to\n+        * png_set_shift according to the colour type.\n+        * does.\n+        */\n+       if (that->colour_type & 2) /* RGB channels */\n+       {\n+          that->red_sBIT = data.red;\n+          that->green_sBIT = data.green;\n+          that->blue_sBIT = data.blue;\n+       }\n+\n+       else /* One grey channel */\n+          that->red_sBIT = that->green_sBIT = that->blue_sBIT = data.gray;\n+\n+       that->alpha_sBIT = data.alpha;\n+   }\n+\n+   this->next->mod(this->next, that, pp, display);\n+}\n+\n+static int\n+image_transform_png_set_shift_add(image_transform *this,\n+    const image_transform **that, png_byte colour_type, png_byte bit_depth)\n+{\n+   UNUSED(bit_depth)\n+\n+   this->next = *that;\n+   *that = this;\n+\n+   return colour_type != PNG_COLOR_TYPE_PALETTE;\n+}\n+\n+IT(shift);\n+#undef PT\n+#define PT ITSTRUCT(shift)\n+\n+#endif /* PNG_READ_SHIFT_SUPPORTED */\n+\n+#ifdef THIS_IS_THE_PROFORMA\n+static void\n+image_transform_png_set_@_set(const image_transform *this,\n+    transform_display *that, png_structp pp, png_infop pi)\n+{\n+   png_set_@(pp);\n+   this->next->set(this->next, that, pp, pi);\n+}\n+\n+static void\n+image_transform_png_set_@_mod(const image_transform *this,\n+    image_pixel *that, png_const_structp pp,\n+    const transform_display *display)\n+{\n+   this->next->mod(this->next, that, pp, display);\n+}\n+\n+static int\n+image_transform_png_set_@_add(image_transform *this,\n+    const image_transform **that, png_byte colour_type, png_byte bit_depth)\n+{\n+   this->next = *that;\n+   *that = this;\n+\n+   return 1;\n+}\n+\n+IT(@);\n+#endif\n+\n+\n+/* This may just be 'end' if all the transforms are disabled! */\n+static image_transform *const image_transform_first = &PT;\n+\n+static void\n+transform_enable(const char *name)\n {\n    /* Everything starts out enabled, so if we see an 'enable' disabled\n     * everything else the first time round.\n@@ -7418,7 +8546,7 @@\n\n }\n \n static void\n-transform_disable(PNG_CONST char *name)\n+transform_disable(const char *name)\n {\n    image_transform *list = image_transform_first;\n \n@@ -7481,7 +8609,7 @@\n\n }\n \n static png_uint_32\n-image_transform_add(PNG_CONST image_transform **this, unsigned int max,\n+image_transform_add(const image_transform **this, unsigned int max,\n    png_uint_32 counter, char *name, size_t sizeof_name, size_t *pos,\n    png_byte colour_type, png_byte bit_depth)\n {\n@@ -7558,83 +8686,6 @@\n\n    }\n }\n \n-#ifdef THIS_IS_THE_PROFORMA\n-static void\n-image_transform_png_set_@_set(PNG_CONST image_transform *this,\n-    transform_display *that, png_structp pp, png_infop pi)\n-{\n-   png_set_@(pp);\n-   this->next->set(this->next, that, pp, pi);\n-}\n-\n-static void\n-image_transform_png_set_@_mod(PNG_CONST image_transform *this,\n-    image_pixel *that, png_const_structp pp,\n-    PNG_CONST transform_display *display)\n-{\n-   this->next->mod(this->next, that, pp, display);\n-}\n-\n-static int\n-image_transform_png_set_@_add(image_transform *this,\n-    PNG_CONST image_transform **that, char *name, size_t sizeof_name,\n-    size_t *pos, png_byte colour_type, png_byte bit_depth)\n-{\n-   this->next = *that;\n-   *that = this;\n-\n-   *pos = safecat(name, sizeof_name, *pos, \"" +@\"");\n-\n-   return 1;\n-}\n-\n-IT(@);\n-#endif\n-\n-/* png_set_quantize(png_structp, png_colorp palette, int num_palette,\n- *    int maximum_colors, png_const_uint_16p histogram, int full_quantize)\n- *\n- * Very difficult to validate this!\n- */\n-/*NOTE: TBD NYI */\n-\n-/* The data layout transforms are handled by swapping our own channel data,\n- * necessarily these need to happen at the end of the transform list because the\n- * semantic of the channels changes after these are executed.  Some of these,\n- * like set_shift and set_packing, can't be done at present because they change\n- * the layout of the data at the sub-sample level so sample() won't get the\n- * right answer.\n- */\n-/* png_set_invert_alpha */\n-/*NOTE: TBD NYI */\n-\n-/* png_set_bgr */\n-/*NOTE: TBD NYI */\n-\n-/* png_set_swap_alpha */\n-/*NOTE: TBD NYI */\n-\n-/* png_set_swap */\n-/*NOTE: TBD NYI */\n-\n-/* png_set_filler, (png_structp png_ptr, png_uint_32 filler, int flags)); */\n-/*NOTE: TBD NYI */\n-\n-/* png_set_add_alpha, (png_structp png_ptr, png_uint_32 filler, int flags)); */\n-/*NOTE: TBD NYI */\n-\n-/* png_set_packing */\n-/*NOTE: TBD NYI */\n-\n-/* png_set_packswap */\n-/*NOTE: TBD NYI */\n-\n-/* png_set_invert_mono */\n-/*NOTE: TBD NYI */\n-\n-/* png_set_shift(png_structp, png_const_color_8p true_bits) */\n-/*NOTE: TBD NYI */\n-\n static void\n perform_transform_test(png_modifier *pm)\n {\n@@ -7642,7 +8693,8 @@\n\n    png_byte bit_depth = 0;\n    unsigned int palette_number = 0;\n \n-   while (next_format(&colour_type, &bit_depth, &palette_number, 0))\n+   while (next_format(&colour_type, &bit_depth, &palette_number, pm->test_lbg,\n+            pm->test_tRNS))\n    {\n       png_uint_32 counter = 0;\n       size_t base_pos;\n@@ -7653,7 +8705,7 @@\n\n       for (;;)\n       {\n          size_t pos = base_pos;\n-         PNG_CONST image_transform *list = 0;\n+         const image_transform *list = 0;\n \n          /* 'max' is currently hardwired to '1'; this should be settable on the\n           * command line.\n@@ -7714,11 +8766,11 @@\n\n gamma_display_init(gamma_display *dp, png_modifier *pm, png_uint_32 id,\n     double file_gamma, double screen_gamma, png_byte sbit, int threshold_test,\n     int use_input_precision, int scale16, int expand16,\n-    int do_background, PNG_CONST png_color_16 *pointer_to_the_background_color,\n+    int do_background, const png_color_16 *pointer_to_the_background_color,\n     double background_gamma)\n {\n    /* Standard fields */\n-   standard_display_init(&dp->this, &pm->this, id, 0/*do_interlace*/,\n+   standard_display_init(&dp->this, &pm->this, id, do_read_interlace,\n       pm->use_update_info);\n \n    /* Parameter fields */\n@@ -7750,7 +8802,7 @@\n\n    /* If requested strip 16 to 8 bits - this is handled automagically below\n     * because the output bit depth is read from the library.  Note that there\n     * are interactions with sBIT but, internally, libpng makes sbit at most\n-    * PNG_MAX_GAMMA_8 when doing the following.\n+    * PNG_MAX_GAMMA_8 prior to 1.7 when doing the following.\n     */\n    if (dp->scale16)\n #     ifdef PNG_READ_SCALE_16_TO_8_SUPPORTED\n@@ -7782,9 +8834,9 @@\n\n           * non-inverted, represenation.  It provides a default for the PNG file\n           * gamma, but since the file has a gAMA chunk this does not matter.\n           */\n-         PNG_CONST double sg = dp->screen_gamma;\n+         const double sg = dp->screen_gamma;\n #        ifndef PNG_FLOATING_POINT_SUPPORTED\n-            PNG_CONST png_fixed_point g = fix(sg);\n+            const png_fixed_point g = fix(sg);\n #        endif\n \n #        ifdef PNG_FLOATING_POINT_SUPPORTED\n@@ -7830,9 +8882,9 @@\n\n #     ifdef PNG_READ_BACKGROUND_SUPPORTED\n          /* NOTE: this assumes the caller provided the correct background gamma!\n           */\n-         PNG_CONST double bg = dp->background_gamma;\n+         const double bg = dp->background_gamma;\n #        ifndef PNG_FLOATING_POINT_SUPPORTED\n-            PNG_CONST png_fixed_point g = fix(bg);\n+            const png_fixed_point g = fix(bg);\n #        endif\n \n #        ifdef PNG_FLOATING_POINT_SUPPORTED\n@@ -7906,7 +8958,7 @@\n\n init_validate_info(validate_info *vi, gamma_display *dp, png_const_structp pp,\n     int in_depth, int out_depth)\n {\n-   PNG_CONST unsigned int outmax = (1U<<out_depth)-1;\n+   const unsigned int outmax = (1U<<out_depth)-1;\n \n    vi->pp = pp;\n    vi->dp = dp;\n@@ -7945,13 +8997,15 @@\n\n    vi->outlog = outlog(dp->pm, in_depth, out_depth);\n \n    if ((dp->this.colour_type & PNG_COLOR_MASK_ALPHA) != 0 ||\n-      (dp->this.colour_type == 3 && dp->this.is_transparent))\n+      (dp->this.colour_type == 3 && dp->this.is_transparent) ||\n+      ((dp->this.colour_type == 0 || dp->this.colour_type == 2) &&\n+       dp->this.has_tRNS))\n    {\n       vi->do_background = dp->do_background;\n \n       if (vi->do_background != 0)\n       {\n-         PNG_CONST double bg_inverse = 1/dp->background_gamma;\n+         const double bg_inverse = 1/dp->background_gamma;\n          double r, g, b;\n \n          /* Caller must at least put the gray value into the red channel */\n@@ -7975,7 +9029,7 @@\n\n          vi->background_blue = b;\n       }\n    }\n-   else\n+   else /* Do not expect any background processing */\n       vi->do_background = 0;\n \n    if (vi->do_background == 0)\n@@ -8065,15 +9119,15 @@\n\n \n /* This API returns the encoded *input* component, in the range 0..1 */\n static double\n-gamma_component_validate(PNG_CONST char *name, PNG_CONST validate_info *vi,\n-    PNG_CONST unsigned int id, PNG_CONST unsigned int od,\n-    PNG_CONST double alpha /* <0 for the alpha channel itself */,\n-    PNG_CONST double background /* component background value */)\n+gamma_component_validate(const char *name, const validate_info *vi,\n+    const unsigned int id, const unsigned int od,\n+    const double alpha /* <0 for the alpha channel itself */,\n+    const double background /* component background value */)\n {\n-   PNG_CONST unsigned int isbit = id >> vi->isbit_shift;\n-   PNG_CONST unsigned int sbit_max = vi->sbit_max;\n-   PNG_CONST unsigned int outmax = vi->outmax;\n-   PNG_CONST int do_background = vi->do_background;\n+   const unsigned int isbit = id >> vi->isbit_shift;\n+   const unsigned int sbit_max = vi->sbit_max;\n+   const unsigned int outmax = vi->outmax;\n+   const int do_background = vi->do_background;\n \n    double i;\n \n@@ -8638,14 +9692,14 @@\n\n    png_infop pi)\n {\n    /* Get some constants derived from the input and output file formats: */\n-   PNG_CONST png_store* PNG_CONST ps = dp->this.ps;\n-   PNG_CONST png_byte in_ct = dp->this.colour_type;\n-   PNG_CONST png_byte in_bd = dp->this.bit_depth;\n-   PNG_CONST png_uint_32 w = dp->this.w;\n-   PNG_CONST png_uint_32 h = dp->this.h;\n-   PNG_CONST size_t cbRow = dp->this.cbRow;\n-   PNG_CONST png_byte out_ct = png_get_color_type(pp, pi);\n-   PNG_CONST png_byte out_bd = png_get_bit_depth(pp, pi);\n+   const png_store* const ps = dp->this.ps;\n+   const png_byte in_ct = dp->this.colour_type;\n+   const png_byte in_bd = dp->this.bit_depth;\n+   const png_uint_32 w = dp->this.w;\n+   const png_uint_32 h = dp->this.h;\n+   const size_t cbRow = dp->this.cbRow;\n+   const png_byte out_ct = png_get_color_type(pp, pi);\n+   const png_byte out_bd = png_get_bit_depth(pp, pi);\n \n    /* There are three sources of error, firstly the quantization in the\n     * file encoding, determined by sbit and/or the file depth, secondly\n@@ -8686,11 +9740,12 @@\n\n     * The basic tests below do not do this, however if 'use_input_precision'\n     * is set a subsequent test is performed above.\n     */\n-   PNG_CONST unsigned int samples_per_pixel = (out_ct & 2U) ? 3U : 1U;\n+   const unsigned int samples_per_pixel = (out_ct & 2U) ? 3U : 1U;\n    int processing;\n    png_uint_32 y;\n-   PNG_CONST store_palette_entry *in_palette = dp->this.palette;\n-   PNG_CONST int in_is_transparent = dp->this.is_transparent;\n+   const store_palette_entry *in_palette = dp->this.palette;\n+   const int in_is_transparent = dp->this.is_transparent;\n+   int process_tRNS;\n    int out_npalette = -1;\n    int out_is_transparent = 0; /* Just refers to the palette case */\n    store_palette out_palette;\n@@ -8706,6 +9761,7 @@\n\n \n    processing = (vi.gamma_correction > 0 && !dp->threshold_test)\n       || in_bd != out_bd || in_ct != out_ct || vi.do_background;\n+   process_tRNS = dp->this.has_tRNS && vi.do_background;\n \n    /* TODO: FIX THIS: MAJOR BUG!  If the transformations all happen inside\n     * the palette there is no way of finding out, because libpng fails to\n@@ -8736,20 +9792,20 @@\n\n             double alpha = 1; /* serves as a flag value */\n \n             /* Record the palette index for index images. */\n-            PNG_CONST unsigned int in_index =\n-               in_ct == 3 ? sample(std, 3, in_bd, x, 0) : 256;\n-            PNG_CONST unsigned int out_index =\n-               out_ct == 3 ? sample(std, 3, out_bd, x, 0) : 256;\n+            const unsigned int in_index =\n+               in_ct == 3 ? sample(std, 3, in_bd, x, 0, 0, 0) : 256;\n+            const unsigned int out_index =\n+               out_ct == 3 ? sample(std, 3, out_bd, x, 0, 0, 0) : 256;\n \n             /* Handle input alpha - png_set_background will cause the output\n              * alpha to disappear so there is nothing to check.\n              */\n-            if ((in_ct & PNG_COLOR_MASK_ALPHA) != 0 || (in_ct == 3 &&\n-               in_is_transparent))\n+            if ((in_ct & PNG_COLOR_MASK_ALPHA) != 0 ||\n+                (in_ct == 3 && in_is_transparent))\n             {\n-               PNG_CONST unsigned int input_alpha = in_ct == 3 ?\n+               const unsigned int input_alpha = in_ct == 3 ?\n                   dp->this.palette[in_index].alpha :\n-                  sample(std, in_ct, in_bd, x, samples_per_pixel);\n+                  sample(std, in_ct, in_bd, x, samples_per_pixel, 0, 0);\n \n                unsigned int output_alpha = 65536 /* as a flag value */;\n \n@@ -8761,7 +9817,7 @@\n\n \n                else if ((out_ct & PNG_COLOR_MASK_ALPHA) != 0)\n                   output_alpha = sample(pRow, out_ct, out_bd, x,\n-                     samples_per_pixel);\n+                     samples_per_pixel, 0, 0);\n \n                if (output_alpha != 65536)\n                   alpha = gamma_component_validate(\""alpha\"", &vi, input_alpha,\n@@ -8777,33 +9833,62 @@\n\n                }\n             }\n \n+            else if (process_tRNS)\n+            {\n+               /* alpha needs to be set appropriately for this pixel, it is\n+                * currently 1 and needs to be 0 for an input pixel which matches\n+                * the values in tRNS.\n+                */\n+               switch (in_ct)\n+               {\n+                  case 0: /* gray */\n+                     if (sample(std, in_ct, in_bd, x, 0, 0, 0) ==\n+                           dp->this.transparent.red)\n+                        alpha = 0;\n+                     break;\n+\n+                  case 2: /* RGB */\n+                     if (sample(std, in_ct, in_bd, x, 0, 0, 0) ==\n+                           dp->this.transparent.red &&\n+                         sample(std, in_ct, in_bd, x, 1, 0, 0) ==\n+                           dp->this.transparent.green &&\n+                         sample(std, in_ct, in_bd, x, 2, 0, 0) ==\n+                           dp->this.transparent.blue)\n+                        alpha = 0;\n+                     break;\n+\n+                  default:\n+                     break;\n+               }\n+            }\n+\n             /* Handle grayscale or RGB components. */\n             if ((in_ct & PNG_COLOR_MASK_COLOR) == 0) /* grayscale */\n                (void)gamma_component_validate(\""gray\"", &vi,\n-                  sample(std, in_ct, in_bd, x, 0),\n-                  sample(pRow, out_ct, out_bd, x, 0), alpha/*component*/,\n-                  vi.background_red);\n+                  sample(std, in_ct, in_bd, x, 0, 0, 0),\n+                  sample(pRow, out_ct, out_bd, x, 0, 0, 0),\n+                  alpha/*component*/, vi.background_red);\n             else /* RGB or palette */\n             {\n                (void)gamma_component_validate(\""red\"", &vi,\n                   in_ct == 3 ? in_palette[in_index].red :\n-                     sample(std, in_ct, in_bd, x, 0),\n+                     sample(std, in_ct, in_bd, x, 0, 0, 0),\n                   out_ct == 3 ? out_palette[out_index].red :\n-                     sample(pRow, out_ct, out_bd, x, 0),\n+                     sample(pRow, out_ct, out_bd, x, 0, 0, 0),\n                   alpha/*component*/, vi.background_red);\n \n                (void)gamma_component_validate(\""green\"", &vi,\n                   in_ct == 3 ? in_palette[in_index].green :\n-                     sample(std, in_ct, in_bd, x, 1),\n+                     sample(std, in_ct, in_bd, x, 1, 0, 0),\n                   out_ct == 3 ? out_palette[out_index].green :\n-                     sample(pRow, out_ct, out_bd, x, 1),\n+                     sample(pRow, out_ct, out_bd, x, 1, 0, 0),\n                   alpha/*component*/, vi.background_green);\n \n                (void)gamma_component_validate(\""blue\"", &vi,\n                   in_ct == 3 ? in_palette[in_index].blue :\n-                     sample(std, in_ct, in_bd, x, 2),\n+                     sample(std, in_ct, in_bd, x, 2, 0, 0),\n                   out_ct == 3 ? out_palette[out_index].blue :\n-                     sample(pRow, out_ct, out_bd, x, 2),\n+                     sample(pRow, out_ct, out_bd, x, 2, 0, 0),\n                   alpha/*component*/, vi.background_blue);\n             }\n          }\n@@ -8843,15 +9928,15 @@\n\n  * maxpc:  maximum percentage error (as a percentage)\n  */\n static void\n-gamma_test(png_modifier *pmIn, PNG_CONST png_byte colour_typeIn,\n-    PNG_CONST png_byte bit_depthIn, PNG_CONST int palette_numberIn,\n-    PNG_CONST int interlace_typeIn,\n-    PNG_CONST double file_gammaIn, PNG_CONST double screen_gammaIn,\n-    PNG_CONST png_byte sbitIn, PNG_CONST int threshold_testIn,\n-    PNG_CONST char *name,\n-    PNG_CONST int use_input_precisionIn, PNG_CONST int scale16In,\n-    PNG_CONST int expand16In, PNG_CONST int do_backgroundIn,\n-    PNG_CONST png_color_16 *bkgd_colorIn, double bkgd_gammaIn)\n+gamma_test(png_modifier *pmIn, const png_byte colour_typeIn,\n+    const png_byte bit_depthIn, const int palette_numberIn,\n+    const int interlace_typeIn,\n+    const double file_gammaIn, const double screen_gammaIn,\n+    const png_byte sbitIn, const int threshold_testIn,\n+    const char *name,\n+    const int use_input_precisionIn, const int scale16In,\n+    const int expand16In, const int do_backgroundIn,\n+    const png_color_16 *bkgd_colorIn, double bkgd_gammaIn)\n {\n    gamma_display d;\n    context(&pmIn->this, fault);\n@@ -8886,7 +9971,7 @@\n\n \n       modification_reset(d.pm->modifications);\n \n-      /* Get a png_struct for writing the image. */\n+      /* Get a png_struct for reading the image. */\n       pp = set_modifier_for_read(d.pm, &pi, d.this.id, name);\n       standard_palette_init(&d.this);\n \n@@ -9025,9 +10110,13 @@\n\n    /* Don't test more than one instance of each palette - it's pointless, in\n     * fact this test is somewhat excessive since libpng doesn't make this\n     * decision based on colour type or bit depth!\n+    *\n+    * CHANGED: now test two palettes and, as a side effect, images with and\n+    * without tRNS.\n     */\n-   while (next_format(&colour_type, &bit_depth, &palette_number, 1/*gamma*/))\n-      if (palette_number == 0)\n+   while (next_format(&colour_type, &bit_depth, &palette_number,\n+                      pm->test_lbg_gamma_threshold, pm->test_tRNS))\n+      if (palette_number < 2)\n    {\n       double test_gamma = 1.0;\n       while (test_gamma >= .4)\n@@ -9050,11 +10139,11 @@\n\n }\n \n static void gamma_transform_test(png_modifier *pm,\n-   PNG_CONST png_byte colour_type, PNG_CONST png_byte bit_depth,\n-   PNG_CONST int palette_number,\n-   PNG_CONST int interlace_type, PNG_CONST double file_gamma,\n-   PNG_CONST double screen_gamma, PNG_CONST png_byte sbit,\n-   PNG_CONST int use_input_precision, PNG_CONST int scale16)\n+   const png_byte colour_type, const png_byte bit_depth,\n+   const int palette_number,\n+   const int interlace_type, const double file_gamma,\n+   const double screen_gamma, const png_byte sbit,\n+   const int use_input_precision, const int scale16)\n {\n    size_t pos = 0;\n    char name[64];\n@@ -9087,7 +10176,8 @@\n\n    png_byte bit_depth = 0;\n    unsigned int palette_number = 0;\n \n-   while (next_format(&colour_type, &bit_depth, &palette_number, 1/*gamma*/))\n+   while (next_format(&colour_type, &bit_depth, &palette_number,\n+                      pm->test_lbg_gamma_transform, pm->test_tRNS))\n    {\n       unsigned int i, j;\n \n@@ -9117,7 +10207,8 @@\n\n       png_byte colour_type = 0, bit_depth = 0;\n       unsigned int npalette = 0;\n \n-      while (next_format(&colour_type, &bit_depth, &npalette, 1/*gamma*/))\n+      while (next_format(&colour_type, &bit_depth, &npalette,\n+                         pm->test_lbg_gamma_sbit, pm->test_tRNS))\n          if ((colour_type & PNG_COLOR_MASK_ALPHA) == 0 &&\n             ((colour_type == 3 && sbit < 8) ||\n             (colour_type != 3 && sbit < bit_depth)))\n@@ -9152,7 +10243,11 @@\n\n #  ifndef PNG_MAX_GAMMA_8\n #     define PNG_MAX_GAMMA_8 11\n #  endif\n-#  define SBIT_16_TO_8 PNG_MAX_GAMMA_8\n+#  if defined PNG_MAX_GAMMA_8 || PNG_LIBPNG_VER < 10700\n+#     define SBIT_16_TO_8 PNG_MAX_GAMMA_8\n+#  else\n+#     define SBIT_16_TO_8 16\n+#  endif\n    /* Include the alpha cases here. Note that sbit matches the internal value\n     * used by the library - otherwise we will get spurious errors from the\n     * internal sbit style approximation.\n@@ -9205,12 +10300,12 @@\n\n #if defined(PNG_READ_BACKGROUND_SUPPORTED) ||\\\n    defined(PNG_READ_ALPHA_MODE_SUPPORTED)\n static void gamma_composition_test(png_modifier *pm,\n-   PNG_CONST png_byte colour_type, PNG_CONST png_byte bit_depth,\n-   PNG_CONST int palette_number,\n-   PNG_CONST int interlace_type, PNG_CONST double file_gamma,\n-   PNG_CONST double screen_gamma,\n-   PNG_CONST int use_input_precision, PNG_CONST int do_background,\n-   PNG_CONST int expand_16)\n+   const png_byte colour_type, const png_byte bit_depth,\n+   const int palette_number,\n+   const int interlace_type, const double file_gamma,\n+   const double screen_gamma,\n+   const int use_input_precision, const int do_background,\n+   const int expand_16)\n {\n    size_t pos = 0;\n    png_const_charp base;\n@@ -9308,8 +10403,17 @@\n\n    }\n \n    background.index = 193; /* rgb(193,193,193) to detect errors */\n+\n    if (!(colour_type & PNG_COLOR_MASK_COLOR))\n    {\n+      /* Because, currently, png_set_background is always called with\n+       * 'need_expand' false in this case and because the gamma test itself\n+       * doesn't cause an expand to 8-bit for lower bit depths the colour must\n+       * be reduced to the correct range.\n+       */\n+      if (bit_depth < 8)\n+         background.gray &= (png_uint_16)((1U << bit_depth)-1);\n+\n       /* Grayscale input, we do not convert to RGB (TBD), so we must set the\n        * background to gray - else libpng seems to fail.\n        */\n@@ -9358,9 +10462,18 @@\n\n \n    /* Skip the non-alpha cases - there is no setting of a transparency colour at\n     * present.\n+    *\n+    * TODO: incorrect; the palette case sets tRNS and, now RGB and gray do,\n+    * however the palette case fails miserably so is commented out below.\n     */\n-   while (next_format(&colour_type, &bit_depth, &palette_number, 1/*gamma*/))\n-      if ((colour_type & PNG_COLOR_MASK_ALPHA) != 0)\n+   while (next_format(&colour_type, &bit_depth, &palette_number,\n+                      pm->test_lbg_gamma_composition, pm->test_tRNS))\n+      if ((colour_type & PNG_COLOR_MASK_ALPHA) != 0\n+#if 0 /* TODO: FIXME */\n+          /*TODO: FIXME: this should work */\n+          || colour_type == 3\n+#endif\n+          || (colour_type != 3 && palette_number != 0))\n    {\n       unsigned int i, j;\n \n@@ -9579,7 +10692,7 @@\n\n  * be indexed adam7[y][x] and notice that the pass numbers are based at\n  * 1, not 0 - the base libpng uses.\n  */\n-static PNG_CONST\n+static const\n png_byte adam7[8][8] =\n {\n    { 1,6,4,6,2,6,4,6 },\n@@ -9930,7 +11043,7 @@\n\n  * The png_modifier code assumes that encodings[0] is sRGB and treats it\n  * specially: do not change the first entry in this list!\n  */\n-static PNG_CONST color_encoding test_encodings[] =\n+static const color_encoding test_encodings[] =\n {\n /* sRGB: must be first in this list! */\n /*gamma:*/ { 1/2.2,\n@@ -9952,6 +11065,11 @@\n\n /*red:  */ { 0.716500716779386, 0.258728243040113, 0.000000000000000 },\n /*green:*/ { 0.101020574397477, 0.724682314948566, 0.051211818965388 },\n /*blue: */ { 0.146774385252705, 0.016589442011321, 0.773892783545073} },\n+/* Fake encoding which selects just the green channel */\n+/*gamma:*/ { 1.45/2.2, /* the 'Mac' gamma */\n+/*red:  */ { 0.716500716779386, 0.000000000000000, 0.000000000000000 },\n+/*green:*/ { 0.101020574397477, 1.000000000000000, 0.051211818965388 },\n+/*blue: */ { 0.146774385252705, 0.000000000000000, 0.773892783545073} },\n };\n \n /* signal handler\n@@ -10023,11 +11141,11 @@\n\n /* main program */\n int main(int argc, char **argv)\n {\n-   volatile int summary = 1;  /* Print the error summary at the end */\n-   volatile int memstats = 0; /* Print memory statistics at the end */\n+   int summary = 1;  /* Print the error summary at the end */\n+   int memstats = 0; /* Print memory statistics at the end */\n \n    /* Create the given output file on success: */\n-   PNG_CONST char *volatile touch = NULL;\n+   const char *touch = NULL;\n \n    /* This is an array of standard gamma values (believe it or not I've seen\n     * every one of these mentioned somewhere.)\n@@ -10043,6 +11161,10 @@\n\n \n    anon_context(&pm.this);\n \n+   gnu_volatile(summary)\n+   gnu_volatile(memstats)\n+   gnu_volatile(touch)\n+\n    /* Add appropriate signal handlers, just the ANSI specified ones: */\n    signal(SIGABRT, signal_handler);\n    signal(SIGFPE, signal_handler);\n@@ -10089,14 +11211,30 @@\n\n \n    /* Store the test gammas */\n    pm.gammas = gammas;\n-   pm.ngammas = (sizeof gammas) / (sizeof gammas[0]);\n+   pm.ngammas = ARRAY_SIZE(gammas);\n    pm.ngamma_tests = 0; /* default to off */\n \n+   /* Low bit depth gray images don't do well in the gamma tests, until\n+    * this is fixed turn them off for some gamma cases:\n+    */\n+#  ifdef PNG_WRITE_tRNS_SUPPORTED\n+      pm.test_tRNS = 1;\n+#  endif\n+   pm.test_lbg = PNG_LIBPNG_VER >= 10600;\n+   pm.test_lbg_gamma_threshold = 1;\n+   pm.test_lbg_gamma_transform = PNG_LIBPNG_VER >= 10600;\n+   pm.test_lbg_gamma_sbit = 1;\n+   pm.test_lbg_gamma_composition = PNG_LIBPNG_VER >= 10700;\n+\n    /* And the test encodings */\n    pm.encodings = test_encodings;\n-   pm.nencodings = (sizeof test_encodings) / (sizeof test_encodings[0]);\n+   pm.nencodings = ARRAY_SIZE(test_encodings);\n \n-   pm.sbitlow = 8U; /* because libpng doesn't do sBIT below 8! */\n+#  if PNG_LIBPNG_VER < 10700\n+      pm.sbitlow = 8U; /* because libpng doesn't do sBIT below 8! */\n+#  else\n+      pm.sbitlow = 1U;\n+#  endif\n \n    /* The following allows results to pass if they correspond to anything in the\n     * transformed range [input-.5,input+.5]; this is is required because of the\n@@ -10122,7 +11260,11 @@\n\n    pm.maxout16 = .499;  /* Error in *encoded* value */\n    pm.maxabs16 = .00005;/* 1/20000 */\n    pm.maxcalc16 =1./65535;/* +/-1 in 16 bits for compose errors */\n-   pm.maxcalcG = 1./((1<<PNG_MAX_GAMMA_8)-1);\n+#  if PNG_LIBPNG_VER < 10700\n+      pm.maxcalcG = 1./((1<<PNG_MAX_GAMMA_8)-1);\n+#  else\n+      pm.maxcalcG = 1./((1<<16)-1);\n+#  endif\n \n    /* NOTE: this is a reasonable perceptual limit. We assume that humans can\n     * perceive light level differences of 1% over a 100:1 range, so we need to\n@@ -10152,7 +11294,8 @@\n\n       else if (strcmp(*argv, \""-q\"") == 0)\n          summary = pm.this.verbose = pm.log = 0;\n \n-      else if (strcmp(*argv, \""-w\"") == 0)\n+      else if (strcmp(*argv, \""-w\"") == 0 ||\n+               strcmp(*argv, \""--strict\"") == 0)\n          pm.this.treat_warnings_as_errors = 0;\n \n       else if (strcmp(*argv, \""--speed\"") == 0)\n@@ -10204,7 +11347,7 @@\n\n          pm.test_gamma_transform = 1;\n          pm.test_gamma_sbit = 1;\n          pm.test_gamma_scale16 = 1;\n-         pm.test_gamma_background = 1;\n+         pm.test_gamma_background = 1; /* composition */\n          pm.test_gamma_alpha_mode = 1;\n          }\n \n@@ -10253,6 +11396,24 @@\n\n       else if (strcmp(*argv, \""--noexpand16\"") == 0)\n          pm.test_gamma_expand16 = 0;\n \n+      else if (strcmp(*argv, \""--low-depth-gray\"") == 0)\n+         pm.test_lbg = pm.test_lbg_gamma_threshold =\n+            pm.test_lbg_gamma_transform = pm.test_lbg_gamma_sbit =\n+            pm.test_lbg_gamma_composition = 1;\n+\n+      else if (strcmp(*argv, \""--nolow-depth-gray\"") == 0)\n+         pm.test_lbg = pm.test_lbg_gamma_threshold =\n+            pm.test_lbg_gamma_transform = pm.test_lbg_gamma_sbit =\n+            pm.test_lbg_gamma_composition = 0;\n+\n+#     ifdef PNG_WRITE_tRNS_SUPPORTED\n+         else if (strcmp(*argv, \""--tRNS\"") == 0)\n+            pm.test_tRNS = 1;\n+#     endif\n+\n+      else if (strcmp(*argv, \""--notRNS\"") == 0)\n+         pm.test_tRNS = 0;\n+\n       else if (strcmp(*argv, \""--more-gammas\"") == 0)\n          pm.ngamma_tests = 3U;\n \n@@ -10267,12 +11428,12 @@\n\n \n       else if (strcmp(*argv, \""--interlace\"") == 0)\n       {\n-#        ifdef PNG_WRITE_INTERLACING_SUPPORTED\n+#        if CAN_WRITE_INTERLACE\n             pm.interlace_type = PNG_INTERLACE_ADAM7;\n-#        else\n+#        else /* !CAN_WRITE_INTERLACE */\n             fprintf(stderr, \""pngvalid: no write interlace support\\n\"");\n             return SKIP;\n-#        endif\n+#        endif /* !CAN_WRITE_INTERLACE */\n       }\n \n       else if (strcmp(*argv, \""--use-input-precision\"") == 0)\n@@ -10350,12 +11511,18 @@\n\n          const char *arg = 9+*argv;\n          unsigned char option=0, setting=0;\n \n-#ifdef PNG_ARM_NEON_API_SUPPORTED\n+#ifdef PNG_ARM_NEON\n          if (strncmp(arg, \""arm-neon:\"", 9) == 0)\n             option = PNG_ARM_NEON, arg += 9;\n \n          else\n #endif\n+#ifdef PNG_EXTENSIONS\n+         if (strncmp(arg, \""extensions:\"", 11) == 0)\n+            option = PNG_EXTENSIONS, arg += 11;\n+\n+         else\n+#endif\n #ifdef PNG_MAXIMUM_INFLATE_WINDOW\n          if (strncmp(arg, \""max-inflate-window:\"", 19) == 0)\n             option = PNG_MAXIMUM_INFLATE_WINDOW, arg += 19;\n@@ -10443,7 +11610,7 @@\n\n    Try\n    {\n       /* Make useful base images */\n-      make_transform_images(&pm.this);\n+      make_transform_images(&pm);\n \n       /* Perform the standard and gamma tests. */\n       if (pm.test_standard)\n""}<_**next**_>{""filename"": ""contrib/libtests/readpng.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/libtests/readpng.c"", ""patch"": ""@@ -62,6 +62,7 @@\n\n    {\n       png_size_t rowbytes = png_get_rowbytes(png_ptr, info_ptr);\n \n+      /* Failure to initialize these is harmless */\n       row = malloc(rowbytes);\n       display = malloc(rowbytes);\n \n@@ -70,7 +71,12 @@\n\n \n       {\n          png_uint_32 height = png_get_image_height(png_ptr, info_ptr);\n-         int passes = png_set_interlace_handling(png_ptr);\n+#        ifdef PNG_READ_INTERLACING_SUPPORTED\n+            int passes = png_set_interlace_handling(png_ptr);\n+#        else /* !READ_INTERLACING */\n+            int passes = png_get_interlace_type(png_ptr, info_ptr) ==\n+               PNG_INTERLACE_ADAM7 ? PNG_INTERLACE_ADAM7_PASSES : 1;\n+#        endif /* !READ_INTERLACING */\n          int pass;\n \n          png_start_read_image(png_ptr);\n@@ -79,6 +85,11 @@\n\n          {\n             png_uint_32 y = height;\n \n+#           ifndef PNG_READ_INTERLACING_SUPPORTED\n+               if (passes == PNG_INTERLACE_ADAM7_PASSES)\n+                  y = PNG_PASS_ROWS(y, pass);\n+#           endif /* READ_INTERLACING */\n+\n             /* NOTE: this trashes the row each time; interlace handling won't\n              * work, but this avoids memory thrashing for speed testing.\n              */\n""}<_**next**_>{""filename"": ""contrib/libtests/tarith.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/libtests/tarith.c"", ""patch"": ""@@ -634,7 +634,7 @@\n\n    {\n       png_fixed_point result;\n       /* NOTE: your mileage may vary, a type is required below that can\n-       * hold 64 bits or more, if floating point is used a 64 bit or\n+       * hold 64 bits or more, if floating point is used a 64-bit or\n        * better mantissa is required.\n        */\n       long long int fp, fpround;\n@@ -721,7 +721,7 @@\n\n    }\n    while (--count > 0);\n \n-   printf(\""%d tests including %d overflows, %d passed, %d failed (%d 64 bit \""\n+   printf(\""%d tests including %d overflows, %d passed, %d failed (%d 64-bit \""\n       \""errors)\\n\"", tested, overflow, passed, error, error64);\n    return 0;\n }\n@@ -799,13 +799,13 @@\n\n          if (i == 0 && png_log8bit(i) != 0xffffffff ||\n              i != 0 && png_log8bit(i) != floor(correct+.5))\n          {\n-            fprintf(stderr, \""8 bit log error: %d: got %u, expected %f\\n\"",\n+            fprintf(stderr, \""8-bit log error: %d: got %u, expected %f\\n\"",\n                i, png_log8bit(i), correct);\n          }\n       }\n \n       if (!silent)\n-         printf(\""maximum 8 bit log error = %f\\n\"", maxerr);\n+         printf(\""maximum 8-bit log error = %f\\n\"", maxerr);\n \n       maxerr = 0;\n       for (i=0; i<65536; ++i)\n@@ -821,14 +821,14 @@\n\n          {\n             if (error > .68) /* By experiment error is less than .68 */\n             {\n-               fprintf(stderr, \""16 bit log error: %d: got %u, expected %f\""\n+               fprintf(stderr, \""16-bit log error: %d: got %u, expected %f\""\n                   \"" error: %f\\n\"", i, png_log16bit(i), correct, error);\n             }\n          }\n       }\n \n       if (!silent)\n-         printf(\""maximum 16 bit log error = %f\\n\"", maxerr);\n+         printf(\""maximum 16-bit log error = %f\\n\"", maxerr);\n \n       /* Now exponentiations. */\n       maxerr = 0;\n@@ -841,13 +841,13 @@\n\n             maxerr = fabs(error);\n          if (fabs(error) > 1883) /* By experiment. */\n          {\n-            fprintf(stderr, \""32 bit exp error: %d: got %u, expected %f\""\n+            fprintf(stderr, \""32-bit exp error: %d: got %u, expected %f\""\n                   \"" error: %f\\n\"", i, png_exp(i), correct, error);\n          }\n       }\n \n       if (!silent)\n-         printf(\""maximum 32 bit exp error = %f\\n\"", maxerr);\n+         printf(\""maximum 32-bit exp error = %f\\n\"", maxerr);\n \n       maxerr = 0;\n       for (i=0; i<=0xfffff; ++i)\n@@ -859,13 +859,13 @@\n\n             maxerr = fabs(error);\n          if (fabs(error) > .50002) /* By experiment */\n          {\n-            fprintf(stderr, \""8 bit exp error: %d: got %u, expected %f\""\n+            fprintf(stderr, \""8-bit exp error: %d: got %u, expected %f\""\n                   \"" error: %f\\n\"", i, png_exp8bit(i), correct, error);\n          }\n       }\n \n       if (!silent)\n-         printf(\""maximum 8 bit exp error = %f\\n\"", maxerr);\n+         printf(\""maximum 8-bit exp error = %f\\n\"", maxerr);\n \n       maxerr = 0;\n       for (i=0; i<=0xfffff; ++i)\n@@ -877,13 +877,13 @@\n\n             maxerr = fabs(error);\n          if (fabs(error) > .524) /* By experiment */\n          {\n-            fprintf(stderr, \""16 bit exp error: %d: got %u, expected %f\""\n+            fprintf(stderr, \""16-bit exp error: %d: got %u, expected %f\""\n                   \"" error: %f\\n\"", i, png_exp16bit(i), correct, error);\n          }\n       }\n \n       if (!silent)\n-         printf(\""maximum 16 bit exp error = %f\\n\"", maxerr);\n+         printf(\""maximum 16-bit exp error = %f\\n\"", maxerr);\n    } /* !onlygamma */\n \n    /* Test the overall gamma correction. */\n@@ -913,7 +913,7 @@\n\n       }\n \n       if (!silent)\n-         printf(\""gamma %f: maximum 8 bit error %f\\n\"", g, maxerr);\n+         printf(\""gamma %f: maximum 8-bit error %f\\n\"", g, maxerr);\n \n       maxerr = 0;\n       for (j=0; j<65536; ++j)\n@@ -932,7 +932,7 @@\n\n       }\n \n       if (!silent)\n-         printf(\""gamma %f: maximum 16 bit error %f\\n\"", g, maxerr);\n+         printf(\""gamma %f: maximum 16-bit error %f\\n\"", g, maxerr);\n    }\n \n    return 0;\n""}<_**next**_>{""filename"": ""contrib/pngminus/png2pnm.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/pngminus/png2pnm.c"", ""patch"": ""@@ -52,7 +52,8 @@\n\n \n int  main (int argc, char *argv[]);\n void usage ();\n-BOOL png2pnm (FILE *png_file, FILE *pnm_file, FILE *alpha_file, BOOL raw, BOOL alpha);\n+BOOL png2pnm (FILE *png_file, FILE *pnm_file, FILE *alpha_file, BOOL raw,\n+   BOOL alpha);\n \n /*\n  *  main\n@@ -85,7 +86,8 @@\n\n           if ((fp_al = fopen (argv[argi], \""wb\"")) == NULL)\n           {\n             fprintf (stderr, \""PNM2PNG\\n\"");\n-            fprintf (stderr, \""Error:  can not create alpha-channel file %s\\n\"", argv[argi]);\n+            fprintf (stderr, \""Error:  can not create alpha-channel file %s\\n\"",\n+               argv[argi]);\n             exit (1);\n           }\n           break;\n@@ -176,9 +178,11 @@\n\n   fprintf (stderr, \""Usage:  png2pnm [options] <file>.png [<file>.pnm]\\n\"");\n   fprintf (stderr, \""   or:  ... | png2pnm [options]\\n\"");\n   fprintf (stderr, \""Options:\\n\"");\n-  fprintf (stderr, \""   -r[aw]   write pnm-file in binary format (P4/P5/P6) (default)\\n\"");\n+  fprintf (stderr,\n+     \""   -r[aw]   write pnm-file in binary format (P4/P5/P6) (default)\\n\"");\n   fprintf (stderr, \""   -n[oraw] write pnm-file in ascii format (P1/P2/P3)\\n\"");\n-  fprintf (stderr, \""   -a[lpha] <file>.pgm write PNG alpha channel as pgm-file\\n\"");\n+  fprintf (stderr,\n+     \""   -a[lpha] <file>.pgm write PNG alpha channel as pgm-file\\n\"");\n   fprintf (stderr, \""   -h | -?  print this help-information\\n\"");\n }\n \n@@ -186,7 +190,8 @@\n\n  *  png2pnm\n  */\n \n-BOOL png2pnm (FILE *png_file, FILE *pnm_file, FILE *alpha_file, BOOL raw, BOOL alpha)\n+BOOL png2pnm (FILE *png_file, FILE *pnm_file, FILE *alpha_file,\n+    volatile BOOL raw, BOOL alpha)\n {\n   png_struct    *png_ptr = NULL;\n   png_info        *info_ptr = NULL;\n@@ -218,7 +223,7 @@\n\n \n   /* create png and info structures */\n \n-  png_ptr = png_create_read_struct (PNG_LIBPNG_VER_STRING,\n+  png_ptr = png_create_read_struct (png_get_libpng_ver(NULL),\n     NULL, NULL, NULL);\n   if (!png_ptr)\n     return FALSE;   /* out of memory */\n@@ -261,7 +266,7 @@\n\n     png_set_expand (png_ptr);\n \n #ifdef NJET\n-  /* downgrade 16-bit images to 8 bit */\n+  /* downgrade 16-bit images to 8-bit */\n   if (bit_depth == 16)\n     png_set_strip_16 (png_ptr);\n   /* transform grayscale images into full-color */\n@@ -315,12 +320,14 @@\n\n   /* row_bytes is the width x number of channels x (bit-depth / 8) */\n   row_bytes = png_get_rowbytes (png_ptr, info_ptr);\n \n-  if ((png_pixels = (png_byte *) malloc (row_bytes * height * sizeof (png_byte))) == NULL) {\n+  if ((png_pixels = (png_byte *)\n+     malloc (row_bytes * height * sizeof (png_byte))) == NULL) {\n     png_destroy_read_struct (&png_ptr, &info_ptr, NULL);\n     return FALSE;\n   }\n \n-  if ((row_pointers = (png_byte **) malloc (height * sizeof (png_bytep))) == NULL)\n+  if ((row_pointers = (png_byte **)\n+     malloc (height * sizeof (png_bytep))) == NULL)\n   {\n     png_destroy_read_struct (&png_ptr, &info_ptr, NULL);\n     free (png_pixels);\n@@ -329,7 +336,7 @@\n\n   }\n \n   /* set the individual row_pointers to point at the correct offsets */\n-  for (i = 0; i < (height); i++)\n+  for (i = 0; i < ((int) height); i++)\n     row_pointers[i] = png_pixels + i * row_bytes;\n \n   /* now we can go ahead and just read the whole image */\n@@ -372,9 +379,9 @@\n\n   /* write data to PNM file */\n   pix_ptr = png_pixels;\n \n-  for (row = 0; row < height; row++)\n+  for (row = 0; row < (int) height; row++)\n   {\n-    for (col = 0; col < width; col++)\n+    for (col = 0; col < (int) width; col++)\n     {\n       for (i = 0; i < (channels - alpha_present); i++)\n       {\n""}<_**next**_>{""filename"": ""contrib/pngminus/pnm2png.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/pngminus/pnm2png.c"", ""patch"": ""@@ -3,6 +3,7 @@\n\n  *  copyright (C) 1999 by Willem van Schaik <willem@schaik.com>\n  *\n  *  version 1.0 - 1999.10.15 - First version.\n+ *  version 1.1 - 2015.07.29 - Fixed leaks (Glenn Randers-Pehrson)\n  *\n  *  Permission to use, copy, modify, and distribute this software and\n  *  its documentation for any purpose and without fee is hereby granted,\n@@ -50,7 +51,8 @@\n\n \n int  main (int argc, char *argv[]);\n void usage ();\n-BOOL pnm2png (FILE *pnm_file, FILE *png_file, FILE *alpha_file, BOOL interlace, BOOL alpha);\n+BOOL pnm2png (FILE *pnm_file, FILE *png_file, FILE *alpha_file, BOOL interlace,\n+    BOOL alpha);\n void get_token(FILE *pnm_file, char *token);\n png_uint_32 get_data (FILE *pnm_file, int depth);\n png_uint_32 get_value (FILE *pnm_file, int depth);\n@@ -176,7 +178,8 @@\n\n   fprintf (stderr, \""   or:  ... | pnm2png [options]\\n\"");\n   fprintf (stderr, \""Options:\\n\"");\n   fprintf (stderr, \""   -i[nterlace]   write png-file with interlacing on\\n\"");\n-  fprintf (stderr, \""   -a[lpha] <file>.pgm read PNG alpha channel as pgm-file\\n\"");\n+  fprintf (stderr,\n+      \""   -a[lpha] <file>.pgm read PNG alpha channel as pgm-file\\n\"");\n   fprintf (stderr, \""   -h | -?  print this help-information\\n\"");\n }\n \n@@ -184,30 +187,31 @@\n\n  *  pnm2png\n  */\n \n-BOOL pnm2png (FILE *pnm_file, FILE *png_file, FILE *alpha_file, BOOL interlace, BOOL alpha)\n+BOOL pnm2png (FILE *pnm_file, FILE *png_file, FILE *alpha_file, BOOL interlace,\n+     BOOL alpha)\n {\n   png_struct    *png_ptr = NULL;\n   png_info      *info_ptr = NULL;\n   png_byte      *png_pixels = NULL;\n   png_byte      **row_pointers = NULL;\n   png_byte      *pix_ptr = NULL;\n-  png_uint_32   row_bytes;\n+  volatile png_uint_32   row_bytes;\n \n   char          type_token[16];\n   char          width_token[16];\n   char          height_token[16];\n   char          maxval_token[16];\n-  int           color_type;\n+  volatile int    color_type=1;\n   unsigned long   ul_width=0, ul_alpha_width=0;\n   unsigned long   ul_height=0, ul_alpha_height=0;\n   unsigned long   ul_maxval=0;\n-  png_uint_32   width, alpha_width;\n-  png_uint_32   height, alpha_height;\n+  volatile png_uint_32   width=0, height=0;\n+  volatile png_uint_32   alpha_width=0, alpha_height=0;\n   png_uint_32   maxval;\n-  int           bit_depth = 0;\n-  int           channels;\n+  volatile int           bit_depth = 0;\n+  int           channels=0;\n   int           alpha_depth = 0;\n-  int           alpha_present;\n+  int           alpha_present=0;\n   int           row, col;\n   BOOL          raw, alpha_raw = FALSE;\n #if defined(PNG_WRITE_INVERT_SUPPORTED) || defined(PNG_WRITE_PACK_SUPPORTED)\n@@ -353,8 +357,10 @@\n\n     channels = 3;\n   else if (color_type == PNG_COLOR_TYPE_RGB_ALPHA)\n     channels = 4;\n+#if 0\n   else\n-    channels = 0; /* should not happen */\n+    channels = 0; /* cannot happen */\n+#endif\n \n   alpha_present = (channels - 1) % 2;\n \n@@ -367,23 +373,24 @@\n\n     /* row_bytes is the width x number of channels x (bit-depth / 8) */\n     row_bytes = width * channels * ((bit_depth <= 8) ? 1 : 2);\n \n-  if ((png_pixels = (png_byte *) malloc (row_bytes * height * sizeof (png_byte))) == NULL)\n+  if ((png_pixels = (png_byte *)\n+     malloc (row_bytes * height * sizeof (png_byte))) == NULL)\n     return FALSE;\n \n   /* read data from PNM file */\n   pix_ptr = png_pixels;\n \n-  for (row = 0; row < height; row++)\n+  for (row = 0; row < (int) height; row++)\n   {\n #if defined(PNG_WRITE_INVERT_SUPPORTED) || defined(PNG_WRITE_PACK_SUPPORTED)\n     if (packed_bitmap) {\n-      for (i = 0; i < row_bytes; i++)\n+      for (i = 0; i < (int) row_bytes; i++)\n         /* png supports this format natively so no conversion is needed */\n         *pix_ptr++ = get_data (pnm_file, 8);\n     } else\n #endif\n     {\n-      for (col = 0; col < width; col++)\n+      for (col = 0; col < (int) width; col++)\n       {\n         for (i = 0; i < (channels - alpha_present); i++)\n         {\n@@ -421,15 +428,20 @@\n\n   } /* end for row */\n \n   /* prepare the standard PNG structures */\n-  png_ptr = png_create_write_struct (PNG_LIBPNG_VER_STRING, NULL, NULL, NULL);\n+  png_ptr = png_create_write_struct (png_get_libpng_ver(NULL), NULL, NULL,\n+      NULL);\n   if (!png_ptr)\n   {\n+    free (png_pixels);\n+    png_pixels = NULL;\n     return FALSE;\n   }\n   info_ptr = png_create_info_struct (png_ptr);\n   if (!info_ptr)\n   {\n     png_destroy_write_struct (&png_ptr, (png_infopp) NULL);\n+    free (png_pixels);\n+    png_pixels = NULL;\n     return FALSE;\n   }\n \n@@ -444,7 +456,9 @@\n\n   /* setjmp() must be called in every function that calls a PNG-reading libpng function */\n   if (setjmp (png_jmpbuf(png_ptr)))\n   {\n-    png_destroy_write_struct (&png_ptr, (png_infopp) NULL);\n+    png_destroy_write_struct (&png_ptr, &info_ptr);\n+    free (png_pixels);\n+    png_pixels = NULL;\n     return FALSE;\n   }\n \n@@ -462,25 +476,28 @@\n\n   /* if needed we will allocate memory for an new array of row-pointers */\n   if (row_pointers == (unsigned char**) NULL)\n   {\n-    if ((row_pointers = (png_byte **) malloc (height * sizeof (png_bytep))) == NULL)\n+    if ((row_pointers = (png_byte **)\n+        malloc (height * sizeof (png_bytep))) == NULL)\n     {\n-      png_destroy_write_struct (&png_ptr, (png_infopp) NULL);\n+      png_destroy_write_struct (&png_ptr, &info_ptr);\n+      free (png_pixels);\n+      png_pixels = NULL;\n       return FALSE;\n     }\n   }\n \n   /* set the individual row_pointers to point at the correct offsets */\n-  for (i = 0; i < (height); i++)\n+  for (i = 0; i < (int) height; i++)\n     row_pointers[i] = png_pixels + i * row_bytes;\n \n   /* write out the entire image data in one call */\n   png_write_image (png_ptr, row_pointers);\n \n-  /* write the additional chuncks to the PNG file (not really needed) */\n+  /* write the additional chunks to the PNG file (not really needed) */\n   png_write_end (png_ptr, info_ptr);\n \n   /* clean up after the write, and free any memory allocated */\n-  png_destroy_write_struct (&png_ptr, (png_infopp) NULL);\n+  png_destroy_write_struct (&png_ptr, &info_ptr);\n \n   if (row_pointers != (unsigned char**) NULL)\n     free (row_pointers);\n""}<_**next**_>{""filename"": ""contrib/pngsuite/README"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/pngsuite/README"", ""patch"": ""@@ -1,8 +1,8 @@\n\n \n pngsuite\n --------\n-(c) Willem van Schaik, 1999, 2011, 2012\n-Two images are by Glenn Randers-Pehrson, 2012\n+Copyright (c) Willem van Schaik, 1999, 2011, 2012\n+Two images (ftbbn0g01.png and ftbbn0g02.png) are by Glenn Randers-Pehrson, 2012\n \n Permission to use, copy, modify, and distribute these images for any\n purpose and without fee is hereby granted.\n""}<_**next**_>{""filename"": ""contrib/tools/genpng.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/tools/genpng.c"", ""patch"": ""@@ -0,0 +1,867 @@\n\n+/*- genpng\n+ *\n+ * COPYRIGHT: Written by John Cunningham Bowler, 2015.\n+ * To the extent possible under law, the author has waived all copyright and\n+ * related or neighboring rights to this work.  This work is published from:\n+ * United States.\n+ *\n+ * Generate a PNG with an alpha channel, correctly.\n+ *\n+ * This is a test case generator; the resultant PNG files are only of interest\n+ * to those of us who care about whether the edges of circles are green, red,\n+ * or yellow.\n+ *\n+ * The program generates an RGB+Alpha PNG of a given size containing the given\n+ * shapes on a transparent background:\n+ *\n+ *  genpng width height { shape }\n+ *    shape ::= color width shape x1 y1 x2 y2\n+ *\n+ * 'color' is:\n+ *\n+ *  black white red green yellow blue brown purple pink orange gray cyan\n+ *\n+ * The point is to have colors that are linguistically meaningful plus that old\n+ * bugbear of the department store dress murders, Cyan, the only color we argue\n+ * about.\n+ *\n+ * 'shape' is:\n+ *\n+ *  circle: an ellipse\n+ *  square: a rectangle\n+ *  line: a straight line\n+ *\n+ * Each shape is followed by four numbers, these are two points in the output\n+ * coordinate space (as real numbers) which describe the circle, square, or\n+ * line.  The shape is filled if it is preceded by 'filled' (not valid for\n+ * 'line') or is drawn with a line, in which case the width of the line must\n+ * precede the shape.\n+ *\n+ * The whole set of information can be repeated as many times as desired:\n+ *\n+ *    shape ::= color width shape x1 y1 x2 y2\n+ *\n+ *    color ::= black|white|red|green|yellow|blue\n+ *    color ::= brown|purple|pink|orange|gray|cyan\n+ *    width ::= filled\n+ *    width ::= <number>\n+ *    shape ::= circle|square|line\n+ *    x1    ::= <number>\n+ *    x2    ::= <number>\n+ *    y1    ::= <number>\n+ *    y2    ::= <number>\n+ *\n+ * The output PNG is generated by down-sampling a 4x supersampled image using\n+ * a bi-cubic filter.  The bi-cubic has a 2 (output) pixel width, so an 8x8\n+ * array of super-sampled points contribute to each output pixel.  The value of\n+ * a super-sampled point is found using an unfiltered, aliased, infinite\n+ * precision image: Each shape from the last to the first is checked to see if\n+ * the point is in the drawn area and, if it is, the color of the point is the\n+ * color of the shape and the alpha is 1, if not the previous shape is checked.\n+ *\n+ * This is an aliased algorithm because no filtering is done; a point is either\n+ * inside or outside each shape and 'close' points do not contribute to the\n+ * sample.  The down-sampling is relied on to correct the error of not using\n+ * a filter.\n+ *\n+ * The line end-caps are 'flat'; they go through the points.  The square line\n+ * joins are mitres; the outside of the lines are continued to the point of\n+ * intersection.\n+ */\n+#include <stddef.h>\n+#include <stdlib.h>\n+#include <string.h>\n+#include <stdio.h>\n+#include <math.h>\n+\n+/* Normally use <png.h> here to get the installed libpng, but this is done to\n+ * ensure the code picks up the local libpng implementation:\n+ */\n+#include \""../../png.h\""\n+\n+#if defined(PNG_SIMPLIFIED_WRITE_SUPPORTED) && defined(PNG_STDIO_SUPPORTED)\n+\n+static const struct color\n+{\n+   const char *name;\n+   double      red;\n+   double      green;\n+   double      blue;\n+} colors[] =\n+/* color ::= black|white|red|green|yellow|blue\n+ * color ::= brown|purple|pink|orange|gray|cyan\n+ */\n+{\n+   { \""black\"",   0,    0,  0 },\n+   { \""white\"",   1,    1,  1 },\n+   { \""red\"",     1,    0,  0 },\n+   { \""green\"",   0,    1,  0 },\n+   { \""yellow\"",  1,    1,  0 },\n+   { \""blue\"",    0,    0,  1 },\n+   { \""brown\"",  .5, .125,  0 },\n+   { \""purple\"",  1,    0,  1 },\n+   { \""pink\"",    1,   .5, .5 },\n+   { \""orange\"",  1,   .5,  0 },\n+   { \""gray\"",    0,   .5, .5 },\n+   { \""cyan\"",    0,    1,  1 }\n+};\n+#define color_count ((sizeof colors)/(sizeof colors[0]))\n+\n+static const struct color *\n+color_of(const char *arg)\n+{\n+   int icolor = color_count;\n+\n+   while (--icolor >= 0)\n+   {\n+      if (strcmp(colors[icolor].name, arg) == 0)\n+         return colors+icolor;\n+   }\n+\n+   fprintf(stderr, \""genpng: invalid color %s\\n\"", arg);\n+   exit(1);\n+}\n+\n+static double\n+width_of(const char *arg)\n+{\n+   if (strcmp(arg, \""filled\"") == 0)\n+      return 0;\n+\n+   else\n+   {\n+      char *ep = NULL;\n+      double w = strtod(arg, &ep);\n+\n+      if (ep != NULL && *ep == 0 && w > 0)\n+         return w;\n+   }\n+\n+   fprintf(stderr, \""genpng: invalid line width %s\\n\"", arg);\n+   exit(1);\n+}\n+\n+static double\n+coordinate_of(const char *arg)\n+{\n+   char *ep = NULL;\n+   double w = strtod(arg, &ep);\n+\n+   if (ep != NULL && *ep == 0)\n+      return w;\n+\n+   fprintf(stderr, \""genpng: invalid coordinate value %s\\n\"", arg);\n+   exit(1);\n+}\n+\n+struct arg; /* forward declaration */\n+\n+typedef int (*shape_fn_ptr)(const struct arg *arg, double x, double y);\n+   /* A function to determine if (x,y) is inside the shape.\n+    *\n+    * There are two implementations:\n+    *\n+    *    inside_fn: returns true if the point is inside\n+    *    check_fn:  returns;\n+    *       -1: the point is outside the shape by more than the filter width (2)\n+    *        0: the point may be inside the shape\n+    *       +1: the point is inside the shape by more than the filter width\n+    */\n+#define OUTSIDE (-1)\n+#define INSIDE  (1)\n+\n+struct arg\n+{\n+   const struct color *color;\n+   shape_fn_ptr        inside_fn;\n+   shape_fn_ptr        check_fn;\n+   double              width; /* line width, 0 for 'filled' */\n+   double              x1, y1, x2, y2;\n+};\n+\n+/* IMPLEMENTATION NOTE:\n+ *\n+ * We want the contribution of each shape to the sample corresponding to each\n+ * pixel.  This could be obtained by super sampling the image to infinite\n+ * dimensions, finding each point within the shape and assigning that a value\n+ * '1' while leaving every point outside the shape with value '0' then\n+ * downsampling to the image size with sinc; computationally very expensive.\n+ *\n+ * Approximations are as follows:\n+ *\n+ * 1) If the pixel coordinate is within the shape assume the sample has the\n+ *    shape color and is opaque, else assume there is no contribution from\n+ *    the shape.\n+ *\n+ *    This is the equivalent of aliased rendering or resampling an image with\n+ *    a block filter.  The maximum error in the calculated alpha (which will\n+ *    always be 0 or 1) is 0.5.\n+ *\n+ * 2) If the shape is within a square of size 1x1 centered on the pixel assume\n+ *    that the shape obscures an amount of the pixel equal to its area within\n+ *    that square.\n+ *\n+ *    This is the equivalent of 'pixel coverage' alpha calculation or resampling\n+ *    an image with a bi-linear filter.  The maximum error is over 0.2, but the\n+ *    results are often acceptable.\n+ *\n+ *    This can be approximated by applying (1) to a super-sampled image then\n+ *    downsampling with a bi-linear filter.  The error in the super-sampled\n+ *    image is 0.5 per sample, but the resampling reduces this.\n+ *\n+ * 3) Use a better filter with a super-sampled image; in the limit this is the\n+ *    sinc() approach.\n+ *\n+ * 4) Do the geometric calculation; a bivariate definite integral across the\n+ *    shape, unfortunately this means evaluating Si(x), the integral of sinc(x),\n+ *    which is still a lot of math.\n+ *\n+ * This code uses approach (3) with a bi-cubic filter and 8x super-sampling\n+ * and method (1) for the super-samples.  This means that the sample is either\n+ * 0 or 1, depending on whether the sub-pixel is within or outside the shape.\n+ * The bi-cubic weights are also fixed and the 16 required weights are\n+ * pre-computed here (note that the 'scale' setting will need to be changed if\n+ * 'super' is increased).\n+ *\n+ * The code also calculates a sum to the edge of the filter. This is not\n+ * currently used by could be used to optimize the calculation.\n+ */\n+#if 0 /* bc code */\n+scale=10\n+super=8\n+define bicubic(x) {\n+   if (x <= 1) return (1.5*x - 2.5)*x*x + 1;\n+   if (x <  2) return (((2.5 - 0.5*x)*x - 4)*x + 2);\n+   return 0;\n+}\n+define sum(x) {\n+   auto s;\n+   s = 0;\n+   while (x < 2*super) {\n+      s = s + bicubic(x/super);\n+      x = x + 1;\n+   }\n+   return s;\n+}\n+define results(x) {\n+   auto b, s;\n+   b = bicubic(x/super);\n+   s = sum(x);\n+\n+   print \""   /*\"", x, \""*/ { \"", b, \"", \"", s, \"" }\"";\n+   return 1;\n+}\n+x=0\n+while (x<2*super) {\n+   x = x + results(x)\n+   if (x < 2*super) print \"",\""\n+   print \""\\n\""\n+}\n+quit\n+#endif\n+\n+#define BICUBIC1(x) /*     |x| <= 1 */ ((1.5*(x)* - 2.5)*(x)*(x) + 1)\n+#define BICUBIC2(x) /* 1 < |x| <  2 */ (((2.5 - 0.5*(x))*(x) - 4)*(x) + 2)\n+#define FILTER_WEIGHT 9 /* Twice the first sum below */\n+#define FILTER_WIDTH  2 /* Actually half the width; -2..+2 */\n+#define FILTER_STEPS  8 /* steps per filter unit */\n+static const double\n+bicubic[16][2] =\n+{\n+   /* These numbers are exact; the weight for the filter is 1/9, but this\n+    * would make the numbers inexact, so it is not included here.\n+    */\n+   /*          bicubic      sum        */\n+   /* 0*/ { 1.0000000000, 4.5000000000 },\n+   /* 1*/ {  .9638671875, 3.5000000000 },\n+   /* 2*/ {  .8671875000, 2.5361328125 },\n+   /* 3*/ {  .7275390625, 1.6689453125 },\n+   /* 4*/ {  .5625000000,  .9414062500 },\n+   /* 5*/ {  .3896484375,  .3789062500 },\n+   /* 6*/ {  .2265625000, -.0107421875 },\n+   /* 7*/ {  .0908203125, -.2373046875 },\n+   /* 8*/ {            0, -.3281250000 },\n+   /* 9*/ { -.0478515625, -.3281250000 },\n+   /*10*/ { -.0703125000, -.2802734375 },\n+   /*11*/ { -.0732421875, -.2099609375 },\n+   /*12*/ { -.0625000000, -.1367187500 },\n+   /*13*/ { -.0439453125, -.0742187500 },\n+   /*14*/ { -.0234375000, -.0302734375 },\n+   /*15*/ { -.0068359375, -.0068359375 }\n+};\n+\n+static double\n+alpha_calc(const struct arg *arg, double x, double y)\n+{\n+   /* For [x-2..x+2],[y-2,y+2] calculate the weighted bicubic given a function\n+    * which tells us whether a point is inside or outside the shape.  First\n+    * check if we need to do this at all:\n+    */\n+   switch (arg->check_fn(arg, x, y))\n+   {\n+      case OUTSIDE:\n+         return 0; /* all samples outside the shape */\n+\n+      case INSIDE:\n+         return 1; /* all samples inside the shape */\n+\n+      default:\n+      {\n+         int dy;\n+         double alpha = 0;\n+\n+#        define FILTER_D (FILTER_WIDTH*FILTER_STEPS-1)\n+         for (dy=-FILTER_D; dy<=FILTER_D; ++dy)\n+         {\n+            double wy = bicubic[abs(dy)][0];\n+\n+            if (wy != 0)\n+            {\n+               double alphay = 0;\n+               int dx;\n+\n+               for (dx=-FILTER_D; dx<=FILTER_D; ++dx)\n+               {\n+                  double wx = bicubic[abs(dx)][0];\n+\n+                  if (wx != 0 && arg->inside_fn(arg, x+dx/16, y+dy/16))\n+                     alphay += wx;\n+               }\n+\n+               alpha += wy * alphay;\n+            }\n+         }\n+\n+         /* This needs to be weighted for each dimension: */\n+         return alpha / (FILTER_WEIGHT*FILTER_WEIGHT);\n+      }\n+   }\n+}\n+\n+/* These are the shape functions. */\n+/* \""square\"",\n+ * { inside_square_filled, check_square_filled },\n+ * { inside_square, check_square }\n+ */\n+static int\n+square_check(double x, double y, double x1, double y1, double x2, double y2)\n+   /* Is x,y inside the square (x1,y1)..(x2,y2)? */\n+{\n+   /* Do a modified Cohen-Sutherland on one point, bit patterns that indicate\n+    * 'outside' are:\n+    *\n+    *   x<x1 | x<y1 | x<x2 | x<y2\n+    *    0      x      0      x     To the right\n+    *    1      x      1      x     To the left\n+    *    x      0      x      0     Below\n+    *    x      1      x      1     Above\n+    *\n+    * So 'inside' is (x<x1) != (x<x2) && (y<y1) != (y<y2);\n+    */\n+   return ((x<x1) ^ (x<x2)) & ((y<y1) ^ (y<y2));\n+}\n+\n+static int\n+inside_square_filled(const struct arg *arg, double x, double y)\n+{\n+   return square_check(x, y, arg->x1, arg->y1, arg->x2, arg->y2);\n+}\n+\n+static int\n+square_check_line(const struct arg *arg, double x, double y, double w)\n+   /* Check for a point being inside the boundaries implied by the given arg\n+    * and assuming a width 2*w each side of the boundaries.  This returns the\n+    * 'check' INSIDE/OUTSIDE/0 result but note the semantics:\n+    *\n+    *          +--------------+\n+    *          |              |   OUTSIDE\n+    *          |   INSIDE     |\n+    *          |              |\n+    *          +--------------+\n+    *\n+    * And '0' means within the line boundaries.\n+    */\n+{\n+   double cx = (arg->x1+arg->x2)/2;\n+   double wx = fabs(arg->x1-arg->x2)/2;\n+   double cy = (arg->y1+arg->y2)/2;\n+   double wy = fabs(arg->y1-arg->y2)/2;\n+\n+   if (square_check(x, y, cx-wx-w, cy-wy-w, cx+wx+w, cy+wy+w))\n+   {\n+      /* Inside, but maybe too far; check for the redundant case where\n+       * the lines overlap:\n+       */\n+      wx -= w;\n+      wy -= w;\n+      if (wx > 0 && wy > 0 && square_check(x, y, cx-wx, cy-wy, cx+wx, cy+wy))\n+         return INSIDE; /* between (inside) the boundary lines. */\n+\n+      return 0; /* inside the lines themselves. */\n+   }\n+\n+   return OUTSIDE; /* outside the boundary lines. */\n+}\n+\n+static int\n+check_square_filled(const struct arg *arg, double x, double y)\n+{\n+   /* The filter extends +/-FILTER_WIDTH each side of each output point, so\n+    * the check has to expand and contract the square by that amount; '0'\n+    * means close enough to the edge of the square that the bicubic filter has\n+    * to be run, OUTSIDE means alpha==0, INSIDE means alpha==1.\n+    */\n+   return square_check_line(arg, x, y, FILTER_WIDTH);\n+}\n+\n+static int\n+inside_square(const struct arg *arg, double x, double y)\n+{\n+   /* Return true if within the drawn lines, else false, no need to distinguish\n+    * INSIDE vs OUTSIDE here:\n+    */\n+   return square_check_line(arg, x, y, arg->width/2) == 0;\n+}\n+\n+static int\n+check_square(const struct arg *arg, double x, double y)\n+{\n+   /* So for this function a result of 'INSIDE' means inside the actual lines.\n+    */\n+   double w = arg->width/2;\n+\n+   if (square_check_line(arg, x, y, w+FILTER_WIDTH) == 0)\n+   {\n+      /* Somewhere close to the boundary lines. If far enough inside one of\n+       * them then we can return INSIDE:\n+       */\n+      w -= FILTER_WIDTH;\n+\n+      if (w > 0 && square_check_line(arg, x, y, w) == 0)\n+         return INSIDE;\n+\n+      /* Point is somewhere in the filter region: */\n+      return 0;\n+   }\n+\n+   else /* Inside or outside the square by more than w+FILTER_WIDTH. */\n+      return OUTSIDE;\n+}\n+\n+/* \""circle\"",\n+ * { inside_circle_filled, check_circle_filled },\n+ * { inside_circle, check_circle }\n+ *\n+ * The functions here are analoguous to the square ones; however, they check\n+ * the corresponding ellipse as opposed to the rectangle.\n+ */\n+static int\n+circle_check(double x, double y, double x1, double y1, double x2, double y2)\n+{\n+   if (square_check(x, y, x1, y1, x2, y2))\n+   {\n+      /* Inside the square, so maybe inside the circle too: */\n+      const double cx = (x1 + x2)/2;\n+      const double cy = (y1 + y2)/2;\n+      const double dx = x1 - x2;\n+      const double dy = y1 - y2;\n+\n+      x = (x - cx)/dx;\n+      y = (y - cy)/dy;\n+\n+      /* It is outside if the distance from the center is more than half the\n+       * diameter:\n+       */\n+      return x*x+y*y < .25;\n+   }\n+\n+   return 0; /* outside */\n+}\n+\n+static int\n+inside_circle_filled(const struct arg *arg, double x, double y)\n+{\n+   return circle_check(x, y, arg->x1, arg->y1, arg->x2, arg->y2);\n+}\n+\n+static int\n+circle_check_line(const struct arg *arg, double x, double y, double w)\n+   /* Check for a point being inside the boundaries implied by the given arg\n+    * and assuming a width 2*w each side of the boundaries.  This function has\n+    * the same semantic as square_check_line but tests the circle.\n+    */\n+{\n+   double cx = (arg->x1+arg->x2)/2;\n+   double wx = fabs(arg->x1-arg->x2)/2;\n+   double cy = (arg->y1+arg->y2)/2;\n+   double wy = fabs(arg->y1-arg->y2)/2;\n+\n+   if (circle_check(x, y, cx-wx-w, cy-wy-w, cx+wx+w, cy+wy+w))\n+   {\n+      /* Inside, but maybe too far; check for the redundant case where\n+       * the lines overlap:\n+       */\n+      wx -= w;\n+      wy -= w;\n+      if (wx > 0 && wy > 0 && circle_check(x, y, cx-wx, cy-wy, cx+wx, cy+wy))\n+         return INSIDE; /* between (inside) the boundary lines. */\n+\n+      return 0; /* inside the lines themselves. */\n+   }\n+\n+   return OUTSIDE; /* outside the boundary lines. */\n+}\n+\n+static int\n+check_circle_filled(const struct arg *arg, double x, double y)\n+{\n+   return circle_check_line(arg, x, y, FILTER_WIDTH);\n+}\n+\n+static int\n+inside_circle(const struct arg *arg, double x, double y)\n+{\n+   return circle_check_line(arg, x, y, arg->width/2) == 0;\n+}\n+\n+static int\n+check_circle(const struct arg *arg, double x, double y)\n+{\n+   /* Exactly as the 'square' code.  */\n+   double w = arg->width/2;\n+\n+   if (circle_check_line(arg, x, y, w+FILTER_WIDTH) == 0)\n+   {\n+      w -= FILTER_WIDTH;\n+\n+      if (w > 0 && circle_check_line(arg, x, y, w) == 0)\n+         return INSIDE;\n+\n+      /* Point is somewhere in the filter region: */\n+      return 0;\n+   }\n+\n+   else /* Inside or outside the square by more than w+FILTER_WIDTH. */\n+      return OUTSIDE;\n+}\n+\n+/* \""line\"",\n+ * { NULL, NULL },  There is no 'filled' line.\n+ * { inside_line, check_line }\n+ */\n+static int\n+line_check(double x, double y, double x1, double y1, double x2, double y2,\n+   double w, double expand)\n+{\n+   /* Shift all the points to (arg->x1, arg->y1) */\n+   double lx = x2 - x1;\n+   double ly = y2 - y1;\n+   double len2 = lx*lx + ly*ly;\n+   double cross, dot;\n+\n+   x -= x1;\n+   y -= y1;\n+\n+   /* The dot product is the distance down the line, the cross product is\n+    * the distance away from the line:\n+    *\n+    *    distance = |cross| / sqrt(len2)\n+    */\n+   cross = x * ly - y * lx;\n+\n+   /* If 'distance' is more than w the point is definitely outside the line:\n+    *\n+    *     distance >= w\n+    *     |cross|  >= w * sqrt(len2)\n+    *     cross^2  >= w^2 * len2:\n+    */\n+   if (cross*cross >= (w+expand)*(w+expand)*len2)\n+      return 0; /* outside */\n+\n+   /* Now find the distance *along* the line; this comes from the dot product\n+    * lx.x+ly.y. The actual distance (in pixels) is:\n+    *\n+    *   distance = dot / sqrt(len2)\n+    */\n+   dot = lx * x + ly * y;\n+\n+   /* The test for 'outside' is:\n+    *\n+    *    distance < 0 || distance > sqrt(len2)\n+    *                 -> dot / sqrt(len2) > sqrt(len2)\n+    *                 -> dot > len2\n+    *\n+    * But 'expand' is used for the filter width and needs to be handled too:\n+    */\n+   return dot > -expand && dot < len2+expand;\n+}\n+\n+static int\n+inside_line(const struct arg *arg, double x, double y)\n+{\n+   return line_check(x, y, arg->x1, arg->y1, arg->x2, arg->y2, arg->width/2, 0);\n+}\n+\n+static int\n+check_line(const struct arg *arg, double x, double y)\n+{\n+   /* The end caps of the line must be checked too; it's not enough just to\n+    * widen the line by FILTER_WIDTH; 'expand' exists for this purpose:\n+    */\n+   if (line_check(x, y, arg->x1, arg->y1, arg->x2, arg->y2, arg->width/2,\n+       FILTER_WIDTH))\n+   {\n+      /* Inside the line+filter; far enough inside that the filter isn't\n+       * required?\n+       */\n+      if (arg->width > 2*FILTER_WIDTH &&\n+          line_check(x, y, arg->x1, arg->y1, arg->x2, arg->y2, arg->width/2,\n+             -FILTER_WIDTH))\n+         return INSIDE;\n+\n+      return 0;\n+   }\n+\n+   return OUTSIDE;\n+}\n+\n+static const struct\n+{\n+   const char    *name;\n+   shape_fn_ptr   function[2/*fill,line*/][2];\n+#  define         FN_INSIDE 0\n+#  define         FN_CHECK 1\n+} shape_defs[] =\n+{\n+   {  \""square\"",\n+      {  { inside_square_filled, check_square_filled },\n+         { inside_square, check_square } }\n+   },\n+   {  \""circle\"",\n+      {  { inside_circle_filled, check_circle_filled },\n+         { inside_circle, check_circle } }\n+   },\n+   {  \""line\"",\n+      {  { NULL, NULL },\n+         { inside_line, check_line } }\n+   }\n+};\n+\n+#define shape_count ((sizeof shape_defs)/(sizeof shape_defs[0]))\n+\n+static shape_fn_ptr\n+shape_of(const char *arg, double width, int f)\n+{\n+   unsigned int i;\n+\n+   for (i=0; i<shape_count; ++i) if (strcmp(shape_defs[i].name, arg) == 0)\n+   {\n+      shape_fn_ptr fn = shape_defs[i].function[width != 0][f];\n+\n+      if (fn != NULL)\n+         return fn;\n+\n+      fprintf(stderr, \""genpng: %s %s not supported\\n\"",\n+         width == 0 ? \""filled\"" : \""unfilled\"", arg);\n+      exit(1);\n+   }\n+\n+   fprintf(stderr, \""genpng: %s: not a valid shape name\\n\"", arg);\n+   exit(1);\n+}\n+\n+static void\n+parse_arg(struct arg *arg, const char **argv/*7 arguments*/)\n+{\n+   /* shape ::= color width shape x1 y1 x2 y2 */\n+   arg->color = color_of(argv[0]);\n+   arg->width = width_of(argv[1]);\n+   arg->inside_fn = shape_of(argv[2], arg->width, FN_INSIDE);\n+   arg->check_fn = shape_of(argv[2], arg->width, FN_CHECK);\n+   arg->x1 = coordinate_of(argv[3]);\n+   arg->y1 = coordinate_of(argv[4]);\n+   arg->x2 = coordinate_of(argv[5]);\n+   arg->y2 = coordinate_of(argv[6]);\n+}\n+\n+static png_uint_32\n+read_wh(const char *name, const char *str)\n+   /* read a PNG width or height */\n+{\n+   char *ep = NULL;\n+   unsigned long ul = strtoul(str, &ep, 10);\n+\n+   if (ep != NULL && *ep == 0 && ul > 0 && ul <= 0x7fffffff)\n+      return (png_uint_32)/*SAFE*/ul;\n+\n+   fprintf(stderr, \""genpng: %s: invalid number %s\\n\"", name, str);\n+   exit(1);\n+}\n+\n+static void\n+pixel(png_uint_16p p, struct arg *args, int nargs, double x, double y)\n+{\n+   /* Fill in the pixel by checking each shape (args[nargs]) for effects on\n+    * the corresponding sample:\n+    */\n+   double r=0, g=0, b=0, a=0;\n+\n+   while (--nargs >= 0 && a != 1)\n+   {\n+      /* NOTE: alpha_calc can return a value outside the range 0..1 with the\n+       * bicubic filter.\n+       */\n+      const double alpha = alpha_calc(args+nargs, x, y) * (1-a);\n+\n+      r += alpha * args[nargs].color->red;\n+      g += alpha * args[nargs].color->green;\n+      b += alpha * args[nargs].color->blue;\n+      a += alpha;\n+   }\n+\n+   /* 'a' may be negative or greater than 1; if it is, negative clamp the\n+    * pixel to 0 if >1 clamp r/g/b:\n+    */\n+   if (a > 0)\n+   {\n+      if (a > 1)\n+      {\n+         if (r > 1) r = 1;\n+         if (g > 1) g = 1;\n+         if (b > 1) b = 1;\n+         a = 1;\n+      }\n+\n+      /* And fill in the pixel: */\n+      p[0] = (png_uint_16)/*SAFE*/round(r * 65535);\n+      p[1] = (png_uint_16)/*SAFE*/round(g * 65535);\n+      p[2] = (png_uint_16)/*SAFE*/round(b * 65535);\n+      p[3] = (png_uint_16)/*SAFE*/round(a * 65535);\n+   }\n+\n+   else\n+      p[3] = p[2] = p[1] = p[0] = 0;\n+}\n+\n+int\n+main(int argc, const char **argv)\n+{\n+   int convert_to_8bit = 0;\n+\n+   /* There is one option: --8bit: */\n+   if (argc > 1 && strcmp(argv[1], \""--8bit\"") == 0)\n+      --argc, ++argv, convert_to_8bit = 1;\n+\n+   if (argc >= 3)\n+   {\n+      png_uint_16p buffer;\n+      int nshapes;\n+      png_image image;\n+#     define max_shapes 256\n+      struct arg arg_list[max_shapes];\n+\n+      /* The libpng Simplified API write code requires a fully initialized\n+       * structure.\n+       */\n+      memset(&image, 0, sizeof image);\n+      image.version = PNG_IMAGE_VERSION;\n+      image.opaque = NULL;\n+      image.width = read_wh(\""width\"", argv[1]);\n+      image.height = read_wh(\""height\"", argv[2]);\n+      image.format = PNG_FORMAT_LINEAR_RGB_ALPHA;\n+      image.flags = 0;\n+      image.colormap_entries = 0;\n+\n+      /* Check the remainder of the arguments */\n+      for (nshapes=0; 3+7*(nshapes+1) <= argc && nshapes < max_shapes;\n+           ++nshapes)\n+         parse_arg(arg_list+nshapes, argv+3+7*nshapes);\n+\n+      if (3+7*nshapes != argc)\n+      {\n+         fprintf(stderr, \""genpng: %s: too many arguments\\n\"", argv[3+7*nshapes]);\n+         return 1;\n+      }\n+\n+      /* Create the buffer: */\n+      buffer = malloc(PNG_IMAGE_SIZE(image));\n+\n+      if (buffer != NULL)\n+      {\n+         png_uint_32 y;\n+\n+         /* Write each row... */\n+         for (y=0; y<image.height; ++y)\n+         {\n+            png_uint_32 x;\n+\n+            /* Each pixel in each row: */\n+            for (x=0; x<image.width; ++x)\n+               pixel(buffer + 4*(x + y*image.width), arg_list, nshapes, x, y);\n+         }\n+\n+         /* Write the result (to stdout) */\n+         if (png_image_write_to_stdio(&image, stdout, convert_to_8bit,\n+             buffer, 0/*row_stride*/, NULL/*colormap*/))\n+         {\n+            free(buffer);\n+            return 0; /* success */\n+         }\n+\n+         else\n+            fprintf(stderr, \""genpng: write stdout: %s\\n\"", image.message);\n+\n+         free(buffer);\n+      }\n+\n+      else\n+         fprintf(stderr, \""genpng: out of memory: %lu bytes\\n\"",\n+               (unsigned long)PNG_IMAGE_SIZE(image));\n+   }\n+\n+   else\n+   {\n+      /* Wrong number of arguments */\n+      fprintf(stderr, \""genpng: usage: genpng [--8bit] width height {shape}\\n\""\n+         \"" Generate a transparent PNG in RGBA (truecolor+alpha) format\\n\""\n+         \"" containing the given shape or shapes.  Shapes are defined:\\n\""\n+         \""\\n\""\n+         \""  shape ::= color width shape x1 y1 x2 y2\\n\""\n+         \""  color ::= black|white|red|green|yellow|blue\\n\""\n+         \""  color ::= brown|purple|pink|orange|gray|cyan\\n\""\n+         \""  width ::= filled|<number>\\n\""\n+         \""  shape ::= circle|square|line\\n\""\n+         \""  x1,x2 ::= <number>\\n\""\n+         \""  y1,y2 ::= <number>\\n\""\n+         \""\\n\""\n+         \"" Numbers are floating point numbers describing points relative to\\n\""\n+         \"" the top left of the output PNG as pixel coordinates.  The 'width'\\n\""\n+         \"" parameter is either the width of the line (in output pixels) used\\n\""\n+         \"" to draw the shape or 'filled' to indicate that the shape should\\n\""\n+         \"" be filled with the color.\\n\""\n+         \""\\n\""\n+         \"" Colors are interpreted loosely to give access to the eight full\\n\""\n+         \"" intensity RGB values:\\n\""\n+         \""\\n\""\n+         \""  black, red, green, blue, yellow, cyan, purple, white,\\n\""\n+         \""\\n\""\n+         \"" Cyan is full intensity blue+green; RGB(0,1,1), plus the following\\n\""\n+         \"" lower intensity values:\\n\""\n+         \""\\n\""\n+         \""  brown:  red+orange:  RGB(0.5, 0.125, 0) (dark red+orange)\\n\""\n+         \""  pink:   red+white:   RGB(1.0, 0.5,   0.5)\\n\""\n+         \""  orange: red+yellow:  RGB(1.0, 0.5,   0)\\n\""\n+         \""  gray:   black+white: RGB(0.5, 0.5,   0.5)\\n\""\n+         \""\\n\""\n+         \"" The RGB values are selected to make detection of aliasing errors\\n\""\n+         \"" easy. The names are selected to make the description of errors\\n\""\n+         \"" easy.\\n\""\n+         \""\\n\""\n+         \"" The PNG is written to stdout, if --8bit is given a 32bpp RGBA sRGB\\n\""\n+         \"" file is produced, otherwise a 64bpp RGBA linear encoded file is\\n\""\n+         \"" written.\\n\"");\n+   }\n+\n+   return 1;\n+}\n+#endif /* SIMPLIFIED_WRITE && STDIO */\n""}<_**next**_>{""filename"": ""contrib/tools/png-fix-itxt.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/tools/png-fix-itxt.c"", ""patch"": ""@@ -1,14 +1,14 @@\n\n \n /* png-fix-itxt version 1.0.0\n  *\n- * Copyright 2013 Glenn Randers-Pehrson\n- * Last changed in libpng 1.6.3 [July 18, 2013]\n+ * Copyright 2015 Glenn Randers-Pehrson\n+ * Last changed in libpng 1.6.18 [July 23, 2015]\n  *\n  * This code is released under the libpng license.\n  * For conditions of distribution and use, see the disclaimer\n  * and license in png.h\n  *\n- * Usage:            \n+ * Usage:\n  *\n  *     png-fix-itxt.exe < bad.png > good.png\n  *\n@@ -34,8 +34,10 @@\n\n \n #define MAX_LENGTH 500000\n \n-#define GETBREAK ((unsigned char)(inchar=getchar())); if (inchar == EOF) break\n-\n+/* Read one character (inchar), also return octet (c), break if EOF */\n+#define GETBREAK inchar=getchar(); \\\n+                 c=(inchar & 0xffU);\\\n+                 if (inchar != c) break\n int\n main(void)\n {\n@@ -48,25 +50,25 @@\n\n /* Skip 8-byte signature */\n    for (i=8; i; i--)\n    {\n-      c=GETBREAK;\n+      GETBREAK;\n       putchar(c);\n    }\n \n-if (inchar != EOF)\n+if (inchar == c) /* !EOF */\n for (;;)\n  {\n    /* Read the length */\n    unsigned long length; /* must be 32 bits! */\n-   c=GETBREAK; buf[0] = c; length  = c; length <<= 8;\n-   c=GETBREAK; buf[1] = c; length += c; length <<= 8;\n-   c=GETBREAK; buf[2] = c; length += c; length <<= 8;\n-   c=GETBREAK; buf[3] = c; length += c;\n+   GETBREAK; buf[0] = c; length  = c; length <<= 8;\n+   GETBREAK; buf[1] = c; length += c; length <<= 8;\n+   GETBREAK; buf[2] = c; length += c; length <<= 8;\n+   GETBREAK; buf[3] = c; length += c;\n \n    /* Read the chunkname */\n-   c=GETBREAK; buf[4] = c;\n-   c=GETBREAK; buf[5] = c;\n-   c=GETBREAK; buf[6] = c;\n-   c=GETBREAK; buf[7] = c;\n+   GETBREAK; buf[4] = c;\n+   GETBREAK; buf[5] = c;\n+   GETBREAK; buf[6] = c;\n+   GETBREAK; buf[7] = c;\n \n \n    /* The iTXt chunk type expressed as integers is (105, 84, 88, 116) */\n@@ -81,19 +83,22 @@\n\n       /* Copy the data bytes */\n       for (i=8; i < length + 12; i++)\n       {\n-         c=GETBREAK; buf[i] = c;\n+         GETBREAK; buf[i] = c;\n       }\n \n+      if (inchar != c) /* EOF */\n+         break;\n+\n       /* Calculate the CRC */\n       crc = crc32(crc, buf+4, (uInt)length+4);\n \n       for (;;)\n       {\n         /* Check the CRC */\n-        if (((crc >> 24) & 0xff) == buf[length+8] &&\n-            ((crc >> 16) & 0xff) == buf[length+9] &&\n-            ((crc >>  8) & 0xff) == buf[length+10] &&\n-            ((crc      ) & 0xff) == buf[length+11])\n+        if (((crc >> 24) & 0xffU) == buf[length+8] &&\n+            ((crc >> 16) & 0xffU) == buf[length+9] &&\n+            ((crc >>  8) & 0xffU) == buf[length+10] &&\n+            ((crc      ) & 0xffU) == buf[length+11])\n            break;\n \n         length++;\n@@ -101,18 +106,21 @@\n\n         if (length >= MAX_LENGTH-12)\n            break;\n \n-        c=GETBREAK;\n-        buf[length+11]=c;\n+        GETBREAK;\n+        buf[length+11] = c;\n \n         /* Update the CRC */\n         crc = crc32(crc, buf+7+length, 1);\n       }\n \n+      if (inchar != c) /* EOF */\n+         break;\n+\n       /* Update length bytes */\n-      buf[0] = (unsigned char)((length << 24) & 0xff);\n-      buf[1] = (unsigned char)((length << 16) & 0xff);\n-      buf[2] = (unsigned char)((length <<  8) & 0xff);\n-      buf[3] = (unsigned char)((length      ) & 0xff);\n+      buf[0] = (unsigned char)((length >> 24) & 0xffU);\n+      buf[1] = (unsigned char)((length >> 16) & 0xffU);\n+      buf[2] = (unsigned char)((length >>  8) & 0xffU);\n+      buf[3] = (unsigned char)((length      ) & 0xffU);\n \n       /* Write the fixed iTXt chunk (length, name, data, crc) */\n       for (i=0; i<length+12; i++)\n@@ -121,6 +129,9 @@\n\n \n    else\n    {\n+      if (inchar != c) /* EOF */\n+         break;\n+\n       /* Copy bytes that were already read (length and chunk name) */\n       for (i=0; i<8; i++)\n          putchar(buf[i]);\n@@ -128,11 +139,11 @@\n\n       /* Copy data bytes and CRC */\n       for (i=8; i< length+12; i++)\n       {\n-         c=GETBREAK;\n+         GETBREAK;\n          putchar(c);\n       }\n \n-      if (inchar == EOF)\n+      if (inchar != c) /* EOF */\n       {\n          break;\n       }\n@@ -142,7 +153,7 @@\n\n          break;\n    }\n \n-   if (inchar == EOF)\n+   if (inchar != c) /* EOF */\n       break;\n \n    if (buf[4] == 73 && buf[5] == 69 && buf[6] == 78 && buf[7] == 68)\n""}<_**next**_>{""filename"": ""contrib/tools/pngfix.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/contrib/tools/pngfix.c"", ""patch"": ""@@ -1,15 +1,15 @@\n\n /* pngfix.c\n  *\n- * Copyright (c) 2014 John Cunningham Bowler\n+ * Copyright (c) 2014-2015 John Cunningham Bowler\n  *\n- * Last changed in libpng 1.6.10 [March 6, 2014]\n+ * Last changed in libpng 1.6.20 [December 3, 2015]\n  *\n  * This code is released under the libpng license.\n  * For conditions of distribution and use, see the disclaimer\n  * and license in png.h\n  *\n- * Tool to check and fix the zlib inflate 'too far back' problem, see the usage\n- * message for more information.\n+ * Tool to check and fix the zlib inflate 'too far back' problem.\n+ * See the usage message for more information.\n  */\n #include <stdlib.h>\n #include <stdio.h>\n@@ -49,7 +49,13 @@\n\n #  error \""pngfix will not work with libpng prior to 1.6.3\""\n #endif\n \n-#if defined(PNG_READ_SUPPORTED) && defined(PNG_EASY_ACCESS_SUPPORTED)\n+#ifdef PNG_SETJMP_SUPPORTED\n+#include <setjmp.h>\n+\n+#if defined(PNG_READ_SUPPORTED) && defined(PNG_EASY_ACCESS_SUPPORTED) &&\\\n+   (defined(PNG_READ_DEINTERLACE_SUPPORTED) ||\\\n+    defined(PNG_READ_INTERLACING_SUPPORTED))\n+\n /* zlib.h defines the structure z_stream, an instance of which is included\n  * in this structure and is required for decompressing the LZ compressed\n  * data in PNG files.\n@@ -68,8 +74,8 @@\n\n  * with older builds.\n  */\n #if ZLIB_VERNUM < 0x1260\n-#  define PNGZ_MSG_CAST(s) png_constcast(char*,s)\n-#  define PNGZ_INPUT_CAST(b) png_constcast(png_bytep,b)\n+#  define PNGZ_MSG_CAST(s) constcast(char*,s)\n+#  define PNGZ_INPUT_CAST(b) constcast(png_bytep,b)\n #else\n #  define PNGZ_MSG_CAST(s) (s)\n #  define PNGZ_INPUT_CAST(b) (b)\n@@ -79,21 +85,21 @@\n\n #  error \""pngfix not supported in this libpng version\""\n #endif\n \n-#if PNG_ZLIB_VERNUM >= 0x1240\n+#if ZLIB_VERNUM >= 0x1240\n \n /* Copied from pngpriv.h */\n #ifdef __cplusplus\n-#  define png_voidcast(type, value) static_cast<type>(value)\n-#  define png_constcast(type, value) const_cast<type>(value)\n-#  define png_aligncast(type, value) \\\n+#  define voidcast(type, value) static_cast<type>(value)\n+#  define constcast(type, value) const_cast<type>(value)\n+#  define aligncast(type, value) \\\n    static_cast<type>(static_cast<void*>(value))\n-#  define png_aligncastconst(type, value) \\\n+#  define aligncastconst(type, value) \\\n    static_cast<type>(static_cast<const void*>(value))\n #else\n-#  define png_voidcast(type, value) (value)\n-#  define png_constcast(type, value) ((type)(value))\n-#  define png_aligncast(type, value) ((void*)(value))\n-#  define png_aligncastconst(type, value) ((const void*)(value))\n+#  define voidcast(type, value) (value)\n+#  define constcast(type, value) ((type)(value))\n+#  define aligncast(type, value) ((void*)(value))\n+#  define aligncastconst(type, value) ((const void*)(value))\n #endif /* __cplusplus */\n \n #if PNG_LIBPNG_VER < 10700\n@@ -131,7 +137,7 @@\n\n #define png_zTXt PNG_U32(122,  84,  88, 116)\n #endif\n \n-/* The 8 byte signature as a pair of 32 bit quantities */\n+/* The 8-byte signature as a pair of 32-bit quantities */\n #define sig1 PNG_U32(137,  80,  78,  71)\n #define sig2 PNG_U32( 13,  10,  26,  10)\n \n@@ -153,7 +159,7 @@\n\n  */\n #define UNREACHED 0\n \n-/* 80-bit number handling - a PNG image can be up to (2^31-1)x(2^31-1) 8 byte\n+/* 80-bit number handling - a PNG image can be up to (2^31-1)x(2^31-1) 8-byte\n  * (16-bit RGBA) pixels in size; that's less than 2^65 bytes or 2^68 bits, so\n  * arithmetic of 80-bit numbers is sufficient.  This representation uses an\n  * arbitrary length array of png_uint_16 digits (0..65535).  The representation\n@@ -443,7 +449,7 @@\n\n make_random_bytes(png_uint_32* seed, void* pv, size_t size)\n {\n    png_uint_32 u0 = seed[0], u1 = seed[1];\n-   png_bytep bytes = png_voidcast(png_bytep, pv);\n+   png_bytep bytes = voidcast(png_bytep, pv);\n \n    /* There are thirty-three bits; the next bit in the sequence is bit-33 XOR\n     * bit-20.  The top 1 bit is in u1, the bottom 32 are in u0.\n@@ -581,7 +587,7 @@\n\n    c &= ~PNG_U32(32,32,0,32);\n    t = (c & ~0x1f1f1f1f) ^ 0x40404040;\n \n-   /* Subtract 65 for each 8 bit quantity, this must not overflow\n+   /* Subtract 65 for each 8-bit quantity, this must not overflow\n     * and each byte must then be in the range 0-25.\n     */\n    c -= PNG_U32(65,65,65,65);\n@@ -664,8 +670,8 @@\n\n \n       if (length < tail->length) /* arithmetic overflow */\n          length = tail->length;\n-            \n-      next = png_voidcast(IDAT_list*, malloc(IDAT_list_size(NULL, length)));\n+\n+      next = voidcast(IDAT_list*, malloc(IDAT_list_size(NULL, length)));\n       CLEAR(*next);\n \n       /* The caller must handle this: */\n@@ -918,7 +924,7 @@\n\n \n       else if (isspace(UCHAR_MAX & *str))\n          putc('_', out);\n-   \n+\n       else\n          fprintf(out, \""\\\\%.3o\"", *str);\n }\n@@ -1942,7 +1948,7 @@\n\n       list->count = 0;\n       file->idat->idat_list_tail = list;\n    }\n-   \n+\n    /* And fill in the next IDAT information buffer. */\n    list->lengths[(list->count)++] = file->chunk->chunk_length;\n \n@@ -2135,7 +2141,7 @@\n\n           *\n           * z-rc is the zlib failure code; message is the error message with\n           * spaces replaced by '-'.  The compressed byte count indicates where\n-          * in the zlib stream the error occured.\n+          * in the zlib stream the error occurred.\n           */\n          type_name(zlib->chunk->chunk_type, stdout);\n          printf(\"" SKP %s %d %s \"", zlib_flevel(zlib), zlib->file_bits,\n@@ -2215,7 +2221,7 @@\n\n    /* These values are sticky across reset (in addition to the stuff in the\n     * first block, which is actually constant.)\n     */\n-   zlib->file_bits = 16;\n+   zlib->file_bits = 24;\n    zlib->ok_bits = 16; /* unset */\n    zlib->cksum = 0; /* set when a checksum error is detected */\n \n@@ -2298,10 +2304,12 @@\n\n                zlib->file_bits = file_bits;\n \n                /* Check against the existing value - it may not need to be\n-                * changed.\n+                * changed.  Note that a bogus file_bits is allowed through once,\n+                * to see if it works, but the window_bits value is set to 15,\n+                * the maximum.\n                 */\n                if (new_bits == 0) /* no change */\n-                  zlib->window_bits = file_bits;\n+                  zlib->window_bits = ((file_bits > 15) ? 15 : file_bits);\n \n                else if (new_bits != file_bits) /* rewrite required */\n                   bIn = (png_byte)((bIn & 0xf) + ((new_bits-8) << 4));\n@@ -2322,8 +2330,7 @@\n\n                if (bIn != b2)\n                {\n                   /* If the first byte wasn't changed this indicates an error in\n-                   * the checksum calculation; signal this by setting file_bits\n-                   * (not window_bits) to 0.\n+                   * the checksum calculation; signal this by setting 'cksum'.\n                    */\n                   if (zlib->file_bits == zlib->window_bits)\n                      zlib->cksum = 1;\n@@ -2582,7 +2589,7 @@\n\n    {\n       struct chunk *chunk = zlib->chunk;\n       int rc;\n-      \n+\n       assert(zlib->rewrite_offset < chunk->chunk_length);\n \n       rc = zlib_advance(zlib, chunk->chunk_length - zlib->rewrite_offset);\n@@ -3532,7 +3539,7 @@\n\n    /* This just returns the (file*).  The chunk and idat control structures\n     * don't always exist.\n     */\n-   struct control *control = png_voidcast(struct control*,\n+   struct control *control = voidcast(struct control*,\n       png_get_error_ptr(png_ptr));\n    return &control->file;\n }\n@@ -3540,7 +3547,7 @@\n\n static void\n allocate(struct file *file, int allocate_idat)\n {\n-   struct control *control = png_voidcast(struct control*, file->alloc_ptr);\n+   struct control *control = voidcast(struct control*, file->alloc_ptr);\n \n    if (allocate_idat)\n    {\n@@ -3574,7 +3581,6 @@\n\n {\n    png_structp png_ptr;\n    png_infop info_ptr = NULL;\n-   volatile png_bytep row = NULL, display = NULL;\n    volatile int rc;\n \n    png_ptr = png_create_read_struct(PNG_LIBPNG_VER_STRING, control,\n@@ -3591,6 +3597,16 @@\n\n    rc = setjmp(control->file.jmpbuf);\n    if (rc == 0)\n    {\n+#     ifdef PNG_SET_USER_LIMITS_SUPPORTED\n+         /* Remove any limits on the size of PNG files that can be read,\n+          * without this we may reject files based on built-in safety\n+          * limits.\n+          */\n+         png_set_user_limits(png_ptr, 0x7fffffff, 0x7fffffff);\n+         png_set_chunk_cache_max(png_ptr, 0);\n+         png_set_chunk_malloc_max(png_ptr, 0);\n+#     endif\n+\n       png_set_read_fn(png_ptr, control, read_callback);\n \n       info_ptr = png_create_info_struct(png_ptr);\n@@ -3603,32 +3619,22 @@\n\n       png_read_info(png_ptr, info_ptr);\n \n       {\n-         png_size_t rowbytes = png_get_rowbytes(png_ptr, info_ptr);\n+        png_uint_32 height = png_get_image_height(png_ptr, info_ptr);\n+        int passes = png_set_interlace_handling(png_ptr);\n+        int pass;\n \n-         row = png_voidcast(png_byte*, malloc(rowbytes));\n-         display = png_voidcast(png_byte*, malloc(rowbytes));\n+        png_start_read_image(png_ptr);\n \n-         if (row == NULL || display == NULL)\n-            png_error(png_ptr, \""OOM allocating row buffers\"");\n+        for (pass = 0; pass < passes; ++pass)\n+        {\n+           png_uint_32 y = height;\n \n-         {\n-            png_uint_32 height = png_get_image_height(png_ptr, info_ptr);\n-            int passes = png_set_interlace_handling(png_ptr);\n-            int pass;\n-\n-            png_start_read_image(png_ptr);\n-\n-            for (pass = 0; pass < passes; ++pass)\n-            {\n-               png_uint_32 y = height;\n-\n-               /* NOTE: this trashes the row each time; interlace handling won't\n-                * work, but this avoids memory thrashing for speed testing.\n-                */\n-               while (y-- > 0)\n-                  png_read_row(png_ptr, row, display);\n-            }\n-         }\n+           /* NOTE: this skips asking libpng to return either version of\n+            * the image row, but libpng still reads the rows.\n+            */\n+           while (y-- > 0)\n+              png_read_row(png_ptr, NULL, NULL);\n+        }\n       }\n \n       if (control->file.global->verbose)\n@@ -3639,8 +3645,6 @@\n\n    }\n \n    png_destroy_read_struct(&png_ptr, &info_ptr, NULL);\n-   if (row != NULL) free(row);\n-   if (display != NULL) free(display);\n    return rc;\n }\n \n@@ -3702,21 +3706,21 @@\n\n \""        gAMA, sRGB [all]: These specify the gamma encoding used for the pixel\"",\n \""            values.\"",\n \""        cHRM, iCCP [color]: These specify how colors are encoded.  iCCP also\"",\n-\""            specifies the exact encoding of a pixel value however in practice\"",\n-\""            most programs will ignore it.\"",\n+\""            specifies the exact encoding of a pixel value; however, in\"",\n+\""            practice most programs will ignore it.\"",\n \""        bKGD [transform]: This is used by libpng transforms.\""\n \""    --max=<number>:\"",\n \""      Use IDAT chunks sized <number>.  If no number is given the the IDAT\"",\n \""      chunks will be the maximum size permitted; 2^31-1 bytes.  If the option\"",\n \""      is omitted the original chunk sizes will not be changed.  When the\"",\n-\""      option is given --strip=unsafe is set automatically, this may be\"",\n+\""      option is given --strip=unsafe is set automatically. This may be\"",\n \""      cancelled if you know that all unknown unsafe-to-copy chunks really are\"",\n \""      safe to copy across an IDAT size change.  This is true of all chunks\"",\n \""      that have ever been formally proposed as PNG extensions.\"",\n \""  MESSAGES\"",\n \""      By default the program only outputs summaries for each file.\"",\n \""    --quiet (-q):\"",\n-\""      Do not output the summaries except for files which cannot be read. With\"",\n+\""      Do not output the summaries except for files that cannot be read. With\"",\n \""      two --quiets these are not output either.\"",\n \""    --errors (-e):\"",\n \""      Output errors from libpng and the program (except too-far-back).\"",\n@@ -3749,7 +3753,7 @@\n\n \""  the following codes.  Notice that the results for each file are combined\"",\n \""  together - check one file at a time to get a meaningful error code!\"",\n \""    0x01: The zlib too-far-back error existed in at least one chunk.\"",\n-\""    0x02: At least once chunk had a CRC error.\"",\n+\""    0x02: At least one chunk had a CRC error.\"",\n \""    0x04: A chunk length was incorrect.\"",\n \""    0x08: The file was truncated.\"",\n \""  Errors less than 16 are potentially recoverable, for a single file if the\"",\n@@ -3757,7 +3761,7 @@\n\n \""  non-zero code is returned).\"",\n \""    0x10: The file could not be read, even with corrections.\"",\n \""    0x20: The output file could not be written.\"",\n-\""    0x40: An unexpected, potentially internal, error occured.\"",\n+\""    0x40: An unexpected, potentially internal, error occurred.\"",\n \""  If the command line arguments are incorrect the program exits with exit\"",\n \""  255.  Some older operating systems only support 7-bit exit codes, on those\"",\n \""  systems it is suggested that this program is first tested by supplying\"",\n@@ -3817,7 +3821,7 @@\n\n \""          SKP: The chunk was skipped because of a zlib issue (zlib-rc) with\"",\n \""               explanation 'message'\"",\n \""          ERR: The read of the file was aborted.  The parameters explain why.\"",\n-\""$3 status:     For 'ERR' the accumulate status code from 'EXIT CODES' above.\"",\n+\""$3 status:     For 'ERR' the accumulated status code from 'EXIT CODES' above.\"",\n \""               This is printed as a 2 digit hexadecimal value\"",\n \""   comp-level: The recorded compression level (FLEVEL) of a zlib stream\"",\n \""               expressed as a string {supfast,stdfast,default,maximum}\"",\n@@ -3853,6 +3857,7 @@\n\n int\n main(int argc, const char **argv)\n {\n+   char temp_name[FILENAME_MAX+1];\n    const char *  prog = *argv;\n    const char *  outfile = NULL;\n    const char *  suffix = NULL;\n@@ -3955,7 +3960,6 @@\n\n       else\n       {\n          size_t outlen = strlen(*argv);\n-         char temp_name[FILENAME_MAX+1];\n \n          if (outfile == NULL) /* else this takes precedence */\n          {\n@@ -4014,23 +4018,32 @@\n\n    return global_end(&global);\n }\n \n-#else /* PNG_ZLIB_VERNUM < 0x1240 */\n+#else /* ZLIB_VERNUM < 0x1240 */\n int\n main(void)\n {\n    fprintf(stderr,\n       \""pngfix needs libpng with a zlib >=1.2.4 (not 0x%x)\\n\"",\n-      PNG_ZLIB_VERNUM);\n+      ZLIB_VERNUM);\n    return 77;\n }\n-#endif /* PNG_ZLIB_VERNUM */\n+#endif /* ZLIB_VERNUM */\n \n #else /* No read support */\n \n int\n main(void)\n {\n-   fprintf(stderr, \""pngfix does not work without read support\\n\"");\n+   fprintf(stderr, \""pngfix does not work without read deinterlace support\\n\"");\n    return 77;\n }\n #endif /* PNG_READ_SUPPORTED && PNG_EASY_ACCESS_SUPPORTED */\n+#else /* No setjmp support */\n+int\n+main(void)\n+{\n+   fprintf(stderr, \""pngfix does not work without setjmp support\\n\"");\n+   return 77;\n+}\n+#endif /* PNG_SETJMP_SUPPORTED */\n+\n""}<_**next**_>{""filename"": ""depcomp"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca%5E/depcomp"", ""patch"": ""@@ -1,791 +0,0 @@\n\n-#! /bin/sh\n-# depcomp - compile a program generating dependencies as side-effects\n-\n-scriptversion=2013-05-30.07; # UTC\n-\n-# Copyright (C) 1999-2013 Free Software Foundation, Inc.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-\n-# As a special exception to the GNU General Public License, if you\n-# distribute this file as part of a program that contains a\n-# configuration script generated by Autoconf, you may include it under\n-# the same distribution terms that you use for the rest of that program.\n-\n-# Originally written by Alexandre Oliva <oliva@dcc.unicamp.br>.\n-\n-case $1 in\n-  '')\n-    echo \""$0: No command.  Try '$0 --help' for more information.\"" 1>&2\n-    exit 1;\n-    ;;\n-  -h | --h*)\n-    cat <<\\EOF\n-Usage: depcomp [--help] [--version] PROGRAM [ARGS]\n-\n-Run PROGRAMS ARGS to compile a file, generating dependencies\n-as side-effects.\n-\n-Environment variables:\n-  depmode     Dependency tracking mode.\n-  source      Source file read by 'PROGRAMS ARGS'.\n-  object      Object file output by 'PROGRAMS ARGS'.\n-  DEPDIR      directory where to store dependencies.\n-  depfile     Dependency file to output.\n-  tmpdepfile  Temporary file to use when outputting dependencies.\n-  libtool     Whether libtool is used (yes/no).\n-\n-Report bugs to <bug-automake@gnu.org>.\n-EOF\n-    exit $?\n-    ;;\n-  -v | --v*)\n-    echo \""depcomp $scriptversion\""\n-    exit $?\n-    ;;\n-esac\n-\n-# Get the directory component of the given path, and save it in the\n-# global variables '$dir'.  Note that this directory component will\n-# be either empty or ending with a '/' character.  This is deliberate.\n-set_dir_from ()\n-{\n-  case $1 in\n-    */*) dir=`echo \""$1\"" | sed -e 's|/[^/]*$|/|'`;;\n-      *) dir=;;\n-  esac\n-}\n-\n-# Get the suffix-stripped basename of the given path, and save it the\n-# global variable '$base'.\n-set_base_from ()\n-{\n-  base=`echo \""$1\"" | sed -e 's|^.*/||' -e 's/\\.[^.]*$//'`\n-}\n-\n-# If no dependency file was actually created by the compiler invocation,\n-# we still have to create a dummy depfile, to avoid errors with the\n-# Makefile \""include basename.Plo\"" scheme.\n-make_dummy_depfile ()\n-{\n-  echo \""#dummy\"" > \""$depfile\""\n-}\n-\n-# Factor out some common post-processing of the generated depfile.\n-# Requires the auxiliary global variable '$tmpdepfile' to be set.\n-aix_post_process_depfile ()\n-{\n-  # If the compiler actually managed to produce a dependency file,\n-  # post-process it.\n-  if test -f \""$tmpdepfile\""; then\n-    # Each line is of the form 'foo.o: dependency.h'.\n-    # Do two passes, one to just change these to\n-    #   $object: dependency.h\n-    # and one to simply output\n-    #   dependency.h:\n-    # which is needed to avoid the deleted-header problem.\n-    { sed -e \""s,^.*\\.[$lower]*:,$object:,\"" < \""$tmpdepfile\""\n-      sed -e \""s,^.*\\.[$lower]*:[$tab ]*,,\"" -e 's,$,:,' < \""$tmpdepfile\""\n-    } > \""$depfile\""\n-    rm -f \""$tmpdepfile\""\n-  else\n-    make_dummy_depfile\n-  fi\n-}\n-\n-# A tabulation character.\n-tab='\t'\n-# A newline character.\n-nl='\n-'\n-# Character ranges might be problematic outside the C locale.\n-# These definitions help.\n-upper=ABCDEFGHIJKLMNOPQRSTUVWXYZ\n-lower=abcdefghijklmnopqrstuvwxyz\n-digits=0123456789\n-alpha=${upper}${lower}\n-\n-if test -z \""$depmode\"" || test -z \""$source\"" || test -z \""$object\""; then\n-  echo \""depcomp: Variables source, object and depmode must be set\"" 1>&2\n-  exit 1\n-fi\n-\n-# Dependencies for sub/bar.o or sub/bar.obj go into sub/.deps/bar.Po.\n-depfile=${depfile-`echo \""$object\"" |\n-  sed 's|[^\\\\/]*$|'${DEPDIR-.deps}'/&|;s|\\.\\([^.]*\\)$|.P\\1|;s|Pobj$|Po|'`}\n-tmpdepfile=${tmpdepfile-`echo \""$depfile\"" | sed 's/\\.\\([^.]*\\)$/.T\\1/'`}\n-\n-rm -f \""$tmpdepfile\""\n-\n-# Avoid interferences from the environment.\n-gccflag= dashmflag=\n-\n-# Some modes work just like other modes, but use different flags.  We\n-# parameterize here, but still list the modes in the big case below,\n-# to make depend.m4 easier to write.  Note that we *cannot* use a case\n-# here, because this file can only contain one case statement.\n-if test \""$depmode\"" = hp; then\n-  # HP compiler uses -M and no extra arg.\n-  gccflag=-M\n-  depmode=gcc\n-fi\n-\n-if test \""$depmode\"" = dashXmstdout; then\n-  # This is just like dashmstdout with a different argument.\n-  dashmflag=-xM\n-  depmode=dashmstdout\n-fi\n-\n-cygpath_u=\""cygpath -u -f -\""\n-if test \""$depmode\"" = msvcmsys; then\n-  # This is just like msvisualcpp but w/o cygpath translation.\n-  # Just convert the backslash-escaped backslashes to single forward\n-  # slashes to satisfy depend.m4\n-  cygpath_u='sed s,\\\\\\\\,/,g'\n-  depmode=msvisualcpp\n-fi\n-\n-if test \""$depmode\"" = msvc7msys; then\n-  # This is just like msvc7 but w/o cygpath translation.\n-  # Just convert the backslash-escaped backslashes to single forward\n-  # slashes to satisfy depend.m4\n-  cygpath_u='sed s,\\\\\\\\,/,g'\n-  depmode=msvc7\n-fi\n-\n-if test \""$depmode\"" = xlc; then\n-  # IBM C/C++ Compilers xlc/xlC can output gcc-like dependency information.\n-  gccflag=-qmakedep=gcc,-MF\n-  depmode=gcc\n-fi\n-\n-case \""$depmode\"" in\n-gcc3)\n-## gcc 3 implements dependency tracking that does exactly what\n-## we want.  Yay!  Note: for some reason libtool 1.4 doesn't like\n-## it if -MD -MP comes after the -MF stuff.  Hmm.\n-## Unfortunately, FreeBSD c89 acceptance of flags depends upon\n-## the command line argument order; so add the flags where they\n-## appear in depend2.am.  Note that the slowdown incurred here\n-## affects only configure: in makefiles, %FASTDEP% shortcuts this.\n-  for arg\n-  do\n-    case $arg in\n-    -c) set fnord \""$@\"" -MT \""$object\"" -MD -MP -MF \""$tmpdepfile\"" \""$arg\"" ;;\n-    *)  set fnord \""$@\"" \""$arg\"" ;;\n-    esac\n-    shift # fnord\n-    shift # $arg\n-  done\n-  \""$@\""\n-  stat=$?\n-  if test $stat -ne 0; then\n-    rm -f \""$tmpdepfile\""\n-    exit $stat\n-  fi\n-  mv \""$tmpdepfile\"" \""$depfile\""\n-  ;;\n-\n-gcc)\n-## Note that this doesn't just cater to obsosete pre-3.x GCC compilers.\n-## but also to in-use compilers like IMB xlc/xlC and the HP C compiler.\n-## (see the conditional assignment to $gccflag above).\n-## There are various ways to get dependency output from gcc.  Here's\n-## why we pick this rather obscure method:\n-## - Don't want to use -MD because we'd like the dependencies to end\n-##   up in a subdir.  Having to rename by hand is ugly.\n-##   (We might end up doing this anyway to support other compilers.)\n-## - The DEPENDENCIES_OUTPUT environment variable makes gcc act like\n-##   -MM, not -M (despite what the docs say).  Also, it might not be\n-##   supported by the other compilers which use the 'gcc' depmode.\n-## - Using -M directly means running the compiler twice (even worse\n-##   than renaming).\n-  if test -z \""$gccflag\""; then\n-    gccflag=-MD,\n-  fi\n-  \""$@\"" -Wp,\""$gccflag$tmpdepfile\""\n-  stat=$?\n-  if test $stat -ne 0; then\n-    rm -f \""$tmpdepfile\""\n-    exit $stat\n-  fi\n-  rm -f \""$depfile\""\n-  echo \""$object : \\\\\"" > \""$depfile\""\n-  # The second -e expression handles DOS-style file names with drive\n-  # letters.\n-  sed -e 's/^[^:]*: / /' \\\n-      -e 's/^['$alpha']:\\/[^:]*: / /' < \""$tmpdepfile\"" >> \""$depfile\""\n-## This next piece of magic avoids the \""deleted header file\"" problem.\n-## The problem is that when a header file which appears in a .P file\n-## is deleted, the dependency causes make to die (because there is\n-## typically no way to rebuild the header).  We avoid this by adding\n-## dummy dependencies for each header file.  Too bad gcc doesn't do\n-## this for us directly.\n-## Some versions of gcc put a space before the ':'.  On the theory\n-## that the space means something, we add a space to the output as\n-## well.  hp depmode also adds that space, but also prefixes the VPATH\n-## to the object.  Take care to not repeat it in the output.\n-## Some versions of the HPUX 10.20 sed can't process this invocation\n-## correctly.  Breaking it into two sed invocations is a workaround.\n-  tr ' ' \""$nl\"" < \""$tmpdepfile\"" \\\n-    | sed -e 's/^\\\\$//' -e '/^$/d' -e \""s|.*$object$||\"" -e '/:$/d' \\\n-    | sed -e 's/$/ :/' >> \""$depfile\""\n-  rm -f \""$tmpdepfile\""\n-  ;;\n-\n-hp)\n-  # This case exists only to let depend.m4 do its work.  It works by\n-  # looking at the text of this script.  This case will never be run,\n-  # since it is checked for above.\n-  exit 1\n-  ;;\n-\n-sgi)\n-  if test \""$libtool\"" = yes; then\n-    \""$@\"" \""-Wp,-MDupdate,$tmpdepfile\""\n-  else\n-    \""$@\"" -MDupdate \""$tmpdepfile\""\n-  fi\n-  stat=$?\n-  if test $stat -ne 0; then\n-    rm -f \""$tmpdepfile\""\n-    exit $stat\n-  fi\n-  rm -f \""$depfile\""\n-\n-  if test -f \""$tmpdepfile\""; then  # yes, the sourcefile depend on other files\n-    echo \""$object : \\\\\"" > \""$depfile\""\n-    # Clip off the initial element (the dependent).  Don't try to be\n-    # clever and replace this with sed code, as IRIX sed won't handle\n-    # lines with more than a fixed number of characters (4096 in\n-    # IRIX 6.2 sed, 8192 in IRIX 6.5).  We also remove comment lines;\n-    # the IRIX cc adds comments like '#:fec' to the end of the\n-    # dependency line.\n-    tr ' ' \""$nl\"" < \""$tmpdepfile\"" \\\n-      | sed -e 's/^.*\\.o://' -e 's/#.*$//' -e '/^$/ d' \\\n-      | tr \""$nl\"" ' ' >> \""$depfile\""\n-    echo >> \""$depfile\""\n-    # The second pass generates a dummy entry for each header file.\n-    tr ' ' \""$nl\"" < \""$tmpdepfile\"" \\\n-      | sed -e 's/^.*\\.o://' -e 's/#.*$//' -e '/^$/ d' -e 's/$/:/' \\\n-      >> \""$depfile\""\n-  else\n-    make_dummy_depfile\n-  fi\n-  rm -f \""$tmpdepfile\""\n-  ;;\n-\n-xlc)\n-  # This case exists only to let depend.m4 do its work.  It works by\n-  # looking at the text of this script.  This case will never be run,\n-  # since it is checked for above.\n-  exit 1\n-  ;;\n-\n-aix)\n-  # The C for AIX Compiler uses -M and outputs the dependencies\n-  # in a .u file.  In older versions, this file always lives in the\n-  # current directory.  Also, the AIX compiler puts '$object:' at the\n-  # start of each line; $object doesn't have directory information.\n-  # Version 6 uses the directory in both cases.\n-  set_dir_from \""$object\""\n-  set_base_from \""$object\""\n-  if test \""$libtool\"" = yes; then\n-    tmpdepfile1=$dir$base.u\n-    tmpdepfile2=$base.u\n-    tmpdepfile3=$dir.libs/$base.u\n-    \""$@\"" -Wc,-M\n-  else\n-    tmpdepfile1=$dir$base.u\n-    tmpdepfile2=$dir$base.u\n-    tmpdepfile3=$dir$base.u\n-    \""$@\"" -M\n-  fi\n-  stat=$?\n-  if test $stat -ne 0; then\n-    rm -f \""$tmpdepfile1\"" \""$tmpdepfile2\"" \""$tmpdepfile3\""\n-    exit $stat\n-  fi\n-\n-  for tmpdepfile in \""$tmpdepfile1\"" \""$tmpdepfile2\"" \""$tmpdepfile3\""\n-  do\n-    test -f \""$tmpdepfile\"" && break\n-  done\n-  aix_post_process_depfile\n-  ;;\n-\n-tcc)\n-  # tcc (Tiny C Compiler) understand '-MD -MF file' since version 0.9.26\n-  # FIXME: That version still under development at the moment of writing.\n-  #        Make that this statement remains true also for stable, released\n-  #        versions.\n-  # It will wrap lines (doesn't matter whether long or short) with a\n-  # trailing '\\', as in:\n-  #\n-  #   foo.o : \\\n-  #    foo.c \\\n-  #    foo.h \\\n-  #\n-  # It will put a trailing '\\' even on the last line, and will use leading\n-  # spaces rather than leading tabs (at least since its commit 0394caf7\n-  # \""Emit spaces for -MD\"").\n-  \""$@\"" -MD -MF \""$tmpdepfile\""\n-  stat=$?\n-  if test $stat -ne 0; then\n-    rm -f \""$tmpdepfile\""\n-    exit $stat\n-  fi\n-  rm -f \""$depfile\""\n-  # Each non-empty line is of the form 'foo.o : \\' or ' dep.h \\'.\n-  # We have to change lines of the first kind to '$object: \\'.\n-  sed -e \""s|.*:|$object :|\"" < \""$tmpdepfile\"" > \""$depfile\""\n-  # And for each line of the second kind, we have to emit a 'dep.h:'\n-  # dummy dependency, to avoid the deleted-header problem.\n-  sed -n -e 's|^  *\\(.*\\) *\\\\$|\\1:|p' < \""$tmpdepfile\"" >> \""$depfile\""\n-  rm -f \""$tmpdepfile\""\n-  ;;\n-\n-## The order of this option in the case statement is important, since the\n-## shell code in configure will try each of these formats in the order\n-## listed in this file.  A plain '-MD' option would be understood by many\n-## compilers, so we must ensure this comes after the gcc and icc options.\n-pgcc)\n-  # Portland's C compiler understands '-MD'.\n-  # Will always output deps to 'file.d' where file is the root name of the\n-  # source file under compilation, even if file resides in a subdirectory.\n-  # The object file name does not affect the name of the '.d' file.\n-  # pgcc 10.2 will output\n-  #    foo.o: sub/foo.c sub/foo.h\n-  # and will wrap long lines using '\\' :\n-  #    foo.o: sub/foo.c ... \\\n-  #     sub/foo.h ... \\\n-  #     ...\n-  set_dir_from \""$object\""\n-  # Use the source, not the object, to determine the base name, since\n-  # that's sadly what pgcc will do too.\n-  set_base_from \""$source\""\n-  tmpdepfile=$base.d\n-\n-  # For projects that build the same source file twice into different object\n-  # files, the pgcc approach of using the *source* file root name can cause\n-  # problems in parallel builds.  Use a locking strategy to avoid stomping on\n-  # the same $tmpdepfile.\n-  lockdir=$base.d-lock\n-  trap \""\n-    echo '$0: caught signal, cleaning up...' >&2\n-    rmdir '$lockdir'\n-    exit 1\n-  \"" 1 2 13 15\n-  numtries=100\n-  i=$numtries\n-  while test $i -gt 0; do\n-    # mkdir is a portable test-and-set.\n-    if mkdir \""$lockdir\"" 2>/dev/null; then\n-      # This process acquired the lock.\n-      \""$@\"" -MD\n-      stat=$?\n-      # Release the lock.\n-      rmdir \""$lockdir\""\n-      break\n-    else\n-      # If the lock is being held by a different process, wait\n-      # until the winning process is done or we timeout.\n-      while test -d \""$lockdir\"" && test $i -gt 0; do\n-        sleep 1\n-        i=`expr $i - 1`\n-      done\n-    fi\n-    i=`expr $i - 1`\n-  done\n-  trap - 1 2 13 15\n-  if test $i -le 0; then\n-    echo \""$0: failed to acquire lock after $numtries attempts\"" >&2\n-    echo \""$0: check lockdir '$lockdir'\"" >&2\n-    exit 1\n-  fi\n-\n-  if test $stat -ne 0; then\n-    rm -f \""$tmpdepfile\""\n-    exit $stat\n-  fi\n-  rm -f \""$depfile\""\n-  # Each line is of the form `foo.o: dependent.h',\n-  # or `foo.o: dep1.h dep2.h \\', or ` dep3.h dep4.h \\'.\n-  # Do two passes, one to just change these to\n-  # `$object: dependent.h' and one to simply `dependent.h:'.\n-  sed \""s,^[^:]*:,$object :,\"" < \""$tmpdepfile\"" > \""$depfile\""\n-  # Some versions of the HPUX 10.20 sed can't process this invocation\n-  # correctly.  Breaking it into two sed invocations is a workaround.\n-  sed 's,^[^:]*: \\(.*\\)$,\\1,;s/^\\\\$//;/^$/d;/:$/d' < \""$tmpdepfile\"" \\\n-    | sed -e 's/$/ :/' >> \""$depfile\""\n-  rm -f \""$tmpdepfile\""\n-  ;;\n-\n-hp2)\n-  # The \""hp\"" stanza above does not work with aCC (C++) and HP's ia64\n-  # compilers, which have integrated preprocessors.  The correct option\n-  # to use with these is +Maked; it writes dependencies to a file named\n-  # 'foo.d', which lands next to the object file, wherever that\n-  # happens to be.\n-  # Much of this is similar to the tru64 case; see comments there.\n-  set_dir_from  \""$object\""\n-  set_base_from \""$object\""\n-  if test \""$libtool\"" = yes; then\n-    tmpdepfile1=$dir$base.d\n-    tmpdepfile2=$dir.libs/$base.d\n-    \""$@\"" -Wc,+Maked\n-  else\n-    tmpdepfile1=$dir$base.d\n-    tmpdepfile2=$dir$base.d\n-    \""$@\"" +Maked\n-  fi\n-  stat=$?\n-  if test $stat -ne 0; then\n-     rm -f \""$tmpdepfile1\"" \""$tmpdepfile2\""\n-     exit $stat\n-  fi\n-\n-  for tmpdepfile in \""$tmpdepfile1\"" \""$tmpdepfile2\""\n-  do\n-    test -f \""$tmpdepfile\"" && break\n-  done\n-  if test -f \""$tmpdepfile\""; then\n-    sed -e \""s,^.*\\.[$lower]*:,$object:,\"" \""$tmpdepfile\"" > \""$depfile\""\n-    # Add 'dependent.h:' lines.\n-    sed -ne '2,${\n-               s/^ *//\n-               s/ \\\\*$//\n-               s/$/:/\n-               p\n-             }' \""$tmpdepfile\"" >> \""$depfile\""\n-  else\n-    make_dummy_depfile\n-  fi\n-  rm -f \""$tmpdepfile\"" \""$tmpdepfile2\""\n-  ;;\n-\n-tru64)\n-  # The Tru64 compiler uses -MD to generate dependencies as a side\n-  # effect.  'cc -MD -o foo.o ...' puts the dependencies into 'foo.o.d'.\n-  # At least on Alpha/Redhat 6.1, Compaq CCC V6.2-504 seems to put\n-  # dependencies in 'foo.d' instead, so we check for that too.\n-  # Subdirectories are respected.\n-  set_dir_from  \""$object\""\n-  set_base_from \""$object\""\n-\n-  if test \""$libtool\"" = yes; then\n-    # Libtool generates 2 separate objects for the 2 libraries.  These\n-    # two compilations output dependencies in $dir.libs/$base.o.d and\n-    # in $dir$base.o.d.  We have to check for both files, because\n-    # one of the two compilations can be disabled.  We should prefer\n-    # $dir$base.o.d over $dir.libs/$base.o.d because the latter is\n-    # automatically cleaned when .libs/ is deleted, while ignoring\n-    # the former would cause a distcleancheck panic.\n-    tmpdepfile1=$dir$base.o.d          # libtool 1.5\n-    tmpdepfile2=$dir.libs/$base.o.d    # Likewise.\n-    tmpdepfile3=$dir.libs/$base.d      # Compaq CCC V6.2-504\n-    \""$@\"" -Wc,-MD\n-  else\n-    tmpdepfile1=$dir$base.d\n-    tmpdepfile2=$dir$base.d\n-    tmpdepfile3=$dir$base.d\n-    \""$@\"" -MD\n-  fi\n-\n-  stat=$?\n-  if test $stat -ne 0; then\n-    rm -f \""$tmpdepfile1\"" \""$tmpdepfile2\"" \""$tmpdepfile3\""\n-    exit $stat\n-  fi\n-\n-  for tmpdepfile in \""$tmpdepfile1\"" \""$tmpdepfile2\"" \""$tmpdepfile3\""\n-  do\n-    test -f \""$tmpdepfile\"" && break\n-  done\n-  # Same post-processing that is required for AIX mode.\n-  aix_post_process_depfile\n-  ;;\n-\n-msvc7)\n-  if test \""$libtool\"" = yes; then\n-    showIncludes=-Wc,-showIncludes\n-  else\n-    showIncludes=-showIncludes\n-  fi\n-  \""$@\"" $showIncludes > \""$tmpdepfile\""\n-  stat=$?\n-  grep -v '^Note: including file: ' \""$tmpdepfile\""\n-  if test $stat -ne 0; then\n-    rm -f \""$tmpdepfile\""\n-    exit $stat\n-  fi\n-  rm -f \""$depfile\""\n-  echo \""$object : \\\\\"" > \""$depfile\""\n-  # The first sed program below extracts the file names and escapes\n-  # backslashes for cygpath.  The second sed program outputs the file\n-  # name when reading, but also accumulates all include files in the\n-  # hold buffer in order to output them again at the end.  This only\n-  # works with sed implementations that can handle large buffers.\n-  sed < \""$tmpdepfile\"" -n '\n-/^Note: including file:  *\\(.*\\)/ {\n-  s//\\1/\n-  s/\\\\/\\\\\\\\/g\n-  p\n-}' | $cygpath_u | sort -u | sed -n '\n-s/ /\\\\ /g\n-s/\\(.*\\)/'\""$tab\""'\\1 \\\\/p\n-s/.\\(.*\\) \\\\/\\1:/\n-H\n-$ {\n-  s/.*/'\""$tab\""'/\n-  G\n-  p\n-}' >> \""$depfile\""\n-  echo >> \""$depfile\"" # make sure the fragment doesn't end with a backslash\n-  rm -f \""$tmpdepfile\""\n-  ;;\n-\n-msvc7msys)\n-  # This case exists only to let depend.m4 do its work.  It works by\n-  # looking at the text of this script.  This case will never be run,\n-  # since it is checked for above.\n-  exit 1\n-  ;;\n-\n-#nosideeffect)\n-  # This comment above is used by automake to tell side-effect\n-  # dependency tracking mechanisms from slower ones.\n-\n-dashmstdout)\n-  # Important note: in order to support this mode, a compiler *must*\n-  # always write the preprocessed file to stdout, regardless of -o.\n-  \""$@\"" || exit $?\n-\n-  # Remove the call to Libtool.\n-  if test \""$libtool\"" = yes; then\n-    while test \""X$1\"" != 'X--mode=compile'; do\n-      shift\n-    done\n-    shift\n-  fi\n-\n-  # Remove '-o $object'.\n-  IFS=\"" \""\n-  for arg\n-  do\n-    case $arg in\n-    -o)\n-      shift\n-      ;;\n-    $object)\n-      shift\n-      ;;\n-    *)\n-      set fnord \""$@\"" \""$arg\""\n-      shift # fnord\n-      shift # $arg\n-      ;;\n-    esac\n-  done\n-\n-  test -z \""$dashmflag\"" && dashmflag=-M\n-  # Require at least two characters before searching for ':'\n-  # in the target name.  This is to cope with DOS-style filenames:\n-  # a dependency such as 'c:/foo/bar' could be seen as target 'c' otherwise.\n-  \""$@\"" $dashmflag |\n-    sed \""s|^[$tab ]*[^:$tab ][^:][^:]*:[$tab ]*|$object: |\"" > \""$tmpdepfile\""\n-  rm -f \""$depfile\""\n-  cat < \""$tmpdepfile\"" > \""$depfile\""\n-  # Some versions of the HPUX 10.20 sed can't process this sed invocation\n-  # correctly.  Breaking it into two sed invocations is a workaround.\n-  tr ' ' \""$nl\"" < \""$tmpdepfile\"" \\\n-    | sed -e 's/^\\\\$//' -e '/^$/d' -e '/:$/d' \\\n-    | sed -e 's/$/ :/' >> \""$depfile\""\n-  rm -f \""$tmpdepfile\""\n-  ;;\n-\n-dashXmstdout)\n-  # This case only exists to satisfy depend.m4.  It is never actually\n-  # run, as this mode is specially recognized in the preamble.\n-  exit 1\n-  ;;\n-\n-makedepend)\n-  \""$@\"" || exit $?\n-  # Remove any Libtool call\n-  if test \""$libtool\"" = yes; then\n-    while test \""X$1\"" != 'X--mode=compile'; do\n-      shift\n-    done\n-    shift\n-  fi\n-  # X makedepend\n-  shift\n-  cleared=no eat=no\n-  for arg\n-  do\n-    case $cleared in\n-    no)\n-      set \""\""; shift\n-      cleared=yes ;;\n-    esac\n-    if test $eat = yes; then\n-      eat=no\n-      continue\n-    fi\n-    case \""$arg\"" in\n-    -D*|-I*)\n-      set fnord \""$@\"" \""$arg\""; shift ;;\n-    # Strip any option that makedepend may not understand.  Remove\n-    # the object too, otherwise makedepend will parse it as a source file.\n-    -arch)\n-      eat=yes ;;\n-    -*|$object)\n-      ;;\n-    *)\n-      set fnord \""$@\"" \""$arg\""; shift ;;\n-    esac\n-  done\n-  obj_suffix=`echo \""$object\"" | sed 's/^.*\\././'`\n-  touch \""$tmpdepfile\""\n-  ${MAKEDEPEND-makedepend} -o\""$obj_suffix\"" -f\""$tmpdepfile\"" \""$@\""\n-  rm -f \""$depfile\""\n-  # makedepend may prepend the VPATH from the source file name to the object.\n-  # No need to regex-escape $object, excess matching of '.' is harmless.\n-  sed \""s|^.*\\($object *:\\)|\\1|\"" \""$tmpdepfile\"" > \""$depfile\""\n-  # Some versions of the HPUX 10.20 sed can't process the last invocation\n-  # correctly.  Breaking it into two sed invocations is a workaround.\n-  sed '1,2d' \""$tmpdepfile\"" \\\n-    | tr ' ' \""$nl\"" \\\n-    | sed -e 's/^\\\\$//' -e '/^$/d' -e '/:$/d' \\\n-    | sed -e 's/$/ :/' >> \""$depfile\""\n-  rm -f \""$tmpdepfile\"" \""$tmpdepfile\"".bak\n-  ;;\n-\n-cpp)\n-  # Important note: in order to support this mode, a compiler *must*\n-  # always write the preprocessed file to stdout.\n-  \""$@\"" || exit $?\n-\n-  # Remove the call to Libtool.\n-  if test \""$libtool\"" = yes; then\n-    while test \""X$1\"" != 'X--mode=compile'; do\n-      shift\n-    done\n-    shift\n-  fi\n-\n-  # Remove '-o $object'.\n-  IFS=\"" \""\n-  for arg\n-  do\n-    case $arg in\n-    -o)\n-      shift\n-      ;;\n-    $object)\n-      shift\n-      ;;\n-    *)\n-      set fnord \""$@\"" \""$arg\""\n-      shift # fnord\n-      shift # $arg\n-      ;;\n-    esac\n-  done\n-\n-  \""$@\"" -E \\\n-    | sed -n -e '/^# [0-9][0-9]* \""\\([^\""]*\\)\"".*/ s:: \\1 \\\\:p' \\\n-             -e '/^#line [0-9][0-9]* \""\\([^\""]*\\)\"".*/ s:: \\1 \\\\:p' \\\n-    | sed '$ s: \\\\$::' > \""$tmpdepfile\""\n-  rm -f \""$depfile\""\n-  echo \""$object : \\\\\"" > \""$depfile\""\n-  cat < \""$tmpdepfile\"" >> \""$depfile\""\n-  sed < \""$tmpdepfile\"" '/^$/d;s/^ //;s/ \\\\$//;s/$/ :/' >> \""$depfile\""\n-  rm -f \""$tmpdepfile\""\n-  ;;\n-\n-msvisualcpp)\n-  # Important note: in order to support this mode, a compiler *must*\n-  # always write the preprocessed file to stdout.\n-  \""$@\"" || exit $?\n-\n-  # Remove the call to Libtool.\n-  if test \""$libtool\"" = yes; then\n-    while test \""X$1\"" != 'X--mode=compile'; do\n-      shift\n-    done\n-    shift\n-  fi\n-\n-  IFS=\"" \""\n-  for arg\n-  do\n-    case \""$arg\"" in\n-    -o)\n-      shift\n-      ;;\n-    $object)\n-      shift\n-      ;;\n-    \""-Gm\""|\""/Gm\""|\""-Gi\""|\""/Gi\""|\""-ZI\""|\""/ZI\"")\n-        set fnord \""$@\""\n-        shift\n-        shift\n-        ;;\n-    *)\n-        set fnord \""$@\"" \""$arg\""\n-        shift\n-        shift\n-        ;;\n-    esac\n-  done\n-  \""$@\"" -E 2>/dev/null |\n-  sed -n '/^#line [0-9][0-9]* \""\\([^\""]*\\)\""/ s::\\1:p' | $cygpath_u | sort -u > \""$tmpdepfile\""\n-  rm -f \""$depfile\""\n-  echo \""$object : \\\\\"" > \""$depfile\""\n-  sed < \""$tmpdepfile\"" -n -e 's% %\\\\ %g' -e '/^\\(.*\\)$/ s::'\""$tab\""'\\1 \\\\:p' >> \""$depfile\""\n-  echo \""$tab\"" >> \""$depfile\""\n-  sed < \""$tmpdepfile\"" -n -e 's% %\\\\ %g' -e '/^\\(.*\\)$/ s::\\1\\::p' >> \""$depfile\""\n-  rm -f \""$tmpdepfile\""\n-  ;;\n-\n-msvcmsys)\n-  # This case exists only to let depend.m4 do its work.  It works by\n-  # looking at the text of this script.  This case will never be run,\n-  # since it is checked for above.\n-  exit 1\n-  ;;\n-\n-none)\n-  exec \""$@\""\n-  ;;\n-\n-*)\n-  echo \""Unknown depmode $depmode\"" 1>&2\n-  exit 1\n-  ;;\n-esac\n-\n-exit 0\n-\n-# Local Variables:\n-# mode: shell-script\n-# sh-indentation: 2\n-# eval: (add-hook 'write-file-hooks 'time-stamp)\n-# time-stamp-start: \""scriptversion=\""\n-# time-stamp-format: \""%:y-%02m-%02d.%02H\""\n-# time-stamp-time-zone: \""UTC\""\n-# time-stamp-end: \""; # UTC\""\n-# End:\n""}<_**next**_>{""filename"": ""example.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/example.c"", ""patch"": ""@@ -2,8 +2,8 @@\n\n #if 0 /* in case someone actually tries to compile this */\n \n /* example.c - an example of using libpng\n- * Last changed in libpng 1.6.3 [July 18, 2013]\n- * Maintained 1998-2013 Glenn Randers-Pehrson\n+ * Last changed in libpng 1.6.15 [November 20, 2014]\n+ * Maintained 1998-2014 Glenn Randers-Pehrson\n  * Maintained 1996, 1997 Andreas Dilger)\n  * Written 1995, 1996 Guy Eric Schalnat, Group 42, Inc.)\n  * To the extent possible under law, the authors have waived\n@@ -52,7 +52,7 @@\n\n       image.version = PNG_IMAGE_VERSION;\n \n       /* The first argument is the file to read: */\n-      if (png_image_begin_read_from_file(&image, argv[1]))\n+      if (png_image_begin_read_from_file(&image, argv[1]) != 0)\n       {\n          png_bytep buffer;\n \n@@ -97,7 +97,7 @@\n\n           */\n          if (buffer != NULL &&\n             png_image_finish_read(&image, NULL/*background*/, buffer,\n-               0/*row_stride*/, NULL/*colormap*/))\n+               0/*row_stride*/, NULL/*colormap*/) != 0)\n          {\n             /* Now write the image out to the second argument.  In the write\n              * call 'convert_to_8bit' allows 16-bit data to be squashed down to\n@@ -105,7 +105,7 @@\n\n              * to the 8-bit format.\n              */\n             if (png_image_write_to_file(&image, argv[2], 0/*convert_to_8bit*/,\n-               buffer, 0/*row_stride*/, NULL/*colormap*/))\n+               buffer, 0/*row_stride*/, NULL/*colormap*/) != 0)\n             {\n                /* The image has been written successfully. */\n                exit(0);\n@@ -188,13 +188,13 @@\n\n  *\n  * Don't repeatedly convert between the 8-bit and 16-bit forms.  There is\n  * significant data loss when 16-bit data is converted to the 8-bit encoding and\n- * the current libpng implementation of convertion to 16-bit is also\n+ * the current libpng implementation of conversion to 16-bit is also\n  * significantly lossy.  The latter will be fixed in the future, but the former\n  * is unavoidable - the 8-bit format just doesn't have enough resolution.\n  */\n \n /* If your program needs more information from the PNG data it reads, or if you\n- * need to do more complex transformations, or minimise transformations, on the\n+ * need to do more complex transformations, or minimize transformations, on the\n  * data you read, then you must use one of the several lower level libpng\n  * interfaces.\n  *\n@@ -271,7 +271,7 @@\n\n {\n    png_structp png_ptr;\n    png_infop info_ptr;\n-   unsigned int sig_read = 0;\n+   int sig_read = 0;\n    png_uint_32 width, height;\n    int bit_depth, color_type, interlace_type;\n    FILE *fp;\n@@ -280,7 +280,7 @@\n\n       return (ERROR);\n \n #else no_open_file /* prototype 2 */\n-void read_png(FILE *fp, unsigned int sig_read)  /* File is already open */\n+void read_png(FILE *fp, int sig_read)  /* File is already open */\n {\n    png_structp png_ptr;\n    png_infop info_ptr;\n@@ -370,7 +370,7 @@\n\n     * are mutually exclusive.\n     */\n \n-   /* Tell libpng to strip 16 bit/color files down to 8 bits/color.\n+   /* Tell libpng to strip 16 bits/color files down to 8 bits/color.\n     * Use accurate scaling if it's available, otherwise just chop off the\n     * low byte.\n     */\n@@ -405,7 +405,7 @@\n\n    /* Expand paletted or RGB images with transparency to full alpha channels\n     * so the data will be available as RGBA quartets.\n     */\n-   if (png_get_valid(png_ptr, info_ptr, PNG_INFO_tRNS))\n+   if (png_get_valid(png_ptr, info_ptr, PNG_INFO_tRNS) != 0)\n       png_set_tRNS_to_alpha(png_ptr);\n \n    /* Set the background color to draw transparent and alpha images over.\n@@ -417,7 +417,7 @@\n\n \n    png_color_16 my_background, *image_background;\n \n-   if (png_get_bKGD(png_ptr, info_ptr, &image_background))\n+   if (png_get_bKGD(png_ptr, info_ptr, &image_background) != 0)\n       png_set_background(png_ptr, image_background,\n                          PNG_BACKGROUND_GAMMA_FILE, 1, 1.0);\n    else\n@@ -454,22 +454,22 @@\n\n \n    int intent;\n \n-   if (png_get_sRGB(png_ptr, info_ptr, &intent))\n+   if (png_get_sRGB(png_ptr, info_ptr, &intent) != 0)\n       png_set_gamma(png_ptr, screen_gamma, PNG_DEFAULT_sRGB);\n    else\n    {\n       double image_gamma;\n-      if (png_get_gAMA(png_ptr, info_ptr, &image_gamma))\n+      if (png_get_gAMA(png_ptr, info_ptr, &image_gamma) != 0)\n          png_set_gamma(png_ptr, screen_gamma, image_gamma);\n       else\n          png_set_gamma(png_ptr, screen_gamma, 0.45455);\n    }\n \n #ifdef PNG_READ_QUANTIZE_SUPPORTED\n-   /* Quantize RGB files down to 8 bit palette or reduce palettes\n+   /* Quantize RGB files down to 8-bit palette or reduce palettes\n     * to the number of colors available on your screen.\n     */\n-   if (color_type & PNG_COLOR_MASK_COLOR)\n+   if ((color_type & PNG_COLOR_MASK_COLOR) != 0)\n    {\n       int num_palette;\n       png_colorp palette;\n@@ -484,7 +484,7 @@\n\n             MAX_SCREEN_COLORS, NULL, 0);\n       }\n       /* This reduces the image to the palette supplied in the file */\n-      else if (png_get_PLTE(png_ptr, info_ptr, &palette, &num_palette))\n+      else if (png_get_PLTE(png_ptr, info_ptr, &palette, &num_palette) != 0)\n       {\n          png_uint_16p histogram = NULL;\n \n@@ -494,7 +494,7 @@\n\n                         max_screen_colors, histogram, 0);\n       }\n    }\n-#endif /* PNG_READ_QUANTIZE_SUPPORTED */\n+#endif /* READ_QUANTIZE */\n \n    /* Invert monochrome files to have 0 as white and 1 as black */\n    png_set_invert_mono(png_ptr);\n@@ -503,7 +503,7 @@\n\n     * [0,65535] to the original [0,7] or [0,31], or whatever range the\n     * colors were originally in:\n     */\n-   if (png_get_valid(png_ptr, info_ptr, PNG_INFO_sBIT))\n+   if (png_get_valid(png_ptr, info_ptr, PNG_INFO_sBIT) != 0)\n    {\n       png_color_8p sig_bit_p;\n \n@@ -512,17 +512,17 @@\n\n    }\n \n    /* Flip the RGB pixels to BGR (or RGBA to BGRA) */\n-   if (color_type & PNG_COLOR_MASK_COLOR)\n+   if ((color_type & PNG_COLOR_MASK_COLOR) != 0)\n       png_set_bgr(png_ptr);\n \n    /* Swap the RGBA or GA data to ARGB or AG (or BGRA to ABGR) */\n    png_set_swap_alpha(png_ptr);\n \n-   /* Swap bytes of 16 bit files to least significant byte first */\n+   /* Swap bytes of 16-bit files to least significant byte first */\n    png_set_swap(png_ptr);\n \n    /* Add filler (or alpha) byte (before/after each RGB triplet) */\n-   png_set_filler(png_ptr, 0xff, PNG_FILLER_AFTER);\n+   png_set_filler(png_ptr, 0xffff, PNG_FILLER_AFTER);\n \n #ifdef PNG_READ_INTERLACING_SUPPORTED\n    /* Turn on interlace handling.  REQUIRED if you are not using\n@@ -532,7 +532,7 @@\n\n    number_passes = png_set_interlace_handling(png_ptr);\n #else\n    number_passes = 1;\n-#endif /* PNG_READ_INTERLACING_SUPPORTED */\n+#endif /* READ_INTERLACING */\n \n \n    /* Optional call to gamma correct and add the background to the palette\n@@ -744,7 +744,7 @@\n\n     * to pass the current row as new_row, and the function will combine\n     * the old row and the new row.\n     */\n-#endif /* PNG_READ_INTERLACING_SUPPORTED */\n+#endif /* READ_INTERLACING */\n }\n \n end_callback(png_structp png_ptr, png_infop info)\n@@ -932,7 +932,7 @@\n\n     */\n \n    /* Once we write out the header, the compression type on the text\n-    * chunks gets changed to PNG_TEXT_COMPRESSION_NONE_WR or\n+    * chunk gets changed to PNG_TEXT_COMPRESSION_NONE_WR or\n     * PNG_TEXT_COMPRESSION_zTXt_WR, so it doesn't get written out again\n     * at the end.\n     */\n@@ -966,11 +966,11 @@\n\n    /* Swap bytes of 16-bit files to most significant byte first */\n    png_set_swap(png_ptr);\n \n-   /* Swap bits of 1, 2, 4 bit packed pixel formats */\n+   /* Swap bits of 1-bit, 2-bit, 4-bit packed pixel formats */\n    png_set_packswap(png_ptr);\n \n    /* Turn on interlace handling if you are not using png_write_image() */\n-   if (interlacing)\n+   if (interlacing != 0)\n       number_passes = png_set_interlace_handling(png_ptr);\n \n    else\n""}<_**next**_>{""filename"": ""install-sh"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca%5E/install-sh"", ""patch"": ""@@ -1,527 +0,0 @@\n\n-#!/bin/sh\n-# install - install a program, script, or datafile\n-\n-scriptversion=2011-11-20.07; # UTC\n-\n-# This originates from X11R5 (mit/util/scripts/install.sh), which was\n-# later released in X11R6 (xc/config/util/install.sh) with the\n-# following copyright and license.\n-#\n-# Copyright (C) 1994 X Consortium\n-#\n-# Permission is hereby granted, free of charge, to any person obtaining a copy\n-# of this software and associated documentation files (the \""Software\""), to\n-# deal in the Software without restriction, including without limitation the\n-# rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n-# sell copies of the Software, and to permit persons to whom the Software is\n-# furnished to do so, subject to the following conditions:\n-#\n-# The above copyright notice and this permission notice shall be included in\n-# all copies or substantial portions of the Software.\n-#\n-# THE SOFTWARE IS PROVIDED \""AS IS\"", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n-# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n-# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\n-# X CONSORTIUM BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN\n-# AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNEC-\n-# TION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n-#\n-# Except as contained in this notice, the name of the X Consortium shall not\n-# be used in advertising or otherwise to promote the sale, use or other deal-\n-# ings in this Software without prior written authorization from the X Consor-\n-# tium.\n-#\n-#\n-# FSF changes to this file are in the public domain.\n-#\n-# Calling this script install-sh is preferred over install.sh, to prevent\n-# 'make' implicit rules from creating a file called install from it\n-# when there is no Makefile.\n-#\n-# This script is compatible with the BSD install script, but was written\n-# from scratch.\n-\n-nl='\n-'\n-IFS=\"" \""\""\t$nl\""\n-\n-# set DOITPROG to echo to test this script\n-\n-# Don't use :- since 4.3BSD and earlier shells don't like it.\n-doit=${DOITPROG-}\n-if test -z \""$doit\""; then\n-  doit_exec=exec\n-else\n-  doit_exec=$doit\n-fi\n-\n-# Put in absolute file names if you don't have them in your path;\n-# or use environment vars.\n-\n-chgrpprog=${CHGRPPROG-chgrp}\n-chmodprog=${CHMODPROG-chmod}\n-chownprog=${CHOWNPROG-chown}\n-cmpprog=${CMPPROG-cmp}\n-cpprog=${CPPROG-cp}\n-mkdirprog=${MKDIRPROG-mkdir}\n-mvprog=${MVPROG-mv}\n-rmprog=${RMPROG-rm}\n-stripprog=${STRIPPROG-strip}\n-\n-posix_glob='?'\n-initialize_posix_glob='\n-  test \""$posix_glob\"" != \""?\"" || {\n-    if (set -f) 2>/dev/null; then\n-      posix_glob=\n-    else\n-      posix_glob=:\n-    fi\n-  }\n-'\n-\n-posix_mkdir=\n-\n-# Desired mode of installed file.\n-mode=0755\n-\n-chgrpcmd=\n-chmodcmd=$chmodprog\n-chowncmd=\n-mvcmd=$mvprog\n-rmcmd=\""$rmprog -f\""\n-stripcmd=\n-\n-src=\n-dst=\n-dir_arg=\n-dst_arg=\n-\n-copy_on_change=false\n-no_target_directory=\n-\n-usage=\""\\\n-Usage: $0 [OPTION]... [-T] SRCFILE DSTFILE\n-   or: $0 [OPTION]... SRCFILES... DIRECTORY\n-   or: $0 [OPTION]... -t DIRECTORY SRCFILES...\n-   or: $0 [OPTION]... -d DIRECTORIES...\n-\n-In the 1st form, copy SRCFILE to DSTFILE.\n-In the 2nd and 3rd, copy all SRCFILES to DIRECTORY.\n-In the 4th, create DIRECTORIES.\n-\n-Options:\n-     --help     display this help and exit.\n-     --version  display version info and exit.\n-\n-  -c            (ignored)\n-  -C            install only if different (preserve the last data modification time)\n-  -d            create directories instead of installing files.\n-  -g GROUP      $chgrpprog installed files to GROUP.\n-  -m MODE       $chmodprog installed files to MODE.\n-  -o USER       $chownprog installed files to USER.\n-  -s            $stripprog installed files.\n-  -t DIRECTORY  install into DIRECTORY.\n-  -T            report an error if DSTFILE is a directory.\n-\n-Environment variables override the default commands:\n-  CHGRPPROG CHMODPROG CHOWNPROG CMPPROG CPPROG MKDIRPROG MVPROG\n-  RMPROG STRIPPROG\n-\""\n-\n-while test $# -ne 0; do\n-  case $1 in\n-    -c) ;;\n-\n-    -C) copy_on_change=true;;\n-\n-    -d) dir_arg=true;;\n-\n-    -g) chgrpcmd=\""$chgrpprog $2\""\n-\tshift;;\n-\n-    --help) echo \""$usage\""; exit $?;;\n-\n-    -m) mode=$2\n-\tcase $mode in\n-\t  *' '* | *'\t'* | *'\n-'*\t  | *'*'* | *'?'* | *'['*)\n-\t    echo \""$0: invalid mode: $mode\"" >&2\n-\t    exit 1;;\n-\tesac\n-\tshift;;\n-\n-    -o) chowncmd=\""$chownprog $2\""\n-\tshift;;\n-\n-    -s) stripcmd=$stripprog;;\n-\n-    -t) dst_arg=$2\n-\t# Protect names problematic for 'test' and other utilities.\n-\tcase $dst_arg in\n-\t  -* | [=\\(\\)!]) dst_arg=./$dst_arg;;\n-\tesac\n-\tshift;;\n-\n-    -T) no_target_directory=true;;\n-\n-    --version) echo \""$0 $scriptversion\""; exit $?;;\n-\n-    --)\tshift\n-\tbreak;;\n-\n-    -*)\techo \""$0: invalid option: $1\"" >&2\n-\texit 1;;\n-\n-    *)  break;;\n-  esac\n-  shift\n-done\n-\n-if test $# -ne 0 && test -z \""$dir_arg$dst_arg\""; then\n-  # When -d is used, all remaining arguments are directories to create.\n-  # When -t is used, the destination is already specified.\n-  # Otherwise, the last argument is the destination.  Remove it from $@.\n-  for arg\n-  do\n-    if test -n \""$dst_arg\""; then\n-      # $@ is not empty: it contains at least $arg.\n-      set fnord \""$@\"" \""$dst_arg\""\n-      shift # fnord\n-    fi\n-    shift # arg\n-    dst_arg=$arg\n-    # Protect names problematic for 'test' and other utilities.\n-    case $dst_arg in\n-      -* | [=\\(\\)!]) dst_arg=./$dst_arg;;\n-    esac\n-  done\n-fi\n-\n-if test $# -eq 0; then\n-  if test -z \""$dir_arg\""; then\n-    echo \""$0: no input file specified.\"" >&2\n-    exit 1\n-  fi\n-  # It's OK to call 'install-sh -d' without argument.\n-  # This can happen when creating conditional directories.\n-  exit 0\n-fi\n-\n-if test -z \""$dir_arg\""; then\n-  do_exit='(exit $ret); exit $ret'\n-  trap \""ret=129; $do_exit\"" 1\n-  trap \""ret=130; $do_exit\"" 2\n-  trap \""ret=141; $do_exit\"" 13\n-  trap \""ret=143; $do_exit\"" 15\n-\n-  # Set umask so as not to create temps with too-generous modes.\n-  # However, 'strip' requires both read and write access to temps.\n-  case $mode in\n-    # Optimize common cases.\n-    *644) cp_umask=133;;\n-    *755) cp_umask=22;;\n-\n-    *[0-7])\n-      if test -z \""$stripcmd\""; then\n-\tu_plus_rw=\n-      else\n-\tu_plus_rw='% 200'\n-      fi\n-      cp_umask=`expr '(' 777 - $mode % 1000 ')' $u_plus_rw`;;\n-    *)\n-      if test -z \""$stripcmd\""; then\n-\tu_plus_rw=\n-      else\n-\tu_plus_rw=,u+rw\n-      fi\n-      cp_umask=$mode$u_plus_rw;;\n-  esac\n-fi\n-\n-for src\n-do\n-  # Protect names problematic for 'test' and other utilities.\n-  case $src in\n-    -* | [=\\(\\)!]) src=./$src;;\n-  esac\n-\n-  if test -n \""$dir_arg\""; then\n-    dst=$src\n-    dstdir=$dst\n-    test -d \""$dstdir\""\n-    dstdir_status=$?\n-  else\n-\n-    # Waiting for this to be detected by the \""$cpprog $src $dsttmp\"" command\n-    # might cause directories to be created, which would be especially bad\n-    # if $src (and thus $dsttmp) contains '*'.\n-    if test ! -f \""$src\"" && test ! -d \""$src\""; then\n-      echo \""$0: $src does not exist.\"" >&2\n-      exit 1\n-    fi\n-\n-    if test -z \""$dst_arg\""; then\n-      echo \""$0: no destination specified.\"" >&2\n-      exit 1\n-    fi\n-    dst=$dst_arg\n-\n-    # If destination is a directory, append the input filename; won't work\n-    # if double slashes aren't ignored.\n-    if test -d \""$dst\""; then\n-      if test -n \""$no_target_directory\""; then\n-\techo \""$0: $dst_arg: Is a directory\"" >&2\n-\texit 1\n-      fi\n-      dstdir=$dst\n-      dst=$dstdir/`basename \""$src\""`\n-      dstdir_status=0\n-    else\n-      # Prefer dirname, but fall back on a substitute if dirname fails.\n-      dstdir=`\n-\t(dirname \""$dst\"") 2>/dev/null ||\n-\texpr X\""$dst\"" : 'X\\(.*[^/]\\)//*[^/][^/]*/*$' \\| \\\n-\t     X\""$dst\"" : 'X\\(//\\)[^/]' \\| \\\n-\t     X\""$dst\"" : 'X\\(//\\)$' \\| \\\n-\t     X\""$dst\"" : 'X\\(/\\)' \\| . 2>/dev/null ||\n-\techo X\""$dst\"" |\n-\t    sed '/^X\\(.*[^/]\\)\\/\\/*[^/][^/]*\\/*$/{\n-\t\t   s//\\1/\n-\t\t   q\n-\t\t }\n-\t\t /^X\\(\\/\\/\\)[^/].*/{\n-\t\t   s//\\1/\n-\t\t   q\n-\t\t }\n-\t\t /^X\\(\\/\\/\\)$/{\n-\t\t   s//\\1/\n-\t\t   q\n-\t\t }\n-\t\t /^X\\(\\/\\).*/{\n-\t\t   s//\\1/\n-\t\t   q\n-\t\t }\n-\t\t s/.*/./; q'\n-      `\n-\n-      test -d \""$dstdir\""\n-      dstdir_status=$?\n-    fi\n-  fi\n-\n-  obsolete_mkdir_used=false\n-\n-  if test $dstdir_status != 0; then\n-    case $posix_mkdir in\n-      '')\n-\t# Create intermediate dirs using mode 755 as modified by the umask.\n-\t# This is like FreeBSD 'install' as of 1997-10-28.\n-\tumask=`umask`\n-\tcase $stripcmd.$umask in\n-\t  # Optimize common cases.\n-\t  *[2367][2367]) mkdir_umask=$umask;;\n-\t  .*0[02][02] | .[02][02] | .[02]) mkdir_umask=22;;\n-\n-\t  *[0-7])\n-\t    mkdir_umask=`expr $umask + 22 \\\n-\t      - $umask % 100 % 40 + $umask % 20 \\\n-\t      - $umask % 10 % 4 + $umask % 2\n-\t    `;;\n-\t  *) mkdir_umask=$umask,go-w;;\n-\tesac\n-\n-\t# With -d, create the new directory with the user-specified mode.\n-\t# Otherwise, rely on $mkdir_umask.\n-\tif test -n \""$dir_arg\""; then\n-\t  mkdir_mode=-m$mode\n-\telse\n-\t  mkdir_mode=\n-\tfi\n-\n-\tposix_mkdir=false\n-\tcase $umask in\n-\t  *[123567][0-7][0-7])\n-\t    # POSIX mkdir -p sets u+wx bits regardless of umask, which\n-\t    # is incompatible with FreeBSD 'install' when (umask & 300) != 0.\n-\t    ;;\n-\t  *)\n-\t    tmpdir=${TMPDIR-/tmp}/ins$RANDOM-$$\n-\t    trap 'ret=$?; rmdir \""$tmpdir/d\"" \""$tmpdir\"" 2>/dev/null; exit $ret' 0\n-\n-\t    if (umask $mkdir_umask &&\n-\t\texec $mkdirprog $mkdir_mode -p -- \""$tmpdir/d\"") >/dev/null 2>&1\n-\t    then\n-\t      if test -z \""$dir_arg\"" || {\n-\t\t   # Check for POSIX incompatibilities with -m.\n-\t\t   # HP-UX 11.23 and IRIX 6.5 mkdir -m -p sets group- or\n-\t\t   # other-writable bit of parent directory when it shouldn't.\n-\t\t   # FreeBSD 6.1 mkdir -m -p sets mode of existing directory.\n-\t\t   ls_ld_tmpdir=`ls -ld \""$tmpdir\""`\n-\t\t   case $ls_ld_tmpdir in\n-\t\t     d????-?r-*) different_mode=700;;\n-\t\t     d????-?--*) different_mode=755;;\n-\t\t     *) false;;\n-\t\t   esac &&\n-\t\t   $mkdirprog -m$different_mode -p -- \""$tmpdir\"" && {\n-\t\t     ls_ld_tmpdir_1=`ls -ld \""$tmpdir\""`\n-\t\t     test \""$ls_ld_tmpdir\"" = \""$ls_ld_tmpdir_1\""\n-\t\t   }\n-\t\t }\n-\t      then posix_mkdir=:\n-\t      fi\n-\t      rmdir \""$tmpdir/d\"" \""$tmpdir\""\n-\t    else\n-\t      # Remove any dirs left behind by ancient mkdir implementations.\n-\t      rmdir ./$mkdir_mode ./-p ./-- 2>/dev/null\n-\t    fi\n-\t    trap '' 0;;\n-\tesac;;\n-    esac\n-\n-    if\n-      $posix_mkdir && (\n-\tumask $mkdir_umask &&\n-\t$doit_exec $mkdirprog $mkdir_mode -p -- \""$dstdir\""\n-      )\n-    then :\n-    else\n-\n-      # The umask is ridiculous, or mkdir does not conform to POSIX,\n-      # or it failed possibly due to a race condition.  Create the\n-      # directory the slow way, step by step, checking for races as we go.\n-\n-      case $dstdir in\n-\t/*) prefix='/';;\n-\t[-=\\(\\)!]*) prefix='./';;\n-\t*)  prefix='';;\n-      esac\n-\n-      eval \""$initialize_posix_glob\""\n-\n-      oIFS=$IFS\n-      IFS=/\n-      $posix_glob set -f\n-      set fnord $dstdir\n-      shift\n-      $posix_glob set +f\n-      IFS=$oIFS\n-\n-      prefixes=\n-\n-      for d\n-      do\n-\ttest X\""$d\"" = X && continue\n-\n-\tprefix=$prefix$d\n-\tif test -d \""$prefix\""; then\n-\t  prefixes=\n-\telse\n-\t  if $posix_mkdir; then\n-\t    (umask=$mkdir_umask &&\n-\t     $doit_exec $mkdirprog $mkdir_mode -p -- \""$dstdir\"") && break\n-\t    # Don't fail if two instances are running concurrently.\n-\t    test -d \""$prefix\"" || exit 1\n-\t  else\n-\t    case $prefix in\n-\t      *\\'*) qprefix=`echo \""$prefix\"" | sed \""s/'/'\\\\\\\\\\\\\\\\''/g\""`;;\n-\t      *) qprefix=$prefix;;\n-\t    esac\n-\t    prefixes=\""$prefixes '$qprefix'\""\n-\t  fi\n-\tfi\n-\tprefix=$prefix/\n-      done\n-\n-      if test -n \""$prefixes\""; then\n-\t# Don't fail if two instances are running concurrently.\n-\t(umask $mkdir_umask &&\n-\t eval \""\\$doit_exec \\$mkdirprog $prefixes\"") ||\n-\t  test -d \""$dstdir\"" || exit 1\n-\tobsolete_mkdir_used=true\n-      fi\n-    fi\n-  fi\n-\n-  if test -n \""$dir_arg\""; then\n-    { test -z \""$chowncmd\"" || $doit $chowncmd \""$dst\""; } &&\n-    { test -z \""$chgrpcmd\"" || $doit $chgrpcmd \""$dst\""; } &&\n-    { test \""$obsolete_mkdir_used$chowncmd$chgrpcmd\"" = false ||\n-      test -z \""$chmodcmd\"" || $doit $chmodcmd $mode \""$dst\""; } || exit 1\n-  else\n-\n-    # Make a couple of temp file names in the proper directory.\n-    dsttmp=$dstdir/_inst.$$_\n-    rmtmp=$dstdir/_rm.$$_\n-\n-    # Trap to clean up those temp files at exit.\n-    trap 'ret=$?; rm -f \""$dsttmp\"" \""$rmtmp\"" && exit $ret' 0\n-\n-    # Copy the file name to the temp name.\n-    (umask $cp_umask && $doit_exec $cpprog \""$src\"" \""$dsttmp\"") &&\n-\n-    # and set any options; do chmod last to preserve setuid bits.\n-    #\n-    # If any of these fail, we abort the whole thing.  If we want to\n-    # ignore errors from any of these, just make sure not to ignore\n-    # errors from the above \""$doit $cpprog $src $dsttmp\"" command.\n-    #\n-    { test -z \""$chowncmd\"" || $doit $chowncmd \""$dsttmp\""; } &&\n-    { test -z \""$chgrpcmd\"" || $doit $chgrpcmd \""$dsttmp\""; } &&\n-    { test -z \""$stripcmd\"" || $doit $stripcmd \""$dsttmp\""; } &&\n-    { test -z \""$chmodcmd\"" || $doit $chmodcmd $mode \""$dsttmp\""; } &&\n-\n-    # If -C, don't bother to copy if it wouldn't change the file.\n-    if $copy_on_change &&\n-       old=`LC_ALL=C ls -dlL \""$dst\""\t2>/dev/null` &&\n-       new=`LC_ALL=C ls -dlL \""$dsttmp\""\t2>/dev/null` &&\n-\n-       eval \""$initialize_posix_glob\"" &&\n-       $posix_glob set -f &&\n-       set X $old && old=:$2:$4:$5:$6 &&\n-       set X $new && new=:$2:$4:$5:$6 &&\n-       $posix_glob set +f &&\n-\n-       test \""$old\"" = \""$new\"" &&\n-       $cmpprog \""$dst\"" \""$dsttmp\"" >/dev/null 2>&1\n-    then\n-      rm -f \""$dsttmp\""\n-    else\n-      # Rename the file to the real destination.\n-      $doit $mvcmd -f \""$dsttmp\"" \""$dst\"" 2>/dev/null ||\n-\n-      # The rename failed, perhaps because mv can't rename something else\n-      # to itself, or perhaps because mv is so ancient that it does not\n-      # support -f.\n-      {\n-\t# Now remove or move aside any old file at destination location.\n-\t# We try this two ways since rm can't unlink itself on some\n-\t# systems and the destination file might be busy for other\n-\t# reasons.  In this case, the final cleanup might fail but the new\n-\t# file should still install successfully.\n-\t{\n-\t  test ! -f \""$dst\"" ||\n-\t  $doit $rmcmd -f \""$dst\"" 2>/dev/null ||\n-\t  { $doit $mvcmd -f \""$dst\"" \""$rmtmp\"" 2>/dev/null &&\n-\t    { $doit $rmcmd -f \""$rmtmp\"" 2>/dev/null; :; }\n-\t  } ||\n-\t  { echo \""$0: cannot unlink or rename $dst\"" >&2\n-\t    (exit 1); exit 1\n-\t  }\n-\t} &&\n-\n-\t# Now rename the file to the real destination.\n-\t$doit $mvcmd \""$dsttmp\"" \""$dst\""\n-      }\n-    fi || exit 1\n-\n-    trap '' 0\n-  fi\n-done\n-\n-# Local variables:\n-# eval: (add-hook 'write-file-hooks 'time-stamp)\n-# time-stamp-start: \""scriptversion=\""\n-# time-stamp-format: \""%:y-%02m-%02d.%02H\""\n-# time-stamp-time-zone: \""UTC\""\n-# time-stamp-end: \""; # UTC\""\n-# End:\n""}<_**next**_>{""filename"": ""libpng-manual.txt"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/libpng-manual.txt"", ""patch"": ""@@ -1,9 +1,9 @@\n\n libpng-manual.txt - A description on how to use and modify libpng\n \n- libpng version 1.6.10 - March 6, 2014\n+ libpng version 1.6.20 - December 3, 2015\n  Updated and distributed by Glenn Randers-Pehrson\n  <glennrp at users.sourceforge.net>\n- Copyright (c) 1998-2014 Glenn Randers-Pehrson\n+ Copyright (c) 1998-2015 Glenn Randers-Pehrson\n \n  This document is released under the libpng license.\n  For conditions of distribution and use, see the disclaimer\n@@ -11,15 +11,15 @@\n\n \n  Based on:\n \n- libpng versions 0.97, January 1998, through 1.6.10 - March 6, 2014\n+ libpng versions 0.97, January 1998, through 1.6.20 - December 3, 2015\n  Updated and distributed by Glenn Randers-Pehrson\n- Copyright (c) 1998-2014 Glenn Randers-Pehrson\n+ Copyright (c) 1998-2015 Glenn Randers-Pehrson\n \n- libpng 1.0 beta 6  version 0.96 May 28, 1997\n+ libpng 1.0 beta 6 - version 0.96 - May 28, 1997\n  Updated and distributed by Andreas Dilger\n  Copyright (c) 1996, 1997 Andreas Dilger\n \n- libpng 1.0 beta 2 - version 0.88  January 26, 1996\n+ libpng 1.0 beta 2 - version 0.88 - January 26, 1996\n  For conditions of distribution and use, see copyright\n  notice in png.h. Copyright (c) 1995, 1996 Guy Eric\n  Schalnat, Group 42, Inc.\n@@ -54,7 +54,7 @@\n\n file, example.c is a good starting point for using the library, as\n it is heavily commented and should include everything most people\n will need.  We assume that libpng is already installed; see the\n-INSTALL file for instructions on how to install libpng.\n+INSTALL file for instructions on how to configure and install libpng.\n \n For examples of libpng usage, see the files \""example.c\"", \""pngtest.c\"",\n and the files in the \""contrib\"" directory, all of which are included in\n@@ -70,15 +70,16 @@\n\n The W3C and ISO documents have identical technical content.\n \n The PNG-1.2 specification is available at\n-<http://www.libpng.org/pub/png/documents/>.  It is technically equivalent\n+<http://png-mng.sourceforge.net/pub/png/spec/1.2/>.\n+It is technically equivalent\n to the PNG specification (second edition) but has some additional material.\n \n-The PNG-1.0 specification is available\n-as RFC 2083 <http://www.libpng.org/pub/png/documents/> and as a\n-W3C Recommendation <http://www.w3.org/TR/REC.png.html>.\n+The PNG-1.0 specification is available as RFC 2083 \n+<http://png-mng.sourceforge.net/pub/png/spec/1.0/> and as a\n+W3C Recommendation <http://www.w3.org/TR/REC-png-961001>.\n \n Some additional chunks are described in the special-purpose public chunks\n-documents at <http://www.libpng.org/pub/png/documents/>.\n+documents at <http://www.libpng.org/pub/png/spec/register/>\n \n Other information\n about PNG, and the latest version of libpng, can be found at the PNG home\n@@ -100,7 +101,7 @@\n\n \n Libpng uses zlib for its compression and decompression of PNG files.\n Further information about zlib, and the latest version of zlib, can\n-be found at the zlib home page, <http://www.info-zip.org/pub/infozip/zlib/>.\n+be found at the zlib home page, <http://zlib.net/>.\n The zlib compression utility is a general purpose utility that is\n useful for more than PNG files, and can be used without libpng.\n See the documentation delivered with zlib for more details.\n@@ -336,7 +337,7 @@\n\n \n If you are intending to keep the file pointer open for use in libpng,\n you must ensure you don't read more than 8 bytes from the beginning\n-of the file, and you also have to make a call to png_set_sig_bytes_read()\n+of the file, and you also have to make a call to png_set_sig_bytes()\n with the number of bytes you read from the beginning.  Libpng will\n then only check the bytes (if any) that your program didn't read.\n \n@@ -344,22 +345,23 @@\n\n to replace them with custom functions.  See the discussion under\n Customizing libpng.\n \n-\n     FILE *fp = fopen(file_name, \""rb\"");\n     if (!fp)\n     {\n        return (ERROR);\n     }\n \n-    fread(header, 1, number, fp);\n-    is_png = !png_sig_cmp(header, 0, number);\n+    if (fread(header, 1, number, fp) != number)\n+    {\n+       return (ERROR);\n+    }\n \n+    is_png = !png_sig_cmp(header, 0, number);\n     if (!is_png)\n     {\n        return (NOT_PNG);\n     }\n \n-\n Next, png_struct and png_info need to be allocated and initialized.  In\n order to ensure that the size of these structures is correct even with a\n dynamically linked libpng, there are functions to initialize and\n@@ -648,15 +650,13 @@\n\n \n The PNG specification allows the width and height of an image to be as\n large as 2^31-1 (0x7fffffff), or about 2.147 billion rows and columns.\n-Since very few applications really need to process such large images,\n-we have imposed an arbitrary 1-million limit on rows and columns.\n+For safety, libpng imposes a default limit of 1 million rows and columns.\n Larger images will be rejected immediately with a png_error() call. If\n-you wish to change this limit, you can use\n+you wish to change these limits, you can use\n \n    png_set_user_limits(png_ptr, width_max, height_max);\n \n-to set your own limits, or use width_max = height_max = 0x7fffffffL\n-to allow all valid dimensions (libpng may reject some very large images\n+to set your own limits (libpng may reject some very wide images\n anyway because of potential buffer overflow conditions).\n \n You should put this statement after you create the PNG structure and\n@@ -671,8 +671,11 @@\n\n    height_max = png_get_user_height_max(png_ptr);\n \n The PNG specification sets no limit on the number of ancillary chunks\n-allowed in a PNG datastream.  You can impose a limit on the total number\n-of sPLT, tEXt, iTXt, zTXt, and unknown chunks that will be stored, with\n+allowed in a PNG datastream.  By default, libpng imposes a limit of\n+a total of 1000 sPLT, tEXt, iTXt, zTXt, and unknown chunks to be stored.\n+If you have set up both info_ptr and end_info_ptr, the limit applies\n+separately to each.  You can change the limit on the total number of such\n+chunks that will be stored, with\n \n    png_set_chunk_cache_max(png_ptr, user_chunk_cache_max);\n \n@@ -680,8 +683,9 @@\n\n \n    chunk_cache_max = png_get_chunk_cache_max(png_ptr);\n \n-You can also set a limit on the amount of memory that a compressed chunk\n-other than IDAT can occupy, with\n+Libpng imposes a limit of 8 Megabytes (8,000,000 bytes) on the amount of\n+memory that a compressed chunk other than IDAT can occupy, when decompressed.\n+You can change this limit with\n \n    png_set_chunk_malloc_max(png_ptr, user_chunk_malloc_max);\n \n@@ -1267,13 +1271,13 @@\n\n                      the PNG datastream is embedded in\n                      a MNG-1.0 datastream)\n \n-    Any or all of interlace_type, compression_type, or\n-    filter_method can be NULL if you are\n-    not interested in their values.\n+    Any of width, height, color_type, bit_depth,\n+    interlace_type, compression_type, or filter_method can\n+    be NULL if you are not interested in their values.\n \n     Note that png_get_IHDR() returns 32-bit data into\n     the application's width and height variables.\n-    This is an unsafe situation if these are 16-bit\n+    This is an unsafe situation if these are not png_uint_32\n     variables.  In such situations, the\n     png_get_image_width() and png_get_image_height()\n     functions described below are safer.\n@@ -1681,15 +1685,16 @@\n\n Data will be decoded into the supplied row buffers packed into bytes\n unless the library has been told to transform it into another format.\n For example, 4 bit/pixel paletted or grayscale data will be returned\n-2 pixels/byte with the leftmost pixel in the high-order bits of the\n-byte, unless png_set_packing() is called.  8-bit RGB data will be stored\n+2 pixels/byte with the leftmost pixel in the high-order bits of the byte,\n+unless png_set_packing() is called.  8-bit RGB data will be stored\n in RGB RGB RGB format unless png_set_filler() or png_set_add_alpha()\n is called to insert filler bytes, either before or after each RGB triplet.\n+\n 16-bit RGB data will be returned RRGGBB RRGGBB, with the most significant\n byte of the color value first, unless png_set_scale_16() is called to\n transform it to regular RGB RGB triplets, or png_set_filler() or\n-png_set_add alpha() is called to insert filler bytes, either before or\n-after each RRGGBB triplet.  Similarly, 8-bit or 16-bit grayscale data can\n+png_set_add alpha() is called to insert two filler bytes, either before\n+or after each RRGGBB triplet.  Similarly, 8-bit or 16-bit grayscale data can\n be modified with png_set_filler(), png_set_add_alpha(), png_set_strip_16(),\n or png_set_scale_16().\n \n@@ -1846,12 +1851,13 @@\n\n     if (color_type == PNG_COLOR_TYPE_RGB)\n        png_set_filler(png_ptr, filler, PNG_FILLER_BEFORE);\n \n-where \""filler\"" is the 8 or 16-bit number to fill with, and the location is\n-either PNG_FILLER_BEFORE or PNG_FILLER_AFTER, depending upon whether\n-you want the filler before the RGB or after.  This transformation\n-does not affect images that already have full alpha channels.  To add an\n-opaque alpha channel, use filler=0xff or 0xffff and PNG_FILLER_AFTER which\n-will generate RGBA pixels.\n+where \""filler\"" is the 8-bit or 16-bit number to fill with, and the location\n+is either PNG_FILLER_BEFORE or PNG_FILLER_AFTER, depending upon whether\n+you want the filler before the RGB or after. When filling an 8-bit pixel,\n+the least significant 8 bits of the number are used, if a 16-bit number is\n+supplied.  This transformation does not affect images that already have full\n+alpha channels.  To add an opaque alpha channel, use filler=0xffff and\n+PNG_FILLER_AFTER which will generate RGBA pixels.\n \n Note that png_set_filler() does not change the color type.  If you want\n to do that, you can add a true alpha channel with\n@@ -1861,7 +1867,7 @@\n\n        png_set_add_alpha(png_ptr, filler, PNG_FILLER_AFTER);\n \n where \""filler\"" contains the alpha value to assign to each pixel.\n-This function was added in libpng-1.2.7.\n+The png_set_add_alpha() function was added in libpng-1.2.7.\n \n If you are reading an image with an alpha channel, and you need the\n data as ARGB instead of the normal PNG format RGBA:\n@@ -1919,9 +1925,9 @@\n\n The default values come from the PNG file cHRM chunk if present; otherwise, the\n defaults correspond to the ITU-R recommendation 709, and also the sRGB color\n space, as recommended in the Charles Poynton's Colour FAQ,\n-<http://www.poynton.com/>, in section 9:\n+Copyright (c) 2006-11-28 Charles Poynton, in section 9:\n \n-   <http://www.poynton.com/notes/colour_and_gamma/ColorFAQ.html#RTFToC9>\n+<http://www.poynton.com/notes/colour_and_gamma/ColorFAQ.html#RTFToC9>\n \n     Y = 0.2126 * R + 0.7152 * G + 0.0722 * B\n \n@@ -1996,7 +2002,7 @@\n\n       png_set_gamma(png_ptr, screen_gamma, 0.45455);\n \n If you need to reduce an RGB file to a paletted file, or if a paletted\n-file has more entries then will fit on your screen, png_set_quantize()\n+file has more entries than will fit on your screen, png_set_quantize()\n will do that.  Note that this is a simple match quantization that merely\n finds the closest color available.  This should work fairly well with\n optimized palettes, but fairly badly with linear color cubes.  If you\n@@ -2549,7 +2555,7 @@\n\n        64K.  The library seems to run fine with sizes\n        of 4K. Although you can give it much less if\n        necessary (I assume you can give it chunks of\n-       1 byte, I haven't tried less then 256 bytes\n+       1 byte, I haven't tried less than 256 bytes\n        yet).  When this function returns, you may\n        want to display any rows that were generated\n        in the row callback if you don't already do\n@@ -2636,7 +2642,7 @@\n\n         png_progressive_combine_row(png_ptr, old_row,\n           new_row);\n \n-    /* where old_row is what was displayed for\n+    /* where old_row is what was displayed\n        previously for the row.  Note that the first\n        pass (pass == 0, really) will completely cover\n        the old row, so the rows do not have to be\n@@ -2954,6 +2960,7 @@\n\n                      (array of png_color)\n     num_palette    - number of entries in the palette\n \n+\n     png_set_gAMA(png_ptr, info_ptr, file_gamma);\n     png_set_gAMA_fixed(png_ptr, info_ptr, int_file_gamma);\n \n@@ -3261,7 +3268,7 @@\n\n although this isn't a requirement.  Unlike the tIME chunk, the\n \""Creation Time\"" tEXt chunk is not expected to be automatically changed\n by the software.  To facilitate the use of RFC 1123 dates, a function\n-png_convert_to_rfc1123_buffer(png_ptr, buffer, png_timep) is provided to\n+png_convert_to_rfc1123_buffer(buffer, png_timep) is provided to\n convert from PNG time to an RFC 1123 format string.  The caller must provide\n a writeable buffer of at least 29 bytes.\n \n@@ -3718,21 +3725,26 @@\n\n \n To read a PNG file using the simplified API:\n \n-  1) Declare a 'png_image' structure (see below) on the\n-     stack and memset() it to all zero.\n+  1) Declare a 'png_image' structure (see below) on the stack, set the\n+     version field to PNG_IMAGE_VERSION and the 'opaque' pointer to NULL\n+     (this is REQUIRED, your program may crash if you don't do it.)\n \n   2) Call the appropriate png_image_begin_read... function.\n \n-  3) Set the png_image 'format' member to the required\n-     format and allocate a buffer for the image.\n+  3) Set the png_image 'format' member to the required sample format.\n \n-  4) Call png_image_finish_read to read the image into\n-     your buffer.\n+  4) Allocate a buffer for the image and, if required, the color-map.\n+\n+  5) Call png_image_finish_read to read the image and, if required, the\n+     color-map into your buffers.\n \n There are no restrictions on the format of the PNG input itself; all valid\n color types, bit depths, and interlace methods are acceptable, and the\n input image is transformed as necessary to the requested in-memory format\n-during the png_image_finish_read() step.\n+during the png_image_finish_read() step.  The only caveat is that if you\n+request a color-mapped image from a PNG that is full-color or makes\n+complex use of an alpha channel the transformation is extremely lossy and the\n+result may look terrible.\n \n To write a PNG file using the simplified API:\n \n@@ -3741,34 +3753,35 @@\n\n \n   2) Initialize the members of the structure that describe the\n      image, setting the 'format' member to the format of the\n-     image in memory.\n+     image samples.\n \n   3) Call the appropriate png_image_write... function with a\n-     pointer to the image to write the PNG data.\n+     pointer to the image and, if necessary, the color-map to write\n+     the PNG data.\n \n png_image is a structure that describes the in-memory format of an image\n-when it is being read or define the in-memory format of an image that you\n+when it is being read or defines the in-memory format of an image that you\n need to write.  The \""png_image\"" structure contains the following members:\n \n+   png_controlp opaque  Initialize to NULL, free with png_image_free\n    png_uint_32  version Set to PNG_IMAGE_VERSION\n    png_uint_32  width   Image width in pixels (columns)\n    png_uint_32  height  Image height in pixels (rows)\n    png_uint_32  format  Image format as defined below\n    png_uint_32  flags   A bit mask containing informational flags\n-   png_controlp opaque  Initialize to NULL, free with png_image_free\n    png_uint_32  colormap_entries; Number of entries in the color-map\n    png_uint_32  warning_or_error;\n    char         message[64];\n \n-In the event of an error or warning the following field warning_or_error\n+In the event of an error or warning the \""warning_or_error\""\n field will be set to a non-zero value and the 'message' field will contain\n a '\\0' terminated string with the libpng error or warning message.  If both\n warnings and an error were encountered, only the error is recorded.  If there\n are multiple warnings, only the first one is recorded.\n \n-The upper 30 bits of this value are reserved; the low two bits contain\n-a two bit code such that a value more than 1 indicates a failure in the API\n-just called:\n+The upper 30 bits of the \""warning_or_error\"" value are reserved; the low two\n+bits contain a two bit code such that a value more than 1 indicates a failure\n+in the API just called:\n \n    0 - no warning or error\n    1 - warning\n@@ -3793,92 +3806,103 @@\n\n The color/gray channels are not scaled (pre-multiplied) by the alpha\n channel and are suitable for passing to color management software.\n \n-  b) As a value in the range 0..65535, contained in a 2-byte integer.  All\n-channels can be converted to the original value by dividing by 65535; all\n+  b) As a value in the range 0..65535, contained in a 2-byte integer, in\n+the native byte order of the platform on which the application is running.\n+All channels can be converted to the original value by dividing by 65535; all\n channels are linear.  Color channels use the RGB encoding (RGB end-points) of\n the sRGB specification.  This encoding is identified by the\n PNG_FORMAT_FLAG_LINEAR flag below.\n \n+When the simplified API needs to convert between sRGB and linear colorspaces,\n+the actual sRGB transfer curve defined in the sRGB specification (see the\n+article at http://en.wikipedia.org/wiki/SRGB) is used, not the gamma=1/2.2\n+approximation used elsewhere in libpng.\n+\n When an alpha channel is present it is expected to denote pixel coverage\n of the color or luminance channels and is returned as an associated alpha\n channel: the color/gray channels are scaled (pre-multiplied) by the alpha\n value.\n \n-When a color-mapped image is used as a result of calling\n-png_image_read_colormap or png_image_write_colormap the channels are encoded\n-in the color-map and the descriptions above apply to the color-map entries.\n-The image data is encoded as small integers, value 0..255, that index the\n-entries in the color-map.  One integer (one byte) is stored for each pixel.\n+The samples are either contained directly in the image data, between 1 and 8\n+bytes per pixel according to the encoding, or are held in a color-map indexed\n+by bytes in the image data.  In the case of a color-map the color-map entries\n+are individual samples, encoded as above, and the image data has one byte per\n+pixel to select the relevant sample from the color-map.\n \n PNG_FORMAT_*\n \n The #defines to be used in png_image::format.  Each #define identifies a\n particular layout of channel data and, if present, alpha values.  There are\n-separate defines for each of the two channel encodings.\n+separate defines for each of the two component encodings.\n \n-A format is built up using single bit flag values.  Not all combinations are\n-valid: use the bit flag values below for testing a format returned by the\n-read APIs, but set formats from the derived values.\n+A format is built up using single bit flag values.  All combinations are\n+valid.  Formats can be built up from the flag values or you can use one of\n+the predefined values below.  When testing formats always use the FORMAT_FLAG\n+macros to test for individual features - future versions of the library may\n+add new flags.\n \n When reading or writing color-mapped images the format should be set to the\n format of the entries in the color-map then png_image_{read,write}_colormap\n called to read or write the color-map and set the format correctly for the\n image data.  Do not set the PNG_FORMAT_FLAG_COLORMAP bit directly!\n \n-NOTE: libpng can be built with particular features disabled, if you see\n+NOTE: libpng can be built with particular features disabled. If you see\n compiler errors because the definition of one of the following flags has been\n compiled out it is because libpng does not have the required support.  It is\n possible, however, for the libpng configuration to enable the format on just\n-read or just write; in that case you may see an error at run time.  You can\n-guard against this by checking for the definition of:\n+read or just write; in that case you may see an error at run time.\n+You can guard against this by checking for the definition of the\n+appropriate \""_SUPPORTED\"" macro, one of:\n \n    PNG_SIMPLIFIED_{READ,WRITE}_{BGR,AFIRST}_SUPPORTED\n \n-   PNG_FORMAT_FLAG_ALPHA    0x01 format with an alpha channel\n-   PNG_FORMAT_FLAG_COLOR    0x02 color format: otherwise grayscale\n-   PNG_FORMAT_FLAG_LINEAR   0x04 png_uint_16 channels else png_byte\n-   PNG_FORMAT_FLAG_COLORMAP 0x08 libpng use only\n-   PNG_FORMAT_FLAG_BGR      0x10 BGR colors, else order is RGB\n-   PNG_FORMAT_FLAG_AFIRST   0x20 alpha channel comes first\n+   PNG_FORMAT_FLAG_ALPHA    format with an alpha channel\n+   PNG_FORMAT_FLAG_COLOR    color format: otherwise grayscale\n+   PNG_FORMAT_FLAG_LINEAR   2-byte channels else 1-byte\n+   PNG_FORMAT_FLAG_COLORMAP image data is color-mapped\n+   PNG_FORMAT_FLAG_BGR      BGR colors, else order is RGB\n+   PNG_FORMAT_FLAG_AFIRST   alpha channel comes first\n \n Supported formats are as follows.  Future versions of libpng may support more\n formats; for compatibility with older versions simply check if the format\n macro is defined using #ifdef.  These defines describe the in-memory layout\n of the components of the pixels of the image.\n \n-First the single byte formats:\n+First the single byte (sRGB) formats:\n \n-   PNG_FORMAT_GRAY 0\n-   PNG_FORMAT_GA   PNG_FORMAT_FLAG_ALPHA\n-   PNG_FORMAT_AG   (PNG_FORMAT_GA|PNG_FORMAT_FLAG_AFIRST)\n-   PNG_FORMAT_RGB  PNG_FORMAT_FLAG_COLOR\n-   PNG_FORMAT_BGR  (PNG_FORMAT_FLAG_COLOR|PNG_FORMAT_FLAG_BGR)\n-   PNG_FORMAT_RGBA (PNG_FORMAT_RGB|PNG_FORMAT_FLAG_ALPHA)\n-   PNG_FORMAT_ARGB (PNG_FORMAT_RGBA|PNG_FORMAT_FLAG_AFIRST)\n-   PNG_FORMAT_BGRA (PNG_FORMAT_BGR|PNG_FORMAT_FLAG_ALPHA)\n-   PNG_FORMAT_ABGR (PNG_FORMAT_BGRA|PNG_FORMAT_FLAG_AFIRST)\n+   PNG_FORMAT_GRAY\n+   PNG_FORMAT_GA\n+   PNG_FORMAT_AG\n+   PNG_FORMAT_RGB\n+   PNG_FORMAT_BGR\n+   PNG_FORMAT_RGBA\n+   PNG_FORMAT_ARGB\n+   PNG_FORMAT_BGRA\n+   PNG_FORMAT_ABGR\n \n Then the linear 2-byte formats.  When naming these \""Y\"" is used to\n indicate a luminance (gray) channel.  The component order within the pixel\n is always the same - there is no provision for swapping the order of the\n-components in the linear format.\n+components in the linear format.  The components are 16-bit integers in\n+the native byte order for your platform, and there is no provision for\n+swapping the bytes to a different endian condition.\n \n-   PNG_FORMAT_LINEAR_Y PNG_FORMAT_FLAG_LINEAR\n+   PNG_FORMAT_LINEAR_Y\n    PNG_FORMAT_LINEAR_Y_ALPHA\n-      (PNG_FORMAT_FLAG_LINEAR|PNG_FORMAT_FLAG_ALPHA)\n    PNG_FORMAT_LINEAR_RGB\n-      (PNG_FORMAT_FLAG_LINEAR|PNG_FORMAT_FLAG_COLOR)\n    PNG_FORMAT_LINEAR_RGB_ALPHA\n-      (PNG_FORMAT_FLAG_LINEAR|PNG_FORMAT_FLAG_COLOR|\n-      PNG_FORMAT_FLAG_ALPHA)\n \n-Color-mapped formats are obtained by calling png_image_{read,write}_colormap,\n-as appropriate after setting png_image::format to the format of the color-map\n-to be read or written.  Applications may check the value of\n-PNG_FORMAT_FLAG_COLORMAP to see if they have called the colormap API.  The\n-format of the color-map may be extracted using the following macro.\n+With color-mapped formats the image data is one byte for each pixel. The byte\n+is an index into the color-map which is formatted as above.  To obtain a\n+color-mapped format it is sufficient just to add the PNG_FOMAT_FLAG_COLORMAP\n+to one of the above definitions, or you can use one of the definitions below.\n \n-   PNG_FORMAT_OF_COLORMAP(fmt) ((fmt) & ~PNG_FORMAT_FLAG_COLORMAP)\n+   PNG_FORMAT_RGB_COLORMAP\n+   PNG_FORMAT_BGR_COLORMAP\n+   PNG_FORMAT_RGBA_COLORMAP\n+   PNG_FORMAT_ARGB_COLORMAP\n+   PNG_FORMAT_BGRA_COLORMAP\n+   PNG_FORMAT_ABGR_COLORMAP\n \n PNG_IMAGE macros\n \n@@ -3886,9 +3910,9 @@\n\n structure.  The PNG_IMAGE_SAMPLE_ macros return values appropriate to the\n actual image sample values - either the entries in the color-map or the\n pixels in the image.  The PNG_IMAGE_PIXEL_ macros return corresponding values\n-for the pixels and will always return 1 after a call to\n-png_image_{read,write}_colormap.  The remaining macros return information\n-about the rows in the image and the complete image.\n+for the pixels and will always return 1 for color-mapped formats.  The\n+remaining macros return information about the rows in the image and the\n+complete image.\n \n NOTE: All the macros that take a png_image::format parameter are compile time\n constants if the format parameter is, itself, a constant.  Therefore these\n@@ -3896,46 +3920,39 @@\n\n Similarly the macros are also pre-processor constants (sizeof is not used) so\n they can be used in #if tests.\n \n-First the information about the samples.\n-\n   PNG_IMAGE_SAMPLE_CHANNELS(fmt)\n     Returns the total number of channels in a given format: 1..4\n \n   PNG_IMAGE_SAMPLE_COMPONENT_SIZE(fmt)\n     Returns the size in bytes of a single component of a pixel or color-map\n-    entry (as appropriate) in the image.\n+    entry (as appropriate) in the image: 1 or 2.\n \n   PNG_IMAGE_SAMPLE_SIZE(fmt)\n     This is the size of the sample data for one sample.  If the image is\n     color-mapped it is the size of one color-map entry (and image pixels are\n     one byte in size), otherwise it is the size of one image pixel.\n \n+  PNG_IMAGE_MAXIMUM_COLORMAP_COMPONENTS(fmt)\n+    The maximum size of the color-map required by the format expressed in a\n+    count of components.  This can be used to compile-time allocate a\n+    color-map:\n+\n+    png_uint_16 colormap[PNG_IMAGE_MAXIMUM_COLORMAP_COMPONENTS(linear_fmt)];\n+\n+    png_byte colormap[PNG_IMAGE_MAXIMUM_COLORMAP_COMPONENTS(sRGB_fmt)];\n+\n+    Alternatively use the PNG_IMAGE_COLORMAP_SIZE macro below to use the\n+    information from one of the png_image_begin_read_ APIs and dynamically\n+    allocate the required memory.\n+\n   PNG_IMAGE_COLORMAP_SIZE(fmt)\n    The size of the color-map required by the format; this is the size of the\n-   color-map buffer passed to the png_image_{read,write}_colormap APIs, it is\n+   color-map buffer passed to the png_image_{read,write}_colormap APIs. It is\n    a fixed number determined by the format so can easily be allocated on the\n    stack if necessary.\n \n-#define PNG_IMAGE_MAXIMUM_COLORMAP_COMPONENTS(fmt)\\\n-   (PNG_IMAGE_SAMPLE_CHANNELS(fmt) * 256)\n-   /* The maximum size of the color-map required by the format expressed in a\n-    * count of components.  This can be used to compile-time allocate a\n-    * color-map:\n-    *\n-    * png_uint_16 colormap[PNG_IMAGE_MAXIMUM_COLORMAP_COMPONENTS(linear_fmt)];\n-    *\n-    * png_byte colormap[PNG_IMAGE_MAXIMUM_COLORMAP_COMPONENTS(sRGB_fmt)];\n-    *\n-    * Alternatively use the PNG_IMAGE_COLORMAP_SIZE macro below to use the\n-    * information from one of the png_image_begin_read_ APIs and dynamically\n-    * allocate the required memory.\n-    */\n-\n-\n Corresponding information about the pixels\n \n-  PNG_IMAGE_PIXEL_(test,fmt)\n-\n   PNG_IMAGE_PIXEL_CHANNELS(fmt)\n    The number of separate channels (components) in a pixel; 1 for a\n    color-mapped image.\n@@ -3955,18 +3972,60 @@\n\n    row.  For a color-mapped image this is the minimum number of bytes in a\n    row.\n \n+   If you need the stride measured in bytes, row_stride_bytes is\n+   PNG_IMAGE_ROW_STRIDE(image) * PNG_IMAGE_PIXEL_COMPONENT_SIZE(fmt)\n+   plus any padding bytes that your application might need, for example\n+   to start the next row on a 4-byte boundary.\n+\n   PNG_IMAGE_BUFFER_SIZE(image, row_stride)\n-    Returns the size, in bytes, of an image buffer given a png_image and a row\n-    stride - the number of components to leave space for in each row.\n+   Return the size, in bytes, of an image buffer given a png_image and a row\n+   stride - the number of components to leave space for in each row.\n+\n+  PNG_IMAGE_SIZE(image)\n+   Return the size, in bytes, of the image in memory given just a png_image;\n+   the row stride is the minimum stride required for the image.\n+\n+  PNG_IMAGE_COLORMAP_SIZE(image)\n+   Return the size, in bytes, of the color-map of this image.  If the image\n+   format is not a color-map format this will return a size sufficient for\n+   256 entries in the given format; check PNG_FORMAT_FLAG_COLORMAP if\n+   you don't want to allocate a color-map in this case.\n+\n+PNG_IMAGE_FLAG_*\n+\n+Flags containing additional information about the image are held in\n+the 'flags' field of png_image.\n \n   PNG_IMAGE_FLAG_COLORSPACE_NOT_sRGB == 0x01\n     This indicates the the RGB values of the in-memory bitmap do not\n     correspond to the red, green and blue end-points defined by sRGB.\n \n-  PNG_IMAGE_FLAG_COLORMAP == 0x02\n-    The PNG is color-mapped.  If this flag is set png_image_read_colormap\n-    can be used without further loss of image information.  If it is not set\n-    png_image_read_colormap will cause significant loss if the image has any\n+  PNG_IMAGE_FLAG_FAST == 0x02\n+   On write emphasise speed over compression; the resultant PNG file will be\n+   larger but will be produced significantly faster, particular for large\n+   images.  Do not use this option for images which will be distributed, only\n+   used it when producing intermediate files that will be read back in\n+   repeatedly.  For a typical 24-bit image the option will double the read\n+   speed at the cost of increasing the image size by 25%, however for many\n+   more compressible images the PNG file can be 10 times larger with only a\n+   slight speed gain.\n+\n+  PNG_IMAGE_FLAG_16BIT_sRGB == 0x04\n+    On read if the image is a 16-bit per component image and there is no gAMA\n+    or sRGB chunk assume that the components are sRGB encoded.  Notice that\n+    images output by the simplified API always have gamma information; setting\n+    this flag only affects the interpretation of 16-bit images from an\n+    external source.  It is recommended that the application expose this flag\n+    to the user; the user can normally easily recognize the difference between\n+    linear and sRGB encoding.  This flag has no effect on write - the data\n+    passed to the write APIs must have the correct encoding (as defined\n+    above.)\n+\n+    If the flag is not set (the default) input 16-bit per component data is\n+    assumed to be linear.\n+\n+    NOTE: the flag can only be set after the png_image_begin_read_ call,\n+    because that call initializes the 'flags' field.\n \n READ APIs\n \n@@ -4057,10 +4116,11 @@\n\n \n With all APIs row_stride is handled as in the read APIs - it is the spacing\n from one row to the next in component sized units (float) and if negative\n-indicates a bottom-up row layout in the buffer.\n+indicates a bottom-up row layout in the buffer.  If you pass zero, libpng will\n+calculate the row_stride for you from the width and number of channels.\n \n Note that the write API does not support interlacing, sub-8-bit pixels,\n-and indexed (paletted) images.\n+indexed (paletted) images, or most ancillary chunks.\n \n VI. Modifying/Customizing libpng\n \n@@ -4086,14 +4146,11 @@\n\n is not the same as the calloc(number, size) function provided by stdlib.h.\n There is limited support for certain systems with segmented memory\n architectures and the types of pointers declared by png.h match this; you\n-will have to use appropriate pointers in your application.  Since it is\n-unlikely that the method of handling memory allocation on a platform\n-will change between applications, these functions must be modified in\n-the library at compile time.  If you prefer to use a different method\n-of allocating and freeing data, you can use png_create_read_struct_2() or\n-png_create_write_struct_2() to register your own functions as described\n-above.  These functions also provide a void pointer that can be retrieved\n-via\n+will have to use appropriate pointers in your application.  If you prefer\n+to use a different method of allocating and freeing data, you can use\n+png_create_read_struct_2() or png_create_write_struct_2() to register your\n+own functions as described above.  These functions also provide a void\n+pointer that can be retrieved via\n \n     mem_ptr=png_get_mem_ptr(png_ptr);\n \n@@ -4236,29 +4293,6 @@\n\n transformation to the one you want to add and copy off of it.  More details\n can be found in the comments inside the code itself.\n \n-Configuring for 16-bit platforms\n-\n-You will want to look into zconf.h to tell zlib (and thus libpng) that\n-it cannot allocate more then 64K at a time.  Even if you can, the memory\n-won't be accessible.  So limit zlib and libpng to 64K by defining MAXSEG_64K.\n-\n-Configuring for DOS\n-\n-For DOS users who only have access to the lower 640K, you will\n-have to limit zlib's memory usage via a png_set_compression_mem_level()\n-call.  See zlib.h or zconf.h in the zlib library for more information.\n-\n-Configuring for Medium Model\n-\n-Libpng's support for medium model has been tested on most of the popular\n-compilers.  Make sure MAXSEG_64K gets defined, USE_FAR_KEYWORD gets\n-defined, and FAR gets defined to far in pngconf.h, and you should be\n-all set.  Everything in the library (except for zlib's structure) is\n-expecting far data.  You must use the typedefs with the p or pp on\n-the end for pointers (or at least look at them and be careful).  Make\n-note that the rows of data are defined as png_bytepp, which is\n-an \""unsigned char far * far *\"".\n-\n Configuring for gui/windowing platforms:\n \n You will need to write new error and warning functions that use the GUI\n@@ -4268,18 +4302,6 @@\n\n They can be changed later via png_set_error_fn().  On some compilers,\n you may also have to change the memory allocators (png_malloc, etc.).\n \n-Configuring for compiler xxx:\n-\n-All includes for libpng are in pngconf.h.  If you need to add, change\n-or delete an include, this is the place to do it.\n-The includes that are not needed outside libpng are placed in pngpriv.h,\n-which is only used by the routines inside libpng itself.\n-The files in libpng proper only include pngpriv.h and png.h, which\n-in turn includes pngconf.h and, as of libpng-1.5.0, pnglibconf.h.\n-As of libpng-1.5.0, pngpriv.h also includes three other private header\n-files, pngstruct.h, pnginfo.h, and pngdebug.h, which contain material\n-that previously appeared in the public headers.\n-\n Configuring zlib:\n \n There are special functions to configure the compression.  Perhaps the\n@@ -4321,6 +4343,8 @@\n\n \n     png_set_compression_method(png_ptr, method);\n \n+This controls the size of the IDAT chunks (default 8192):\n+\n     png_set_compression_buffer_size(png_ptr, size);\n \n As of libpng version 1.5.4, additional APIs became\n@@ -4384,81 +4408,6 @@\n\n               same as the value of filter_method used\n               in png_set_IHDR().\n \n-It is also possible to influence how libpng chooses from among the\n-available filters.  This is done in one or both of two ways - by\n-telling it how important it is to keep the same filter for successive\n-rows, and by telling it the relative computational costs of the filters.\n-\n-    double weights[3] = {1.5, 1.3, 1.1},\n-       costs[PNG_FILTER_VALUE_LAST] =\n-       {1.0, 1.3, 1.3, 1.5, 1.7};\n-\n-    png_set_filter_heuristics(png_ptr,\n-       PNG_FILTER_HEURISTIC_WEIGHTED, 3,\n-       weights, costs);\n-\n-The weights are multiplying factors that indicate to libpng that the\n-row filter should be the same for successive rows unless another row filter\n-is that many times better than the previous filter.  In the above example,\n-if the previous 3 filters were SUB, SUB, NONE, the SUB filter could have a\n-\""sum of absolute differences\"" 1.5 x 1.3 times higher than other filters\n-and still be chosen, while the NONE filter could have a sum 1.1 times\n-higher than other filters and still be chosen.  Unspecified weights are\n-taken to be 1.0, and the specified weights should probably be declining\n-like those above in order to emphasize recent filters over older filters.\n-\n-The filter costs specify for each filter type a relative decoding cost\n-to be considered when selecting row filters.  This means that filters\n-with higher costs are less likely to be chosen over filters with lower\n-costs, unless their \""sum of absolute differences\"" is that much smaller.\n-The costs do not necessarily reflect the exact computational speeds of\n-the various filters, since this would unduly influence the final image\n-size.\n-\n-Note that the numbers above were invented purely for this example and\n-are given only to help explain the function usage.  Little testing has\n-been done to find optimum values for either the costs or the weights.\n-\n-Removing unwanted object code\n-\n-There are a bunch of #define's in pngconf.h that control what parts of\n-libpng are compiled.  All the defines end in _SUPPORTED.  If you are\n-never going to use a capability, you can change the #define to #undef\n-before recompiling libpng and save yourself code and data space, or\n-you can turn off individual capabilities with defines that begin with\n-PNG_NO_.\n-\n-In libpng-1.5.0 and later, the #define's are in pnglibconf.h instead.\n-\n-You can also turn all of the transforms and ancillary chunk capabilities\n-off en masse with compiler directives that define\n-PNG_NO_READ[or WRITE]_TRANSFORMS, or PNG_NO_READ[or WRITE]_ANCILLARY_CHUNKS,\n-or all four,\n-along with directives to turn on any of the capabilities that you do\n-want.  The PNG_NO_READ[or WRITE]_TRANSFORMS directives disable the extra\n-transformations but still leave the library fully capable of reading\n-and writing PNG files with all known public chunks. Use of the\n-PNG_NO_READ[or WRITE]_ANCILLARY_CHUNKS directive produces a library\n-that is incapable of reading or writing ancillary chunks.  If you are\n-not using the progressive reading capability, you can turn that off\n-with PNG_NO_PROGRESSIVE_READ (don't confuse this with the INTERLACING\n-capability, which you'll still have).\n-\n-All the reading and writing specific code are in separate files, so the\n-linker should only grab the files it needs.  However, if you want to\n-make sure, or if you are building a stand alone library, all the\n-reading files start with \""pngr\"" and all the writing files start with \""pngw\"".\n-The files that don't match either (like png.c, pngtrans.c, etc.)\n-are used for both reading and writing, and always need to be included.\n-The progressive reader is in pngpread.c\n-\n-If you are creating or distributing a dynamically linked library (a .so\n-or DLL file), you should not remove or disable any parts of the library,\n-as this will cause applications linked with different versions of the\n-library to fail if they call functions not available in your library.\n-The size of the library itself should not be an issue, because only\n-those sections that are actually used will be loaded into memory.\n-\n Requesting debug printout\n \n The macro definition PNG_DEBUG can be used to request debugging\n@@ -4496,17 +4445,6 @@\n\n having level = 0 will be printed.  There aren't any such statements in\n this version of libpng, but if you insert some they will be printed.\n \n-Prepending a prefix to exported symbols\n-\n-Starting with libpng-1.6.0, you can configure libpng (when using the\n-\""configure\"" script) to prefix all exported symbols by means of the\n-configuration option \""--with-libpng-prefix=FOO_\"", where FOO_ can be any\n-string beginning with a letter and containing only uppercase\n-and lowercase letters, digits, and the underscore (i.e., a C language\n-identifier).  This creates a set of macros in pnglibconf.h, so this is\n-transparent to applications; their function calls get transformed by\n-the macros to use the modified names.\n-\n VII.  MNG support\n \n The MNG specification (available at http://www.libpng.org/pub/mng) allows\n@@ -4833,8 +4771,6 @@\n\n bKGD chunk; you must check those separately to determine the maximum\n palette index actually used.\n \n-A. Changes that affect users of libpng\n-\n There are no substantial API changes between the non-deprecated parts of\n the 1.4.5 API and the 1.5.0 API; however, the ability to directly access\n members of the main libpng control structures, png_struct and png_info,\n@@ -4962,7 +4898,7 @@\n\n application calls to png_set_user_limits(), png_set_user_chunk_cache_max(),\n and/or png_set_user_malloc_max() that increase or decrease the limits.  Also,\n in libpng-1.5.10 the default width and height limits were increased\n-from 1,000,000 to 0x7ffffff (i.e., made unlimited).  Therefore, the\n+from 1,000,000 to 0x7fffffff (i.e., made unlimited).  Therefore, the\n limits are now\n                                default      safe\n    png_user_width_max        0x7fffffff    1,000,000\n@@ -4971,27 +4907,7 @@\n\n    png_user_chunk_malloc_max 0 (unlimited) 8,000,000\n \n The png_set_option() function (and the \""options\"" member of the png struct) was\n-added to libpng-1.5.15.\n-\n-B. Changes to the build and configuration of libpng\n-\n-Details of internal changes to the library code can be found in the CHANGES\n-file and in the GIT repository logs.  These will be of no concern to the vast\n-majority of library users or builders; however, the few who configure libpng\n-to a non-default feature set may need to change how this is done.\n-\n-There should be no need for library builders to alter build scripts if\n-these use the distributed build support - configure or the makefiles -\n-however, users of the makefiles may care to update their build scripts\n-to build pnglibconf.h where the corresponding makefile does not do so.\n-\n-Building libpng with a non-default configuration has changed completely.\n-The old method using pngusr.h should still work correctly even though the\n-way pngusr.h is used in the build has been changed; however, library\n-builders will probably want to examine the changes to take advantage of\n-new capabilities and to simplify their build system.\n-\n-B.1 Specific changes to library configuration capabilities\n+added to libpng-1.5.15, with option PNG_ARM_NEON.\n \n The library now supports a complete fixed point implementation and can\n thus be used on systems that have no floating point support or very\n@@ -5003,27 +4919,7 @@\n\n missing fixed point APIs have been implemented.\n \n The exact mechanism used to control attributes of API functions has\n-changed.  A single set of operating system independent macro definitions\n-is used and operating system specific directives are defined in\n-pnglibconf.h\n-\n-As part of this the mechanism used to choose procedure call standards on\n-those systems that allow a choice has been changed.  At present this only\n-affects certain Microsoft (DOS, Windows) and IBM (OS/2) operating systems\n-running on Intel processors.  As before, PNGAPI is defined where required\n-to control the exported API functions; however, two new macros, PNGCBAPI\n-and PNGCAPI, are used instead for callback functions (PNGCBAPI) and\n-(PNGCAPI) for functions that must match a C library prototype (currently\n-only png_longjmp_ptr, which must match the C longjmp function.)  The new\n-approach is documented in pngconf.h\n-\n-Despite these changes, libpng 1.5.0 only supports the native C function\n-calling standard on those platforms tested so far (__cdecl on Microsoft\n-Windows).  This is because the support requirements for alternative\n-calling conventions seem to no longer exist.  Developers who find it\n-necessary to set PNG_API_RULE to 1 should advise the mailing list\n-(png-mng-implement) of this and library builders who use Openwatcom and\n-therefore set PNG_API_RULE to 2 should also contact the mailing list.\n+changed, as described in the INSTALL file.\n \n A new test program, pngvalid, is provided in addition to pngtest.\n pngvalid validates the arithmetic accuracy of the gamma correction\n@@ -5099,46 +4995,6 @@\n\n to choose at app buildtime whether or not to use macros (previously\n impossible because the functions weren't in the default build.)\n \n-B.2 Changes to the configuration mechanism\n-\n-Prior to libpng-1.5.0 library builders who needed to configure libpng\n-had either to modify the exported pngconf.h header file to add system\n-specific configuration or had to write feature selection macros into\n-pngusr.h and cause this to be included into pngconf.h by defining\n-PNG_USER_CONFIG. The latter mechanism had the disadvantage that an\n-application built without PNG_USER_CONFIG defined would see the\n-unmodified, default, libpng API and thus would probably fail to link.\n-\n-These mechanisms still work in the configure build and in any makefile\n-build that builds pnglibconf.h, although the feature selection macros\n-have changed somewhat as described above.  In 1.5.0, however, pngusr.h is\n-processed only once, when the exported header file pnglibconf.h is built.\n-pngconf.h no longer includes pngusr.h, therefore pngusr.h is ignored after the\n-build of pnglibconf.h and it is never included in an application build.\n-\n-The rarely used alternative of adding a list of feature macros to the\n-CPPFLAGS setting in the build also still works; however, the macros will be\n-copied to pnglibconf.h and this may produce macro redefinition warnings\n-when the individual C files are compiled.\n-\n-All configuration now only works if pnglibconf.h is built from\n-scripts/pnglibconf.dfa.  This requires the program awk.  Brian Kernighan\n-(the original author of awk) maintains C source code of that awk and this\n-and all known later implementations (often called by subtly different\n-names - nawk and gawk for example) are adequate to build pnglibconf.h.\n-The Sun Microsystems (now Oracle) program 'awk' is an earlier version\n-and does not work; this may also apply to other systems that have a\n-functioning awk called 'nawk'.\n-\n-Configuration options are now documented in scripts/pnglibconf.dfa.  This\n-file also includes dependency information that ensures a configuration is\n-consistent; that is, if a feature is switched off dependent features are\n-also removed.  As a recommended alternative to using feature macros in\n-pngusr.h a system builder may also define equivalent options in pngusr.dfa\n-(or, indeed, any file) and add that to the configuration by setting\n-DFA_XTRA to the file name.  The makefiles in contrib/pngminim illustrate\n-how to do this, and a case where pngusr.h is still required.\n-\n XII.  Changes to Libpng from version 1.5.x to 1.6.x\n \n A \""simplified API\"" has been added (see documentation in png.h and a simple\n@@ -5193,15 +5049,34 @@\n\n    png_infop became png_inforp or png_const_inforp\n where \""rp\"" indicates a \""restricted pointer\"".\n \n+Dropped support for 16-bit platforms. The support for FAR/far types has\n+been eliminated and the definition of png_alloc_size_t is now controlled\n+by a flag so that 'small size_t' systems can select it if necessary.\n+\n Error detection in some chunks has improved; in particular the iCCP chunk\n reader now does pretty complete validation of the basic format.  Some bad\n profiles that were previously accepted are now accepted with a warning or\n-rejected, depending upon the png_set_benign_errors() setting, in particular the\n-very old broken Microsoft/HP 3144-byte sRGB profile.  The PNG spec requirement\n-that only grayscale profiles may appear in images with color type 0 or 4 and\n-that even if the image only contains gray pixels, only RGB profiles may appear\n-in images with color type 2, 3, or 6, is now enforced.  The sRGB chunk\n-is allowed to appear in images with any color type.\n+rejected, depending upon the png_set_benign_errors() setting, in particular\n+the very old broken Microsoft/HP 3144-byte sRGB profile.  Starting with\n+libpng-1.6.11, recognizing and checking sRGB profiles can be avoided by\n+means of\n+\n+    #if defined(PNG_SKIP_sRGB_CHECK_PROFILE) && \\\n+        defined(PNG_SET_OPTION_SUPPORTED)\n+       png_set_option(png_ptr, PNG_SKIP_sRGB_CHECK_PROFILE,\n+           PNG_OPTION_ON);\n+    #endif\n+\n+It's not a good idea to do this if you are using the \""simplified API\"",\n+which needs to be able to recognize sRGB profiles conveyed via the iCCP\n+chunk.\n+\n+The PNG spec requirement that only grayscale profiles may appear in images\n+with color type 0 or 4 and that even if the image only contains gray pixels,\n+only RGB profiles may appear in images with color type 2, 3, or 6, is now\n+enforced.  The sRGB chunk is allowed to appear in images with any color type\n+and is interpreted by libpng to convey a one-tracer-curve gray profile or a\n+three-tracer-curve RGB profile as appropriate.\n \n Prior to libpng-1.6.0 a warning would be issued if the iTXt chunk contained\n an empty language field or an empty translated keyword.  Both of these\n@@ -5235,22 +5110,44 @@\n\n stream to set the size of the sliding window for reading instead of using the\n default 32-kbyte sliding window size.  It was discovered that there are\n hundreds of PNG files in the wild that have incorrect CMF bytes that caused\n-libpng to issue a \""too far back\"" error and reject the file.  Libpng-1.6.3 and\n-later calculate their own safe CMF from the image dimensions, provide a way\n-to revert to the libpng-1.5.x behavior (ignoring the CMF bytes and using a\n-32-kbyte sliding window), by using\n+zlib to issue the \""invalid distance too far back\"" error and reject the file.\n+Libpng-1.6.3 and later calculate their own safe CMF from the image dimensions,\n+provide a way to revert to the libpng-1.5.x behavior (ignoring the CMF bytes\n+and using a 32-kbyte sliding window), by using\n \n     png_set_option(png_ptr, PNG_MAXIMUM_INFLATE_WINDOW,\n         PNG_OPTION_ON);\n \n-and provide a tool (contrib/tools/pngfix) for optimizing the CMF bytes\n-correctly.\n+and provide a tool (contrib/tools/pngfix) for rewriting a PNG file while\n+optimizing the CMF bytes in its IDAT chunk correctly.\n \n Libpng-1.6.0 and libpng-1.6.1 wrote uncompressed iTXt chunks with the wrong\n length, which resulted in PNG files that cannot be read beyond the bad iTXt\n chunk.  This error was fixed in libpng-1.6.3, and a tool (called\n contrib/tools/png-fix-itxt) has been added to the libpng distribution.\n \n+Starting with libpng-1.6.17, the PNG_SAFE_LIMITS macro was eliminated\n+and safe limits are used by default (users who need larger limits\n+can still override them at compile time or run time, as described above).\n+\n+The new limits are\n+                                default   spec limit\n+   png_user_width_max         1,000,000  2,147,483,647\n+   png_user_height_max        1,000,000  2,147,483,647\n+   png_user_chunk_cache_max         128  unlimited\n+   png_user_chunk_malloc_max  8,000,000  unlimited\n+\n+Starting with libpng-1.6.18, a PNG_RELEASE_BUILD macro was added, which allows\n+library builders to control compilation for an installed system (a release build).\n+It can be set for testing debug or beta builds to ensure that they will compile\n+when the build type is switched to RC or STABLE. In essence this overrides the\n+PNG_LIBPNG_BUILD_BASE_TYPE definition which is not directly user controllable.\n+\n+Starting with libpng-1.6.19, attempting to set an over-length PLTE chunk\n+is an error. Previously this requirement of the PNG specification was not\n+enforced, and the palette was always limited to 256 entries. An over-length\n+PLTE chunk found in an input PNG is silently truncated.\n+\n XIII.  Detecting libpng\n \n The png_get_io_ptr() function has been present since libpng-0.88, has never\n@@ -5286,7 +5183,8 @@\n\n \n XV. Coding style\n \n-Our coding style is similar to the \""Allman\"" style, with curly\n+Our coding style is similar to the \""Allman\"" style\n+(See http://en.wikipedia.org/wiki/Indent_style#Allman_style), with curly\n braces on separate lines:\n \n     if (condition)\n@@ -5366,12 +5264,15 @@\n\n  }\n \n The prototypes for non-exported functions (except for those in\n-pngtest) appear in\n-pngpriv.h\n-above the comment that says\n+pngtest) appear in pngpriv.h above the comment that says\n \n   /* Maintainer: Put new private prototypes here ^ */\n \n+To avoid polluting the global namespace, the names of all exported\n+functions and variables begin with \""png_\"", and all publicly visible C\n+preprocessor macros begin with \""PNG\"".  We request that applications that\n+use libpng *not* begin any of their own symbols with either of these strings.\n+\n We put a space after the \""sizeof\"" operator and we omit the\n optional parentheses around its argument when the argument\n is an expression, not a type name, and we always enclose the\n@@ -5383,10 +5284,8 @@\n\n Prior to libpng-1.6.0 we used a \""png_sizeof()\"" macro, formatted as\n though it were a function.\n \n-To avoid polluting the global namespace, the names of all exported\n-functions and variables begin with \""png_\"", and all publicly visible C\n-preprocessor macros begin with \""PNG\"".  We request that applications that\n-use libpng *not* begin any of their own symbols with either of these strings.\n+Control keywords if, for, while, and switch are always followed by a space\n+to distinguish them from function calls, which have no trailing space. \n \n We put a space after each comma and after each semicolon\n in \""for\"" statements, and we put spaces before and after each\n@@ -5402,12 +5301,17 @@\n\n when there is only one macro being tested.  We always use parentheses\n with \""defined\"".\n \n-We prefer to express integers that are used as bit masks in hex format,\n-with an even number of lower-case hex digits (e.g., 0x00, 0xff, 0x0100).\n+We express integer constants that are used as bit masks in hex format,\n+with an even number of lower-case hex digits, and to make them unsigned\n+(e.g., 0x00U, 0xffU, 0x0100U) and long if they are greater than 0x7fff\n+(e.g., 0xffffUL).\n \n-We prefer to use underscores in variable names rather than camelCase, except\n+We prefer to use underscores rather than camelCase in names, except\n for a few type names that we inherit from zlib.h.\n \n+We prefer \""if (something != 0)\"" and \""if (something == 0)\""\n+over \""if (something)\"" and if \""(!something)\"", respectively.\n+\n We do not use the TAB character for indentation in the C sources.\n \n Lines do not exceed 80 characters.\n@@ -5416,13 +5320,11 @@\n\n \n XVI. Y2K Compliance in libpng\n \n-March 6, 2014\n-\n Since the PNG Development group is an ad-hoc body, we can't make\n an official declaration.\n \n This is your unofficial assurance that libpng from version 0.71 and\n-upward through 1.6.10 are Y2K compliant.  It is my belief that earlier\n+upward through 1.6.20 are Y2K compliant.  It is my belief that earlier\n versions were also Y2K compliant.\n \n Libpng only has two year fields.  One is a 2-byte unsigned integer\n@@ -5438,8 +5340,9 @@\n\n \n There are seven time-related functions:\n \n-    png_convert_to_rfc_1123() in png.c\n-      (formerly png_convert_to_rfc_1152() in error)\n+    png_convert_to_rfc_1123_buffer() in png.c\n+      (formerly png_convert_to_rfc_1152() in error, and\n+      also formerly png_convert_to_rfc_1123())\n     png_convert_from_struct_tm() in pngwrite.c, called\n       in pngwrite.c\n     png_convert_from_time_t() in pngwrite.c\n""}<_**next**_>{""filename"": ""libpng.3"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/libpng.3"", ""patch"": ""@@ -1,6 +1,6 @@\n\n-.TH LIBPNG 3 \""March 6, 2014\""\n+.TH LIBPNG 3 \""December 3, 2015\""\n .SH NAME\n-libpng \\- Portable Network Graphics (PNG) Reference Library 1.6.10\n+libpng \\- Portable Network Graphics (PNG) Reference Library 1.6.20\n .SH SYNOPSIS\n \\fB\n #include <png.h>\\fP\n@@ -119,6 +119,8 @@\n\n \n \\fBpng_byte png_get_libpng_ver (png_const_structp \\fIpng_ptr\\fP\\fB);\\fP\n \n+\\fBint png_get_palette_max(png_const_structp \\fP\\fIpng_ptr\\fP\\fB, png_const_infop \\fIinfo_ptr\\fP\\fB);\\fP\n+\n \\fBpng_voidp png_get_mem_ptr (png_const_structp \\fIpng_ptr\\fP\\fB);\\fP\n \n \\fBpng_uint_32 png_get_oFFs (png_const_structp \\fP\\fIpng_ptr\\fP\\fB, png_const_infop \\fP\\fIinfo_ptr\\fP\\fB, png_uint_32 \\fP\\fI*offset_x\\fP\\fB, png_uint_32 \\fP\\fI*offset_y\\fP\\fB, int \\fI*unit_type\\fP\\fB);\\fP\n@@ -369,6 +371,8 @@\n\n \n \\fBvoid png_set_oFFs (png_structp \\fP\\fIpng_ptr\\fP\\fB, png_infop \\fP\\fIinfo_ptr\\fP\\fB, png_uint_32 \\fP\\fIoffset_x\\fP\\fB, png_uint_32 \\fP\\fIoffset_y\\fP\\fB, int \\fIunit_type\\fP\\fB);\\fP\n \n+\\fBint png_set_option(png_structrp \\fP\\fIpng_ptr\\fP\\fB, int \\fP\\fIoption\\fP\\fB, int \\fIonoff\\fP\\fB);\\fP\n+\n \\fBvoid png_set_packing (png_structp \\fIpng_ptr\\fP\\fB);\\fP\n \n \\fBvoid png_set_packswap (png_structp \\fIpng_ptr\\fP\\fB);\\fP\n@@ -504,10 +508,10 @@\n\n .SH LIBPNG.TXT\n libpng-manual.txt - A description on how to use and modify libpng\n \n- libpng version 1.6.10 - March 6, 2014\n+ libpng version 1.6.20 - December 3, 2015\n  Updated and distributed by Glenn Randers-Pehrson\n  <glennrp at users.sourceforge.net>\n- Copyright (c) 1998-2014 Glenn Randers-Pehrson\n+ Copyright (c) 1998-2015 Glenn Randers-Pehrson\n \n  This document is released under the libpng license.\n  For conditions of distribution and use, see the disclaimer\n@@ -515,15 +519,15 @@\n\n \n  Based on:\n \n- libpng versions 0.97, January 1998, through 1.6.10 - March 6, 2014\n+ libpng versions 0.97, January 1998, through 1.6.20 - December 3, 2015\n  Updated and distributed by Glenn Randers-Pehrson\n- Copyright (c) 1998-2014 Glenn Randers-Pehrson\n+ Copyright (c) 1998-2015 Glenn Randers-Pehrson\n \n- libpng 1.0 beta 6  version 0.96 May 28, 1997\n+ libpng 1.0 beta 6 - version 0.96 - May 28, 1997\n  Updated and distributed by Andreas Dilger\n  Copyright (c) 1996, 1997 Andreas Dilger\n \n- libpng 1.0 beta 2 - version 0.88  January 26, 1996\n+ libpng 1.0 beta 2 - version 0.88 - January 26, 1996\n  For conditions of distribution and use, see copyright\n  notice in png.h. Copyright (c) 1995, 1996 Guy Eric\n  Schalnat, Group 42, Inc.\n@@ -558,7 +562,7 @@\n\n file, example.c is a good starting point for using the library, as\n it is heavily commented and should include everything most people\n will need.  We assume that libpng is already installed; see the\n-INSTALL file for instructions on how to install libpng.\n+INSTALL file for instructions on how to configure and install libpng.\n \n For examples of libpng usage, see the files \""example.c\"", \""pngtest.c\"",\n and the files in the \""contrib\"" directory, all of which are included in\n@@ -574,15 +578,16 @@\n\n The W3C and ISO documents have identical technical content.\n \n The PNG-1.2 specification is available at\n-<http://www.libpng.org/pub/png/documents/>.  It is technically equivalent\n+<http://png-mng.sourceforge.net/pub/png/spec/1.2/>.\n+It is technically equivalent\n to the PNG specification (second edition) but has some additional material.\n \n-The PNG-1.0 specification is available\n-as RFC 2083 <http://www.libpng.org/pub/png/documents/> and as a\n-W3C Recommendation <http://www.w3.org/TR/REC.png.html>.\n+The PNG-1.0 specification is available as RFC 2083 \n+<http://png-mng.sourceforge.net/pub/png/spec/1.0/> and as a\n+W3C Recommendation <http://www.w3.org/TR/REC-png-961001>.\n \n Some additional chunks are described in the special-purpose public chunks\n-documents at <http://www.libpng.org/pub/png/documents/>.\n+documents at <http://www.libpng.org/pub/png/spec/register/>\n \n Other information\n about PNG, and the latest version of libpng, can be found at the PNG home\n@@ -604,7 +609,7 @@\n\n \n Libpng uses zlib for its compression and decompression of PNG files.\n Further information about zlib, and the latest version of zlib, can\n-be found at the zlib home page, <http://www.info-zip.org/pub/infozip/zlib/>.\n+be found at the zlib home page, <http://zlib.net/>.\n The zlib compression utility is a general purpose utility that is\n useful for more than PNG files, and can be used without libpng.\n See the documentation delivered with zlib for more details.\n@@ -840,7 +845,7 @@\n\n \n If you are intending to keep the file pointer open for use in libpng,\n you must ensure you don't read more than 8 bytes from the beginning\n-of the file, and you also have to make a call to png_set_sig_bytes_read()\n+of the file, and you also have to make a call to png_set_sig_bytes()\n with the number of bytes you read from the beginning.  Libpng will\n then only check the bytes (if any) that your program didn't read.\n \n@@ -848,22 +853,23 @@\n\n to replace them with custom functions.  See the discussion under\n Customizing libpng.\n \n-\n     FILE *fp = fopen(file_name, \""rb\"");\n     if (!fp)\n     {\n        return (ERROR);\n     }\n \n-    fread(header, 1, number, fp);\n-    is_png = !png_sig_cmp(header, 0, number);\n+    if (fread(header, 1, number, fp) != number)\n+    {\n+       return (ERROR);\n+    }\n \n+    is_png = !png_sig_cmp(header, 0, number);\n     if (!is_png)\n     {\n        return (NOT_PNG);\n     }\n \n-\n Next, png_struct and png_info need to be allocated and initialized.  In\n order to ensure that the size of these structures is correct even with a\n dynamically linked libpng, there are functions to initialize and\n@@ -1152,15 +1158,13 @@\n\n \n The PNG specification allows the width and height of an image to be as\n large as 2^(31\\-1 (0x7fffffff), or about 2.147 billion rows and columns.\n-Since very few applications really need to process such large images,\n-we have imposed an arbitrary 1-million limit on rows and columns.\n+For safety, libpng imposes a default limit of 1 million rows and columns.\n Larger images will be rejected immediately with a png_error() call. If\n-you wish to change this limit, you can use\n+you wish to change these limits, you can use\n \n    png_set_user_limits(png_ptr, width_max, height_max);\n \n-to set your own limits, or use width_max = height_max = 0x7fffffffL\n-to allow all valid dimensions (libpng may reject some very large images\n+to set your own limits (libpng may reject some very wide images\n anyway because of potential buffer overflow conditions).\n \n You should put this statement after you create the PNG structure and\n@@ -1175,8 +1179,11 @@\n\n    height_max = png_get_user_height_max(png_ptr);\n \n The PNG specification sets no limit on the number of ancillary chunks\n-allowed in a PNG datastream.  You can impose a limit on the total number\n-of sPLT, tEXt, iTXt, zTXt, and unknown chunks that will be stored, with\n+allowed in a PNG datastream.  By default, libpng imposes a limit of\n+a total of 1000 sPLT, tEXt, iTXt, zTXt, and unknown chunks to be stored.\n+If you have set up both info_ptr and end_info_ptr, the limit applies\n+separately to each.  You can change the limit on the total number of such\n+chunks that will be stored, with\n \n    png_set_chunk_cache_max(png_ptr, user_chunk_cache_max);\n \n@@ -1184,8 +1191,9 @@\n\n \n    chunk_cache_max = png_get_chunk_cache_max(png_ptr);\n \n-You can also set a limit on the amount of memory that a compressed chunk\n-other than IDAT can occupy, with\n+Libpng imposes a limit of 8 Megabytes (8,000,000 bytes) on the amount of\n+memory that a compressed chunk other than IDAT can occupy, when decompressed.\n+You can change this limit with\n \n    png_set_chunk_malloc_max(png_ptr, user_chunk_malloc_max);\n \n@@ -1771,13 +1779,13 @@\n\n                      the PNG datastream is embedded in\n                      a MNG-1.0 datastream)\n \n-    Any or all of interlace_type, compression_type, or\n-    filter_method can be NULL if you are\n-    not interested in their values.\n+    Any of width, height, color_type, bit_depth,\n+    interlace_type, compression_type, or filter_method can\n+    be NULL if you are not interested in their values.\n \n     Note that png_get_IHDR() returns 32-bit data into\n     the application's width and height variables.\n-    This is an unsafe situation if these are 16-bit\n+    This is an unsafe situation if these are not png_uint_32\n     variables.  In such situations, the\n     png_get_image_width() and png_get_image_height()\n     functions described below are safer.\n@@ -2185,15 +2193,16 @@\n\n Data will be decoded into the supplied row buffers packed into bytes\n unless the library has been told to transform it into another format.\n For example, 4 bit/pixel paletted or grayscale data will be returned\n-2 pixels/byte with the leftmost pixel in the high-order bits of the\n-byte, unless png_set_packing() is called.  8-bit RGB data will be stored\n+2 pixels/byte with the leftmost pixel in the high-order bits of the byte,\n+unless png_set_packing() is called.  8-bit RGB data will be stored\n in RGB RGB RGB format unless png_set_filler() or png_set_add_alpha()\n is called to insert filler bytes, either before or after each RGB triplet.\n+\n 16-bit RGB data will be returned RRGGBB RRGGBB, with the most significant\n byte of the color value first, unless png_set_scale_16() is called to\n transform it to regular RGB RGB triplets, or png_set_filler() or\n-png_set_add alpha() is called to insert filler bytes, either before or\n-after each RRGGBB triplet.  Similarly, 8-bit or 16-bit grayscale data can\n+png_set_add alpha() is called to insert two filler bytes, either before\n+or after each RRGGBB triplet.  Similarly, 8-bit or 16-bit grayscale data can\n be modified with png_set_filler(), png_set_add_alpha(), png_set_strip_16(),\n or png_set_scale_16().\n \n@@ -2350,12 +2359,13 @@\n\n     if (color_type == PNG_COLOR_TYPE_RGB)\n        png_set_filler(png_ptr, filler, PNG_FILLER_BEFORE);\n \n-where \""filler\"" is the 8 or 16-bit number to fill with, and the location is\n-either PNG_FILLER_BEFORE or PNG_FILLER_AFTER, depending upon whether\n-you want the filler before the RGB or after.  This transformation\n-does not affect images that already have full alpha channels.  To add an\n-opaque alpha channel, use filler=0xff or 0xffff and PNG_FILLER_AFTER which\n-will generate RGBA pixels.\n+where \""filler\"" is the 8-bit or 16-bit number to fill with, and the location\n+is either PNG_FILLER_BEFORE or PNG_FILLER_AFTER, depending upon whether\n+you want the filler before the RGB or after. When filling an 8-bit pixel,\n+the least significant 8 bits of the number are used, if a 16-bit number is\n+supplied.  This transformation does not affect images that already have full\n+alpha channels.  To add an opaque alpha channel, use filler=0xffff and\n+PNG_FILLER_AFTER which will generate RGBA pixels.\n \n Note that png_set_filler() does not change the color type.  If you want\n to do that, you can add a true alpha channel with\n@@ -2365,7 +2375,7 @@\n\n        png_set_add_alpha(png_ptr, filler, PNG_FILLER_AFTER);\n \n where \""filler\"" contains the alpha value to assign to each pixel.\n-This function was added in libpng-1.2.7.\n+The png_set_add_alpha() function was added in libpng-1.2.7.\n \n If you are reading an image with an alpha channel, and you need the\n data as ARGB instead of the normal PNG format RGBA:\n@@ -2423,9 +2433,9 @@\n\n The default values come from the PNG file cHRM chunk if present; otherwise, the\n defaults correspond to the ITU-R recommendation 709, and also the sRGB color\n space, as recommended in the Charles Poynton's Colour FAQ,\n-<http://www.poynton.com/>, in section 9:\n+Copyright (c) 2006-11-28 Charles Poynton, in section 9:\n \n-   <http://www.poynton.com/notes/colour_and_gamma/ColorFAQ.html#RTFToC9>\n+<http://www.poynton.com/notes/colour_and_gamma/ColorFAQ.html#RTFToC9>\n \n     Y = 0.2126 * R + 0.7152 * G + 0.0722 * B\n \n@@ -2500,7 +2510,7 @@\n\n       png_set_gamma(png_ptr, screen_gamma, 0.45455);\n \n If you need to reduce an RGB file to a paletted file, or if a paletted\n-file has more entries then will fit on your screen, png_set_quantize()\n+file has more entries than will fit on your screen, png_set_quantize()\n will do that.  Note that this is a simple match quantization that merely\n finds the closest color available.  This should work fairly well with\n optimized palettes, but fairly badly with linear color cubes.  If you\n@@ -3053,7 +3063,7 @@\n\n        64K.  The library seems to run fine with sizes\n        of 4K. Although you can give it much less if\n        necessary (I assume you can give it chunks of\n-       1 byte, I haven't tried less then 256 bytes\n+       1 byte, I haven't tried less than 256 bytes\n        yet).  When this function returns, you may\n        want to display any rows that were generated\n        in the row callback if you don't already do\n@@ -3140,7 +3150,7 @@\n\n         png_progressive_combine_row(png_ptr, old_row,\n           new_row);\n \n-    /* where old_row is what was displayed for\n+    /* where old_row is what was displayed\n        previously for the row.  Note that the first\n        pass (pass == 0, really) will completely cover\n        the old row, so the rows do not have to be\n@@ -3458,6 +3468,7 @@\n\n                      (array of png_color)\n     num_palette    - number of entries in the palette\n \n+\n     png_set_gAMA(png_ptr, info_ptr, file_gamma);\n     png_set_gAMA_fixed(png_ptr, info_ptr, int_file_gamma);\n \n@@ -3765,7 +3776,7 @@\n\n although this isn't a requirement.  Unlike the tIME chunk, the\n \""Creation Time\"" tEXt chunk is not expected to be automatically changed\n by the software.  To facilitate the use of RFC 1123 dates, a function\n-png_convert_to_rfc1123_buffer(png_ptr, buffer, png_timep) is provided to\n+png_convert_to_rfc1123_buffer(buffer, png_timep) is provided to\n convert from PNG time to an RFC 1123 format string.  The caller must provide\n a writeable buffer of at least 29 bytes.\n \n@@ -4222,21 +4233,26 @@\n\n \n To read a PNG file using the simplified API:\n \n-  1) Declare a 'png_image' structure (see below) on the\n-     stack and memset() it to all zero.\n+  1) Declare a 'png_image' structure (see below) on the stack, set the\n+     version field to PNG_IMAGE_VERSION and the 'opaque' pointer to NULL\n+     (this is REQUIRED, your program may crash if you don't do it.)\n \n   2) Call the appropriate png_image_begin_read... function.\n \n-  3) Set the png_image 'format' member to the required\n-     format and allocate a buffer for the image.\n+  3) Set the png_image 'format' member to the required sample format.\n \n-  4) Call png_image_finish_read to read the image into\n-     your buffer.\n+  4) Allocate a buffer for the image and, if required, the color-map.\n+\n+  5) Call png_image_finish_read to read the image and, if required, the\n+     color-map into your buffers.\n \n There are no restrictions on the format of the PNG input itself; all valid\n color types, bit depths, and interlace methods are acceptable, and the\n input image is transformed as necessary to the requested in-memory format\n-during the png_image_finish_read() step.\n+during the png_image_finish_read() step.  The only caveat is that if you\n+request a color-mapped image from a PNG that is full-color or makes\n+complex use of an alpha channel the transformation is extremely lossy and the\n+result may look terrible.\n \n To write a PNG file using the simplified API:\n \n@@ -4245,34 +4261,35 @@\n\n \n   2) Initialize the members of the structure that describe the\n      image, setting the 'format' member to the format of the\n-     image in memory.\n+     image samples.\n \n   3) Call the appropriate png_image_write... function with a\n-     pointer to the image to write the PNG data.\n+     pointer to the image and, if necessary, the color-map to write\n+     the PNG data.\n \n png_image is a structure that describes the in-memory format of an image\n-when it is being read or define the in-memory format of an image that you\n+when it is being read or defines the in-memory format of an image that you\n need to write.  The \""png_image\"" structure contains the following members:\n \n+   png_controlp opaque  Initialize to NULL, free with png_image_free\n    png_uint_32  version Set to PNG_IMAGE_VERSION\n    png_uint_32  width   Image width in pixels (columns)\n    png_uint_32  height  Image height in pixels (rows)\n    png_uint_32  format  Image format as defined below\n    png_uint_32  flags   A bit mask containing informational flags\n-   png_controlp opaque  Initialize to NULL, free with png_image_free\n    png_uint_32  colormap_entries; Number of entries in the color-map\n    png_uint_32  warning_or_error;\n    char         message[64];\n \n-In the event of an error or warning the following field warning_or_error\n+In the event of an error or warning the \""warning_or_error\""\n field will be set to a non-zero value and the 'message' field will contain\n a '\\0' terminated string with the libpng error or warning message.  If both\n warnings and an error were encountered, only the error is recorded.  If there\n are multiple warnings, only the first one is recorded.\n \n-The upper 30 bits of this value are reserved; the low two bits contain\n-a two bit code such that a value more than 1 indicates a failure in the API\n-just called:\n+The upper 30 bits of the \""warning_or_error\"" value are reserved; the low two\n+bits contain a two bit code such that a value more than 1 indicates a failure\n+in the API just called:\n \n    0 - no warning or error\n    1 - warning\n@@ -4297,92 +4314,103 @@\n\n The color/gray channels are not scaled (pre-multiplied) by the alpha\n channel and are suitable for passing to color management software.\n \n-  b) As a value in the range 0..65535, contained in a 2-byte integer.  All\n-channels can be converted to the original value by dividing by 65535; all\n+  b) As a value in the range 0..65535, contained in a 2-byte integer, in\n+the native byte order of the platform on which the application is running.\n+All channels can be converted to the original value by dividing by 65535; all\n channels are linear.  Color channels use the RGB encoding (RGB end-points) of\n the sRGB specification.  This encoding is identified by the\n PNG_FORMAT_FLAG_LINEAR flag below.\n \n+When the simplified API needs to convert between sRGB and linear colorspaces,\n+the actual sRGB transfer curve defined in the sRGB specification (see the\n+article at http://en.wikipedia.org/wiki/SRGB) is used, not the gamma=1/2.2\n+approximation used elsewhere in libpng.\n+\n When an alpha channel is present it is expected to denote pixel coverage\n of the color or luminance channels and is returned as an associated alpha\n channel: the color/gray channels are scaled (pre-multiplied) by the alpha\n value.\n \n-When a color-mapped image is used as a result of calling\n-png_image_read_colormap or png_image_write_colormap the channels are encoded\n-in the color-map and the descriptions above apply to the color-map entries.\n-The image data is encoded as small integers, value 0..255, that index the\n-entries in the color-map.  One integer (one byte) is stored for each pixel.\n+The samples are either contained directly in the image data, between 1 and 8\n+bytes per pixel according to the encoding, or are held in a color-map indexed\n+by bytes in the image data.  In the case of a color-map the color-map entries\n+are individual samples, encoded as above, and the image data has one byte per\n+pixel to select the relevant sample from the color-map.\n \n PNG_FORMAT_*\n \n The #defines to be used in png_image::format.  Each #define identifies a\n particular layout of channel data and, if present, alpha values.  There are\n-separate defines for each of the two channel encodings.\n+separate defines for each of the two component encodings.\n \n-A format is built up using single bit flag values.  Not all combinations are\n-valid: use the bit flag values below for testing a format returned by the\n-read APIs, but set formats from the derived values.\n+A format is built up using single bit flag values.  All combinations are\n+valid.  Formats can be built up from the flag values or you can use one of\n+the predefined values below.  When testing formats always use the FORMAT_FLAG\n+macros to test for individual features - future versions of the library may\n+add new flags.\n \n When reading or writing color-mapped images the format should be set to the\n format of the entries in the color-map then png_image_{read,write}_colormap\n called to read or write the color-map and set the format correctly for the\n image data.  Do not set the PNG_FORMAT_FLAG_COLORMAP bit directly!\n \n-NOTE: libpng can be built with particular features disabled, if you see\n+NOTE: libpng can be built with particular features disabled. If you see\n compiler errors because the definition of one of the following flags has been\n compiled out it is because libpng does not have the required support.  It is\n possible, however, for the libpng configuration to enable the format on just\n-read or just write; in that case you may see an error at run time.  You can\n-guard against this by checking for the definition of:\n+read or just write; in that case you may see an error at run time.\n+You can guard against this by checking for the definition of the\n+appropriate \""_SUPPORTED\"" macro, one of:\n \n    PNG_SIMPLIFIED_{READ,WRITE}_{BGR,AFIRST}_SUPPORTED\n \n-   PNG_FORMAT_FLAG_ALPHA    0x01 format with an alpha channel\n-   PNG_FORMAT_FLAG_COLOR    0x02 color format: otherwise grayscale\n-   PNG_FORMAT_FLAG_LINEAR   0x04 png_uint_16 channels else png_byte\n-   PNG_FORMAT_FLAG_COLORMAP 0x08 libpng use only\n-   PNG_FORMAT_FLAG_BGR      0x10 BGR colors, else order is RGB\n-   PNG_FORMAT_FLAG_AFIRST   0x20 alpha channel comes first\n+   PNG_FORMAT_FLAG_ALPHA    format with an alpha channel\n+   PNG_FORMAT_FLAG_COLOR    color format: otherwise grayscale\n+   PNG_FORMAT_FLAG_LINEAR   2-byte channels else 1-byte\n+   PNG_FORMAT_FLAG_COLORMAP image data is color-mapped\n+   PNG_FORMAT_FLAG_BGR      BGR colors, else order is RGB\n+   PNG_FORMAT_FLAG_AFIRST   alpha channel comes first\n \n Supported formats are as follows.  Future versions of libpng may support more\n formats; for compatibility with older versions simply check if the format\n macro is defined using #ifdef.  These defines describe the in-memory layout\n of the components of the pixels of the image.\n \n-First the single byte formats:\n+First the single byte (sRGB) formats:\n \n-   PNG_FORMAT_GRAY 0\n-   PNG_FORMAT_GA   PNG_FORMAT_FLAG_ALPHA\n-   PNG_FORMAT_AG   (PNG_FORMAT_GA|PNG_FORMAT_FLAG_AFIRST)\n-   PNG_FORMAT_RGB  PNG_FORMAT_FLAG_COLOR\n-   PNG_FORMAT_BGR  (PNG_FORMAT_FLAG_COLOR|PNG_FORMAT_FLAG_BGR)\n-   PNG_FORMAT_RGBA (PNG_FORMAT_RGB|PNG_FORMAT_FLAG_ALPHA)\n-   PNG_FORMAT_ARGB (PNG_FORMAT_RGBA|PNG_FORMAT_FLAG_AFIRST)\n-   PNG_FORMAT_BGRA (PNG_FORMAT_BGR|PNG_FORMAT_FLAG_ALPHA)\n-   PNG_FORMAT_ABGR (PNG_FORMAT_BGRA|PNG_FORMAT_FLAG_AFIRST)\n+   PNG_FORMAT_GRAY\n+   PNG_FORMAT_GA\n+   PNG_FORMAT_AG\n+   PNG_FORMAT_RGB\n+   PNG_FORMAT_BGR\n+   PNG_FORMAT_RGBA\n+   PNG_FORMAT_ARGB\n+   PNG_FORMAT_BGRA\n+   PNG_FORMAT_ABGR\n \n Then the linear 2-byte formats.  When naming these \""Y\"" is used to\n indicate a luminance (gray) channel.  The component order within the pixel\n is always the same - there is no provision for swapping the order of the\n-components in the linear format.\n+components in the linear format.  The components are 16-bit integers in\n+the native byte order for your platform, and there is no provision for\n+swapping the bytes to a different endian condition.\n \n-   PNG_FORMAT_LINEAR_Y PNG_FORMAT_FLAG_LINEAR\n+   PNG_FORMAT_LINEAR_Y\n    PNG_FORMAT_LINEAR_Y_ALPHA\n-      (PNG_FORMAT_FLAG_LINEAR|PNG_FORMAT_FLAG_ALPHA)\n    PNG_FORMAT_LINEAR_RGB\n-      (PNG_FORMAT_FLAG_LINEAR|PNG_FORMAT_FLAG_COLOR)\n    PNG_FORMAT_LINEAR_RGB_ALPHA\n-      (PNG_FORMAT_FLAG_LINEAR|PNG_FORMAT_FLAG_COLOR|\n-      PNG_FORMAT_FLAG_ALPHA)\n \n-Color-mapped formats are obtained by calling png_image_{read,write}_colormap,\n-as appropriate after setting png_image::format to the format of the color-map\n-to be read or written.  Applications may check the value of\n-PNG_FORMAT_FLAG_COLORMAP to see if they have called the colormap API.  The\n-format of the color-map may be extracted using the following macro.\n+With color-mapped formats the image data is one byte for each pixel. The byte\n+is an index into the color-map which is formatted as above.  To obtain a\n+color-mapped format it is sufficient just to add the PNG_FOMAT_FLAG_COLORMAP\n+to one of the above definitions, or you can use one of the definitions below.\n \n-   PNG_FORMAT_OF_COLORMAP(fmt) ((fmt) & ~PNG_FORMAT_FLAG_COLORMAP)\n+   PNG_FORMAT_RGB_COLORMAP\n+   PNG_FORMAT_BGR_COLORMAP\n+   PNG_FORMAT_RGBA_COLORMAP\n+   PNG_FORMAT_ARGB_COLORMAP\n+   PNG_FORMAT_BGRA_COLORMAP\n+   PNG_FORMAT_ABGR_COLORMAP\n \n PNG_IMAGE macros\n \n@@ -4390,9 +4418,9 @@\n\n structure.  The PNG_IMAGE_SAMPLE_ macros return values appropriate to the\n actual image sample values - either the entries in the color-map or the\n pixels in the image.  The PNG_IMAGE_PIXEL_ macros return corresponding values\n-for the pixels and will always return 1 after a call to\n-png_image_{read,write}_colormap.  The remaining macros return information\n-about the rows in the image and the complete image.\n+for the pixels and will always return 1 for color-mapped formats.  The\n+remaining macros return information about the rows in the image and the\n+complete image.\n \n NOTE: All the macros that take a png_image::format parameter are compile time\n constants if the format parameter is, itself, a constant.  Therefore these\n@@ -4400,46 +4428,39 @@\n\n Similarly the macros are also pre-processor constants (sizeof is not used) so\n they can be used in #if tests.\n \n-First the information about the samples.\n-\n   PNG_IMAGE_SAMPLE_CHANNELS(fmt)\n     Returns the total number of channels in a given format: 1..4\n \n   PNG_IMAGE_SAMPLE_COMPONENT_SIZE(fmt)\n     Returns the size in bytes of a single component of a pixel or color-map\n-    entry (as appropriate) in the image.\n+    entry (as appropriate) in the image: 1 or 2.\n \n   PNG_IMAGE_SAMPLE_SIZE(fmt)\n     This is the size of the sample data for one sample.  If the image is\n     color-mapped it is the size of one color-map entry (and image pixels are\n     one byte in size), otherwise it is the size of one image pixel.\n \n+  PNG_IMAGE_MAXIMUM_COLORMAP_COMPONENTS(fmt)\n+    The maximum size of the color-map required by the format expressed in a\n+    count of components.  This can be used to compile-time allocate a\n+    color-map:\n+\n+    png_uint_16 colormap[PNG_IMAGE_MAXIMUM_COLORMAP_COMPONENTS(linear_fmt)];\n+\n+    png_byte colormap[PNG_IMAGE_MAXIMUM_COLORMAP_COMPONENTS(sRGB_fmt)];\n+\n+    Alternatively use the PNG_IMAGE_COLORMAP_SIZE macro below to use the\n+    information from one of the png_image_begin_read_ APIs and dynamically\n+    allocate the required memory.\n+\n   PNG_IMAGE_COLORMAP_SIZE(fmt)\n    The size of the color-map required by the format; this is the size of the\n-   color-map buffer passed to the png_image_{read,write}_colormap APIs, it is\n+   color-map buffer passed to the png_image_{read,write}_colormap APIs. It is\n    a fixed number determined by the format so can easily be allocated on the\n    stack if necessary.\n \n-#define PNG_IMAGE_MAXIMUM_COLORMAP_COMPONENTS(fmt)\\\n-   (PNG_IMAGE_SAMPLE_CHANNELS(fmt) * 256)\n-   /* The maximum size of the color-map required by the format expressed in a\n-    * count of components.  This can be used to compile-time allocate a\n-    * color-map:\n-    *\n-    * png_uint_16 colormap[PNG_IMAGE_MAXIMUM_COLORMAP_COMPONENTS(linear_fmt)];\n-    *\n-    * png_byte colormap[PNG_IMAGE_MAXIMUM_COLORMAP_COMPONENTS(sRGB_fmt)];\n-    *\n-    * Alternatively use the PNG_IMAGE_COLORMAP_SIZE macro below to use the\n-    * information from one of the png_image_begin_read_ APIs and dynamically\n-    * allocate the required memory.\n-    */\n-\n-\n Corresponding information about the pixels\n \n-  PNG_IMAGE_PIXEL_(test,fmt)\n-\n   PNG_IMAGE_PIXEL_CHANNELS(fmt)\n    The number of separate channels (components) in a pixel; 1 for a\n    color-mapped image.\n@@ -4459,18 +4480,60 @@\n\n    row.  For a color-mapped image this is the minimum number of bytes in a\n    row.\n \n+   If you need the stride measured in bytes, row_stride_bytes is\n+   PNG_IMAGE_ROW_STRIDE(image) * PNG_IMAGE_PIXEL_COMPONENT_SIZE(fmt)\n+   plus any padding bytes that your application might need, for example\n+   to start the next row on a 4-byte boundary.\n+\n   PNG_IMAGE_BUFFER_SIZE(image, row_stride)\n-    Returns the size, in bytes, of an image buffer given a png_image and a row\n-    stride - the number of components to leave space for in each row.\n+   Return the size, in bytes, of an image buffer given a png_image and a row\n+   stride - the number of components to leave space for in each row.\n+\n+  PNG_IMAGE_SIZE(image)\n+   Return the size, in bytes, of the image in memory given just a png_image;\n+   the row stride is the minimum stride required for the image.\n+\n+  PNG_IMAGE_COLORMAP_SIZE(image)\n+   Return the size, in bytes, of the color-map of this image.  If the image\n+   format is not a color-map format this will return a size sufficient for\n+   256 entries in the given format; check PNG_FORMAT_FLAG_COLORMAP if\n+   you don't want to allocate a color-map in this case.\n+\n+PNG_IMAGE_FLAG_*\n+\n+Flags containing additional information about the image are held in\n+the 'flags' field of png_image.\n \n   PNG_IMAGE_FLAG_COLORSPACE_NOT_sRGB == 0x01\n     This indicates the the RGB values of the in-memory bitmap do not\n     correspond to the red, green and blue end-points defined by sRGB.\n \n-  PNG_IMAGE_FLAG_COLORMAP == 0x02\n-    The PNG is color-mapped.  If this flag is set png_image_read_colormap\n-    can be used without further loss of image information.  If it is not set\n-    png_image_read_colormap will cause significant loss if the image has any\n+  PNG_IMAGE_FLAG_FAST == 0x02\n+   On write emphasise speed over compression; the resultant PNG file will be\n+   larger but will be produced significantly faster, particular for large\n+   images.  Do not use this option for images which will be distributed, only\n+   used it when producing intermediate files that will be read back in\n+   repeatedly.  For a typical 24-bit image the option will double the read\n+   speed at the cost of increasing the image size by 25%, however for many\n+   more compressible images the PNG file can be 10 times larger with only a\n+   slight speed gain.\n+\n+  PNG_IMAGE_FLAG_16BIT_sRGB == 0x04\n+    On read if the image is a 16-bit per component image and there is no gAMA\n+    or sRGB chunk assume that the components are sRGB encoded.  Notice that\n+    images output by the simplified API always have gamma information; setting\n+    this flag only affects the interpretation of 16-bit images from an\n+    external source.  It is recommended that the application expose this flag\n+    to the user; the user can normally easily recognize the difference between\n+    linear and sRGB encoding.  This flag has no effect on write - the data\n+    passed to the write APIs must have the correct encoding (as defined\n+    above.)\n+\n+    If the flag is not set (the default) input 16-bit per component data is\n+    assumed to be linear.\n+\n+    NOTE: the flag can only be set after the png_image_begin_read_ call,\n+    because that call initializes the 'flags' field.\n \n READ APIs\n \n@@ -4561,10 +4624,11 @@\n\n \n With all APIs row_stride is handled as in the read APIs - it is the spacing\n from one row to the next in component sized units (float) and if negative\n-indicates a bottom-up row layout in the buffer.\n+indicates a bottom-up row layout in the buffer.  If you pass zero, libpng will\n+calculate the row_stride for you from the width and number of channels.\n \n Note that the write API does not support interlacing, sub-8-bit pixels,\n-and indexed (paletted) images.\n+indexed (paletted) images, or most ancillary chunks.\n \n .SH VI. Modifying/Customizing libpng\n \n@@ -4590,14 +4654,11 @@\n\n is not the same as the calloc(number, size) function provided by stdlib.h.\n There is limited support for certain systems with segmented memory\n architectures and the types of pointers declared by png.h match this; you\n-will have to use appropriate pointers in your application.  Since it is\n-unlikely that the method of handling memory allocation on a platform\n-will change between applications, these functions must be modified in\n-the library at compile time.  If you prefer to use a different method\n-of allocating and freeing data, you can use png_create_read_struct_2() or\n-png_create_write_struct_2() to register your own functions as described\n-above.  These functions also provide a void pointer that can be retrieved\n-via\n+will have to use appropriate pointers in your application.  If you prefer\n+to use a different method of allocating and freeing data, you can use\n+png_create_read_struct_2() or png_create_write_struct_2() to register your\n+own functions as described above.  These functions also provide a void\n+pointer that can be retrieved via\n \n     mem_ptr=png_get_mem_ptr(png_ptr);\n \n@@ -4740,29 +4801,6 @@\n\n transformation to the one you want to add and copy off of it.  More details\n can be found in the comments inside the code itself.\n \n-.SS Configuring for 16-bit platforms\n-\n-You will want to look into zconf.h to tell zlib (and thus libpng) that\n-it cannot allocate more then 64K at a time.  Even if you can, the memory\n-won't be accessible.  So limit zlib and libpng to 64K by defining MAXSEG_64K.\n-\n-.SS Configuring for DOS\n-\n-For DOS users who only have access to the lower 640K, you will\n-have to limit zlib's memory usage via a png_set_compression_mem_level()\n-call.  See zlib.h or zconf.h in the zlib library for more information.\n-\n-.SS Configuring for Medium Model\n-\n-Libpng's support for medium model has been tested on most of the popular\n-compilers.  Make sure MAXSEG_64K gets defined, USE_FAR_KEYWORD gets\n-defined, and FAR gets defined to far in pngconf.h, and you should be\n-all set.  Everything in the library (except for zlib's structure) is\n-expecting far data.  You must use the typedefs with the p or pp on\n-the end for pointers (or at least look at them and be careful).  Make\n-note that the rows of data are defined as png_bytepp, which is\n-an \""unsigned char far * far *\"".\n-\n .SS Configuring for gui/windowing platforms:\n \n You will need to write new error and warning functions that use the GUI\n@@ -4772,19 +4810,6 @@\n\n They can be changed later via png_set_error_fn().  On some compilers,\n you may also have to change the memory allocators (png_malloc, etc.).\n \n-.SS Configuring for compiler xxx:\n-\n-All includes for libpng are in pngconf.h.  If you need to add, change\n-or delete an include, this is the place to do it.\n-The includes that are not needed outside libpng are placed in pngpriv.h,\n-which is only used by the routines inside libpng itself.\n-The files in libpng proper only include pngpriv.h and png.h, which\n-%14%in turn includes pngconf.h.\n-in turn includes pngconf.h and, as of libpng-1.5.0, pnglibconf.h.\n-As of libpng-1.5.0, pngpriv.h also includes three other private header\n-files, pngstruct.h, pnginfo.h, and pngdebug.h, which contain material\n-that previously appeared in the public headers.\n-\n .SS Configuring zlib:\n \n There are special functions to configure the compression.  Perhaps the\n@@ -4826,6 +4851,8 @@\n\n \n     png_set_compression_method(png_ptr, method);\n \n+This controls the size of the IDAT chunks (default 8192):\n+\n     png_set_compression_buffer_size(png_ptr, size);\n \n As of libpng version 1.5.4, additional APIs became\n@@ -4889,81 +4916,6 @@\n\n               same as the value of filter_method used\n               in png_set_IHDR().\n \n-It is also possible to influence how libpng chooses from among the\n-available filters.  This is done in one or both of two ways - by\n-telling it how important it is to keep the same filter for successive\n-rows, and by telling it the relative computational costs of the filters.\n-\n-    double weights[3] = {1.5, 1.3, 1.1},\n-       costs[PNG_FILTER_VALUE_LAST] =\n-       {1.0, 1.3, 1.3, 1.5, 1.7};\n-\n-    png_set_filter_heuristics(png_ptr,\n-       PNG_FILTER_HEURISTIC_WEIGHTED, 3,\n-       weights, costs);\n-\n-The weights are multiplying factors that indicate to libpng that the\n-row filter should be the same for successive rows unless another row filter\n-is that many times better than the previous filter.  In the above example,\n-if the previous 3 filters were SUB, SUB, NONE, the SUB filter could have a\n-\""sum of absolute differences\"" 1.5 x 1.3 times higher than other filters\n-and still be chosen, while the NONE filter could have a sum 1.1 times\n-higher than other filters and still be chosen.  Unspecified weights are\n-taken to be 1.0, and the specified weights should probably be declining\n-like those above in order to emphasize recent filters over older filters.\n-\n-The filter costs specify for each filter type a relative decoding cost\n-to be considered when selecting row filters.  This means that filters\n-with higher costs are less likely to be chosen over filters with lower\n-costs, unless their \""sum of absolute differences\"" is that much smaller.\n-The costs do not necessarily reflect the exact computational speeds of\n-the various filters, since this would unduly influence the final image\n-size.\n-\n-Note that the numbers above were invented purely for this example and\n-are given only to help explain the function usage.  Little testing has\n-been done to find optimum values for either the costs or the weights.\n-\n-.SS Removing unwanted object code\n-\n-There are a bunch of #define's in pngconf.h that control what parts of\n-libpng are compiled.  All the defines end in _SUPPORTED.  If you are\n-never going to use a capability, you can change the #define to #undef\n-before recompiling libpng and save yourself code and data space, or\n-you can turn off individual capabilities with defines that begin with\n-PNG_NO_.\n-\n-In libpng-1.5.0 and later, the #define's are in pnglibconf.h instead.\n-\n-You can also turn all of the transforms and ancillary chunk capabilities\n-off en masse with compiler directives that define\n-PNG_NO_READ[or WRITE]_TRANSFORMS, or PNG_NO_READ[or WRITE]_ANCILLARY_CHUNKS,\n-or all four,\n-along with directives to turn on any of the capabilities that you do\n-want.  The PNG_NO_READ[or WRITE]_TRANSFORMS directives disable the extra\n-transformations but still leave the library fully capable of reading\n-and writing PNG files with all known public chunks. Use of the\n-PNG_NO_READ[or WRITE]_ANCILLARY_CHUNKS directive produces a library\n-that is incapable of reading or writing ancillary chunks.  If you are\n-not using the progressive reading capability, you can turn that off\n-with PNG_NO_PROGRESSIVE_READ (don't confuse this with the INTERLACING\n-capability, which you'll still have).\n-\n-All the reading and writing specific code are in separate files, so the\n-linker should only grab the files it needs.  However, if you want to\n-make sure, or if you are building a stand alone library, all the\n-reading files start with \""pngr\"" and all the writing files start with \""pngw\"".\n-The files that don't match either (like png.c, pngtrans.c, etc.)\n-are used for both reading and writing, and always need to be included.\n-The progressive reader is in pngpread.c\n-\n-If you are creating or distributing a dynamically linked library (a .so\n-or DLL file), you should not remove or disable any parts of the library,\n-as this will cause applications linked with different versions of the\n-library to fail if they call functions not available in your library.\n-The size of the library itself should not be an issue, because only\n-those sections that are actually used will be loaded into memory.\n-\n .SS Requesting debug printout\n \n The macro definition PNG_DEBUG can be used to request debugging\n@@ -5001,17 +4953,6 @@\n\n having level = 0 will be printed.  There aren't any such statements in\n this version of libpng, but if you insert some they will be printed.\n \n-.SS Prepending a prefix to exported symbols\n-\n-Starting with libpng-1.6.0, you can configure libpng (when using the\n-\""configure\"" script) to prefix all exported symbols by means of the\n-configuration option \""\\-\\-with\\-libpng\\-prefix=FOO_\"", where FOO_ can be any\n-string beginning with a letter and containing only uppercase\n-and lowercase letters, digits, and the underscore (i.e., a C language\n-identifier).  This creates a set of macros in pnglibconf.h, so this is\n-transparent to applications; their function calls get transformed by\n-the macros to use the modified names.\n-\n .SH VII.  MNG support\n \n The MNG specification (available at http://www.libpng.org/pub/mng) allows\n@@ -5338,8 +5279,6 @@\n\n bKGD chunk; you must check those separately to determine the maximum\n palette index actually used.\n \n-A. Changes that affect users of libpng\n-\n There are no substantial API changes between the non-deprecated parts of\n the 1.4.5 API and the 1.5.0 API; however, the ability to directly access\n members of the main libpng control structures, png_struct and png_info,\n@@ -5467,7 +5406,7 @@\n\n application calls to png_set_user_limits(), png_set_user_chunk_cache_max(),\n and/or png_set_user_malloc_max() that increase or decrease the limits.  Also,\n in libpng-1.5.10 the default width and height limits were increased\n-from 1,000,000 to 0x7ffffff (i.e., made unlimited).  Therefore, the\n+from 1,000,000 to 0x7fffffff (i.e., made unlimited).  Therefore, the\n limits are now\n                                default      safe\n    png_user_width_max        0x7fffffff    1,000,000\n@@ -5476,27 +5415,7 @@\n\n    png_user_chunk_malloc_max 0 (unlimited) 8,000,000\n \n The png_set_option() function (and the \""options\"" member of the png struct) was\n-added to libpng-1.5.15.\n-\n-B. Changes to the build and configuration of libpng\n-\n-Details of internal changes to the library code can be found in the CHANGES\n-file and in the GIT repository logs.  These will be of no concern to the vast\n-majority of library users or builders; however, the few who configure libpng\n-to a non-default feature set may need to change how this is done.\n-\n-There should be no need for library builders to alter build scripts if\n-these use the distributed build support - configure or the makefiles -\n-however, users of the makefiles may care to update their build scripts\n-to build pnglibconf.h where the corresponding makefile does not do so.\n-\n-Building libpng with a non-default configuration has changed completely.\n-The old method using pngusr.h should still work correctly even though the\n-way pngusr.h is used in the build has been changed; however, library\n-builders will probably want to examine the changes to take advantage of\n-new capabilities and to simplify their build system.\n-\n-B.1 Specific changes to library configuration capabilities\n+added to libpng-1.5.15, with option PNG_ARM_NEON.\n \n The library now supports a complete fixed point implementation and can\n thus be used on systems that have no floating point support or very\n@@ -5508,27 +5427,7 @@\n\n missing fixed point APIs have been implemented.\n \n The exact mechanism used to control attributes of API functions has\n-changed.  A single set of operating system independent macro definitions\n-is used and operating system specific directives are defined in\n-pnglibconf.h\n-\n-As part of this the mechanism used to choose procedure call standards on\n-those systems that allow a choice has been changed.  At present this only\n-affects certain Microsoft (DOS, Windows) and IBM (OS/2) operating systems\n-running on Intel processors.  As before, PNGAPI is defined where required\n-to control the exported API functions; however, two new macros, PNGCBAPI\n-and PNGCAPI, are used instead for callback functions (PNGCBAPI) and\n-(PNGCAPI) for functions that must match a C library prototype (currently\n-only png_longjmp_ptr, which must match the C longjmp function.)  The new\n-approach is documented in pngconf.h\n-\n-Despite these changes, libpng 1.5.0 only supports the native C function\n-calling standard on those platforms tested so far (__cdecl on Microsoft\n-Windows).  This is because the support requirements for alternative\n-calling conventions seem to no longer exist.  Developers who find it\n-necessary to set PNG_API_RULE to 1 should advise the mailing list\n-(png-mng-implement) of this and library builders who use Openwatcom and\n-therefore set PNG_API_RULE to 2 should also contact the mailing list.\n+changed, as described in the INSTALL file.\n \n A new test program, pngvalid, is provided in addition to pngtest.\n pngvalid validates the arithmetic accuracy of the gamma correction\n@@ -5604,46 +5503,6 @@\n\n to choose at app buildtime whether or not to use macros (previously\n impossible because the functions weren't in the default build.)\n \n-B.2 Changes to the configuration mechanism\n-\n-Prior to libpng-1.5.0 library builders who needed to configure libpng\n-had either to modify the exported pngconf.h header file to add system\n-specific configuration or had to write feature selection macros into\n-pngusr.h and cause this to be included into pngconf.h by defining\n-PNG_USER_CONFIG. The latter mechanism had the disadvantage that an\n-application built without PNG_USER_CONFIG defined would see the\n-unmodified, default, libpng API and thus would probably fail to link.\n-\n-These mechanisms still work in the configure build and in any makefile\n-build that builds pnglibconf.h, although the feature selection macros\n-have changed somewhat as described above.  In 1.5.0, however, pngusr.h is\n-processed only once, when the exported header file pnglibconf.h is built.\n-pngconf.h no longer includes pngusr.h, therefore pngusr.h is ignored after the\n-build of pnglibconf.h and it is never included in an application build.\n-\n-The rarely used alternative of adding a list of feature macros to the\n-CPPFLAGS setting in the build also still works; however, the macros will be\n-copied to pnglibconf.h and this may produce macro redefinition warnings\n-when the individual C files are compiled.\n-\n-All configuration now only works if pnglibconf.h is built from\n-scripts/pnglibconf.dfa.  This requires the program awk.  Brian Kernighan\n-(the original author of awk) maintains C source code of that awk and this\n-and all known later implementations (often called by subtly different\n-names - nawk and gawk for example) are adequate to build pnglibconf.h.\n-The Sun Microsystems (now Oracle) program 'awk' is an earlier version\n-and does not work; this may also apply to other systems that have a\n-functioning awk called 'nawk'.\n-\n-Configuration options are now documented in scripts/pnglibconf.dfa.  This\n-file also includes dependency information that ensures a configuration is\n-consistent; that is, if a feature is switched off dependent features are\n-also removed.  As a recommended alternative to using feature macros in\n-pngusr.h a system builder may also define equivalent options in pngusr.dfa\n-(or, indeed, any file) and add that to the configuration by setting\n-DFA_XTRA to the file name.  The makefiles in contrib/pngminim illustrate\n-how to do this, and a case where pngusr.h is still required.\n-\n .SH XII.  Changes to Libpng from version 1.5.x to 1.6.x\n \n A \""simplified API\"" has been added (see documentation in png.h and a simple\n@@ -5698,15 +5557,34 @@\n\n    png_infop became png_inforp or png_const_inforp\n where \""rp\"" indicates a \""restricted pointer\"".\n \n+Dropped support for 16-bit platforms. The support for FAR/far types has\n+been eliminated and the definition of png_alloc_size_t is now controlled\n+by a flag so that 'small size_t' systems can select it if necessary.\n+\n Error detection in some chunks has improved; in particular the iCCP chunk\n reader now does pretty complete validation of the basic format.  Some bad\n profiles that were previously accepted are now accepted with a warning or\n-rejected, depending upon the png_set_benign_errors() setting, in particular the\n-very old broken Microsoft/HP 3144-byte sRGB profile.  The PNG spec requirement\n-that only grayscale profiles may appear in images with color type 0 or 4 and\n-that even if the image only contains gray pixels, only RGB profiles may appear\n-in images with color type 2, 3, or 6, is now enforced.  The sRGB chunk\n-is allowed to appear in images with any color type.\n+rejected, depending upon the png_set_benign_errors() setting, in particular\n+the very old broken Microsoft/HP 3144-byte sRGB profile.  Starting with\n+libpng-1.6.11, recognizing and checking sRGB profiles can be avoided by\n+means of\n+\n+    #if defined(PNG_SKIP_sRGB_CHECK_PROFILE) && \\\n+        defined(PNG_SET_OPTION_SUPPORTED)\n+       png_set_option(png_ptr, PNG_SKIP_sRGB_CHECK_PROFILE,\n+           PNG_OPTION_ON);\n+    #endif\n+\n+It's not a good idea to do this if you are using the \""simplified API\"",\n+which needs to be able to recognize sRGB profiles conveyed via the iCCP\n+chunk.\n+\n+The PNG spec requirement that only grayscale profiles may appear in images\n+with color type 0 or 4 and that even if the image only contains gray pixels,\n+only RGB profiles may appear in images with color type 2, 3, or 6, is now\n+enforced.  The sRGB chunk is allowed to appear in images with any color type\n+and is interpreted by libpng to convey a one-tracer-curve gray profile or a\n+three-tracer-curve RGB profile as appropriate.\n \n Prior to libpng-1.6.0 a warning would be issued if the iTXt chunk contained\n an empty language field or an empty translated keyword.  Both of these\n@@ -5740,22 +5618,44 @@\n\n stream to set the size of the sliding window for reading instead of using the\n default 32-kbyte sliding window size.  It was discovered that there are\n hundreds of PNG files in the wild that have incorrect CMF bytes that caused\n-libpng to issue a \""too far back\"" error and reject the file.  Libpng-1.6.3 and\n-later calculate their own safe CMF from the image dimensions, provide a way\n-to revert to the libpng-1.5.x behavior (ignoring the CMF bytes and using a\n-32-kbyte sliding window), by using\n+zlib to issue the \""invalid distance too far back\"" error and reject the file.\n+Libpng-1.6.3 and later calculate their own safe CMF from the image dimensions,\n+provide a way to revert to the libpng-1.5.x behavior (ignoring the CMF bytes\n+and using a 32-kbyte sliding window), by using\n \n     png_set_option(png_ptr, PNG_MAXIMUM_INFLATE_WINDOW,\n         PNG_OPTION_ON);\n \n-and provide a tool (contrib/tools/pngfix) for optimizing the CMF bytes\n-correctly.\n+and provide a tool (contrib/tools/pngfix) for rewriting a PNG file while\n+optimizing the CMF bytes in its IDAT chunk correctly.\n \n Libpng-1.6.0 and libpng-1.6.1 wrote uncompressed iTXt chunks with the wrong\n length, which resulted in PNG files that cannot be read beyond the bad iTXt\n chunk.  This error was fixed in libpng-1.6.3, and a tool (called\n contrib/tools/png-fix-itxt) has been added to the libpng distribution.\n \n+Starting with libpng-1.6.17, the PNG_SAFE_LIMITS macro was eliminated\n+and safe limits are used by default (users who need larger limits\n+can still override them at compile time or run time, as described above).\n+\n+The new limits are\n+                                default   spec limit\n+   png_user_width_max         1,000,000  2,147,483,647\n+   png_user_height_max        1,000,000  2,147,483,647\n+   png_user_chunk_cache_max         128  unlimited\n+   png_user_chunk_malloc_max  8,000,000  unlimited\n+\n+Starting with libpng-1.6.18, a PNG_RELEASE_BUILD macro was added, which allows\n+library builders to control compilation for an installed system (a release build).\n+It can be set for testing debug or beta builds to ensure that they will compile\n+when the build type is switched to RC or STABLE. In essence this overrides the\n+PNG_LIBPNG_BUILD_BASE_TYPE definition which is not directly user controllable.\n+\n+Starting with libpng-1.6.19, attempting to set an over-length PLTE chunk\n+is an error. Previously this requirement of the PNG specification was not\n+enforced, and the palette was always limited to 256 entries. An over-length\n+PLTE chunk found in an input PNG is silently truncated.\n+\n .SH XIII.  Detecting libpng\n \n The png_get_io_ptr() function has been present since libpng-0.88, has never\n@@ -5791,7 +5691,8 @@\n\n \n .SH XV. Coding style\n \n-Our coding style is similar to the \""Allman\"" style, with curly\n+Our coding style is similar to the \""Allman\"" style\n+(See http://en.wikipedia.org/wiki/Indent_style#Allman_style), with curly\n braces on separate lines:\n \n     if (condition)\n@@ -5871,12 +5772,15 @@\n\n  }\n \n The prototypes for non-exported functions (except for those in\n-pngtest) appear in\n-pngpriv.h\n-above the comment that says\n+pngtest) appear in pngpriv.h above the comment that says\n \n   /* Maintainer: Put new private prototypes here ^ */\n \n+To avoid polluting the global namespace, the names of all exported\n+functions and variables begin with \""png_\"", and all publicly visible C\n+preprocessor macros begin with \""PNG\"".  We request that applications that\n+use libpng *not* begin any of their own symbols with either of these strings.\n+\n We put a space after the \""sizeof\"" operator and we omit the\n optional parentheses around its argument when the argument\n is an expression, not a type name, and we always enclose the\n@@ -5888,10 +5792,8 @@\n\n Prior to libpng-1.6.0 we used a \""png_sizeof()\"" macro, formatted as\n though it were a function.\n \n-To avoid polluting the global namespace, the names of all exported\n-functions and variables begin with \""png_\"", and all publicly visible C\n-preprocessor macros begin with \""PNG\"".  We request that applications that\n-use libpng *not* begin any of their own symbols with either of these strings.\n+Control keywords if, for, while, and switch are always followed by a space\n+to distinguish them from function calls, which have no trailing space. \n \n We put a space after each comma and after each semicolon\n in \""for\"" statements, and we put spaces before and after each\n@@ -5907,12 +5809,17 @@\n\n when there is only one macro being tested.  We always use parentheses\n with \""defined\"".\n \n-We prefer to express integers that are used as bit masks in hex format,\n-with an even number of lower-case hex digits (e.g., 0x00, 0xff, 0x0100).\n+We express integer constants that are used as bit masks in hex format,\n+with an even number of lower-case hex digits, and to make them unsigned\n+(e.g., 0x00U, 0xffU, 0x0100U) and long if they are greater than 0x7fff\n+(e.g., 0xffffUL).\n \n-We prefer to use underscores in variable names rather than camelCase, except\n+We prefer to use underscores rather than camelCase in names, except\n for a few type names that we inherit from zlib.h.\n \n+We prefer \""if (something != 0)\"" and \""if (something == 0)\""\n+over \""if (something)\"" and if \""(!something)\"", respectively.\n+\n We do not use the TAB character for indentation in the C sources.\n \n Lines do not exceed 80 characters.\n@@ -5921,13 +5828,11 @@\n\n \n .SH XVI. Y2K Compliance in libpng\n \n-March 6, 2014\n-\n Since the PNG Development group is an ad-hoc body, we can't make\n an official declaration.\n \n This is your unofficial assurance that libpng from version 0.71 and\n-upward through 1.6.10 are Y2K compliant.  It is my belief that earlier\n+upward through 1.6.20 are Y2K compliant.  It is my belief that earlier\n versions were also Y2K compliant.\n \n Libpng only has two year fields.  One is a 2-byte unsigned integer\n@@ -5943,8 +5848,9 @@\n\n \n There are seven time-related functions:\n \n-    png_convert_to_rfc_1123() in png.c\n-      (formerly png_convert_to_rfc_1152() in error)\n+    png_convert_to_rfc_1123_buffer() in png.c\n+      (formerly png_convert_to_rfc_1152() in error, and\n+      also formerly png_convert_to_rfc_1123())\n     png_convert_from_struct_tm() in pngwrite.c, called\n       in pngwrite.c\n     png_convert_from_time_t() in pngwrite.c\n@@ -5988,179 +5894,47 @@\n\n  source             png.h  png.h  shared-lib\n  version            string   int  version\n  -------            ------  ----- ----------\n- 0.89c (\""beta 3\"")  0.89       89  1.0.89\n- 0.90  (\""beta 4\"")  0.90       90  0.90\n- 0.95  (\""beta 5\"")  0.95       95  0.95\n- 0.96  (\""beta 6\"")  0.96       96  0.96\n- 0.97b (\""beta 7\"")  1.00.97    97  1.0.1\n- 0.97c             0.97       97  2.0.97\n- 0.98              0.98       98  2.0.98\n- 0.99              0.99       98  2.0.99\n- 0.99a-m           0.99       99  2.0.99\n- 1.00              1.00      100  2.1.0\n- 1.0.0             1.0.0     100  2.1.0\n- 1.0.0   (from here on, the  100  2.1.0\n- 1.0.1    png.h string is  10001  2.1.0\n- 1.0.1a-e identical to the 10002  from here on, the\n- 1.0.2    source version)  10002  shared library is 2.V\n- 1.0.2a-b                  10003  where V is the source\n- 1.0.1                     10001  code version except as\n- 1.0.1a-e                  10002  2.1.0.1a-e   noted.\n- 1.0.2                     10002  2.1.0.2\n- 1.0.2a-b                  10003  2.1.0.2a-b\n- 1.0.3                     10003  2.1.0.3\n- 1.0.3a-d                  10004  2.1.0.3a-d\n- 1.0.4                     10004  2.1.0.4\n- 1.0.4a-f                  10005  2.1.0.4a-f\n- 1.0.5 (+ 2 patches)       10005  2.1.0.5\n- 1.0.5a-d                  10006  2.1.0.5a-d\n- 1.0.5e-r                  10100  2.1.0.5e-r\n- 1.0.5s-v                  10006  2.1.0.5s-v\n- 1.0.6 (+ 3 patches)       10006  2.1.0.6\n- 1.0.6d-g                  10007  2.1.0.6d-g\n- 1.0.6h                    10007  10.6h\n- 1.0.6i                    10007  10.6i\n- 1.0.6j                    10007  2.1.0.6j\n- 1.0.7beta11-14    DLLNUM  10007  2.1.0.7beta11-14\n- 1.0.7beta15-18       1    10007  2.1.0.7beta15-18\n- 1.0.7rc1-2           1    10007  2.1.0.7rc1-2\n- 1.0.7                1    10007  2.1.0.7\n- 1.0.8beta1-4         1    10008  2.1.0.8beta1-4\n- 1.0.8rc1             1    10008  2.1.0.8rc1\n- 1.0.8                1    10008  2.1.0.8\n- 1.0.9beta1-6         1    10009  2.1.0.9beta1-6\n- 1.0.9rc1             1    10009  2.1.0.9rc1\n- 1.0.9beta7-10        1    10009  2.1.0.9beta7-10\n- 1.0.9rc2             1    10009  2.1.0.9rc2\n- 1.0.9                1    10009  2.1.0.9\n- 1.0.10beta1          1    10010  2.1.0.10beta1\n- 1.0.10rc1            1    10010  2.1.0.10rc1\n- 1.0.10               1    10010  2.1.0.10\n- 1.0.11beta1-3        1    10011  2.1.0.11beta1-3\n- 1.0.11rc1            1    10011  2.1.0.11rc1\n- 1.0.11               1    10011  2.1.0.11\n- 1.0.12beta1-2        2    10012  2.1.0.12beta1-2\n- 1.0.12rc1            2    10012  2.1.0.12rc1\n- 1.0.12               2    10012  2.1.0.12\n- 1.1.0a-f             -    10100  2.1.1.0a-f abandoned\n- 1.2.0beta1-2         2    10200  2.1.2.0beta1-2\n- 1.2.0beta3-5         3    10200  3.1.2.0beta3-5\n- 1.2.0rc1             3    10200  3.1.2.0rc1\n- 1.2.0                3    10200  3.1.2.0\n- 1.2.1beta-4          3    10201  3.1.2.1beta1-4\n- 1.2.1rc1-2           3    10201  3.1.2.1rc1-2\n- 1.2.1                3    10201  3.1.2.1\n- 1.2.2beta1-6        12    10202  12.so.0.1.2.2beta1-6\n- 1.0.13beta1         10    10013  10.so.0.1.0.13beta1\n- 1.0.13rc1           10    10013  10.so.0.1.0.13rc1\n- 1.2.2rc1            12    10202  12.so.0.1.2.2rc1\n- 1.0.13              10    10013  10.so.0.1.0.13\n- 1.2.2               12    10202  12.so.0.1.2.2\n- 1.2.3rc1-6          12    10203  12.so.0.1.2.3rc1-6\n- 1.2.3               12    10203  12.so.0.1.2.3\n- 1.2.4beta1-3        13    10204  12.so.0.1.2.4beta1-3\n- 1.2.4rc1            13    10204  12.so.0.1.2.4rc1\n- 1.0.14              10    10014  10.so.0.1.0.14\n- 1.2.4               13    10204  12.so.0.1.2.4\n- 1.2.5beta1-2        13    10205  12.so.0.1.2.5beta1-2\n- 1.0.15rc1           10    10015  10.so.0.1.0.15rc1\n- 1.0.15              10    10015  10.so.0.1.0.15\n- 1.2.5               13    10205  12.so.0.1.2.5\n- 1.2.6beta1-4        13    10206  12.so.0.1.2.6beta1-4\n- 1.2.6rc1-5          13    10206  12.so.0.1.2.6rc1-5\n- 1.0.16              10    10016  10.so.0.1.0.16\n- 1.2.6               13    10206  12.so.0.1.2.6\n- 1.2.7beta1-2        13    10207  12.so.0.1.2.7beta1-2\n- 1.0.17rc1           10    10017  12.so.0.1.0.17rc1\n- 1.2.7rc1            13    10207  12.so.0.1.2.7rc1\n- 1.0.17              10    10017  12.so.0.1.0.17\n- 1.2.7               13    10207  12.so.0.1.2.7\n- 1.2.8beta1-5        13    10208  12.so.0.1.2.8beta1-5\n- 1.0.18rc1-5         10    10018  12.so.0.1.0.18rc1-5\n- 1.2.8rc1-5          13    10208  12.so.0.1.2.8rc1-5\n- 1.0.18              10    10018  12.so.0.1.0.18\n- 1.2.8               13    10208  12.so.0.1.2.8\n- 1.2.9beta1-3        13    10209  12.so.0.1.2.9beta1-3\n- 1.2.9beta4-11       13    10209  12.so.0.9[.0]\n- 1.2.9rc1            13    10209  12.so.0.9[.0]\n- 1.2.9               13    10209  12.so.0.9[.0]\n- 1.2.10beta1-7       13    10210  12.so.0.10[.0]\n- 1.2.10rc1-2         13    10210  12.so.0.10[.0]\n- 1.2.10              13    10210  12.so.0.10[.0]\n- 1.4.0beta1-6        14    10400  14.so.0.0[.0]\n- 1.2.11beta1-4       13    10210  12.so.0.11[.0]\n- 1.4.0beta7-8        14    10400  14.so.0.0[.0]\n- 1.2.11              13    10211  12.so.0.11[.0]\n- 1.2.12              13    10212  12.so.0.12[.0]\n- 1.4.0beta9-14       14    10400  14.so.0.0[.0]\n- 1.2.13              13    10213  12.so.0.13[.0]\n- 1.4.0beta15-36      14    10400  14.so.0.0[.0]\n- 1.4.0beta37-87      14    10400  14.so.14.0[.0]\n- 1.4.0rc01           14    10400  14.so.14.0[.0]\n- 1.4.0beta88-109     14    10400  14.so.14.0[.0]\n- 1.4.0rc02-08        14    10400  14.so.14.0[.0]\n- 1.4.0               14    10400  14.so.14.0[.0]\n- 1.4.1beta01-03      14    10401  14.so.14.1[.0]\n- 1.4.1rc01           14    10401  14.so.14.1[.0]\n- 1.4.1beta04-12      14    10401  14.so.14.1[.0]\n- 1.4.1               14    10401  14.so.14.1[.0]\n- 1.4.2               14    10402  14.so.14.2[.0]\n- 1.4.3               14    10403  14.so.14.3[.0]\n- 1.4.4               14    10404  14.so.14.4[.0]\n- 1.5.0beta01-58      15    10500  15.so.15.0[.0]\n- 1.5.0rc01-07        15    10500  15.so.15.0[.0]\n- 1.5.0               15    10500  15.so.15.0[.0]\n- 1.5.1beta01-11      15    10501  15.so.15.1[.0]\n- 1.5.1rc01-02        15    10501  15.so.15.1[.0]\n- 1.5.1               15    10501  15.so.15.1[.0]\n- 1.5.2beta01-03      15    10502  15.so.15.2[.0]\n- 1.5.2rc01-03        15    10502  15.so.15.2[.0]\n- 1.5.2               15    10502  15.so.15.2[.0]\n- 1.5.3beta01-10      15    10503  15.so.15.3[.0]\n- 1.5.3rc01-02        15    10503  15.so.15.3[.0]\n- 1.5.3beta11         15    10503  15.so.15.3[.0]\n- 1.5.3 [omitted]\n- 1.5.4beta01-08      15    10504  15.so.15.4[.0]\n- 1.5.4rc01           15    10504  15.so.15.4[.0]\n- 1.5.4               15    10504  15.so.15.4[.0]\n- 1.5.5beta01-08      15    10505  15.so.15.5[.0]\n- 1.5.5rc01           15    10505  15.so.15.5[.0]\n- 1.5.5               15    10505  15.so.15.5[.0]\n- 1.5.6beta01-07      15    10506  15.so.15.6[.0]\n- 1.5.6rc01-03        15    10506  15.so.15.6[.0]\n- 1.5.6               15    10506  15.so.15.6[.0]\n- 1.5.7beta01-05      15    10507  15.so.15.7[.0]\n- 1.5.7rc01-03        15    10507  15.so.15.7[.0]\n- 1.5.7               15    10507  15.so.15.7[.0]\n- 1.6.0beta01-40      16    10600  16.so.16.0[.0]\n- 1.6.0rc01-08        16    10600  16.so.16.0[.0]\n- 1.6.0               16    10600  16.so.16.0[.0]\n- 1.6.1beta01-09      16    10601  16.so.16.1[.0]\n- 1.6.1rc01           16    10601  16.so.16.1[.0]\n- 1.6.1               16    10601  16.so.16.1[.0]\n- 1.6.2beta01         16    10602  16.so.16.2[.0]\n- 1.6.2rc01-06        16    10602  16.so.16.2[.0]\n- 1.6.2               16    10602  16.so.16.2[.0]\n- 1.6.3beta01-11      16    10603  16.so.16.3[.0]\n- 1.6.3rc01           16    10603  16.so.16.3[.0]\n- 1.6.3               16    10603  16.so.16.3[.0]\n- 1.6.4beta01-02      16    10604  16.so.16.4[.0]\n- 1.6.4rc01           16    10604  16.so.16.4[.0]\n- 1.6.4               16    10604  16.so.16.4[.0]\n- 1.6.5               16    10605  16.so.16.5[.0]\n- 1.6.6               16    10606  16.so.16.6[.0]\n- 1.6.7beta01-04      16    10607  16.so.16.7[.0]\n- 1.6.7rc01-02        16    10607  16.so.16.7[.0]\n- 1.6.7               16    10607  16.so.16.7[.0]\n- 1.6.8beta01-02      16    10608  16.so.16.8[.0]\n- 1.6.8rc01-02        16    10608  16.so.16.8[.0]\n- 1.6.8               16    10608  16.so.16.8[.0]\n- 1.6.9beta01-04      16    10609  16.so.16.9[.0]\n- 1.6.9rc01-02        16    10609  16.so.16.9[.0]\n- 1.6.9               16    10609  16.so.16.9[.0]\n- 1.6.10beta01-03     16    10610  16.so.16.10[.0]\n- 1.6.10rc01-04       16    10610  16.so.16.10[.0]\n- 1.6.10              16    10610  16.so.16.10[.0]\n+ 0.89c \""1.0 beta 3\""     0.89      89  1.0.89\n+ 0.90  \""1.0 beta 4\""     0.90      90  0.90  [should have been 2.0.90]\n+ 0.95  \""1.0 beta 5\""     0.95      95  0.95  [should have been 2.0.95]\n+ 0.96  \""1.0 beta 6\""     0.96      96  0.96  [should have been 2.0.96]\n+ 0.97b \""1.00.97 beta 7\"" 1.00.97   97  1.0.1 [should have been 2.0.97]\n+ 0.97c                  0.97      97  2.0.97\n+ 0.98                   0.98      98  2.0.98\n+ 0.99                   0.99      98  2.0.99\n+ 0.99a-m                0.99      99  2.0.99\n+ 1.00                   1.00     100  2.1.0 [100 should be 10000]\n+ 1.0.0      (from here on, the   100  2.1.0 [100 should be 10000]\n+ 1.0.1       png.h string is   10001  2.1.0\n+ 1.0.1a-e    identical to the  10002  from here on, the shared library\n+ 1.0.2       source version)   10002  is 2.V where V is the source code\n+ 1.0.2a-b                      10003  version, except as noted.\n+ 1.0.3                         10003\n+ 1.0.3a-d                      10004\n+ 1.0.4                         10004\n+ 1.0.4a-f                      10005\n+ 1.0.5 (+ 2 patches)           10005\n+ 1.0.5a-d                      10006\n+ 1.0.5e-r                      10100 (not source compatible)\n+ 1.0.5s-v                      10006 (not binary compatible)\n+ 1.0.6 (+ 3 patches)           10006 (still binary incompatible)\n+ 1.0.6d-f                      10007 (still binary incompatible)\n+ 1.0.6g                        10007\n+ 1.0.6h                        10007  10.6h (testing xy.z so-numbering)\n+ 1.0.6i                        10007  10.6i\n+ 1.0.6j                        10007  2.1.0.6j (incompatible with 1.0.0)\n+ 1.0.7beta11-14        DLLNUM  10007  2.1.0.7beta11-14 (binary compatible)\n+ 1.0.7beta15-18           1    10007  2.1.0.7beta15-18 (binary compatible)\n+ 1.0.7rc1-2               1    10007  2.1.0.7rc1-2 (binary compatible)\n+ 1.0.7                    1    10007  (still compatible)\n+ ...\n+ 1.0.19                  10    10019  10.so.0.19[.0]\n+ ...\n+ 1.2.53                  13    10253  12.so.0.53[.0]\n+ ...\n+ 1.5.23                  15    10523  15.so.15.23[.0]\n+ ...\n+ 1.6.20                  16    10620  16.so.16.20[.0]\n \n Henceforth the source version will match the shared-library minor\n and patch numbers; the shared-library major version number will be\n@@ -6170,11 +5944,10 @@\n\n to the source version x.y.z (leading zeros in y and z).  Beta versions\n were given the previous public release number plus a letter, until\n version 1.0.6j; from then on they were given the upcoming public\n-release number plus \""betaNN\"" or \""rcN\"".\n+release number plus \""betaNN\"" or \""rcNN\"".\n \n .SH \""SEE ALSO\""\n-.BR \""png\""(5), \"" libpngpf\""(3), \"" zlib\""(3), \"" deflate\""(5), \"" \"" and \"" zlib\""(5)\n-\n+.IR libpngpf(3) \"", \"" png(5)\n .LP\n .IR libpng :\n .IP\n@@ -6197,7 +5970,7 @@\n\n .I libpng\n or at\n .br\n-ftp://ds.internic.net/rfc/rfc2083.txt\n+ftp://ftp.rfc-editor.org:/in-notes/rfc2083.txt\n .br\n or (as a W3C Recommendation) at\n .br\n@@ -6217,7 +5990,7 @@\n\n \n Thanks to Frank J. T. Wojcik for helping with the documentation.\n \n-Libpng version 1.6.10 - March 6, 2014:\n+Libpng version 1.6.20 - December 3, 2015:\n Initially created in 1995 by Guy Eric Schalnat, then of Group 42, Inc.\n Currently maintained by Glenn Randers-Pehrson (glennrp at users.sourceforge.net).\n \n@@ -6229,56 +6002,56 @@\n\n https://lists.sourceforge.net/lists/listinfo/png-mng-implement\n to subscribe).\n \n-.SH COPYRIGHT NOTICE, DISCLAIMER, and LICENSE:\n+.SH NOTICES:\n \n-(This copy of the libpng notices is provided for your convenience.  In case of\n+This copy of the libpng notices is provided for your convenience.  In case of\n any discrepancy between this copy and the notices in the file png.h that is\n-included in the libpng distribution, the latter shall prevail.)\n+included in the libpng distribution, the latter shall prevail.\n+\n+COPYRIGHT NOTICE, DISCLAIMER, and LICENSE:\n \n If you modify libpng you may insert additional notices immediately following\n this sentence.\n \n This code is released under the libpng license.\n \n-libpng versions 1.2.6, August 15, 2004, through 1.6.10, March 6, 2014, are\n-Copyright (c) 2004,2006-2007 Glenn Randers-Pehrson, and are\n-distributed according to the same disclaimer and license as libpng-1.2.5\n-with the following individual added to the list of Contributing Authors\n-\n-   Cosmin Truta\n-\n-libpng versions 1.0.7, July 1, 2000, through 1.2.5 - October 3, 2002, are\n-Copyright (c) 2000-2002 Glenn Randers-Pehrson, and are\n-distributed according to the same disclaimer and license as libpng-1.0.6\n-with the following individuals added to the list of Contributing Authors\n+libpng versions 1.0.7, July 1, 2000, through 1.6.20, December 3, 2015, are\n+Copyright (c) 2000-2002, 2004, 2006-2015 Glenn Randers-Pehrson, are\n+derived from libpng-1.0.6, and are distributed according to the same\n+disclaimer and license as libpng-1.0.6 with the following individuals\n+added to the list of Contributing Authors:\n \n    Simon-Pierre Cadieux\n    Eric S. Raymond\n+   Mans Rullgard\n+   Cosmin Truta\n    Gilles Vollant\n+   James Yu\n \n and with the following additions to the disclaimer:\n \n-   There is no warranty against interference with your\n-   enjoyment of the library or against infringement.\n-   There is no warranty that our efforts or the library\n-   will fulfill any of your particular purposes or needs.\n-   This library is provided with all faults, and the entire\n-   risk of satisfactory quality, performance, accuracy, and\n-   effort is with the user.\n+   There is no warranty against interference with your enjoyment of the\n+   library or against infringement.  There is no warranty that our\n+   efforts or the library will fulfill any of your particular purposes\n+   or needs.  This library is provided with all faults, and the entire\n+   risk of satisfactory quality, performance, accuracy, and effort is with\n+   the user.\n \n libpng versions 0.97, January 1998, through 1.0.6, March 20, 2000, are\n-Copyright (c) 1998, 1999 Glenn Randers-Pehrson\n-Distributed according to the same disclaimer and license as libpng-0.96,\n-with the following individuals added to the list of Contributing Authors:\n+Copyright (c) 1998-2000 Glenn Randers-Pehrson, are derived from\n+libpng-0.96, and are distributed according to the same disclaimer and\n+license as libpng-0.96, with the following individuals added to the list\n+of Contributing Authors:\n \n    Tom Lane\n    Glenn Randers-Pehrson\n    Willem van Schaik\n \n libpng versions 0.89, June 1996, through 0.96, May 1997, are\n-Copyright (c) 1996, 1997 Andreas Dilger\n-Distributed according to the same disclaimer and license as libpng-0.88,\n-with the following individuals added to the list of Contributing Authors:\n+Copyright (c) 1996-1997 Andreas Dilger, are derived from libpng-0.88,\n+and are distributed according to the same disclaimer and license as\n+libpng-0.88, with the following individuals added to the list of\n+Contributing Authors:\n \n    John Bowler\n    Kevin Bracey\n@@ -6288,7 +6061,7 @@\n\n    Tom Tanner\n \n libpng versions 0.5, May 1995, through 0.88, January 1996, are\n-Copyright (c) 1995, 1996 Guy Eric Schalnat, Group 42, Inc.\n+Copyright (c) 1995-1996 Guy Eric Schalnat, Group 42, Inc.\n \n For the purposes of this copyright and license, \""Contributing Authors\""\n is defined as the following set of individuals:\n@@ -6311,13 +6084,13 @@\n\n source code, or portions hereof, for any purpose, without fee, subject\n to the following restrictions:\n \n-1. The origin of this source code must not be misrepresented.\n+  1. The origin of this source code must not be misrepresented.\n \n-2. Altered versions must be plainly marked as such and\n-   must not be misrepresented as being the original source.\n+  2. Altered versions must be plainly marked as such and must not\n+     be misrepresented as being the original source.\n \n-3. This Copyright notice may not be removed or altered from\n-   any source or altered source distribution.\n+  3. This Copyright notice may not be removed or altered from any\n+     source or altered source distribution.\n \n The Contributing Authors and Group 42, Inc. specifically permit, without\n fee, and encourage the use of this source code as a component to\n@@ -6325,21 +6098,23 @@\n\n source code in a product, acknowledgment is not required but would be\n appreciated.\n \n+END OF COPYRIGHT NOTICE, DISCLAIMER, and LICENSE.\n \n A \""png_get_copyright\"" function is available, for convenient use in \""about\""\n boxes and the like:\n \n-   printf(\""%s\"",png_get_copyright(NULL));\n+   printf(\""%s\"", png_get_copyright(NULL));\n \n Also, the PNG logo (in PNG format, of course) is supplied in the\n files \""pngbar.png\"" and \""pngbar.jpg (88x31) and \""pngnow.png\"" (98x31).\n \n-Libpng is OSI Certified Open Source Software.  OSI Certified Open Source is a\n-certification mark of the Open Source Initiative.\n+Libpng is OSI Certified Open Source Software.  OSI Certified Open Source is\n+a certification mark of the Open Source Initiative. OSI has not addressed\n+the additional disclaimers inserted at version 1.0.7.\n \n Glenn Randers-Pehrson\n glennrp at users.sourceforge.net\n-March 6, 2014\n+December 3, 2015\n \n .\\\"" end of man page\n \n""}<_**next**_>{""filename"": ""libpngpf.3"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/libpngpf.3"", ""patch"": ""@@ -1,6 +1,6 @@\n\n-.TH LIBPNGPF 3 \""March 6, 2014\""\n+.TH LIBPNGPF 3 \""December 3, 2015\""\n .SH NAME\n-libpng \\- Portable Network Graphics (PNG) Reference Library 1.6.10\n+libpng \\- Portable Network Graphics (PNG) Reference Library 1.6.20\n (private functions)\n .SH SYNOPSIS\n \\fB#include \\fI\""pngpriv.h\""\n""}<_**next**_>{""filename"": ""ltmain.sh"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca%5E/ltmain.sh"", ""patch"": ""@@ -1,9655 +0,0 @@\n\n-\n-# libtool (GNU libtool) 2.4.2\n-# Written by Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996\n-\n-# Copyright (C) 1996, 1997, 1998, 1999, 2000, 2001, 2003, 2004, 2005, 2006,\n-# 2007, 2008, 2009, 2010, 2011 Free Software Foundation, Inc.\n-# This is free software; see the source for copying conditions.  There is NO\n-# warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n-\n-# GNU Libtool is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2 of the License, or\n-# (at your option) any later version.\n-#\n-# As a special exception to the GNU General Public License,\n-# if you distribute this file as part of a program or library that\n-# is built using GNU Libtool, you may include this file under the\n-# same distribution terms that you use for the rest of that program.\n-#\n-# GNU Libtool is distributed in the hope that it will be useful, but\n-# WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n-# General Public License for more details.\n-#\n-# You should have received a copy of the GNU General Public License\n-# along with GNU Libtool; see the file COPYING.  If not, a copy\n-# can be downloaded from http://www.gnu.org/licenses/gpl.html,\n-# or obtained by writing to the Free Software Foundation, Inc.,\n-# 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.\n-\n-# Usage: $progname [OPTION]... [MODE-ARG]...\n-#\n-# Provide generalized library-building support services.\n-#\n-#       --config             show all configuration variables\n-#       --debug              enable verbose shell tracing\n-#   -n, --dry-run            display commands without modifying any files\n-#       --features           display basic configuration information and exit\n-#       --mode=MODE          use operation mode MODE\n-#       --preserve-dup-deps  don't remove duplicate dependency libraries\n-#       --quiet, --silent    don't print informational messages\n-#       --no-quiet, --no-silent\n-#                            print informational messages (default)\n-#       --no-warn            don't display warning messages\n-#       --tag=TAG            use configuration variables from tag TAG\n-#   -v, --verbose            print more informational messages than default\n-#       --no-verbose         don't print the extra informational messages\n-#       --version            print version information\n-#   -h, --help, --help-all   print short, long, or detailed help message\n-#\n-# MODE must be one of the following:\n-#\n-#         clean              remove files from the build directory\n-#         compile            compile a source file into a libtool object\n-#         execute            automatically set library path, then run a program\n-#         finish             complete the installation of libtool libraries\n-#         install            install libraries or executables\n-#         link               create a library or an executable\n-#         uninstall          remove libraries from an installed directory\n-#\n-# MODE-ARGS vary depending on the MODE.  When passed as first option,\n-# `--mode=MODE' may be abbreviated as `MODE' or a unique abbreviation of that.\n-# Try `$progname --help --mode=MODE' for a more detailed description of MODE.\n-#\n-# When reporting a bug, please describe a test case to reproduce it and\n-# include the following information:\n-#\n-#         host-triplet:\t$host\n-#         shell:\t\t$SHELL\n-#         compiler:\t\t$LTCC\n-#         compiler flags:\t\t$LTCFLAGS\n-#         linker:\t\t$LD (gnu? $with_gnu_ld)\n-#         $progname:\t(GNU libtool) 2.4.2\n-#         automake:\t$automake_version\n-#         autoconf:\t$autoconf_version\n-#\n-# Report bugs to <bug-libtool@gnu.org>.\n-# GNU libtool home page: <http://www.gnu.org/software/libtool/>.\n-# General help using GNU software: <http://www.gnu.org/gethelp/>.\n-\n-PROGRAM=libtool\n-PACKAGE=libtool\n-VERSION=2.4.2\n-TIMESTAMP=\""\""\n-package_revision=1.3337\n-\n-# Be Bourne compatible\n-if test -n \""${ZSH_VERSION+set}\"" && (emulate sh) >/dev/null 2>&1; then\n-  emulate sh\n-  NULLCMD=:\n-  # Zsh 3.x and 4.x performs word splitting on ${1+\""$@\""}, which\n-  # is contrary to our usage.  Disable this feature.\n-  alias -g '${1+\""$@\""}'='\""$@\""'\n-  setopt NO_GLOB_SUBST\n-else\n-  case `(set -o) 2>/dev/null` in *posix*) set -o posix;; esac\n-fi\n-BIN_SH=xpg4; export BIN_SH # for Tru64\n-DUALCASE=1; export DUALCASE # for MKS sh\n-\n-# A function that is used when there is no print builtin or printf.\n-func_fallback_echo ()\n-{\n-  eval 'cat <<_LTECHO_EOF\n-$1\n-_LTECHO_EOF'\n-}\n-\n-# NLS nuisances: We save the old values to restore during execute mode.\n-lt_user_locale=\n-lt_safe_locale=\n-for lt_var in LANG LANGUAGE LC_ALL LC_CTYPE LC_COLLATE LC_MESSAGES\n-do\n-  eval \""if test \\\""\\${$lt_var+set}\\\"" = set; then\n-          save_$lt_var=\\$$lt_var\n-          $lt_var=C\n-\t  export $lt_var\n-\t  lt_user_locale=\\\""$lt_var=\\\\\\$save_\\$lt_var; \\$lt_user_locale\\\""\n-\t  lt_safe_locale=\\\""$lt_var=C; \\$lt_safe_locale\\\""\n-\tfi\""\n-done\n-LC_ALL=C\n-LANGUAGE=C\n-export LANGUAGE LC_ALL\n-\n-$lt_unset CDPATH\n-\n-\n-# Work around backward compatibility issue on IRIX 6.5. On IRIX 6.4+, sh\n-# is ksh but when the shell is invoked as \""sh\"" and the current value of\n-# the _XPG environment variable is not equal to 1 (one), the special\n-# positional parameter $0, within a function call, is the name of the\n-# function.\n-progpath=\""$0\""\n-\n-\n-\n-: ${CP=\""cp -f\""}\n-test \""${ECHO+set}\"" = set || ECHO=${as_echo-'printf %s\\n'}\n-: ${MAKE=\""make\""}\n-: ${MKDIR=\""mkdir\""}\n-: ${MV=\""mv -f\""}\n-: ${RM=\""rm -f\""}\n-: ${SHELL=\""${CONFIG_SHELL-/bin/sh}\""}\n-: ${Xsed=\""$SED -e 1s/^X//\""}\n-\n-# Global variables:\n-EXIT_SUCCESS=0\n-EXIT_FAILURE=1\n-EXIT_MISMATCH=63  # $? = 63 is used to indicate version mismatch to missing.\n-EXIT_SKIP=77\t  # $? = 77 is used to indicate a skipped test to automake.\n-\n-exit_status=$EXIT_SUCCESS\n-\n-# Make sure IFS has a sensible default\n-lt_nl='\n-'\n-IFS=\"" \t$lt_nl\""\n-\n-dirname=\""s,/[^/]*$,,\""\n-basename=\""s,^.*/,,\""\n-\n-# func_dirname file append nondir_replacement\n-# Compute the dirname of FILE.  If nonempty, add APPEND to the result,\n-# otherwise set result to NONDIR_REPLACEMENT.\n-func_dirname ()\n-{\n-    func_dirname_result=`$ECHO \""${1}\"" | $SED \""$dirname\""`\n-    if test \""X$func_dirname_result\"" = \""X${1}\""; then\n-      func_dirname_result=\""${3}\""\n-    else\n-      func_dirname_result=\""$func_dirname_result${2}\""\n-    fi\n-} # func_dirname may be replaced by extended shell implementation\n-\n-\n-# func_basename file\n-func_basename ()\n-{\n-    func_basename_result=`$ECHO \""${1}\"" | $SED \""$basename\""`\n-} # func_basename may be replaced by extended shell implementation\n-\n-\n-# func_dirname_and_basename file append nondir_replacement\n-# perform func_basename and func_dirname in a single function\n-# call:\n-#   dirname:  Compute the dirname of FILE.  If nonempty,\n-#             add APPEND to the result, otherwise set result\n-#             to NONDIR_REPLACEMENT.\n-#             value returned in \""$func_dirname_result\""\n-#   basename: Compute filename of FILE.\n-#             value retuned in \""$func_basename_result\""\n-# Implementation must be kept synchronized with func_dirname\n-# and func_basename. For efficiency, we do not delegate to\n-# those functions but instead duplicate the functionality here.\n-func_dirname_and_basename ()\n-{\n-    # Extract subdirectory from the argument.\n-    func_dirname_result=`$ECHO \""${1}\"" | $SED -e \""$dirname\""`\n-    if test \""X$func_dirname_result\"" = \""X${1}\""; then\n-      func_dirname_result=\""${3}\""\n-    else\n-      func_dirname_result=\""$func_dirname_result${2}\""\n-    fi\n-    func_basename_result=`$ECHO \""${1}\"" | $SED -e \""$basename\""`\n-} # func_dirname_and_basename may be replaced by extended shell implementation\n-\n-\n-# func_stripname prefix suffix name\n-# strip PREFIX and SUFFIX off of NAME.\n-# PREFIX and SUFFIX must not contain globbing or regex special\n-# characters, hashes, percent signs, but SUFFIX may contain a leading\n-# dot (in which case that matches only a dot).\n-# func_strip_suffix prefix name\n-func_stripname ()\n-{\n-    case ${2} in\n-      .*) func_stripname_result=`$ECHO \""${3}\"" | $SED \""s%^${1}%%; s%\\\\\\\\${2}\\$%%\""`;;\n-      *)  func_stripname_result=`$ECHO \""${3}\"" | $SED \""s%^${1}%%; s%${2}\\$%%\""`;;\n-    esac\n-} # func_stripname may be replaced by extended shell implementation\n-\n-\n-# These SED scripts presuppose an absolute path with a trailing slash.\n-pathcar='s,^/\\([^/]*\\).*$,\\1,'\n-pathcdr='s,^/[^/]*,,'\n-removedotparts=':dotsl\n-\t\ts@/\\./@/@g\n-\t\tt dotsl\n-\t\ts,/\\.$,/,'\n-collapseslashes='s@/\\{1,\\}@/@g'\n-finalslash='s,/*$,/,'\n-\n-# func_normal_abspath PATH\n-# Remove doubled-up and trailing slashes, \"".\"" path components,\n-# and cancel out any \""..\"" path components in PATH after making\n-# it an absolute path.\n-#             value returned in \""$func_normal_abspath_result\""\n-func_normal_abspath ()\n-{\n-  # Start from root dir and reassemble the path.\n-  func_normal_abspath_result=\n-  func_normal_abspath_tpath=$1\n-  func_normal_abspath_altnamespace=\n-  case $func_normal_abspath_tpath in\n-    \""\"")\n-      # Empty path, that just means $cwd.\n-      func_stripname '' '/' \""`pwd`\""\n-      func_normal_abspath_result=$func_stripname_result\n-      return\n-    ;;\n-    # The next three entries are used to spot a run of precisely\n-    # two leading slashes without using negated character classes;\n-    # we take advantage of case's first-match behaviour.\n-    ///*)\n-      # Unusual form of absolute path, do nothing.\n-    ;;\n-    //*)\n-      # Not necessarily an ordinary path; POSIX reserves leading '//'\n-      # and for example Cygwin uses it to access remote file shares\n-      # over CIFS/SMB, so we conserve a leading double slash if found.\n-      func_normal_abspath_altnamespace=/\n-    ;;\n-    /*)\n-      # Absolute path, do nothing.\n-    ;;\n-    *)\n-      # Relative path, prepend $cwd.\n-      func_normal_abspath_tpath=`pwd`/$func_normal_abspath_tpath\n-    ;;\n-  esac\n-  # Cancel out all the simple stuff to save iterations.  We also want\n-  # the path to end with a slash for ease of parsing, so make sure\n-  # there is one (and only one) here.\n-  func_normal_abspath_tpath=`$ECHO \""$func_normal_abspath_tpath\"" | $SED \\\n-        -e \""$removedotparts\"" -e \""$collapseslashes\"" -e \""$finalslash\""`\n-  while :; do\n-    # Processed it all yet?\n-    if test \""$func_normal_abspath_tpath\"" = / ; then\n-      # If we ascended to the root using \""..\"" the result may be empty now.\n-      if test -z \""$func_normal_abspath_result\"" ; then\n-        func_normal_abspath_result=/\n-      fi\n-      break\n-    fi\n-    func_normal_abspath_tcomponent=`$ECHO \""$func_normal_abspath_tpath\"" | $SED \\\n-        -e \""$pathcar\""`\n-    func_normal_abspath_tpath=`$ECHO \""$func_normal_abspath_tpath\"" | $SED \\\n-        -e \""$pathcdr\""`\n-    # Figure out what to do with it\n-    case $func_normal_abspath_tcomponent in\n-      \""\"")\n-        # Trailing empty path component, ignore it.\n-      ;;\n-      ..)\n-        # Parent dir; strip last assembled component from result.\n-        func_dirname \""$func_normal_abspath_result\""\n-        func_normal_abspath_result=$func_dirname_result\n-      ;;\n-      *)\n-        # Actual path component, append it.\n-        func_normal_abspath_result=$func_normal_abspath_result/$func_normal_abspath_tcomponent\n-      ;;\n-    esac\n-  done\n-  # Restore leading double-slash if one was found on entry.\n-  func_normal_abspath_result=$func_normal_abspath_altnamespace$func_normal_abspath_result\n-}\n-\n-# func_relative_path SRCDIR DSTDIR\n-# generates a relative path from SRCDIR to DSTDIR, with a trailing\n-# slash if non-empty, suitable for immediately appending a filename\n-# without needing to append a separator.\n-#             value returned in \""$func_relative_path_result\""\n-func_relative_path ()\n-{\n-  func_relative_path_result=\n-  func_normal_abspath \""$1\""\n-  func_relative_path_tlibdir=$func_normal_abspath_result\n-  func_normal_abspath \""$2\""\n-  func_relative_path_tbindir=$func_normal_abspath_result\n-\n-  # Ascend the tree starting from libdir\n-  while :; do\n-    # check if we have found a prefix of bindir\n-    case $func_relative_path_tbindir in\n-      $func_relative_path_tlibdir)\n-        # found an exact match\n-        func_relative_path_tcancelled=\n-        break\n-        ;;\n-      $func_relative_path_tlibdir*)\n-        # found a matching prefix\n-        func_stripname \""$func_relative_path_tlibdir\"" '' \""$func_relative_path_tbindir\""\n-        func_relative_path_tcancelled=$func_stripname_result\n-        if test -z \""$func_relative_path_result\""; then\n-          func_relative_path_result=.\n-        fi\n-        break\n-        ;;\n-      *)\n-        func_dirname $func_relative_path_tlibdir\n-        func_relative_path_tlibdir=${func_dirname_result}\n-        if test \""x$func_relative_path_tlibdir\"" = x ; then\n-          # Have to descend all the way to the root!\n-          func_relative_path_result=../$func_relative_path_result\n-          func_relative_path_tcancelled=$func_relative_path_tbindir\n-          break\n-        fi\n-        func_relative_path_result=../$func_relative_path_result\n-        ;;\n-    esac\n-  done\n-\n-  # Now calculate path; take care to avoid doubling-up slashes.\n-  func_stripname '' '/' \""$func_relative_path_result\""\n-  func_relative_path_result=$func_stripname_result\n-  func_stripname '/' '/' \""$func_relative_path_tcancelled\""\n-  if test \""x$func_stripname_result\"" != x ; then\n-    func_relative_path_result=${func_relative_path_result}/${func_stripname_result}\n-  fi\n-\n-  # Normalisation. If bindir is libdir, return empty string,\n-  # else relative path ending with a slash; either way, target\n-  # file name can be directly appended.\n-  if test ! -z \""$func_relative_path_result\""; then\n-    func_stripname './' '' \""$func_relative_path_result/\""\n-    func_relative_path_result=$func_stripname_result\n-  fi\n-}\n-\n-# The name of this program:\n-func_dirname_and_basename \""$progpath\""\n-progname=$func_basename_result\n-\n-# Make sure we have an absolute path for reexecution:\n-case $progpath in\n-  [\\\\/]*|[A-Za-z]:\\\\*) ;;\n-  *[\\\\/]*)\n-     progdir=$func_dirname_result\n-     progdir=`cd \""$progdir\"" && pwd`\n-     progpath=\""$progdir/$progname\""\n-     ;;\n-  *)\n-     save_IFS=\""$IFS\""\n-     IFS=${PATH_SEPARATOR-:}\n-     for progdir in $PATH; do\n-       IFS=\""$save_IFS\""\n-       test -x \""$progdir/$progname\"" && break\n-     done\n-     IFS=\""$save_IFS\""\n-     test -n \""$progdir\"" || progdir=`pwd`\n-     progpath=\""$progdir/$progname\""\n-     ;;\n-esac\n-\n-# Sed substitution that helps us do robust quoting.  It backslashifies\n-# metacharacters that are still active within double-quoted strings.\n-Xsed=\""${SED}\""' -e 1s/^X//'\n-sed_quote_subst='s/\\([`\""$\\\\]\\)/\\\\\\1/g'\n-\n-# Same as above, but do not quote variable references.\n-double_quote_subst='s/\\([\""`\\\\]\\)/\\\\\\1/g'\n-\n-# Sed substitution that turns a string into a regex matching for the\n-# string literally.\n-sed_make_literal_regex='s,[].[^$\\\\*\\/],\\\\&,g'\n-\n-# Sed substitution that converts a w32 file name or path\n-# which contains forward slashes, into one that contains\n-# (escaped) backslashes.  A very naive implementation.\n-lt_sed_naive_backslashify='s|\\\\\\\\*|\\\\|g;s|/|\\\\|g;s|\\\\|\\\\\\\\|g'\n-\n-# Re-`\\' parameter expansions in output of double_quote_subst that were\n-# `\\'-ed in input to the same.  If an odd number of `\\' preceded a '$'\n-# in input to double_quote_subst, that '$' was protected from expansion.\n-# Since each input `\\' is now two `\\'s, look for any number of runs of\n-# four `\\'s followed by two `\\'s and then a '$'.  `\\' that '$'.\n-bs='\\\\'\n-bs2='\\\\\\\\'\n-bs4='\\\\\\\\\\\\\\\\'\n-dollar='\\$'\n-sed_double_backslash=\""\\\n-  s/$bs4/&\\\\\n-/g\n-  s/^$bs2$dollar/$bs&/\n-  s/\\\\([^$bs]\\\\)$bs2$dollar/\\\\1$bs2$bs$dollar/g\n-  s/\\n//g\""\n-\n-# Standard options:\n-opt_dry_run=false\n-opt_help=false\n-opt_quiet=false\n-opt_verbose=false\n-opt_warning=:\n-\n-# func_echo arg...\n-# Echo program name prefixed message, along with the current mode\n-# name if it has been set yet.\n-func_echo ()\n-{\n-    $ECHO \""$progname: ${opt_mode+$opt_mode: }$*\""\n-}\n-\n-# func_verbose arg...\n-# Echo program name prefixed message in verbose mode only.\n-func_verbose ()\n-{\n-    $opt_verbose && func_echo ${1+\""$@\""}\n-\n-    # A bug in bash halts the script if the last line of a function\n-    # fails when set -e is in force, so we need another command to\n-    # work around that:\n-    :\n-}\n-\n-# func_echo_all arg...\n-# Invoke $ECHO with all args, space-separated.\n-func_echo_all ()\n-{\n-    $ECHO \""$*\""\n-}\n-\n-# func_error arg...\n-# Echo program name prefixed message to standard error.\n-func_error ()\n-{\n-    $ECHO \""$progname: ${opt_mode+$opt_mode: }\""${1+\""$@\""} 1>&2\n-}\n-\n-# func_warning arg...\n-# Echo program name prefixed warning message to standard error.\n-func_warning ()\n-{\n-    $opt_warning && $ECHO \""$progname: ${opt_mode+$opt_mode: }warning: \""${1+\""$@\""} 1>&2\n-\n-    # bash bug again:\n-    :\n-}\n-\n-# func_fatal_error arg...\n-# Echo program name prefixed message to standard error, and exit.\n-func_fatal_error ()\n-{\n-    func_error ${1+\""$@\""}\n-    exit $EXIT_FAILURE\n-}\n-\n-# func_fatal_help arg...\n-# Echo program name prefixed message to standard error, followed by\n-# a help hint, and exit.\n-func_fatal_help ()\n-{\n-    func_error ${1+\""$@\""}\n-    func_fatal_error \""$help\""\n-}\n-help=\""Try \\`$progname --help' for more information.\""  ## default\n-\n-\n-# func_grep expression filename\n-# Check whether EXPRESSION matches any line of FILENAME, without output.\n-func_grep ()\n-{\n-    $GREP \""$1\"" \""$2\"" >/dev/null 2>&1\n-}\n-\n-\n-# func_mkdir_p directory-path\n-# Make sure the entire path to DIRECTORY-PATH is available.\n-func_mkdir_p ()\n-{\n-    my_directory_path=\""$1\""\n-    my_dir_list=\n-\n-    if test -n \""$my_directory_path\"" && test \""$opt_dry_run\"" != \"":\""; then\n-\n-      # Protect directory names starting with `-'\n-      case $my_directory_path in\n-        -*) my_directory_path=\""./$my_directory_path\"" ;;\n-      esac\n-\n-      # While some portion of DIR does not yet exist...\n-      while test ! -d \""$my_directory_path\""; do\n-        # ...make a list in topmost first order.  Use a colon delimited\n-\t# list incase some portion of path contains whitespace.\n-        my_dir_list=\""$my_directory_path:$my_dir_list\""\n-\n-        # If the last portion added has no slash in it, the list is done\n-        case $my_directory_path in */*) ;; *) break ;; esac\n-\n-        # ...otherwise throw away the child directory and loop\n-        my_directory_path=`$ECHO \""$my_directory_path\"" | $SED -e \""$dirname\""`\n-      done\n-      my_dir_list=`$ECHO \""$my_dir_list\"" | $SED 's,:*$,,'`\n-\n-      save_mkdir_p_IFS=\""$IFS\""; IFS=':'\n-      for my_dir in $my_dir_list; do\n-\tIFS=\""$save_mkdir_p_IFS\""\n-        # mkdir can fail with a `File exist' error if two processes\n-        # try to create one of the directories concurrently.  Don't\n-        # stop in that case!\n-        $MKDIR \""$my_dir\"" 2>/dev/null || :\n-      done\n-      IFS=\""$save_mkdir_p_IFS\""\n-\n-      # Bail out if we (or some other process) failed to create a directory.\n-      test -d \""$my_directory_path\"" || \\\n-        func_fatal_error \""Failed to create \\`$1'\""\n-    fi\n-}\n-\n-\n-# func_mktempdir [string]\n-# Make a temporary directory that won't clash with other running\n-# libtool processes, and avoids race conditions if possible.  If\n-# given, STRING is the basename for that directory.\n-func_mktempdir ()\n-{\n-    my_template=\""${TMPDIR-/tmp}/${1-$progname}\""\n-\n-    if test \""$opt_dry_run\"" = \"":\""; then\n-      # Return a directory name, but don't create it in dry-run mode\n-      my_tmpdir=\""${my_template}-$$\""\n-    else\n-\n-      # If mktemp works, use that first and foremost\n-      my_tmpdir=`mktemp -d \""${my_template}-XXXXXXXX\"" 2>/dev/null`\n-\n-      if test ! -d \""$my_tmpdir\""; then\n-        # Failing that, at least try and use $RANDOM to avoid a race\n-        my_tmpdir=\""${my_template}-${RANDOM-0}$$\""\n-\n-        save_mktempdir_umask=`umask`\n-        umask 0077\n-        $MKDIR \""$my_tmpdir\""\n-        umask $save_mktempdir_umask\n-      fi\n-\n-      # If we're not in dry-run mode, bomb out on failure\n-      test -d \""$my_tmpdir\"" || \\\n-        func_fatal_error \""cannot create temporary directory \\`$my_tmpdir'\""\n-    fi\n-\n-    $ECHO \""$my_tmpdir\""\n-}\n-\n-\n-# func_quote_for_eval arg\n-# Aesthetically quote ARG to be evaled later.\n-# This function returns two values: FUNC_QUOTE_FOR_EVAL_RESULT\n-# is double-quoted, suitable for a subsequent eval, whereas\n-# FUNC_QUOTE_FOR_EVAL_UNQUOTED_RESULT has merely all characters\n-# which are still active within double quotes backslashified.\n-func_quote_for_eval ()\n-{\n-    case $1 in\n-      *[\\\\\\`\\\""\\$]*)\n-\tfunc_quote_for_eval_unquoted_result=`$ECHO \""$1\"" | $SED \""$sed_quote_subst\""` ;;\n-      *)\n-        func_quote_for_eval_unquoted_result=\""$1\"" ;;\n-    esac\n-\n-    case $func_quote_for_eval_unquoted_result in\n-      # Double-quote args containing shell metacharacters to delay\n-      # word splitting, command substitution and and variable\n-      # expansion for a subsequent eval.\n-      # Many Bourne shells cannot handle close brackets correctly\n-      # in scan sets, so we specify it separately.\n-      *[\\[\\~\\#\\^\\&\\*\\(\\)\\{\\}\\|\\;\\<\\>\\?\\'\\ \\\t]*|*]*|\""\"")\n-        func_quote_for_eval_result=\""\\\""$func_quote_for_eval_unquoted_result\\\""\""\n-        ;;\n-      *)\n-        func_quote_for_eval_result=\""$func_quote_for_eval_unquoted_result\""\n-    esac\n-}\n-\n-\n-# func_quote_for_expand arg\n-# Aesthetically quote ARG to be evaled later; same as above,\n-# but do not quote variable references.\n-func_quote_for_expand ()\n-{\n-    case $1 in\n-      *[\\\\\\`\\\""]*)\n-\tmy_arg=`$ECHO \""$1\"" | $SED \\\n-\t    -e \""$double_quote_subst\"" -e \""$sed_double_backslash\""` ;;\n-      *)\n-        my_arg=\""$1\"" ;;\n-    esac\n-\n-    case $my_arg in\n-      # Double-quote args containing shell metacharacters to delay\n-      # word splitting and command substitution for a subsequent eval.\n-      # Many Bourne shells cannot handle close brackets correctly\n-      # in scan sets, so we specify it separately.\n-      *[\\[\\~\\#\\^\\&\\*\\(\\)\\{\\}\\|\\;\\<\\>\\?\\'\\ \\\t]*|*]*|\""\"")\n-        my_arg=\""\\\""$my_arg\\\""\""\n-        ;;\n-    esac\n-\n-    func_quote_for_expand_result=\""$my_arg\""\n-}\n-\n-\n-# func_show_eval cmd [fail_exp]\n-# Unless opt_silent is true, then output CMD.  Then, if opt_dryrun is\n-# not true, evaluate CMD.  If the evaluation of CMD fails, and FAIL_EXP\n-# is given, then evaluate it.\n-func_show_eval ()\n-{\n-    my_cmd=\""$1\""\n-    my_fail_exp=\""${2-:}\""\n-\n-    ${opt_silent-false} || {\n-      func_quote_for_expand \""$my_cmd\""\n-      eval \""func_echo $func_quote_for_expand_result\""\n-    }\n-\n-    if ${opt_dry_run-false}; then :; else\n-      eval \""$my_cmd\""\n-      my_status=$?\n-      if test \""$my_status\"" -eq 0; then :; else\n-\teval \""(exit $my_status); $my_fail_exp\""\n-      fi\n-    fi\n-}\n-\n-\n-# func_show_eval_locale cmd [fail_exp]\n-# Unless opt_silent is true, then output CMD.  Then, if opt_dryrun is\n-# not true, evaluate CMD.  If the evaluation of CMD fails, and FAIL_EXP\n-# is given, then evaluate it.  Use the saved locale for evaluation.\n-func_show_eval_locale ()\n-{\n-    my_cmd=\""$1\""\n-    my_fail_exp=\""${2-:}\""\n-\n-    ${opt_silent-false} || {\n-      func_quote_for_expand \""$my_cmd\""\n-      eval \""func_echo $func_quote_for_expand_result\""\n-    }\n-\n-    if ${opt_dry_run-false}; then :; else\n-      eval \""$lt_user_locale\n-\t    $my_cmd\""\n-      my_status=$?\n-      eval \""$lt_safe_locale\""\n-      if test \""$my_status\"" -eq 0; then :; else\n-\teval \""(exit $my_status); $my_fail_exp\""\n-      fi\n-    fi\n-}\n-\n-# func_tr_sh\n-# Turn $1 into a string suitable for a shell variable name.\n-# Result is stored in $func_tr_sh_result.  All characters\n-# not in the set a-zA-Z0-9_ are replaced with '_'. Further,\n-# if $1 begins with a digit, a '_' is prepended as well.\n-func_tr_sh ()\n-{\n-  case $1 in\n-  [0-9]* | *[!a-zA-Z0-9_]*)\n-    func_tr_sh_result=`$ECHO \""$1\"" | $SED 's/^\\([0-9]\\)/_\\1/; s/[^a-zA-Z0-9_]/_/g'`\n-    ;;\n-  * )\n-    func_tr_sh_result=$1\n-    ;;\n-  esac\n-}\n-\n-\n-# func_version\n-# Echo version message to standard output and exit.\n-func_version ()\n-{\n-    $opt_debug\n-\n-    $SED -n '/(C)/!b go\n-\t:more\n-\t/\\./!{\n-\t  N\n-\t  s/\\n# / /\n-\t  b more\n-\t}\n-\t:go\n-\t/^# '$PROGRAM' (GNU /,/# warranty; / {\n-        s/^# //\n-\ts/^# *$//\n-        s/\\((C)\\)[ 0-9,-]*\\( [1-9][0-9]*\\)/\\1\\2/\n-        p\n-     }' < \""$progpath\""\n-     exit $?\n-}\n-\n-# func_usage\n-# Echo short help message to standard output and exit.\n-func_usage ()\n-{\n-    $opt_debug\n-\n-    $SED -n '/^# Usage:/,/^#  *.*--help/ {\n-        s/^# //\n-\ts/^# *$//\n-\ts/\\$progname/'$progname'/\n-\tp\n-    }' < \""$progpath\""\n-    echo\n-    $ECHO \""run \\`$progname --help | more' for full usage\""\n-    exit $?\n-}\n-\n-# func_help [NOEXIT]\n-# Echo long help message to standard output and exit,\n-# unless 'noexit' is passed as argument.\n-func_help ()\n-{\n-    $opt_debug\n-\n-    $SED -n '/^# Usage:/,/# Report bugs to/ {\n-\t:print\n-        s/^# //\n-\ts/^# *$//\n-\ts*\\$progname*'$progname'*\n-\ts*\\$host*'\""$host\""'*\n-\ts*\\$SHELL*'\""$SHELL\""'*\n-\ts*\\$LTCC*'\""$LTCC\""'*\n-\ts*\\$LTCFLAGS*'\""$LTCFLAGS\""'*\n-\ts*\\$LD*'\""$LD\""'*\n-\ts/\\$with_gnu_ld/'\""$with_gnu_ld\""'/\n-\ts/\\$automake_version/'\""`(${AUTOMAKE-automake} --version) 2>/dev/null |$SED 1q`\""'/\n-\ts/\\$autoconf_version/'\""`(${AUTOCONF-autoconf} --version) 2>/dev/null |$SED 1q`\""'/\n-\tp\n-\td\n-     }\n-     /^# .* home page:/b print\n-     /^# General help using/b print\n-     ' < \""$progpath\""\n-    ret=$?\n-    if test -z \""$1\""; then\n-      exit $ret\n-    fi\n-}\n-\n-# func_missing_arg argname\n-# Echo program name prefixed message to standard error and set global\n-# exit_cmd.\n-func_missing_arg ()\n-{\n-    $opt_debug\n-\n-    func_error \""missing argument for $1.\""\n-    exit_cmd=exit\n-}\n-\n-\n-# func_split_short_opt shortopt\n-# Set func_split_short_opt_name and func_split_short_opt_arg shell\n-# variables after splitting SHORTOPT after the 2nd character.\n-func_split_short_opt ()\n-{\n-    my_sed_short_opt='1s/^\\(..\\).*$/\\1/;q'\n-    my_sed_short_rest='1s/^..\\(.*\\)$/\\1/;q'\n-\n-    func_split_short_opt_name=`$ECHO \""$1\"" | $SED \""$my_sed_short_opt\""`\n-    func_split_short_opt_arg=`$ECHO \""$1\"" | $SED \""$my_sed_short_rest\""`\n-} # func_split_short_opt may be replaced by extended shell implementation\n-\n-\n-# func_split_long_opt longopt\n-# Set func_split_long_opt_name and func_split_long_opt_arg shell\n-# variables after splitting LONGOPT at the `=' sign.\n-func_split_long_opt ()\n-{\n-    my_sed_long_opt='1s/^\\(--[^=]*\\)=.*/\\1/;q'\n-    my_sed_long_arg='1s/^--[^=]*=//'\n-\n-    func_split_long_opt_name=`$ECHO \""$1\"" | $SED \""$my_sed_long_opt\""`\n-    func_split_long_opt_arg=`$ECHO \""$1\"" | $SED \""$my_sed_long_arg\""`\n-} # func_split_long_opt may be replaced by extended shell implementation\n-\n-exit_cmd=:\n-\n-\n-\n-\n-\n-magic=\""%%%MAGIC variable%%%\""\n-magic_exe=\""%%%MAGIC EXE variable%%%\""\n-\n-# Global variables.\n-nonopt=\n-preserve_args=\n-lo2o=\""s/\\\\.lo\\$/.${objext}/\""\n-o2lo=\""s/\\\\.${objext}\\$/.lo/\""\n-extracted_archives=\n-extracted_serial=0\n-\n-# If this variable is set in any of the actions, the command in it\n-# will be execed at the end.  This prevents here-documents from being\n-# left over by shells.\n-exec_cmd=\n-\n-# func_append var value\n-# Append VALUE to the end of shell variable VAR.\n-func_append ()\n-{\n-    eval \""${1}=\\$${1}\\${2}\""\n-} # func_append may be replaced by extended shell implementation\n-\n-# func_append_quoted var value\n-# Quote VALUE and append to the end of shell variable VAR, separated\n-# by a space.\n-func_append_quoted ()\n-{\n-    func_quote_for_eval \""${2}\""\n-    eval \""${1}=\\$${1}\\\\ \\$func_quote_for_eval_result\""\n-} # func_append_quoted may be replaced by extended shell implementation\n-\n-\n-# func_arith arithmetic-term...\n-func_arith ()\n-{\n-    func_arith_result=`expr \""${@}\""`\n-} # func_arith may be replaced by extended shell implementation\n-\n-\n-# func_len string\n-# STRING may not start with a hyphen.\n-func_len ()\n-{\n-    func_len_result=`expr \""${1}\"" : \"".*\"" 2>/dev/null || echo $max_cmd_len`\n-} # func_len may be replaced by extended shell implementation\n-\n-\n-# func_lo2o object\n-func_lo2o ()\n-{\n-    func_lo2o_result=`$ECHO \""${1}\"" | $SED \""$lo2o\""`\n-} # func_lo2o may be replaced by extended shell implementation\n-\n-\n-# func_xform libobj-or-source\n-func_xform ()\n-{\n-    func_xform_result=`$ECHO \""${1}\"" | $SED 's/\\.[^.]*$/.lo/'`\n-} # func_xform may be replaced by extended shell implementation\n-\n-\n-# func_fatal_configuration arg...\n-# Echo program name prefixed message to standard error, followed by\n-# a configuration failure hint, and exit.\n-func_fatal_configuration ()\n-{\n-    func_error ${1+\""$@\""}\n-    func_error \""See the $PACKAGE documentation for more information.\""\n-    func_fatal_error \""Fatal configuration error.\""\n-}\n-\n-\n-# func_config\n-# Display the configuration for all the tags in this script.\n-func_config ()\n-{\n-    re_begincf='^# ### BEGIN LIBTOOL'\n-    re_endcf='^# ### END LIBTOOL'\n-\n-    # Default configuration.\n-    $SED \""1,/$re_begincf CONFIG/d;/$re_endcf CONFIG/,\\$d\"" < \""$progpath\""\n-\n-    # Now print the configurations for the tags.\n-    for tagname in $taglist; do\n-      $SED -n \""/$re_begincf TAG CONFIG: $tagname\\$/,/$re_endcf TAG CONFIG: $tagname\\$/p\"" < \""$progpath\""\n-    done\n-\n-    exit $?\n-}\n-\n-# func_features\n-# Display the features supported by this script.\n-func_features ()\n-{\n-    echo \""host: $host\""\n-    if test \""$build_libtool_libs\"" = yes; then\n-      echo \""enable shared libraries\""\n-    else\n-      echo \""disable shared libraries\""\n-    fi\n-    if test \""$build_old_libs\"" = yes; then\n-      echo \""enable static libraries\""\n-    else\n-      echo \""disable static libraries\""\n-    fi\n-\n-    exit $?\n-}\n-\n-# func_enable_tag tagname\n-# Verify that TAGNAME is valid, and either flag an error and exit, or\n-# enable the TAGNAME tag.  We also add TAGNAME to the global $taglist\n-# variable here.\n-func_enable_tag ()\n-{\n-  # Global variable:\n-  tagname=\""$1\""\n-\n-  re_begincf=\""^# ### BEGIN LIBTOOL TAG CONFIG: $tagname\\$\""\n-  re_endcf=\""^# ### END LIBTOOL TAG CONFIG: $tagname\\$\""\n-  sed_extractcf=\""/$re_begincf/,/$re_endcf/p\""\n-\n-  # Validate tagname.\n-  case $tagname in\n-    *[!-_A-Za-z0-9,/]*)\n-      func_fatal_error \""invalid tag name: $tagname\""\n-      ;;\n-  esac\n-\n-  # Don't test for the \""default\"" C tag, as we know it's\n-  # there but not specially marked.\n-  case $tagname in\n-    CC) ;;\n-    *)\n-      if $GREP \""$re_begincf\"" \""$progpath\"" >/dev/null 2>&1; then\n-\ttaglist=\""$taglist $tagname\""\n-\n-\t# Evaluate the configuration.  Be careful to quote the path\n-\t# and the sed script, to avoid splitting on whitespace, but\n-\t# also don't use non-portable quotes within backquotes within\n-\t# quotes we have to do it in 2 steps:\n-\textractedcf=`$SED -n -e \""$sed_extractcf\"" < \""$progpath\""`\n-\teval \""$extractedcf\""\n-      else\n-\tfunc_error \""ignoring unknown tag $tagname\""\n-      fi\n-      ;;\n-  esac\n-}\n-\n-# func_check_version_match\n-# Ensure that we are using m4 macros, and libtool script from the same\n-# release of libtool.\n-func_check_version_match ()\n-{\n-  if test \""$package_revision\"" != \""$macro_revision\""; then\n-    if test \""$VERSION\"" != \""$macro_version\""; then\n-      if test -z \""$macro_version\""; then\n-        cat >&2 <<_LT_EOF\n-$progname: Version mismatch error.  This is $PACKAGE $VERSION, but the\n-$progname: definition of this LT_INIT comes from an older release.\n-$progname: You should recreate aclocal.m4 with macros from $PACKAGE $VERSION\n-$progname: and run autoconf again.\n-_LT_EOF\n-      else\n-        cat >&2 <<_LT_EOF\n-$progname: Version mismatch error.  This is $PACKAGE $VERSION, but the\n-$progname: definition of this LT_INIT comes from $PACKAGE $macro_version.\n-$progname: You should recreate aclocal.m4 with macros from $PACKAGE $VERSION\n-$progname: and run autoconf again.\n-_LT_EOF\n-      fi\n-    else\n-      cat >&2 <<_LT_EOF\n-$progname: Version mismatch error.  This is $PACKAGE $VERSION, revision $package_revision,\n-$progname: but the definition of this LT_INIT comes from revision $macro_revision.\n-$progname: You should recreate aclocal.m4 with macros from revision $package_revision\n-$progname: of $PACKAGE $VERSION and run autoconf again.\n-_LT_EOF\n-    fi\n-\n-    exit $EXIT_MISMATCH\n-  fi\n-}\n-\n-\n-# Shorthand for --mode=foo, only valid as the first argument\n-case $1 in\n-clean|clea|cle|cl)\n-  shift; set dummy --mode clean ${1+\""$@\""}; shift\n-  ;;\n-compile|compil|compi|comp|com|co|c)\n-  shift; set dummy --mode compile ${1+\""$@\""}; shift\n-  ;;\n-execute|execut|execu|exec|exe|ex|e)\n-  shift; set dummy --mode execute ${1+\""$@\""}; shift\n-  ;;\n-finish|finis|fini|fin|fi|f)\n-  shift; set dummy --mode finish ${1+\""$@\""}; shift\n-  ;;\n-install|instal|insta|inst|ins|in|i)\n-  shift; set dummy --mode install ${1+\""$@\""}; shift\n-  ;;\n-link|lin|li|l)\n-  shift; set dummy --mode link ${1+\""$@\""}; shift\n-  ;;\n-uninstall|uninstal|uninsta|uninst|unins|unin|uni|un|u)\n-  shift; set dummy --mode uninstall ${1+\""$@\""}; shift\n-  ;;\n-esac\n-\n-\n-\n-# Option defaults:\n-opt_debug=:\n-opt_dry_run=false\n-opt_config=false\n-opt_preserve_dup_deps=false\n-opt_features=false\n-opt_finish=false\n-opt_help=false\n-opt_help_all=false\n-opt_silent=:\n-opt_warning=:\n-opt_verbose=:\n-opt_silent=false\n-opt_verbose=false\n-\n-\n-# Parse options once, thoroughly.  This comes as soon as possible in the\n-# script to make things like `--version' happen as quickly as we can.\n-{\n-  # this just eases exit handling\n-  while test $# -gt 0; do\n-    opt=\""$1\""\n-    shift\n-    case $opt in\n-      --debug|-x)\topt_debug='set -x'\n-\t\t\tfunc_echo \""enabling shell trace mode\""\n-\t\t\t$opt_debug\n-\t\t\t;;\n-      --dry-run|--dryrun|-n)\n-\t\t\topt_dry_run=:\n-\t\t\t;;\n-      --config)\n-\t\t\topt_config=:\n-func_config\n-\t\t\t;;\n-      --dlopen|-dlopen)\n-\t\t\toptarg=\""$1\""\n-\t\t\topt_dlopen=\""${opt_dlopen+$opt_dlopen\n-}$optarg\""\n-\t\t\tshift\n-\t\t\t;;\n-      --preserve-dup-deps)\n-\t\t\topt_preserve_dup_deps=:\n-\t\t\t;;\n-      --features)\n-\t\t\topt_features=:\n-func_features\n-\t\t\t;;\n-      --finish)\n-\t\t\topt_finish=:\n-set dummy --mode finish ${1+\""$@\""}; shift\n-\t\t\t;;\n-      --help)\n-\t\t\topt_help=:\n-\t\t\t;;\n-      --help-all)\n-\t\t\topt_help_all=:\n-opt_help=': help-all'\n-\t\t\t;;\n-      --mode)\n-\t\t\ttest $# = 0 && func_missing_arg $opt && break\n-\t\t\toptarg=\""$1\""\n-\t\t\topt_mode=\""$optarg\""\n-case $optarg in\n-  # Valid mode arguments:\n-  clean|compile|execute|finish|install|link|relink|uninstall) ;;\n-\n-  # Catch anything else as an error\n-  *) func_error \""invalid argument for $opt\""\n-     exit_cmd=exit\n-     break\n-     ;;\n-esac\n-\t\t\tshift\n-\t\t\t;;\n-      --no-silent|--no-quiet)\n-\t\t\topt_silent=false\n-func_append preserve_args \"" $opt\""\n-\t\t\t;;\n-      --no-warning|--no-warn)\n-\t\t\topt_warning=false\n-func_append preserve_args \"" $opt\""\n-\t\t\t;;\n-      --no-verbose)\n-\t\t\topt_verbose=false\n-func_append preserve_args \"" $opt\""\n-\t\t\t;;\n-      --silent|--quiet)\n-\t\t\topt_silent=:\n-func_append preserve_args \"" $opt\""\n-        opt_verbose=false\n-\t\t\t;;\n-      --verbose|-v)\n-\t\t\topt_verbose=:\n-func_append preserve_args \"" $opt\""\n-opt_silent=false\n-\t\t\t;;\n-      --tag)\n-\t\t\ttest $# = 0 && func_missing_arg $opt && break\n-\t\t\toptarg=\""$1\""\n-\t\t\topt_tag=\""$optarg\""\n-func_append preserve_args \"" $opt $optarg\""\n-func_enable_tag \""$optarg\""\n-\t\t\tshift\n-\t\t\t;;\n-\n-      -\\?|-h)\t\tfunc_usage\t\t\t\t;;\n-      --help)\t\tfunc_help\t\t\t\t;;\n-      --version)\tfunc_version\t\t\t\t;;\n-\n-      # Separate optargs to long options:\n-      --*=*)\n-\t\t\tfunc_split_long_opt \""$opt\""\n-\t\t\tset dummy \""$func_split_long_opt_name\"" \""$func_split_long_opt_arg\"" ${1+\""$@\""}\n-\t\t\tshift\n-\t\t\t;;\n-\n-      # Separate non-argument short options:\n-      -\\?*|-h*|-n*|-v*)\n-\t\t\tfunc_split_short_opt \""$opt\""\n-\t\t\tset dummy \""$func_split_short_opt_name\"" \""-$func_split_short_opt_arg\"" ${1+\""$@\""}\n-\t\t\tshift\n-\t\t\t;;\n-\n-      --)\t\tbreak\t\t\t\t\t;;\n-      -*)\t\tfunc_fatal_help \""unrecognized option \\`$opt'\"" ;;\n-      *)\t\tset dummy \""$opt\"" ${1+\""$@\""};\tshift; break  ;;\n-    esac\n-  done\n-\n-  # Validate options:\n-\n-  # save first non-option argument\n-  if test \""$#\"" -gt 0; then\n-    nonopt=\""$opt\""\n-    shift\n-  fi\n-\n-  # preserve --debug\n-  test \""$opt_debug\"" = : || func_append preserve_args \"" --debug\""\n-\n-  case $host in\n-    *cygwin* | *mingw* | *pw32* | *cegcc*)\n-      # don't eliminate duplications in $postdeps and $predeps\n-      opt_duplicate_compiler_generated_deps=:\n-      ;;\n-    *)\n-      opt_duplicate_compiler_generated_deps=$opt_preserve_dup_deps\n-      ;;\n-  esac\n-\n-  $opt_help || {\n-    # Sanity checks first:\n-    func_check_version_match\n-\n-    if test \""$build_libtool_libs\"" != yes && test \""$build_old_libs\"" != yes; then\n-      func_fatal_configuration \""not configured to build any kind of library\""\n-    fi\n-\n-    # Darwin sucks\n-    eval std_shrext=\\\""$shrext_cmds\\\""\n-\n-    # Only execute mode is allowed to have -dlopen flags.\n-    if test -n \""$opt_dlopen\"" && test \""$opt_mode\"" != execute; then\n-      func_error \""unrecognized option \\`-dlopen'\""\n-      $ECHO \""$help\"" 1>&2\n-      exit $EXIT_FAILURE\n-    fi\n-\n-    # Change the help message to a mode-specific one.\n-    generic_help=\""$help\""\n-    help=\""Try \\`$progname --help --mode=$opt_mode' for more information.\""\n-  }\n-\n-\n-  # Bail if the options were screwed\n-  $exit_cmd $EXIT_FAILURE\n-}\n-\n-\n-\n-\n-## ----------- ##\n-##    Main.    ##\n-## ----------- ##\n-\n-# func_lalib_p file\n-# True iff FILE is a libtool `.la' library or `.lo' object file.\n-# This function is only a basic sanity check; it will hardly flush out\n-# determined imposters.\n-func_lalib_p ()\n-{\n-    test -f \""$1\"" &&\n-      $SED -e 4q \""$1\"" 2>/dev/null \\\n-        | $GREP \""^# Generated by .*$PACKAGE\"" > /dev/null 2>&1\n-}\n-\n-# func_lalib_unsafe_p file\n-# True iff FILE is a libtool `.la' library or `.lo' object file.\n-# This function implements the same check as func_lalib_p without\n-# resorting to external programs.  To this end, it redirects stdin and\n-# closes it afterwards, without saving the original file descriptor.\n-# As a safety measure, use it only where a negative result would be\n-# fatal anyway.  Works if `file' does not exist.\n-func_lalib_unsafe_p ()\n-{\n-    lalib_p=no\n-    if test -f \""$1\"" && test -r \""$1\"" && exec 5<&0 <\""$1\""; then\n-\tfor lalib_p_l in 1 2 3 4\n-\tdo\n-\t    read lalib_p_line\n-\t    case \""$lalib_p_line\"" in\n-\t\t\\#\\ Generated\\ by\\ *$PACKAGE* ) lalib_p=yes; break;;\n-\t    esac\n-\tdone\n-\texec 0<&5 5<&-\n-    fi\n-    test \""$lalib_p\"" = yes\n-}\n-\n-# func_ltwrapper_script_p file\n-# True iff FILE is a libtool wrapper script\n-# This function is only a basic sanity check; it will hardly flush out\n-# determined imposters.\n-func_ltwrapper_script_p ()\n-{\n-    func_lalib_p \""$1\""\n-}\n-\n-# func_ltwrapper_executable_p file\n-# True iff FILE is a libtool wrapper executable\n-# This function is only a basic sanity check; it will hardly flush out\n-# determined imposters.\n-func_ltwrapper_executable_p ()\n-{\n-    func_ltwrapper_exec_suffix=\n-    case $1 in\n-    *.exe) ;;\n-    *) func_ltwrapper_exec_suffix=.exe ;;\n-    esac\n-    $GREP \""$magic_exe\"" \""$1$func_ltwrapper_exec_suffix\"" >/dev/null 2>&1\n-}\n-\n-# func_ltwrapper_scriptname file\n-# Assumes file is an ltwrapper_executable\n-# uses $file to determine the appropriate filename for a\n-# temporary ltwrapper_script.\n-func_ltwrapper_scriptname ()\n-{\n-    func_dirname_and_basename \""$1\"" \""\"" \"".\""\n-    func_stripname '' '.exe' \""$func_basename_result\""\n-    func_ltwrapper_scriptname_result=\""$func_dirname_result/$objdir/${func_stripname_result}_ltshwrapper\""\n-}\n-\n-# func_ltwrapper_p file\n-# True iff FILE is a libtool wrapper script or wrapper executable\n-# This function is only a basic sanity check; it will hardly flush out\n-# determined imposters.\n-func_ltwrapper_p ()\n-{\n-    func_ltwrapper_script_p \""$1\"" || func_ltwrapper_executable_p \""$1\""\n-}\n-\n-\n-# func_execute_cmds commands fail_cmd\n-# Execute tilde-delimited COMMANDS.\n-# If FAIL_CMD is given, eval that upon failure.\n-# FAIL_CMD may read-access the current command in variable CMD!\n-func_execute_cmds ()\n-{\n-    $opt_debug\n-    save_ifs=$IFS; IFS='~'\n-    for cmd in $1; do\n-      IFS=$save_ifs\n-      eval cmd=\\\""$cmd\\\""\n-      func_show_eval \""$cmd\"" \""${2-:}\""\n-    done\n-    IFS=$save_ifs\n-}\n-\n-\n-# func_source file\n-# Source FILE, adding directory component if necessary.\n-# Note that it is not necessary on cygwin/mingw to append a dot to\n-# FILE even if both FILE and FILE.exe exist: automatic-append-.exe\n-# behavior happens only for exec(3), not for open(2)!  Also, sourcing\n-# `FILE.' does not work on cygwin managed mounts.\n-func_source ()\n-{\n-    $opt_debug\n-    case $1 in\n-    */* | *\\\\*)\t. \""$1\"" ;;\n-    *)\t\t. \""./$1\"" ;;\n-    esac\n-}\n-\n-\n-# func_resolve_sysroot PATH\n-# Replace a leading = in PATH with a sysroot.  Store the result into\n-# func_resolve_sysroot_result\n-func_resolve_sysroot ()\n-{\n-  func_resolve_sysroot_result=$1\n-  case $func_resolve_sysroot_result in\n-  =*)\n-    func_stripname '=' '' \""$func_resolve_sysroot_result\""\n-    func_resolve_sysroot_result=$lt_sysroot$func_stripname_result\n-    ;;\n-  esac\n-}\n-\n-# func_replace_sysroot PATH\n-# If PATH begins with the sysroot, replace it with = and\n-# store the result into func_replace_sysroot_result.\n-func_replace_sysroot ()\n-{\n-  case \""$lt_sysroot:$1\"" in\n-  ?*:\""$lt_sysroot\""*)\n-    func_stripname \""$lt_sysroot\"" '' \""$1\""\n-    func_replace_sysroot_result=\""=$func_stripname_result\""\n-    ;;\n-  *)\n-    # Including no sysroot.\n-    func_replace_sysroot_result=$1\n-    ;;\n-  esac\n-}\n-\n-# func_infer_tag arg\n-# Infer tagged configuration to use if any are available and\n-# if one wasn't chosen via the \""--tag\"" command line option.\n-# Only attempt this if the compiler in the base compile\n-# command doesn't match the default compiler.\n-# arg is usually of the form 'gcc ...'\n-func_infer_tag ()\n-{\n-    $opt_debug\n-    if test -n \""$available_tags\"" && test -z \""$tagname\""; then\n-      CC_quoted=\n-      for arg in $CC; do\n-\tfunc_append_quoted CC_quoted \""$arg\""\n-      done\n-      CC_expanded=`func_echo_all $CC`\n-      CC_quoted_expanded=`func_echo_all $CC_quoted`\n-      case $@ in\n-      # Blanks in the command may have been stripped by the calling shell,\n-      # but not from the CC environment variable when configure was run.\n-      \"" $CC \""* | \""$CC \""* | \"" $CC_expanded \""* | \""$CC_expanded \""* | \\\n-      \"" $CC_quoted\""* | \""$CC_quoted \""* | \"" $CC_quoted_expanded \""* | \""$CC_quoted_expanded \""*) ;;\n-      # Blanks at the start of $base_compile will cause this to fail\n-      # if we don't check for them as well.\n-      *)\n-\tfor z in $available_tags; do\n-\t  if $GREP \""^# ### BEGIN LIBTOOL TAG CONFIG: $z$\"" < \""$progpath\"" > /dev/null; then\n-\t    # Evaluate the configuration.\n-\t    eval \""`${SED} -n -e '/^# ### BEGIN LIBTOOL TAG CONFIG: '$z'$/,/^# ### END LIBTOOL TAG CONFIG: '$z'$/p' < $progpath`\""\n-\t    CC_quoted=\n-\t    for arg in $CC; do\n-\t      # Double-quote args containing other shell metacharacters.\n-\t      func_append_quoted CC_quoted \""$arg\""\n-\t    done\n-\t    CC_expanded=`func_echo_all $CC`\n-\t    CC_quoted_expanded=`func_echo_all $CC_quoted`\n-\t    case \""$@ \"" in\n-\t    \"" $CC \""* | \""$CC \""* | \"" $CC_expanded \""* | \""$CC_expanded \""* | \\\n-\t    \"" $CC_quoted\""* | \""$CC_quoted \""* | \"" $CC_quoted_expanded \""* | \""$CC_quoted_expanded \""*)\n-\t      # The compiler in the base compile command matches\n-\t      # the one in the tagged configuration.\n-\t      # Assume this is the tagged configuration we want.\n-\t      tagname=$z\n-\t      break\n-\t      ;;\n-\t    esac\n-\t  fi\n-\tdone\n-\t# If $tagname still isn't set, then no tagged configuration\n-\t# was found and let the user know that the \""--tag\"" command\n-\t# line option must be used.\n-\tif test -z \""$tagname\""; then\n-\t  func_echo \""unable to infer tagged configuration\""\n-\t  func_fatal_error \""specify a tag with \\`--tag'\""\n-#\telse\n-#\t  func_verbose \""using $tagname tagged configuration\""\n-\tfi\n-\t;;\n-      esac\n-    fi\n-}\n-\n-\n-\n-# func_write_libtool_object output_name pic_name nonpic_name\n-# Create a libtool object file (analogous to a \"".la\"" file),\n-# but don't create it if we're doing a dry run.\n-func_write_libtool_object ()\n-{\n-    write_libobj=${1}\n-    if test \""$build_libtool_libs\"" = yes; then\n-      write_lobj=\\'${2}\\'\n-    else\n-      write_lobj=none\n-    fi\n-\n-    if test \""$build_old_libs\"" = yes; then\n-      write_oldobj=\\'${3}\\'\n-    else\n-      write_oldobj=none\n-    fi\n-\n-    $opt_dry_run || {\n-      cat >${write_libobj}T <<EOF\n-# $write_libobj - a libtool object file\n-# Generated by $PROGRAM (GNU $PACKAGE$TIMESTAMP) $VERSION\n-#\n-# Please DO NOT delete this file!\n-# It is necessary for linking the library.\n-\n-# Name of the PIC object.\n-pic_object=$write_lobj\n-\n-# Name of the non-PIC object\n-non_pic_object=$write_oldobj\n-\n-EOF\n-      $MV \""${write_libobj}T\"" \""${write_libobj}\""\n-    }\n-}\n-\n-\n-##################################################\n-# FILE NAME AND PATH CONVERSION HELPER FUNCTIONS #\n-##################################################\n-\n-# func_convert_core_file_wine_to_w32 ARG\n-# Helper function used by file name conversion functions when $build is *nix,\n-# and $host is mingw, cygwin, or some other w32 environment. Relies on a\n-# correctly configured wine environment available, with the winepath program\n-# in $build's $PATH.\n-#\n-# ARG is the $build file name to be converted to w32 format.\n-# Result is available in $func_convert_core_file_wine_to_w32_result, and will\n-# be empty on error (or when ARG is empty)\n-func_convert_core_file_wine_to_w32 ()\n-{\n-  $opt_debug\n-  func_convert_core_file_wine_to_w32_result=\""$1\""\n-  if test -n \""$1\""; then\n-    # Unfortunately, winepath does not exit with a non-zero error code, so we\n-    # are forced to check the contents of stdout. On the other hand, if the\n-    # command is not found, the shell will set an exit code of 127 and print\n-    # *an error message* to stdout. So we must check for both error code of\n-    # zero AND non-empty stdout, which explains the odd construction:\n-    func_convert_core_file_wine_to_w32_tmp=`winepath -w \""$1\"" 2>/dev/null`\n-    if test \""$?\"" -eq 0 && test -n \""${func_convert_core_file_wine_to_w32_tmp}\""; then\n-      func_convert_core_file_wine_to_w32_result=`$ECHO \""$func_convert_core_file_wine_to_w32_tmp\"" |\n-        $SED -e \""$lt_sed_naive_backslashify\""`\n-    else\n-      func_convert_core_file_wine_to_w32_result=\n-    fi\n-  fi\n-}\n-# end: func_convert_core_file_wine_to_w32\n-\n-\n-# func_convert_core_path_wine_to_w32 ARG\n-# Helper function used by path conversion functions when $build is *nix, and\n-# $host is mingw, cygwin, or some other w32 environment. Relies on a correctly\n-# configured wine environment available, with the winepath program in $build's\n-# $PATH. Assumes ARG has no leading or trailing path separator characters.\n-#\n-# ARG is path to be converted from $build format to win32.\n-# Result is available in $func_convert_core_path_wine_to_w32_result.\n-# Unconvertible file (directory) names in ARG are skipped; if no directory names\n-# are convertible, then the result may be empty.\n-func_convert_core_path_wine_to_w32 ()\n-{\n-  $opt_debug\n-  # unfortunately, winepath doesn't convert paths, only file names\n-  func_convert_core_path_wine_to_w32_result=\""\""\n-  if test -n \""$1\""; then\n-    oldIFS=$IFS\n-    IFS=:\n-    for func_convert_core_path_wine_to_w32_f in $1; do\n-      IFS=$oldIFS\n-      func_convert_core_file_wine_to_w32 \""$func_convert_core_path_wine_to_w32_f\""\n-      if test -n \""$func_convert_core_file_wine_to_w32_result\"" ; then\n-        if test -z \""$func_convert_core_path_wine_to_w32_result\""; then\n-          func_convert_core_path_wine_to_w32_result=\""$func_convert_core_file_wine_to_w32_result\""\n-        else\n-          func_append func_convert_core_path_wine_to_w32_result \"";$func_convert_core_file_wine_to_w32_result\""\n-        fi\n-      fi\n-    done\n-    IFS=$oldIFS\n-  fi\n-}\n-# end: func_convert_core_path_wine_to_w32\n-\n-\n-# func_cygpath ARGS...\n-# Wrapper around calling the cygpath program via LT_CYGPATH. This is used when\n-# when (1) $build is *nix and Cygwin is hosted via a wine environment; or (2)\n-# $build is MSYS and $host is Cygwin, or (3) $build is Cygwin. In case (1) or\n-# (2), returns the Cygwin file name or path in func_cygpath_result (input\n-# file name or path is assumed to be in w32 format, as previously converted\n-# from $build's *nix or MSYS format). In case (3), returns the w32 file name\n-# or path in func_cygpath_result (input file name or path is assumed to be in\n-# Cygwin format). Returns an empty string on error.\n-#\n-# ARGS are passed to cygpath, with the last one being the file name or path to\n-# be converted.\n-#\n-# Specify the absolute *nix (or w32) name to cygpath in the LT_CYGPATH\n-# environment variable; do not put it in $PATH.\n-func_cygpath ()\n-{\n-  $opt_debug\n-  if test -n \""$LT_CYGPATH\"" && test -f \""$LT_CYGPATH\""; then\n-    func_cygpath_result=`$LT_CYGPATH \""$@\"" 2>/dev/null`\n-    if test \""$?\"" -ne 0; then\n-      # on failure, ensure result is empty\n-      func_cygpath_result=\n-    fi\n-  else\n-    func_cygpath_result=\n-    func_error \""LT_CYGPATH is empty or specifies non-existent file: \\`$LT_CYGPATH'\""\n-  fi\n-}\n-#end: func_cygpath\n-\n-\n-# func_convert_core_msys_to_w32 ARG\n-# Convert file name or path ARG from MSYS format to w32 format.  Return\n-# result in func_convert_core_msys_to_w32_result.\n-func_convert_core_msys_to_w32 ()\n-{\n-  $opt_debug\n-  # awkward: cmd appends spaces to result\n-  func_convert_core_msys_to_w32_result=`( cmd //c echo \""$1\"" ) 2>/dev/null |\n-    $SED -e 's/[ ]*$//' -e \""$lt_sed_naive_backslashify\""`\n-}\n-#end: func_convert_core_msys_to_w32\n-\n-\n-# func_convert_file_check ARG1 ARG2\n-# Verify that ARG1 (a file name in $build format) was converted to $host\n-# format in ARG2. Otherwise, emit an error message, but continue (resetting\n-# func_to_host_file_result to ARG1).\n-func_convert_file_check ()\n-{\n-  $opt_debug\n-  if test -z \""$2\"" && test -n \""$1\"" ; then\n-    func_error \""Could not determine host file name corresponding to\""\n-    func_error \""  \\`$1'\""\n-    func_error \""Continuing, but uninstalled executables may not work.\""\n-    # Fallback:\n-    func_to_host_file_result=\""$1\""\n-  fi\n-}\n-# end func_convert_file_check\n-\n-\n-# func_convert_path_check FROM_PATHSEP TO_PATHSEP FROM_PATH TO_PATH\n-# Verify that FROM_PATH (a path in $build format) was converted to $host\n-# format in TO_PATH. Otherwise, emit an error message, but continue, resetting\n-# func_to_host_file_result to a simplistic fallback value (see below).\n-func_convert_path_check ()\n-{\n-  $opt_debug\n-  if test -z \""$4\"" && test -n \""$3\""; then\n-    func_error \""Could not determine the host path corresponding to\""\n-    func_error \""  \\`$3'\""\n-    func_error \""Continuing, but uninstalled executables may not work.\""\n-    # Fallback.  This is a deliberately simplistic \""conversion\"" and\n-    # should not be \""improved\"".  See libtool.info.\n-    if test \""x$1\"" != \""x$2\""; then\n-      lt_replace_pathsep_chars=\""s|$1|$2|g\""\n-      func_to_host_path_result=`echo \""$3\"" |\n-        $SED -e \""$lt_replace_pathsep_chars\""`\n-    else\n-      func_to_host_path_result=\""$3\""\n-    fi\n-  fi\n-}\n-# end func_convert_path_check\n-\n-\n-# func_convert_path_front_back_pathsep FRONTPAT BACKPAT REPL ORIG\n-# Modifies func_to_host_path_result by prepending REPL if ORIG matches FRONTPAT\n-# and appending REPL if ORIG matches BACKPAT.\n-func_convert_path_front_back_pathsep ()\n-{\n-  $opt_debug\n-  case $4 in\n-  $1 ) func_to_host_path_result=\""$3$func_to_host_path_result\""\n-    ;;\n-  esac\n-  case $4 in\n-  $2 ) func_append func_to_host_path_result \""$3\""\n-    ;;\n-  esac\n-}\n-# end func_convert_path_front_back_pathsep\n-\n-\n-##################################################\n-# $build to $host FILE NAME CONVERSION FUNCTIONS #\n-##################################################\n-# invoked via `$to_host_file_cmd ARG'\n-#\n-# In each case, ARG is the path to be converted from $build to $host format.\n-# Result will be available in $func_to_host_file_result.\n-\n-\n-# func_to_host_file ARG\n-# Converts the file name ARG from $build format to $host format. Return result\n-# in func_to_host_file_result.\n-func_to_host_file ()\n-{\n-  $opt_debug\n-  $to_host_file_cmd \""$1\""\n-}\n-# end func_to_host_file\n-\n-\n-# func_to_tool_file ARG LAZY\n-# converts the file name ARG from $build format to toolchain format. Return\n-# result in func_to_tool_file_result.  If the conversion in use is listed\n-# in (the comma separated) LAZY, no conversion takes place.\n-func_to_tool_file ()\n-{\n-  $opt_debug\n-  case ,$2, in\n-    *,\""$to_tool_file_cmd\"",*)\n-      func_to_tool_file_result=$1\n-      ;;\n-    *)\n-      $to_tool_file_cmd \""$1\""\n-      func_to_tool_file_result=$func_to_host_file_result\n-      ;;\n-  esac\n-}\n-# end func_to_tool_file\n-\n-\n-# func_convert_file_noop ARG\n-# Copy ARG to func_to_host_file_result.\n-func_convert_file_noop ()\n-{\n-  func_to_host_file_result=\""$1\""\n-}\n-# end func_convert_file_noop\n-\n-\n-# func_convert_file_msys_to_w32 ARG\n-# Convert file name ARG from (mingw) MSYS to (mingw) w32 format; automatic\n-# conversion to w32 is not available inside the cwrapper.  Returns result in\n-# func_to_host_file_result.\n-func_convert_file_msys_to_w32 ()\n-{\n-  $opt_debug\n-  func_to_host_file_result=\""$1\""\n-  if test -n \""$1\""; then\n-    func_convert_core_msys_to_w32 \""$1\""\n-    func_to_host_file_result=\""$func_convert_core_msys_to_w32_result\""\n-  fi\n-  func_convert_file_check \""$1\"" \""$func_to_host_file_result\""\n-}\n-# end func_convert_file_msys_to_w32\n-\n-\n-# func_convert_file_cygwin_to_w32 ARG\n-# Convert file name ARG from Cygwin to w32 format.  Returns result in\n-# func_to_host_file_result.\n-func_convert_file_cygwin_to_w32 ()\n-{\n-  $opt_debug\n-  func_to_host_file_result=\""$1\""\n-  if test -n \""$1\""; then\n-    # because $build is cygwin, we call \""the\"" cygpath in $PATH; no need to use\n-    # LT_CYGPATH in this case.\n-    func_to_host_file_result=`cygpath -m \""$1\""`\n-  fi\n-  func_convert_file_check \""$1\"" \""$func_to_host_file_result\""\n-}\n-# end func_convert_file_cygwin_to_w32\n-\n-\n-# func_convert_file_nix_to_w32 ARG\n-# Convert file name ARG from *nix to w32 format.  Requires a wine environment\n-# and a working winepath. Returns result in func_to_host_file_result.\n-func_convert_file_nix_to_w32 ()\n-{\n-  $opt_debug\n-  func_to_host_file_result=\""$1\""\n-  if test -n \""$1\""; then\n-    func_convert_core_file_wine_to_w32 \""$1\""\n-    func_to_host_file_result=\""$func_convert_core_file_wine_to_w32_result\""\n-  fi\n-  func_convert_file_check \""$1\"" \""$func_to_host_file_result\""\n-}\n-# end func_convert_file_nix_to_w32\n-\n-\n-# func_convert_file_msys_to_cygwin ARG\n-# Convert file name ARG from MSYS to Cygwin format.  Requires LT_CYGPATH set.\n-# Returns result in func_to_host_file_result.\n-func_convert_file_msys_to_cygwin ()\n-{\n-  $opt_debug\n-  func_to_host_file_result=\""$1\""\n-  if test -n \""$1\""; then\n-    func_convert_core_msys_to_w32 \""$1\""\n-    func_cygpath -u \""$func_convert_core_msys_to_w32_result\""\n-    func_to_host_file_result=\""$func_cygpath_result\""\n-  fi\n-  func_convert_file_check \""$1\"" \""$func_to_host_file_result\""\n-}\n-# end func_convert_file_msys_to_cygwin\n-\n-\n-# func_convert_file_nix_to_cygwin ARG\n-# Convert file name ARG from *nix to Cygwin format.  Requires Cygwin installed\n-# in a wine environment, working winepath, and LT_CYGPATH set.  Returns result\n-# in func_to_host_file_result.\n-func_convert_file_nix_to_cygwin ()\n-{\n-  $opt_debug\n-  func_to_host_file_result=\""$1\""\n-  if test -n \""$1\""; then\n-    # convert from *nix to w32, then use cygpath to convert from w32 to cygwin.\n-    func_convert_core_file_wine_to_w32 \""$1\""\n-    func_cygpath -u \""$func_convert_core_file_wine_to_w32_result\""\n-    func_to_host_file_result=\""$func_cygpath_result\""\n-  fi\n-  func_convert_file_check \""$1\"" \""$func_to_host_file_result\""\n-}\n-# end func_convert_file_nix_to_cygwin\n-\n-\n-#############################################\n-# $build to $host PATH CONVERSION FUNCTIONS #\n-#############################################\n-# invoked via `$to_host_path_cmd ARG'\n-#\n-# In each case, ARG is the path to be converted from $build to $host format.\n-# The result will be available in $func_to_host_path_result.\n-#\n-# Path separators are also converted from $build format to $host format.  If\n-# ARG begins or ends with a path separator character, it is preserved (but\n-# converted to $host format) on output.\n-#\n-# All path conversion functions are named using the following convention:\n-#   file name conversion function    : func_convert_file_X_to_Y ()\n-#   path conversion function         : func_convert_path_X_to_Y ()\n-# where, for any given $build/$host combination the 'X_to_Y' value is the\n-# same.  If conversion functions are added for new $build/$host combinations,\n-# the two new functions must follow this pattern, or func_init_to_host_path_cmd\n-# will break.\n-\n-\n-# func_init_to_host_path_cmd\n-# Ensures that function \""pointer\"" variable $to_host_path_cmd is set to the\n-# appropriate value, based on the value of $to_host_file_cmd.\n-to_host_path_cmd=\n-func_init_to_host_path_cmd ()\n-{\n-  $opt_debug\n-  if test -z \""$to_host_path_cmd\""; then\n-    func_stripname 'func_convert_file_' '' \""$to_host_file_cmd\""\n-    to_host_path_cmd=\""func_convert_path_${func_stripname_result}\""\n-  fi\n-}\n-\n-\n-# func_to_host_path ARG\n-# Converts the path ARG from $build format to $host format. Return result\n-# in func_to_host_path_result.\n-func_to_host_path ()\n-{\n-  $opt_debug\n-  func_init_to_host_path_cmd\n-  $to_host_path_cmd \""$1\""\n-}\n-# end func_to_host_path\n-\n-\n-# func_convert_path_noop ARG\n-# Copy ARG to func_to_host_path_result.\n-func_convert_path_noop ()\n-{\n-  func_to_host_path_result=\""$1\""\n-}\n-# end func_convert_path_noop\n-\n-\n-# func_convert_path_msys_to_w32 ARG\n-# Convert path ARG from (mingw) MSYS to (mingw) w32 format; automatic\n-# conversion to w32 is not available inside the cwrapper.  Returns result in\n-# func_to_host_path_result.\n-func_convert_path_msys_to_w32 ()\n-{\n-  $opt_debug\n-  func_to_host_path_result=\""$1\""\n-  if test -n \""$1\""; then\n-    # Remove leading and trailing path separator characters from ARG.  MSYS\n-    # behavior is inconsistent here; cygpath turns them into '.;' and ';.';\n-    # and winepath ignores them completely.\n-    func_stripname : : \""$1\""\n-    func_to_host_path_tmp1=$func_stripname_result\n-    func_convert_core_msys_to_w32 \""$func_to_host_path_tmp1\""\n-    func_to_host_path_result=\""$func_convert_core_msys_to_w32_result\""\n-    func_convert_path_check : \"";\"" \\\n-      \""$func_to_host_path_tmp1\"" \""$func_to_host_path_result\""\n-    func_convert_path_front_back_pathsep \"":*\"" \""*:\"" \"";\"" \""$1\""\n-  fi\n-}\n-# end func_convert_path_msys_to_w32\n-\n-\n-# func_convert_path_cygwin_to_w32 ARG\n-# Convert path ARG from Cygwin to w32 format.  Returns result in\n-# func_to_host_file_result.\n-func_convert_path_cygwin_to_w32 ()\n-{\n-  $opt_debug\n-  func_to_host_path_result=\""$1\""\n-  if test -n \""$1\""; then\n-    # See func_convert_path_msys_to_w32:\n-    func_stripname : : \""$1\""\n-    func_to_host_path_tmp1=$func_stripname_result\n-    func_to_host_path_result=`cygpath -m -p \""$func_to_host_path_tmp1\""`\n-    func_convert_path_check : \"";\"" \\\n-      \""$func_to_host_path_tmp1\"" \""$func_to_host_path_result\""\n-    func_convert_path_front_back_pathsep \"":*\"" \""*:\"" \"";\"" \""$1\""\n-  fi\n-}\n-# end func_convert_path_cygwin_to_w32\n-\n-\n-# func_convert_path_nix_to_w32 ARG\n-# Convert path ARG from *nix to w32 format.  Requires a wine environment and\n-# a working winepath.  Returns result in func_to_host_file_result.\n-func_convert_path_nix_to_w32 ()\n-{\n-  $opt_debug\n-  func_to_host_path_result=\""$1\""\n-  if test -n \""$1\""; then\n-    # See func_convert_path_msys_to_w32:\n-    func_stripname : : \""$1\""\n-    func_to_host_path_tmp1=$func_stripname_result\n-    func_convert_core_path_wine_to_w32 \""$func_to_host_path_tmp1\""\n-    func_to_host_path_result=\""$func_convert_core_path_wine_to_w32_result\""\n-    func_convert_path_check : \"";\"" \\\n-      \""$func_to_host_path_tmp1\"" \""$func_to_host_path_result\""\n-    func_convert_path_front_back_pathsep \"":*\"" \""*:\"" \"";\"" \""$1\""\n-  fi\n-}\n-# end func_convert_path_nix_to_w32\n-\n-\n-# func_convert_path_msys_to_cygwin ARG\n-# Convert path ARG from MSYS to Cygwin format.  Requires LT_CYGPATH set.\n-# Returns result in func_to_host_file_result.\n-func_convert_path_msys_to_cygwin ()\n-{\n-  $opt_debug\n-  func_to_host_path_result=\""$1\""\n-  if test -n \""$1\""; then\n-    # See func_convert_path_msys_to_w32:\n-    func_stripname : : \""$1\""\n-    func_to_host_path_tmp1=$func_stripname_result\n-    func_convert_core_msys_to_w32 \""$func_to_host_path_tmp1\""\n-    func_cygpath -u -p \""$func_convert_core_msys_to_w32_result\""\n-    func_to_host_path_result=\""$func_cygpath_result\""\n-    func_convert_path_check : : \\\n-      \""$func_to_host_path_tmp1\"" \""$func_to_host_path_result\""\n-    func_convert_path_front_back_pathsep \"":*\"" \""*:\"" : \""$1\""\n-  fi\n-}\n-# end func_convert_path_msys_to_cygwin\n-\n-\n-# func_convert_path_nix_to_cygwin ARG\n-# Convert path ARG from *nix to Cygwin format.  Requires Cygwin installed in a\n-# a wine environment, working winepath, and LT_CYGPATH set.  Returns result in\n-# func_to_host_file_result.\n-func_convert_path_nix_to_cygwin ()\n-{\n-  $opt_debug\n-  func_to_host_path_result=\""$1\""\n-  if test -n \""$1\""; then\n-    # Remove leading and trailing path separator characters from\n-    # ARG. msys behavior is inconsistent here, cygpath turns them\n-    # into '.;' and ';.', and winepath ignores them completely.\n-    func_stripname : : \""$1\""\n-    func_to_host_path_tmp1=$func_stripname_result\n-    func_convert_core_path_wine_to_w32 \""$func_to_host_path_tmp1\""\n-    func_cygpath -u -p \""$func_convert_core_path_wine_to_w32_result\""\n-    func_to_host_path_result=\""$func_cygpath_result\""\n-    func_convert_path_check : : \\\n-      \""$func_to_host_path_tmp1\"" \""$func_to_host_path_result\""\n-    func_convert_path_front_back_pathsep \"":*\"" \""*:\"" : \""$1\""\n-  fi\n-}\n-# end func_convert_path_nix_to_cygwin\n-\n-\n-# func_mode_compile arg...\n-func_mode_compile ()\n-{\n-    $opt_debug\n-    # Get the compilation command and the source file.\n-    base_compile=\n-    srcfile=\""$nonopt\""  #  always keep a non-empty value in \""srcfile\""\n-    suppress_opt=yes\n-    suppress_output=\n-    arg_mode=normal\n-    libobj=\n-    later=\n-    pie_flag=\n-\n-    for arg\n-    do\n-      case $arg_mode in\n-      arg  )\n-\t# do not \""continue\"".  Instead, add this to base_compile\n-\tlastarg=\""$arg\""\n-\targ_mode=normal\n-\t;;\n-\n-      target )\n-\tlibobj=\""$arg\""\n-\targ_mode=normal\n-\tcontinue\n-\t;;\n-\n-      normal )\n-\t# Accept any command-line options.\n-\tcase $arg in\n-\t-o)\n-\t  test -n \""$libobj\"" && \\\n-\t    func_fatal_error \""you cannot specify \\`-o' more than once\""\n-\t  arg_mode=target\n-\t  continue\n-\t  ;;\n-\n-\t-pie | -fpie | -fPIE)\n-          func_append pie_flag \"" $arg\""\n-\t  continue\n-\t  ;;\n-\n-\t-shared | -static | -prefer-pic | -prefer-non-pic)\n-\t  func_append later \"" $arg\""\n-\t  continue\n-\t  ;;\n-\n-\t-no-suppress)\n-\t  suppress_opt=no\n-\t  continue\n-\t  ;;\n-\n-\t-Xcompiler)\n-\t  arg_mode=arg  #  the next one goes into the \""base_compile\"" arg list\n-\t  continue      #  The current \""srcfile\"" will either be retained or\n-\t  ;;            #  replaced later.  I would guess that would be a bug.\n-\n-\t-Wc,*)\n-\t  func_stripname '-Wc,' '' \""$arg\""\n-\t  args=$func_stripname_result\n-\t  lastarg=\n-\t  save_ifs=\""$IFS\""; IFS=','\n-\t  for arg in $args; do\n-\t    IFS=\""$save_ifs\""\n-\t    func_append_quoted lastarg \""$arg\""\n-\t  done\n-\t  IFS=\""$save_ifs\""\n-\t  func_stripname ' ' '' \""$lastarg\""\n-\t  lastarg=$func_stripname_result\n-\n-\t  # Add the arguments to base_compile.\n-\t  func_append base_compile \"" $lastarg\""\n-\t  continue\n-\t  ;;\n-\n-\t*)\n-\t  # Accept the current argument as the source file.\n-\t  # The previous \""srcfile\"" becomes the current argument.\n-\t  #\n-\t  lastarg=\""$srcfile\""\n-\t  srcfile=\""$arg\""\n-\t  ;;\n-\tesac  #  case $arg\n-\t;;\n-      esac    #  case $arg_mode\n-\n-      # Aesthetically quote the previous argument.\n-      func_append_quoted base_compile \""$lastarg\""\n-    done # for arg\n-\n-    case $arg_mode in\n-    arg)\n-      func_fatal_error \""you must specify an argument for -Xcompile\""\n-      ;;\n-    target)\n-      func_fatal_error \""you must specify a target with \\`-o'\""\n-      ;;\n-    *)\n-      # Get the name of the library object.\n-      test -z \""$libobj\"" && {\n-\tfunc_basename \""$srcfile\""\n-\tlibobj=\""$func_basename_result\""\n-      }\n-      ;;\n-    esac\n-\n-    # Recognize several different file suffixes.\n-    # If the user specifies -o file.o, it is replaced with file.lo\n-    case $libobj in\n-    *.[cCFSifmso] | \\\n-    *.ada | *.adb | *.ads | *.asm | \\\n-    *.c++ | *.cc | *.ii | *.class | *.cpp | *.cxx | \\\n-    *.[fF][09]? | *.for | *.java | *.go | *.obj | *.sx | *.cu | *.cup)\n-      func_xform \""$libobj\""\n-      libobj=$func_xform_result\n-      ;;\n-    esac\n-\n-    case $libobj in\n-    *.lo) func_lo2o \""$libobj\""; obj=$func_lo2o_result ;;\n-    *)\n-      func_fatal_error \""cannot determine name of library object from \\`$libobj'\""\n-      ;;\n-    esac\n-\n-    func_infer_tag $base_compile\n-\n-    for arg in $later; do\n-      case $arg in\n-      -shared)\n-\ttest \""$build_libtool_libs\"" != yes && \\\n-\t  func_fatal_configuration \""can not build a shared library\""\n-\tbuild_old_libs=no\n-\tcontinue\n-\t;;\n-\n-      -static)\n-\tbuild_libtool_libs=no\n-\tbuild_old_libs=yes\n-\tcontinue\n-\t;;\n-\n-      -prefer-pic)\n-\tpic_mode=yes\n-\tcontinue\n-\t;;\n-\n-      -prefer-non-pic)\n-\tpic_mode=no\n-\tcontinue\n-\t;;\n-      esac\n-    done\n-\n-    func_quote_for_eval \""$libobj\""\n-    test \""X$libobj\"" != \""X$func_quote_for_eval_result\"" \\\n-      && $ECHO \""X$libobj\"" | $GREP '[]~#^*{};<>?\""'\""'\""'\t &()|`$[]' \\\n-      && func_warning \""libobj name \\`$libobj' may not contain shell special characters.\""\n-    func_dirname_and_basename \""$obj\"" \""/\"" \""\""\n-    objname=\""$func_basename_result\""\n-    xdir=\""$func_dirname_result\""\n-    lobj=${xdir}$objdir/$objname\n-\n-    test -z \""$base_compile\"" && \\\n-      func_fatal_help \""you must specify a compilation command\""\n-\n-    # Delete any leftover library objects.\n-    if test \""$build_old_libs\"" = yes; then\n-      removelist=\""$obj $lobj $libobj ${libobj}T\""\n-    else\n-      removelist=\""$lobj $libobj ${libobj}T\""\n-    fi\n-\n-    # On Cygwin there's no \""real\"" PIC flag so we must build both object types\n-    case $host_os in\n-    cygwin* | mingw* | pw32* | os2* | cegcc*)\n-      pic_mode=default\n-      ;;\n-    esac\n-    if test \""$pic_mode\"" = no && test \""$deplibs_check_method\"" != pass_all; then\n-      # non-PIC code in shared libraries is not supported\n-      pic_mode=default\n-    fi\n-\n-    # Calculate the filename of the output object if compiler does\n-    # not support -o with -c\n-    if test \""$compiler_c_o\"" = no; then\n-      output_obj=`$ECHO \""$srcfile\"" | $SED 's%^.*/%%; s%\\.[^.]*$%%'`.${objext}\n-      lockfile=\""$output_obj.lock\""\n-    else\n-      output_obj=\n-      need_locks=no\n-      lockfile=\n-    fi\n-\n-    # Lock this critical section if it is needed\n-    # We use this script file to make the link, it avoids creating a new file\n-    if test \""$need_locks\"" = yes; then\n-      until $opt_dry_run || ln \""$progpath\"" \""$lockfile\"" 2>/dev/null; do\n-\tfunc_echo \""Waiting for $lockfile to be removed\""\n-\tsleep 2\n-      done\n-    elif test \""$need_locks\"" = warn; then\n-      if test -f \""$lockfile\""; then\n-\t$ECHO \""\\\n-*** ERROR, $lockfile exists and contains:\n-`cat $lockfile 2>/dev/null`\n-\n-This indicates that another process is trying to use the same\n-temporary object file, and libtool could not work around it because\n-your compiler does not support \\`-c' and \\`-o' together.  If you\n-repeat this compilation, it may succeed, by chance, but you had better\n-avoid parallel builds (make -j) in this platform, or get a better\n-compiler.\""\n-\n-\t$opt_dry_run || $RM $removelist\n-\texit $EXIT_FAILURE\n-      fi\n-      func_append removelist \"" $output_obj\""\n-      $ECHO \""$srcfile\"" > \""$lockfile\""\n-    fi\n-\n-    $opt_dry_run || $RM $removelist\n-    func_append removelist \"" $lockfile\""\n-    trap '$opt_dry_run || $RM $removelist; exit $EXIT_FAILURE' 1 2 15\n-\n-    func_to_tool_file \""$srcfile\"" func_convert_file_msys_to_w32\n-    srcfile=$func_to_tool_file_result\n-    func_quote_for_eval \""$srcfile\""\n-    qsrcfile=$func_quote_for_eval_result\n-\n-    # Only build a PIC object if we are building libtool libraries.\n-    if test \""$build_libtool_libs\"" = yes; then\n-      # Without this assignment, base_compile gets emptied.\n-      fbsd_hideous_sh_bug=$base_compile\n-\n-      if test \""$pic_mode\"" != no; then\n-\tcommand=\""$base_compile $qsrcfile $pic_flag\""\n-      else\n-\t# Don't build PIC code\n-\tcommand=\""$base_compile $qsrcfile\""\n-      fi\n-\n-      func_mkdir_p \""$xdir$objdir\""\n-\n-      if test -z \""$output_obj\""; then\n-\t# Place PIC objects in $objdir\n-\tfunc_append command \"" -o $lobj\""\n-      fi\n-\n-      func_show_eval_locale \""$command\""\t\\\n-          'test -n \""$output_obj\"" && $RM $removelist; exit $EXIT_FAILURE'\n-\n-      if test \""$need_locks\"" = warn &&\n-\t test \""X`cat $lockfile 2>/dev/null`\"" != \""X$srcfile\""; then\n-\t$ECHO \""\\\n-*** ERROR, $lockfile contains:\n-`cat $lockfile 2>/dev/null`\n-\n-but it should contain:\n-$srcfile\n-\n-This indicates that another process is trying to use the same\n-temporary object file, and libtool could not work around it because\n-your compiler does not support \\`-c' and \\`-o' together.  If you\n-repeat this compilation, it may succeed, by chance, but you had better\n-avoid parallel builds (make -j) in this platform, or get a better\n-compiler.\""\n-\n-\t$opt_dry_run || $RM $removelist\n-\texit $EXIT_FAILURE\n-      fi\n-\n-      # Just move the object if needed, then go on to compile the next one\n-      if test -n \""$output_obj\"" && test \""X$output_obj\"" != \""X$lobj\""; then\n-\tfunc_show_eval '$MV \""$output_obj\"" \""$lobj\""' \\\n-\t  'error=$?; $opt_dry_run || $RM $removelist; exit $error'\n-      fi\n-\n-      # Allow error messages only from the first compilation.\n-      if test \""$suppress_opt\"" = yes; then\n-\tsuppress_output=' >/dev/null 2>&1'\n-      fi\n-    fi\n-\n-    # Only build a position-dependent object if we build old libraries.\n-    if test \""$build_old_libs\"" = yes; then\n-      if test \""$pic_mode\"" != yes; then\n-\t# Don't build PIC code\n-\tcommand=\""$base_compile $qsrcfile$pie_flag\""\n-      else\n-\tcommand=\""$base_compile $qsrcfile $pic_flag\""\n-      fi\n-      if test \""$compiler_c_o\"" = yes; then\n-\tfunc_append command \"" -o $obj\""\n-      fi\n-\n-      # Suppress compiler output if we already did a PIC compilation.\n-      func_append command \""$suppress_output\""\n-      func_show_eval_locale \""$command\"" \\\n-        '$opt_dry_run || $RM $removelist; exit $EXIT_FAILURE'\n-\n-      if test \""$need_locks\"" = warn &&\n-\t test \""X`cat $lockfile 2>/dev/null`\"" != \""X$srcfile\""; then\n-\t$ECHO \""\\\n-*** ERROR, $lockfile contains:\n-`cat $lockfile 2>/dev/null`\n-\n-but it should contain:\n-$srcfile\n-\n-This indicates that another process is trying to use the same\n-temporary object file, and libtool could not work around it because\n-your compiler does not support \\`-c' and \\`-o' together.  If you\n-repeat this compilation, it may succeed, by chance, but you had better\n-avoid parallel builds (make -j) in this platform, or get a better\n-compiler.\""\n-\n-\t$opt_dry_run || $RM $removelist\n-\texit $EXIT_FAILURE\n-      fi\n-\n-      # Just move the object if needed\n-      if test -n \""$output_obj\"" && test \""X$output_obj\"" != \""X$obj\""; then\n-\tfunc_show_eval '$MV \""$output_obj\"" \""$obj\""' \\\n-\t  'error=$?; $opt_dry_run || $RM $removelist; exit $error'\n-      fi\n-    fi\n-\n-    $opt_dry_run || {\n-      func_write_libtool_object \""$libobj\"" \""$objdir/$objname\"" \""$objname\""\n-\n-      # Unlock the critical section if it was locked\n-      if test \""$need_locks\"" != no; then\n-\tremovelist=$lockfile\n-        $RM \""$lockfile\""\n-      fi\n-    }\n-\n-    exit $EXIT_SUCCESS\n-}\n-\n-$opt_help || {\n-  test \""$opt_mode\"" = compile && func_mode_compile ${1+\""$@\""}\n-}\n-\n-func_mode_help ()\n-{\n-    # We need to display help for each of the modes.\n-    case $opt_mode in\n-      \""\"")\n-        # Generic help is extracted from the usage comments\n-        # at the start of this file.\n-        func_help\n-        ;;\n-\n-      clean)\n-        $ECHO \\\n-\""Usage: $progname [OPTION]... --mode=clean RM [RM-OPTION]... FILE...\n-\n-Remove files from the build directory.\n-\n-RM is the name of the program to use to delete files associated with each FILE\n-(typically \\`/bin/rm').  RM-OPTIONS are options (such as \\`-f') to be passed\n-to RM.\n-\n-If FILE is a libtool library, object or program, all the files associated\n-with it are deleted. Otherwise, only FILE itself is deleted using RM.\""\n-        ;;\n-\n-      compile)\n-      $ECHO \\\n-\""Usage: $progname [OPTION]... --mode=compile COMPILE-COMMAND... SOURCEFILE\n-\n-Compile a source file into a libtool library object.\n-\n-This mode accepts the following additional options:\n-\n-  -o OUTPUT-FILE    set the output file name to OUTPUT-FILE\n-  -no-suppress      do not suppress compiler output for multiple passes\n-  -prefer-pic       try to build PIC objects only\n-  -prefer-non-pic   try to build non-PIC objects only\n-  -shared           do not build a \\`.o' file suitable for static linking\n-  -static           only build a \\`.o' file suitable for static linking\n-  -Wc,FLAG          pass FLAG directly to the compiler\n-\n-COMPILE-COMMAND is a command to be used in creating a \\`standard' object file\n-from the given SOURCEFILE.\n-\n-The output file name is determined by removing the directory component from\n-SOURCEFILE, then substituting the C source code suffix \\`.c' with the\n-library object suffix, \\`.lo'.\""\n-        ;;\n-\n-      execute)\n-        $ECHO \\\n-\""Usage: $progname [OPTION]... --mode=execute COMMAND [ARGS]...\n-\n-Automatically set library path, then run a program.\n-\n-This mode accepts the following additional options:\n-\n-  -dlopen FILE      add the directory containing FILE to the library path\n-\n-This mode sets the library path environment variable according to \\`-dlopen'\n-flags.\n-\n-If any of the ARGS are libtool executable wrappers, then they are translated\n-into their corresponding uninstalled binary, and any of their required library\n-directories are added to the library path.\n-\n-Then, COMMAND is executed, with ARGS as arguments.\""\n-        ;;\n-\n-      finish)\n-        $ECHO \\\n-\""Usage: $progname [OPTION]... --mode=finish [LIBDIR]...\n-\n-Complete the installation of libtool libraries.\n-\n-Each LIBDIR is a directory that contains libtool libraries.\n-\n-The commands that this mode executes may require superuser privileges.  Use\n-the \\`--dry-run' option if you just want to see what would be executed.\""\n-        ;;\n-\n-      install)\n-        $ECHO \\\n-\""Usage: $progname [OPTION]... --mode=install INSTALL-COMMAND...\n-\n-Install executables or libraries.\n-\n-INSTALL-COMMAND is the installation command.  The first component should be\n-either the \\`install' or \\`cp' program.\n-\n-The following components of INSTALL-COMMAND are treated specially:\n-\n-  -inst-prefix-dir PREFIX-DIR  Use PREFIX-DIR as a staging area for installation\n-\n-The rest of the components are interpreted as arguments to that command (only\n-BSD-compatible install options are recognized).\""\n-        ;;\n-\n-      link)\n-        $ECHO \\\n-\""Usage: $progname [OPTION]... --mode=link LINK-COMMAND...\n-\n-Link object files or libraries together to form another library, or to\n-create an executable program.\n-\n-LINK-COMMAND is a command using the C compiler that you would use to create\n-a program from several object files.\n-\n-The following components of LINK-COMMAND are treated specially:\n-\n-  -all-static       do not do any dynamic linking at all\n-  -avoid-version    do not add a version suffix if possible\n-  -bindir BINDIR    specify path to binaries directory (for systems where\n-                    libraries must be found in the PATH setting at runtime)\n-  -dlopen FILE      \\`-dlpreopen' FILE if it cannot be dlopened at runtime\n-  -dlpreopen FILE   link in FILE and add its symbols to lt_preloaded_symbols\n-  -export-dynamic   allow symbols from OUTPUT-FILE to be resolved with dlsym(3)\n-  -export-symbols SYMFILE\n-                    try to export only the symbols listed in SYMFILE\n-  -export-symbols-regex REGEX\n-                    try to export only the symbols matching REGEX\n-  -LLIBDIR          search LIBDIR for required installed libraries\n-  -lNAME            OUTPUT-FILE requires the installed library libNAME\n-  -module           build a library that can dlopened\n-  -no-fast-install  disable the fast-install mode\n-  -no-install       link a not-installable executable\n-  -no-undefined     declare that a library does not refer to external symbols\n-  -o OUTPUT-FILE    create OUTPUT-FILE from the specified objects\n-  -objectlist FILE  Use a list of object files found in FILE to specify objects\n-  -precious-files-regex REGEX\n-                    don't remove output files matching REGEX\n-  -release RELEASE  specify package release information\n-  -rpath LIBDIR     the created library will eventually be installed in LIBDIR\n-  -R[ ]LIBDIR       add LIBDIR to the runtime path of programs and libraries\n-  -shared           only do dynamic linking of libtool libraries\n-  -shrext SUFFIX    override the standard shared library file extension\n-  -static           do not do any dynamic linking of uninstalled libtool libraries\n-  -static-libtool-libs\n-                    do not do any dynamic linking of libtool libraries\n-  -version-info CURRENT[:REVISION[:AGE]]\n-                    specify library version info [each variable defaults to 0]\n-  -weak LIBNAME     declare that the target provides the LIBNAME interface\n-  -Wc,FLAG\n-  -Xcompiler FLAG   pass linker-specific FLAG directly to the compiler\n-  -Wl,FLAG\n-  -Xlinker FLAG     pass linker-specific FLAG directly to the linker\n-  -XCClinker FLAG   pass link-specific FLAG to the compiler driver (CC)\n-\n-All other options (arguments beginning with \\`-') are ignored.\n-\n-Every other argument is treated as a filename.  Files ending in \\`.la' are\n-treated as uninstalled libtool libraries, other files are standard or library\n-object files.\n-\n-If the OUTPUT-FILE ends in \\`.la', then a libtool library is created,\n-only library objects (\\`.lo' files) may be specified, and \\`-rpath' is\n-required, except when creating a convenience library.\n-\n-If OUTPUT-FILE ends in \\`.a' or \\`.lib', then a standard library is created\n-using \\`ar' and \\`ranlib', or on Windows using \\`lib'.\n-\n-If OUTPUT-FILE ends in \\`.lo' or \\`.${objext}', then a reloadable object file\n-is created, otherwise an executable program is created.\""\n-        ;;\n-\n-      uninstall)\n-        $ECHO \\\n-\""Usage: $progname [OPTION]... --mode=uninstall RM [RM-OPTION]... FILE...\n-\n-Remove libraries from an installation directory.\n-\n-RM is the name of the program to use to delete files associated with each FILE\n-(typically \\`/bin/rm').  RM-OPTIONS are options (such as \\`-f') to be passed\n-to RM.\n-\n-If FILE is a libtool library, all the files associated with it are deleted.\n-Otherwise, only FILE itself is deleted using RM.\""\n-        ;;\n-\n-      *)\n-        func_fatal_help \""invalid operation mode \\`$opt_mode'\""\n-        ;;\n-    esac\n-\n-    echo\n-    $ECHO \""Try \\`$progname --help' for more information about other modes.\""\n-}\n-\n-# Now that we've collected a possible --mode arg, show help if necessary\n-if $opt_help; then\n-  if test \""$opt_help\"" = :; then\n-    func_mode_help\n-  else\n-    {\n-      func_help noexit\n-      for opt_mode in compile link execute install finish uninstall clean; do\n-\tfunc_mode_help\n-      done\n-    } | sed -n '1p; 2,$s/^Usage:/  or: /p'\n-    {\n-      func_help noexit\n-      for opt_mode in compile link execute install finish uninstall clean; do\n-\techo\n-\tfunc_mode_help\n-      done\n-    } |\n-    sed '1d\n-      /^When reporting/,/^Report/{\n-\tH\n-\td\n-      }\n-      $x\n-      /information about other modes/d\n-      /more detailed .*MODE/d\n-      s/^Usage:.*--mode=\\([^ ]*\\) .*/Description of \\1 mode:/'\n-  fi\n-  exit $?\n-fi\n-\n-\n-# func_mode_execute arg...\n-func_mode_execute ()\n-{\n-    $opt_debug\n-    # The first argument is the command name.\n-    cmd=\""$nonopt\""\n-    test -z \""$cmd\"" && \\\n-      func_fatal_help \""you must specify a COMMAND\""\n-\n-    # Handle -dlopen flags immediately.\n-    for file in $opt_dlopen; do\n-      test -f \""$file\"" \\\n-\t|| func_fatal_help \""\\`$file' is not a file\""\n-\n-      dir=\n-      case $file in\n-      *.la)\n-\tfunc_resolve_sysroot \""$file\""\n-\tfile=$func_resolve_sysroot_result\n-\n-\t# Check to see that this really is a libtool archive.\n-\tfunc_lalib_unsafe_p \""$file\"" \\\n-\t  || func_fatal_help \""\\`$lib' is not a valid libtool archive\""\n-\n-\t# Read the libtool library.\n-\tdlname=\n-\tlibrary_names=\n-\tfunc_source \""$file\""\n-\n-\t# Skip this library if it cannot be dlopened.\n-\tif test -z \""$dlname\""; then\n-\t  # Warn if it was a shared library.\n-\t  test -n \""$library_names\"" && \\\n-\t    func_warning \""\\`$file' was not linked with \\`-export-dynamic'\""\n-\t  continue\n-\tfi\n-\n-\tfunc_dirname \""$file\"" \""\"" \"".\""\n-\tdir=\""$func_dirname_result\""\n-\n-\tif test -f \""$dir/$objdir/$dlname\""; then\n-\t  func_append dir \""/$objdir\""\n-\telse\n-\t  if test ! -f \""$dir/$dlname\""; then\n-\t    func_fatal_error \""cannot find \\`$dlname' in \\`$dir' or \\`$dir/$objdir'\""\n-\t  fi\n-\tfi\n-\t;;\n-\n-      *.lo)\n-\t# Just add the directory containing the .lo file.\n-\tfunc_dirname \""$file\"" \""\"" \"".\""\n-\tdir=\""$func_dirname_result\""\n-\t;;\n-\n-      *)\n-\tfunc_warning \""\\`-dlopen' is ignored for non-libtool libraries and objects\""\n-\tcontinue\n-\t;;\n-      esac\n-\n-      # Get the absolute pathname.\n-      absdir=`cd \""$dir\"" && pwd`\n-      test -n \""$absdir\"" && dir=\""$absdir\""\n-\n-      # Now add the directory to shlibpath_var.\n-      if eval \""test -z \\\""\\$$shlibpath_var\\\""\""; then\n-\teval \""$shlibpath_var=\\\""\\$dir\\\""\""\n-      else\n-\teval \""$shlibpath_var=\\\""\\$dir:\\$$shlibpath_var\\\""\""\n-      fi\n-    done\n-\n-    # This variable tells wrapper scripts just to set shlibpath_var\n-    # rather than running their programs.\n-    libtool_execute_magic=\""$magic\""\n-\n-    # Check if any of the arguments is a wrapper script.\n-    args=\n-    for file\n-    do\n-      case $file in\n-      -* | *.la | *.lo ) ;;\n-      *)\n-\t# Do a test to see if this is really a libtool program.\n-\tif func_ltwrapper_script_p \""$file\""; then\n-\t  func_source \""$file\""\n-\t  # Transform arg to wrapped name.\n-\t  file=\""$progdir/$program\""\n-\telif func_ltwrapper_executable_p \""$file\""; then\n-\t  func_ltwrapper_scriptname \""$file\""\n-\t  func_source \""$func_ltwrapper_scriptname_result\""\n-\t  # Transform arg to wrapped name.\n-\t  file=\""$progdir/$program\""\n-\tfi\n-\t;;\n-      esac\n-      # Quote arguments (to preserve shell metacharacters).\n-      func_append_quoted args \""$file\""\n-    done\n-\n-    if test \""X$opt_dry_run\"" = Xfalse; then\n-      if test -n \""$shlibpath_var\""; then\n-\t# Export the shlibpath_var.\n-\teval \""export $shlibpath_var\""\n-      fi\n-\n-      # Restore saved environment variables\n-      for lt_var in LANG LANGUAGE LC_ALL LC_CTYPE LC_COLLATE LC_MESSAGES\n-      do\n-\teval \""if test \\\""\\${save_$lt_var+set}\\\"" = set; then\n-                $lt_var=\\$save_$lt_var; export $lt_var\n-\t      else\n-\t\t$lt_unset $lt_var\n-\t      fi\""\n-      done\n-\n-      # Now prepare to actually exec the command.\n-      exec_cmd=\""\\$cmd$args\""\n-    else\n-      # Display what would be done.\n-      if test -n \""$shlibpath_var\""; then\n-\teval \""\\$ECHO \\\""\\$shlibpath_var=\\$$shlibpath_var\\\""\""\n-\techo \""export $shlibpath_var\""\n-      fi\n-      $ECHO \""$cmd$args\""\n-      exit $EXIT_SUCCESS\n-    fi\n-}\n-\n-test \""$opt_mode\"" = execute && func_mode_execute ${1+\""$@\""}\n-\n-\n-# func_mode_finish arg...\n-func_mode_finish ()\n-{\n-    $opt_debug\n-    libs=\n-    libdirs=\n-    admincmds=\n-\n-    for opt in \""$nonopt\"" ${1+\""$@\""}\n-    do\n-      if test -d \""$opt\""; then\n-\tfunc_append libdirs \"" $opt\""\n-\n-      elif test -f \""$opt\""; then\n-\tif func_lalib_unsafe_p \""$opt\""; then\n-\t  func_append libs \"" $opt\""\n-\telse\n-\t  func_warning \""\\`$opt' is not a valid libtool archive\""\n-\tfi\n-\n-      else\n-\tfunc_fatal_error \""invalid argument \\`$opt'\""\n-      fi\n-    done\n-\n-    if test -n \""$libs\""; then\n-      if test -n \""$lt_sysroot\""; then\n-        sysroot_regex=`$ECHO \""$lt_sysroot\"" | $SED \""$sed_make_literal_regex\""`\n-        sysroot_cmd=\""s/\\([ ']\\)$sysroot_regex/\\1/g;\""\n-      else\n-        sysroot_cmd=\n-      fi\n-\n-      # Remove sysroot references\n-      if $opt_dry_run; then\n-        for lib in $libs; do\n-          echo \""removing references to $lt_sysroot and \\`=' prefixes from $lib\""\n-        done\n-      else\n-        tmpdir=`func_mktempdir`\n-        for lib in $libs; do\n-\t  sed -e \""${sysroot_cmd} s/\\([ ']-[LR]\\)=/\\1/g; s/\\([ ']\\)=/\\1/g\"" $lib \\\n-\t    > $tmpdir/tmp-la\n-\t  mv -f $tmpdir/tmp-la $lib\n-\tdone\n-        ${RM}r \""$tmpdir\""\n-      fi\n-    fi\n-\n-    if test -n \""$finish_cmds$finish_eval\"" && test -n \""$libdirs\""; then\n-      for libdir in $libdirs; do\n-\tif test -n \""$finish_cmds\""; then\n-\t  # Do each command in the finish commands.\n-\t  func_execute_cmds \""$finish_cmds\"" 'admincmds=\""$admincmds\n-'\""$cmd\""'\""'\n-\tfi\n-\tif test -n \""$finish_eval\""; then\n-\t  # Do the single finish_eval.\n-\t  eval cmds=\\\""$finish_eval\\\""\n-\t  $opt_dry_run || eval \""$cmds\"" || func_append admincmds \""\n-       $cmds\""\n-\tfi\n-      done\n-    fi\n-\n-    # Exit here if they wanted silent mode.\n-    $opt_silent && exit $EXIT_SUCCESS\n-\n-    if test -n \""$finish_cmds$finish_eval\"" && test -n \""$libdirs\""; then\n-      echo \""----------------------------------------------------------------------\""\n-      echo \""Libraries have been installed in:\""\n-      for libdir in $libdirs; do\n-\t$ECHO \""   $libdir\""\n-      done\n-      echo\n-      echo \""If you ever happen to want to link against installed libraries\""\n-      echo \""in a given directory, LIBDIR, you must either use libtool, and\""\n-      echo \""specify the full pathname of the library, or use the \\`-LLIBDIR'\""\n-      echo \""flag during linking and do at least one of the following:\""\n-      if test -n \""$shlibpath_var\""; then\n-\techo \""   - add LIBDIR to the \\`$shlibpath_var' environment variable\""\n-\techo \""     during execution\""\n-      fi\n-      if test -n \""$runpath_var\""; then\n-\techo \""   - add LIBDIR to the \\`$runpath_var' environment variable\""\n-\techo \""     during linking\""\n-      fi\n-      if test -n \""$hardcode_libdir_flag_spec\""; then\n-\tlibdir=LIBDIR\n-\teval flag=\\\""$hardcode_libdir_flag_spec\\\""\n-\n-\t$ECHO \""   - use the \\`$flag' linker flag\""\n-      fi\n-      if test -n \""$admincmds\""; then\n-\t$ECHO \""   - have your system administrator run these commands:$admincmds\""\n-      fi\n-      if test -f /etc/ld.so.conf; then\n-\techo \""   - have your system administrator add LIBDIR to \\`/etc/ld.so.conf'\""\n-      fi\n-      echo\n-\n-      echo \""See any operating system documentation about shared libraries for\""\n-      case $host in\n-\tsolaris2.[6789]|solaris2.1[0-9])\n-\t  echo \""more information, such as the ld(1), crle(1) and ld.so(8) manual\""\n-\t  echo \""pages.\""\n-\t  ;;\n-\t*)\n-\t  echo \""more information, such as the ld(1) and ld.so(8) manual pages.\""\n-\t  ;;\n-      esac\n-      echo \""----------------------------------------------------------------------\""\n-    fi\n-    exit $EXIT_SUCCESS\n-}\n-\n-test \""$opt_mode\"" = finish && func_mode_finish ${1+\""$@\""}\n-\n-\n-# func_mode_install arg...\n-func_mode_install ()\n-{\n-    $opt_debug\n-    # There may be an optional sh(1) argument at the beginning of\n-    # install_prog (especially on Windows NT).\n-    if test \""$nonopt\"" = \""$SHELL\"" || test \""$nonopt\"" = /bin/sh ||\n-       # Allow the use of GNU shtool's install command.\n-       case $nonopt in *shtool*) :;; *) false;; esac; then\n-      # Aesthetically quote it.\n-      func_quote_for_eval \""$nonopt\""\n-      install_prog=\""$func_quote_for_eval_result \""\n-      arg=$1\n-      shift\n-    else\n-      install_prog=\n-      arg=$nonopt\n-    fi\n-\n-    # The real first argument should be the name of the installation program.\n-    # Aesthetically quote it.\n-    func_quote_for_eval \""$arg\""\n-    func_append install_prog \""$func_quote_for_eval_result\""\n-    install_shared_prog=$install_prog\n-    case \"" $install_prog \"" in\n-      *[\\\\\\ /]cp\\ *) install_cp=: ;;\n-      *) install_cp=false ;;\n-    esac\n-\n-    # We need to accept at least all the BSD install flags.\n-    dest=\n-    files=\n-    opts=\n-    prev=\n-    install_type=\n-    isdir=no\n-    stripme=\n-    no_mode=:\n-    for arg\n-    do\n-      arg2=\n-      if test -n \""$dest\""; then\n-\tfunc_append files \"" $dest\""\n-\tdest=$arg\n-\tcontinue\n-      fi\n-\n-      case $arg in\n-      -d) isdir=yes ;;\n-      -f)\n-\tif $install_cp; then :; else\n-\t  prev=$arg\n-\tfi\n-\t;;\n-      -g | -m | -o)\n-\tprev=$arg\n-\t;;\n-      -s)\n-\tstripme=\"" -s\""\n-\tcontinue\n-\t;;\n-      -*)\n-\t;;\n-      *)\n-\t# If the previous option needed an argument, then skip it.\n-\tif test -n \""$prev\""; then\n-\t  if test \""x$prev\"" = x-m && test -n \""$install_override_mode\""; then\n-\t    arg2=$install_override_mode\n-\t    no_mode=false\n-\t  fi\n-\t  prev=\n-\telse\n-\t  dest=$arg\n-\t  continue\n-\tfi\n-\t;;\n-      esac\n-\n-      # Aesthetically quote the argument.\n-      func_quote_for_eval \""$arg\""\n-      func_append install_prog \"" $func_quote_for_eval_result\""\n-      if test -n \""$arg2\""; then\n-\tfunc_quote_for_eval \""$arg2\""\n-      fi\n-      func_append install_shared_prog \"" $func_quote_for_eval_result\""\n-    done\n-\n-    test -z \""$install_prog\"" && \\\n-      func_fatal_help \""you must specify an install program\""\n-\n-    test -n \""$prev\"" && \\\n-      func_fatal_help \""the \\`$prev' option requires an argument\""\n-\n-    if test -n \""$install_override_mode\"" && $no_mode; then\n-      if $install_cp; then :; else\n-\tfunc_quote_for_eval \""$install_override_mode\""\n-\tfunc_append install_shared_prog \"" -m $func_quote_for_eval_result\""\n-      fi\n-    fi\n-\n-    if test -z \""$files\""; then\n-      if test -z \""$dest\""; then\n-\tfunc_fatal_help \""no file or destination specified\""\n-      else\n-\tfunc_fatal_help \""you must specify a destination\""\n-      fi\n-    fi\n-\n-    # Strip any trailing slash from the destination.\n-    func_stripname '' '/' \""$dest\""\n-    dest=$func_stripname_result\n-\n-    # Check to see that the destination is a directory.\n-    test -d \""$dest\"" && isdir=yes\n-    if test \""$isdir\"" = yes; then\n-      destdir=\""$dest\""\n-      destname=\n-    else\n-      func_dirname_and_basename \""$dest\"" \""\"" \"".\""\n-      destdir=\""$func_dirname_result\""\n-      destname=\""$func_basename_result\""\n-\n-      # Not a directory, so check to see that there is only one file specified.\n-      set dummy $files; shift\n-      test \""$#\"" -gt 1 && \\\n-\tfunc_fatal_help \""\\`$dest' is not a directory\""\n-    fi\n-    case $destdir in\n-    [\\\\/]* | [A-Za-z]:[\\\\/]*) ;;\n-    *)\n-      for file in $files; do\n-\tcase $file in\n-\t*.lo) ;;\n-\t*)\n-\t  func_fatal_help \""\\`$destdir' must be an absolute directory name\""\n-\t  ;;\n-\tesac\n-      done\n-      ;;\n-    esac\n-\n-    # This variable tells wrapper scripts just to set variables rather\n-    # than running their programs.\n-    libtool_install_magic=\""$magic\""\n-\n-    staticlibs=\n-    future_libdirs=\n-    current_libdirs=\n-    for file in $files; do\n-\n-      # Do each installation.\n-      case $file in\n-      *.$libext)\n-\t# Do the static libraries later.\n-\tfunc_append staticlibs \"" $file\""\n-\t;;\n-\n-      *.la)\n-\tfunc_resolve_sysroot \""$file\""\n-\tfile=$func_resolve_sysroot_result\n-\n-\t# Check to see that this really is a libtool archive.\n-\tfunc_lalib_unsafe_p \""$file\"" \\\n-\t  || func_fatal_help \""\\`$file' is not a valid libtool archive\""\n-\n-\tlibrary_names=\n-\told_library=\n-\trelink_command=\n-\tfunc_source \""$file\""\n-\n-\t# Add the libdir to current_libdirs if it is the destination.\n-\tif test \""X$destdir\"" = \""X$libdir\""; then\n-\t  case \""$current_libdirs \"" in\n-\t  *\"" $libdir \""*) ;;\n-\t  *) func_append current_libdirs \"" $libdir\"" ;;\n-\t  esac\n-\telse\n-\t  # Note the libdir as a future libdir.\n-\t  case \""$future_libdirs \"" in\n-\t  *\"" $libdir \""*) ;;\n-\t  *) func_append future_libdirs \"" $libdir\"" ;;\n-\t  esac\n-\tfi\n-\n-\tfunc_dirname \""$file\"" \""/\"" \""\""\n-\tdir=\""$func_dirname_result\""\n-\tfunc_append dir \""$objdir\""\n-\n-\tif test -n \""$relink_command\""; then\n-\t  # Determine the prefix the user has applied to our future dir.\n-\t  inst_prefix_dir=`$ECHO \""$destdir\"" | $SED -e \""s%$libdir\\$%%\""`\n-\n-\t  # Don't allow the user to place us outside of our expected\n-\t  # location b/c this prevents finding dependent libraries that\n-\t  # are installed to the same prefix.\n-\t  # At present, this check doesn't affect windows .dll's that\n-\t  # are installed into $libdir/../bin (currently, that works fine)\n-\t  # but it's something to keep an eye on.\n-\t  test \""$inst_prefix_dir\"" = \""$destdir\"" && \\\n-\t    func_fatal_error \""error: cannot install \\`$file' to a directory not ending in $libdir\""\n-\n-\t  if test -n \""$inst_prefix_dir\""; then\n-\t    # Stick the inst_prefix_dir data into the link command.\n-\t    relink_command=`$ECHO \""$relink_command\"" | $SED \""s%@inst_prefix_dir@%-inst-prefix-dir $inst_prefix_dir%\""`\n-\t  else\n-\t    relink_command=`$ECHO \""$relink_command\"" | $SED \""s%@inst_prefix_dir@%%\""`\n-\t  fi\n-\n-\t  func_warning \""relinking \\`$file'\""\n-\t  func_show_eval \""$relink_command\"" \\\n-\t    'func_fatal_error \""error: relink \\`$file'\\'' with the above command before installing it\""'\n-\tfi\n-\n-\t# See the names of the shared library.\n-\tset dummy $library_names; shift\n-\tif test -n \""$1\""; then\n-\t  realname=\""$1\""\n-\t  shift\n-\n-\t  srcname=\""$realname\""\n-\t  test -n \""$relink_command\"" && srcname=\""$realname\""T\n-\n-\t  # Install the shared library and build the symlinks.\n-\t  func_show_eval \""$install_shared_prog $dir/$srcname $destdir/$realname\"" \\\n-\t      'exit $?'\n-\t  tstripme=\""$stripme\""\n-\t  case $host_os in\n-\t  cygwin* | mingw* | pw32* | cegcc*)\n-\t    case $realname in\n-\t    *.dll.a)\n-\t      tstripme=\""\""\n-\t      ;;\n-\t    esac\n-\t    ;;\n-\t  esac\n-\t  if test -n \""$tstripme\"" && test -n \""$striplib\""; then\n-\t    func_show_eval \""$striplib $destdir/$realname\"" 'exit $?'\n-\t  fi\n-\n-\t  if test \""$#\"" -gt 0; then\n-\t    # Delete the old symlinks, and create new ones.\n-\t    # Try `ln -sf' first, because the `ln' binary might depend on\n-\t    # the symlink we replace!  Solaris /bin/ln does not understand -f,\n-\t    # so we also need to try rm && ln -s.\n-\t    for linkname\n-\t    do\n-\t      test \""$linkname\"" != \""$realname\"" \\\n-\t\t&& func_show_eval \""(cd $destdir && { $LN_S -f $realname $linkname || { $RM $linkname && $LN_S $realname $linkname; }; })\""\n-\t    done\n-\t  fi\n-\n-\t  # Do each command in the postinstall commands.\n-\t  lib=\""$destdir/$realname\""\n-\t  func_execute_cmds \""$postinstall_cmds\"" 'exit $?'\n-\tfi\n-\n-\t# Install the pseudo-library for information purposes.\n-\tfunc_basename \""$file\""\n-\tname=\""$func_basename_result\""\n-\tinstname=\""$dir/$name\""i\n-\tfunc_show_eval \""$install_prog $instname $destdir/$name\"" 'exit $?'\n-\n-\t# Maybe install the static library, too.\n-\ttest -n \""$old_library\"" && func_append staticlibs \"" $dir/$old_library\""\n-\t;;\n-\n-      *.lo)\n-\t# Install (i.e. copy) a libtool object.\n-\n-\t# Figure out destination file name, if it wasn't already specified.\n-\tif test -n \""$destname\""; then\n-\t  destfile=\""$destdir/$destname\""\n-\telse\n-\t  func_basename \""$file\""\n-\t  destfile=\""$func_basename_result\""\n-\t  destfile=\""$destdir/$destfile\""\n-\tfi\n-\n-\t# Deduce the name of the destination old-style object file.\n-\tcase $destfile in\n-\t*.lo)\n-\t  func_lo2o \""$destfile\""\n-\t  staticdest=$func_lo2o_result\n-\t  ;;\n-\t*.$objext)\n-\t  staticdest=\""$destfile\""\n-\t  destfile=\n-\t  ;;\n-\t*)\n-\t  func_fatal_help \""cannot copy a libtool object to \\`$destfile'\""\n-\t  ;;\n-\tesac\n-\n-\t# Install the libtool object if requested.\n-\ttest -n \""$destfile\"" && \\\n-\t  func_show_eval \""$install_prog $file $destfile\"" 'exit $?'\n-\n-\t# Install the old object if enabled.\n-\tif test \""$build_old_libs\"" = yes; then\n-\t  # Deduce the name of the old-style object file.\n-\t  func_lo2o \""$file\""\n-\t  staticobj=$func_lo2o_result\n-\t  func_show_eval \""$install_prog \\$staticobj \\$staticdest\"" 'exit $?'\n-\tfi\n-\texit $EXIT_SUCCESS\n-\t;;\n-\n-      *)\n-\t# Figure out destination file name, if it wasn't already specified.\n-\tif test -n \""$destname\""; then\n-\t  destfile=\""$destdir/$destname\""\n-\telse\n-\t  func_basename \""$file\""\n-\t  destfile=\""$func_basename_result\""\n-\t  destfile=\""$destdir/$destfile\""\n-\tfi\n-\n-\t# If the file is missing, and there is a .exe on the end, strip it\n-\t# because it is most likely a libtool script we actually want to\n-\t# install\n-\tstripped_ext=\""\""\n-\tcase $file in\n-\t  *.exe)\n-\t    if test ! -f \""$file\""; then\n-\t      func_stripname '' '.exe' \""$file\""\n-\t      file=$func_stripname_result\n-\t      stripped_ext=\"".exe\""\n-\t    fi\n-\t    ;;\n-\tesac\n-\n-\t# Do a test to see if this is really a libtool program.\n-\tcase $host in\n-\t*cygwin* | *mingw*)\n-\t    if func_ltwrapper_executable_p \""$file\""; then\n-\t      func_ltwrapper_scriptname \""$file\""\n-\t      wrapper=$func_ltwrapper_scriptname_result\n-\t    else\n-\t      func_stripname '' '.exe' \""$file\""\n-\t      wrapper=$func_stripname_result\n-\t    fi\n-\t    ;;\n-\t*)\n-\t    wrapper=$file\n-\t    ;;\n-\tesac\n-\tif func_ltwrapper_script_p \""$wrapper\""; then\n-\t  notinst_deplibs=\n-\t  relink_command=\n-\n-\t  func_source \""$wrapper\""\n-\n-\t  # Check the variables that should have been set.\n-\t  test -z \""$generated_by_libtool_version\"" && \\\n-\t    func_fatal_error \""invalid libtool wrapper script \\`$wrapper'\""\n-\n-\t  finalize=yes\n-\t  for lib in $notinst_deplibs; do\n-\t    # Check to see that each library is installed.\n-\t    libdir=\n-\t    if test -f \""$lib\""; then\n-\t      func_source \""$lib\""\n-\t    fi\n-\t    libfile=\""$libdir/\""`$ECHO \""$lib\"" | $SED 's%^.*/%%g'` ### testsuite: skip nested quoting test\n-\t    if test -n \""$libdir\"" && test ! -f \""$libfile\""; then\n-\t      func_warning \""\\`$lib' has not been installed in \\`$libdir'\""\n-\t      finalize=no\n-\t    fi\n-\t  done\n-\n-\t  relink_command=\n-\t  func_source \""$wrapper\""\n-\n-\t  outputname=\n-\t  if test \""$fast_install\"" = no && test -n \""$relink_command\""; then\n-\t    $opt_dry_run || {\n-\t      if test \""$finalize\"" = yes; then\n-\t        tmpdir=`func_mktempdir`\n-\t\tfunc_basename \""$file$stripped_ext\""\n-\t\tfile=\""$func_basename_result\""\n-\t        outputname=\""$tmpdir/$file\""\n-\t        # Replace the output file specification.\n-\t        relink_command=`$ECHO \""$relink_command\"" | $SED 's%@OUTPUT@%'\""$outputname\""'%g'`\n-\n-\t        $opt_silent || {\n-\t          func_quote_for_expand \""$relink_command\""\n-\t\t  eval \""func_echo $func_quote_for_expand_result\""\n-\t        }\n-\t        if eval \""$relink_command\""; then :\n-\t          else\n-\t\t  func_error \""error: relink \\`$file' with the above command before installing it\""\n-\t\t  $opt_dry_run || ${RM}r \""$tmpdir\""\n-\t\t  continue\n-\t        fi\n-\t        file=\""$outputname\""\n-\t      else\n-\t        func_warning \""cannot relink \\`$file'\""\n-\t      fi\n-\t    }\n-\t  else\n-\t    # Install the binary that we compiled earlier.\n-\t    file=`$ECHO \""$file$stripped_ext\"" | $SED \""s%\\([^/]*\\)$%$objdir/\\1%\""`\n-\t  fi\n-\tfi\n-\n-\t# remove .exe since cygwin /usr/bin/install will append another\n-\t# one anyway\n-\tcase $install_prog,$host in\n-\t*/usr/bin/install*,*cygwin*)\n-\t  case $file:$destfile in\n-\t  *.exe:*.exe)\n-\t    # this is ok\n-\t    ;;\n-\t  *.exe:*)\n-\t    destfile=$destfile.exe\n-\t    ;;\n-\t  *:*.exe)\n-\t    func_stripname '' '.exe' \""$destfile\""\n-\t    destfile=$func_stripname_result\n-\t    ;;\n-\t  esac\n-\t  ;;\n-\tesac\n-\tfunc_show_eval \""$install_prog\\$stripme \\$file \\$destfile\"" 'exit $?'\n-\t$opt_dry_run || if test -n \""$outputname\""; then\n-\t  ${RM}r \""$tmpdir\""\n-\tfi\n-\t;;\n-      esac\n-    done\n-\n-    for file in $staticlibs; do\n-      func_basename \""$file\""\n-      name=\""$func_basename_result\""\n-\n-      # Set up the ranlib parameters.\n-      oldlib=\""$destdir/$name\""\n-      func_to_tool_file \""$oldlib\"" func_convert_file_msys_to_w32\n-      tool_oldlib=$func_to_tool_file_result\n-\n-      func_show_eval \""$install_prog \\$file \\$oldlib\"" 'exit $?'\n-\n-      if test -n \""$stripme\"" && test -n \""$old_striplib\""; then\n-\tfunc_show_eval \""$old_striplib $tool_oldlib\"" 'exit $?'\n-      fi\n-\n-      # Do each command in the postinstall commands.\n-      func_execute_cmds \""$old_postinstall_cmds\"" 'exit $?'\n-    done\n-\n-    test -n \""$future_libdirs\"" && \\\n-      func_warning \""remember to run \\`$progname --finish$future_libdirs'\""\n-\n-    if test -n \""$current_libdirs\""; then\n-      # Maybe just do a dry run.\n-      $opt_dry_run && current_libdirs=\"" -n$current_libdirs\""\n-      exec_cmd='$SHELL $progpath $preserve_args --finish$current_libdirs'\n-    else\n-      exit $EXIT_SUCCESS\n-    fi\n-}\n-\n-test \""$opt_mode\"" = install && func_mode_install ${1+\""$@\""}\n-\n-\n-# func_generate_dlsyms outputname originator pic_p\n-# Extract symbols from dlprefiles and create ${outputname}S.o with\n-# a dlpreopen symbol table.\n-func_generate_dlsyms ()\n-{\n-    $opt_debug\n-    my_outputname=\""$1\""\n-    my_originator=\""$2\""\n-    my_pic_p=\""${3-no}\""\n-    my_prefix=`$ECHO \""$my_originator\"" | sed 's%[^a-zA-Z0-9]%_%g'`\n-    my_dlsyms=\n-\n-    if test -n \""$dlfiles$dlprefiles\"" || test \""$dlself\"" != no; then\n-      if test -n \""$NM\"" && test -n \""$global_symbol_pipe\""; then\n-\tmy_dlsyms=\""${my_outputname}S.c\""\n-      else\n-\tfunc_error \""not configured to extract global symbols from dlpreopened files\""\n-      fi\n-    fi\n-\n-    if test -n \""$my_dlsyms\""; then\n-      case $my_dlsyms in\n-      \""\"") ;;\n-      *.c)\n-\t# Discover the nlist of each of the dlfiles.\n-\tnlist=\""$output_objdir/${my_outputname}.nm\""\n-\n-\tfunc_show_eval \""$RM $nlist ${nlist}S ${nlist}T\""\n-\n-\t# Parse the name list into a source file.\n-\tfunc_verbose \""creating $output_objdir/$my_dlsyms\""\n-\n-\t$opt_dry_run || $ECHO > \""$output_objdir/$my_dlsyms\"" \""\\\n-/* $my_dlsyms - symbol resolution table for \\`$my_outputname' dlsym emulation. */\n-/* Generated by $PROGRAM (GNU $PACKAGE$TIMESTAMP) $VERSION */\n-\n-#ifdef __cplusplus\n-extern \\\""C\\\"" {\n-#endif\n-\n-#if defined(__GNUC__) && (((__GNUC__ == 4) && (__GNUC_MINOR__ >= 4)) || (__GNUC__ > 4))\n-#pragma GCC diagnostic ignored \\\""-Wstrict-prototypes\\\""\n-#endif\n-\n-/* Keep this code in sync between libtool.m4, ltmain, lt_system.h, and tests.  */\n-#if defined(_WIN32) || defined(__CYGWIN__) || defined(_WIN32_WCE)\n-/* DATA imports from DLLs on WIN32 con't be const, because runtime\n-   relocations are performed -- see ld's documentation on pseudo-relocs.  */\n-# define LT_DLSYM_CONST\n-#elif defined(__osf__)\n-/* This system does not cope well with relocations in const data.  */\n-# define LT_DLSYM_CONST\n-#else\n-# define LT_DLSYM_CONST const\n-#endif\n-\n-/* External symbol declarations for the compiler. */\\\n-\""\n-\n-\tif test \""$dlself\"" = yes; then\n-\t  func_verbose \""generating symbol list for \\`$output'\""\n-\n-\t  $opt_dry_run || echo ': @PROGRAM@ ' > \""$nlist\""\n-\n-\t  # Add our own program objects to the symbol list.\n-\t  progfiles=`$ECHO \""$objs$old_deplibs\"" | $SP2NL | $SED \""$lo2o\"" | $NL2SP`\n-\t  for progfile in $progfiles; do\n-\t    func_to_tool_file \""$progfile\"" func_convert_file_msys_to_w32\n-\t    func_verbose \""extracting global C symbols from \\`$func_to_tool_file_result'\""\n-\t    $opt_dry_run || eval \""$NM $func_to_tool_file_result | $global_symbol_pipe >> '$nlist'\""\n-\t  done\n-\n-\t  if test -n \""$exclude_expsyms\""; then\n-\t    $opt_dry_run || {\n-\t      eval '$EGREP -v \"" ($exclude_expsyms)$\"" \""$nlist\"" > \""$nlist\""T'\n-\t      eval '$MV \""$nlist\""T \""$nlist\""'\n-\t    }\n-\t  fi\n-\n-\t  if test -n \""$export_symbols_regex\""; then\n-\t    $opt_dry_run || {\n-\t      eval '$EGREP -e \""$export_symbols_regex\"" \""$nlist\"" > \""$nlist\""T'\n-\t      eval '$MV \""$nlist\""T \""$nlist\""'\n-\t    }\n-\t  fi\n-\n-\t  # Prepare the list of exported symbols\n-\t  if test -z \""$export_symbols\""; then\n-\t    export_symbols=\""$output_objdir/$outputname.exp\""\n-\t    $opt_dry_run || {\n-\t      $RM $export_symbols\n-\t      eval \""${SED} -n -e '/^: @PROGRAM@ $/d' -e 's/^.* \\(.*\\)$/\\1/p' \""'< \""$nlist\"" > \""$export_symbols\""'\n-\t      case $host in\n-\t      *cygwin* | *mingw* | *cegcc* )\n-                eval \""echo EXPORTS \""'> \""$output_objdir/$outputname.def\""'\n-                eval 'cat \""$export_symbols\"" >> \""$output_objdir/$outputname.def\""'\n-\t        ;;\n-\t      esac\n-\t    }\n-\t  else\n-\t    $opt_dry_run || {\n-\t      eval \""${SED} -e 's/\\([].[*^$]\\)/\\\\\\\\\\1/g' -e 's/^/ /' -e 's/$/$/'\""' < \""$export_symbols\"" > \""$output_objdir/$outputname.exp\""'\n-\t      eval '$GREP -f \""$output_objdir/$outputname.exp\"" < \""$nlist\"" > \""$nlist\""T'\n-\t      eval '$MV \""$nlist\""T \""$nlist\""'\n-\t      case $host in\n-\t        *cygwin* | *mingw* | *cegcc* )\n-\t          eval \""echo EXPORTS \""'> \""$output_objdir/$outputname.def\""'\n-\t          eval 'cat \""$nlist\"" >> \""$output_objdir/$outputname.def\""'\n-\t          ;;\n-\t      esac\n-\t    }\n-\t  fi\n-\tfi\n-\n-\tfor dlprefile in $dlprefiles; do\n-\t  func_verbose \""extracting global C symbols from \\`$dlprefile'\""\n-\t  func_basename \""$dlprefile\""\n-\t  name=\""$func_basename_result\""\n-          case $host in\n-\t    *cygwin* | *mingw* | *cegcc* )\n-\t      # if an import library, we need to obtain dlname\n-\t      if func_win32_import_lib_p \""$dlprefile\""; then\n-\t        func_tr_sh \""$dlprefile\""\n-\t        eval \""curr_lafile=\\$libfile_$func_tr_sh_result\""\n-\t        dlprefile_dlbasename=\""\""\n-\t        if test -n \""$curr_lafile\"" && func_lalib_p \""$curr_lafile\""; then\n-\t          # Use subshell, to avoid clobbering current variable values\n-\t          dlprefile_dlname=`source \""$curr_lafile\"" && echo \""$dlname\""`\n-\t          if test -n \""$dlprefile_dlname\"" ; then\n-\t            func_basename \""$dlprefile_dlname\""\n-\t            dlprefile_dlbasename=\""$func_basename_result\""\n-\t          else\n-\t            # no lafile. user explicitly requested -dlpreopen <import library>.\n-\t            $sharedlib_from_linklib_cmd \""$dlprefile\""\n-\t            dlprefile_dlbasename=$sharedlib_from_linklib_result\n-\t          fi\n-\t        fi\n-\t        $opt_dry_run || {\n-\t          if test -n \""$dlprefile_dlbasename\"" ; then\n-\t            eval '$ECHO \"": $dlprefile_dlbasename\"" >> \""$nlist\""'\n-\t          else\n-\t            func_warning \""Could not compute DLL name from $name\""\n-\t            eval '$ECHO \"": $name \"" >> \""$nlist\""'\n-\t          fi\n-\t          func_to_tool_file \""$dlprefile\"" func_convert_file_msys_to_w32\n-\t          eval \""$NM \\\""$func_to_tool_file_result\\\"" 2>/dev/null | $global_symbol_pipe |\n-\t            $SED -e '/I __imp/d' -e 's/I __nm_/D /;s/_nm__//' >> '$nlist'\""\n-\t        }\n-\t      else # not an import lib\n-\t        $opt_dry_run || {\n-\t          eval '$ECHO \"": $name \"" >> \""$nlist\""'\n-\t          func_to_tool_file \""$dlprefile\"" func_convert_file_msys_to_w32\n-\t          eval \""$NM \\\""$func_to_tool_file_result\\\"" 2>/dev/null | $global_symbol_pipe >> '$nlist'\""\n-\t        }\n-\t      fi\n-\t    ;;\n-\t    *)\n-\t      $opt_dry_run || {\n-\t        eval '$ECHO \"": $name \"" >> \""$nlist\""'\n-\t        func_to_tool_file \""$dlprefile\"" func_convert_file_msys_to_w32\n-\t        eval \""$NM \\\""$func_to_tool_file_result\\\"" 2>/dev/null | $global_symbol_pipe >> '$nlist'\""\n-\t      }\n-\t    ;;\n-          esac\n-\tdone\n-\n-\t$opt_dry_run || {\n-\t  # Make sure we have at least an empty file.\n-\t  test -f \""$nlist\"" || : > \""$nlist\""\n-\n-\t  if test -n \""$exclude_expsyms\""; then\n-\t    $EGREP -v \"" ($exclude_expsyms)$\"" \""$nlist\"" > \""$nlist\""T\n-\t    $MV \""$nlist\""T \""$nlist\""\n-\t  fi\n-\n-\t  # Try sorting and uniquifying the output.\n-\t  if $GREP -v \""^: \"" < \""$nlist\"" |\n-\t      if sort -k 3 </dev/null >/dev/null 2>&1; then\n-\t\tsort -k 3\n-\t      else\n-\t\tsort +2\n-\t      fi |\n-\t      uniq > \""$nlist\""S; then\n-\t    :\n-\t  else\n-\t    $GREP -v \""^: \"" < \""$nlist\"" > \""$nlist\""S\n-\t  fi\n-\n-\t  if test -f \""$nlist\""S; then\n-\t    eval \""$global_symbol_to_cdecl\""' < \""$nlist\""S >> \""$output_objdir/$my_dlsyms\""'\n-\t  else\n-\t    echo '/* NONE */' >> \""$output_objdir/$my_dlsyms\""\n-\t  fi\n-\n-\t  echo >> \""$output_objdir/$my_dlsyms\"" \""\\\n-\n-/* The mapping between symbol names and symbols.  */\n-typedef struct {\n-  const char *name;\n-  void *address;\n-} lt_dlsymlist;\n-extern LT_DLSYM_CONST lt_dlsymlist\n-lt_${my_prefix}_LTX_preloaded_symbols[];\n-LT_DLSYM_CONST lt_dlsymlist\n-lt_${my_prefix}_LTX_preloaded_symbols[] =\n-{\\\n-  { \\\""$my_originator\\\"", (void *) 0 },\""\n-\n-\t  case $need_lib_prefix in\n-\t  no)\n-\t    eval \""$global_symbol_to_c_name_address\"" < \""$nlist\"" >> \""$output_objdir/$my_dlsyms\""\n-\t    ;;\n-\t  *)\n-\t    eval \""$global_symbol_to_c_name_address_lib_prefix\"" < \""$nlist\"" >> \""$output_objdir/$my_dlsyms\""\n-\t    ;;\n-\t  esac\n-\t  echo >> \""$output_objdir/$my_dlsyms\"" \""\\\n-  {0, (void *) 0}\n-};\n-\n-/* This works around a problem in FreeBSD linker */\n-#ifdef FREEBSD_WORKAROUND\n-static const void *lt_preloaded_setup() {\n-  return lt_${my_prefix}_LTX_preloaded_symbols;\n-}\n-#endif\n-\n-#ifdef __cplusplus\n-}\n-#endif\\\n-\""\n-\t} # !$opt_dry_run\n-\n-\tpic_flag_for_symtable=\n-\tcase \""$compile_command \"" in\n-\t*\"" -static \""*) ;;\n-\t*)\n-\t  case $host in\n-\t  # compiling the symbol table file with pic_flag works around\n-\t  # a FreeBSD bug that causes programs to crash when -lm is\n-\t  # linked before any other PIC object.  But we must not use\n-\t  # pic_flag when linking with -static.  The problem exists in\n-\t  # FreeBSD 2.2.6 and is fixed in FreeBSD 3.1.\n-\t  *-*-freebsd2.*|*-*-freebsd3.0*|*-*-freebsdelf3.0*)\n-\t    pic_flag_for_symtable=\"" $pic_flag -DFREEBSD_WORKAROUND\"" ;;\n-\t  *-*-hpux*)\n-\t    pic_flag_for_symtable=\"" $pic_flag\""  ;;\n-\t  *)\n-\t    if test \""X$my_pic_p\"" != Xno; then\n-\t      pic_flag_for_symtable=\"" $pic_flag\""\n-\t    fi\n-\t    ;;\n-\t  esac\n-\t  ;;\n-\tesac\n-\tsymtab_cflags=\n-\tfor arg in $LTCFLAGS; do\n-\t  case $arg in\n-\t  -pie | -fpie | -fPIE) ;;\n-\t  *) func_append symtab_cflags \"" $arg\"" ;;\n-\t  esac\n-\tdone\n-\n-\t# Now compile the dynamic symbol file.\n-\tfunc_show_eval '(cd $output_objdir && $LTCC$symtab_cflags -c$no_builtin_flag$pic_flag_for_symtable \""$my_dlsyms\"")' 'exit $?'\n-\n-\t# Clean up the generated files.\n-\tfunc_show_eval '$RM \""$output_objdir/$my_dlsyms\"" \""$nlist\"" \""${nlist}S\"" \""${nlist}T\""'\n-\n-\t# Transform the symbol file into the correct name.\n-\tsymfileobj=\""$output_objdir/${my_outputname}S.$objext\""\n-\tcase $host in\n-\t*cygwin* | *mingw* | *cegcc* )\n-\t  if test -f \""$output_objdir/$my_outputname.def\""; then\n-\t    compile_command=`$ECHO \""$compile_command\"" | $SED \""s%@SYMFILE@%$output_objdir/$my_outputname.def $symfileobj%\""`\n-\t    finalize_command=`$ECHO \""$finalize_command\"" | $SED \""s%@SYMFILE@%$output_objdir/$my_outputname.def $symfileobj%\""`\n-\t  else\n-\t    compile_command=`$ECHO \""$compile_command\"" | $SED \""s%@SYMFILE@%$symfileobj%\""`\n-\t    finalize_command=`$ECHO \""$finalize_command\"" | $SED \""s%@SYMFILE@%$symfileobj%\""`\n-\t  fi\n-\t  ;;\n-\t*)\n-\t  compile_command=`$ECHO \""$compile_command\"" | $SED \""s%@SYMFILE@%$symfileobj%\""`\n-\t  finalize_command=`$ECHO \""$finalize_command\"" | $SED \""s%@SYMFILE@%$symfileobj%\""`\n-\t  ;;\n-\tesac\n-\t;;\n-      *)\n-\tfunc_fatal_error \""unknown suffix for \\`$my_dlsyms'\""\n-\t;;\n-      esac\n-    else\n-      # We keep going just in case the user didn't refer to\n-      # lt_preloaded_symbols.  The linker will fail if global_symbol_pipe\n-      # really was required.\n-\n-      # Nullify the symbol file.\n-      compile_command=`$ECHO \""$compile_command\"" | $SED \""s% @SYMFILE@%%\""`\n-      finalize_command=`$ECHO \""$finalize_command\"" | $SED \""s% @SYMFILE@%%\""`\n-    fi\n-}\n-\n-# func_win32_libid arg\n-# return the library type of file 'arg'\n-#\n-# Need a lot of goo to handle *both* DLLs and import libs\n-# Has to be a shell function in order to 'eat' the argument\n-# that is supplied when $file_magic_command is called.\n-# Despite the name, also deal with 64 bit binaries.\n-func_win32_libid ()\n-{\n-  $opt_debug\n-  win32_libid_type=\""unknown\""\n-  win32_fileres=`file -L $1 2>/dev/null`\n-  case $win32_fileres in\n-  *ar\\ archive\\ import\\ library*) # definitely import\n-    win32_libid_type=\""x86 archive import\""\n-    ;;\n-  *ar\\ archive*) # could be an import, or static\n-    # Keep the egrep pattern in sync with the one in _LT_CHECK_MAGIC_METHOD.\n-    if eval $OBJDUMP -f $1 | $SED -e '10q' 2>/dev/null |\n-       $EGREP 'file format (pei*-i386(.*architecture: i386)?|pe-arm-wince|pe-x86-64)' >/dev/null; then\n-      func_to_tool_file \""$1\"" func_convert_file_msys_to_w32\n-      win32_nmres=`eval $NM -f posix -A \\\""$func_to_tool_file_result\\\"" |\n-\t$SED -n -e '\n-\t    1,100{\n-\t\t/ I /{\n-\t\t    s,.*,import,\n-\t\t    p\n-\t\t    q\n-\t\t}\n-\t    }'`\n-      case $win32_nmres in\n-      import*)  win32_libid_type=\""x86 archive import\"";;\n-      *)        win32_libid_type=\""x86 archive static\"";;\n-      esac\n-    fi\n-    ;;\n-  *DLL*)\n-    win32_libid_type=\""x86 DLL\""\n-    ;;\n-  *executable*) # but shell scripts are \""executable\"" too...\n-    case $win32_fileres in\n-    *MS\\ Windows\\ PE\\ Intel*)\n-      win32_libid_type=\""x86 DLL\""\n-      ;;\n-    esac\n-    ;;\n-  esac\n-  $ECHO \""$win32_libid_type\""\n-}\n-\n-# func_cygming_dll_for_implib ARG\n-#\n-# Platform-specific function to extract the\n-# name of the DLL associated with the specified\n-# import library ARG.\n-# Invoked by eval'ing the libtool variable\n-#    $sharedlib_from_linklib_cmd\n-# Result is available in the variable\n-#    $sharedlib_from_linklib_result\n-func_cygming_dll_for_implib ()\n-{\n-  $opt_debug\n-  sharedlib_from_linklib_result=`$DLLTOOL --identify-strict --identify \""$1\""`\n-}\n-\n-# func_cygming_dll_for_implib_fallback_core SECTION_NAME LIBNAMEs\n-#\n-# The is the core of a fallback implementation of a\n-# platform-specific function to extract the name of the\n-# DLL associated with the specified import library LIBNAME.\n-#\n-# SECTION_NAME is either .idata$6 or .idata$7, depending\n-# on the platform and compiler that created the implib.\n-#\n-# Echos the name of the DLL associated with the\n-# specified import library.\n-func_cygming_dll_for_implib_fallback_core ()\n-{\n-  $opt_debug\n-  match_literal=`$ECHO \""$1\"" | $SED \""$sed_make_literal_regex\""`\n-  $OBJDUMP -s --section \""$1\"" \""$2\"" 2>/dev/null |\n-    $SED '/^Contents of section '\""$match_literal\""':/{\n-      # Place marker at beginning of archive member dllname section\n-      s/.*/====MARK====/\n-      p\n-      d\n-    }\n-    # These lines can sometimes be longer than 43 characters, but\n-    # are always uninteresting\n-    /:[\t ]*file format pe[i]\\{,1\\}-/d\n-    /^In archive [^:]*:/d\n-    # Ensure marker is printed\n-    /^====MARK====/p\n-    # Remove all lines with less than 43 characters\n-    /^.\\{43\\}/!d\n-    # From remaining lines, remove first 43 characters\n-    s/^.\\{43\\}//' |\n-    $SED -n '\n-      # Join marker and all lines until next marker into a single line\n-      /^====MARK====/ b para\n-      H\n-      $ b para\n-      b\n-      :para\n-      x\n-      s/\\n//g\n-      # Remove the marker\n-      s/^====MARK====//\n-      # Remove trailing dots and whitespace\n-      s/[\\. \\t]*$//\n-      # Print\n-      /./p' |\n-    # we now have a list, one entry per line, of the stringified\n-    # contents of the appropriate section of all members of the\n-    # archive which possess that section. Heuristic: eliminate\n-    # all those which have a first or second character that is\n-    # a '.' (that is, objdump's representation of an unprintable\n-    # character.) This should work for all archives with less than\n-    # 0x302f exports -- but will fail for DLLs whose name actually\n-    # begins with a literal '.' or a single character followed by\n-    # a '.'.\n-    #\n-    # Of those that remain, print the first one.\n-    $SED -e '/^\\./d;/^.\\./d;q'\n-}\n-\n-# func_cygming_gnu_implib_p ARG\n-# This predicate returns with zero status (TRUE) if\n-# ARG is a GNU/binutils-style import library. Returns\n-# with nonzero status (FALSE) otherwise.\n-func_cygming_gnu_implib_p ()\n-{\n-  $opt_debug\n-  func_to_tool_file \""$1\"" func_convert_file_msys_to_w32\n-  func_cygming_gnu_implib_tmp=`$NM \""$func_to_tool_file_result\"" | eval \""$global_symbol_pipe\"" | $EGREP ' (_head_[A-Za-z0-9_]+_[ad]l*|[A-Za-z0-9_]+_[ad]l*_iname)$'`\n-  test -n \""$func_cygming_gnu_implib_tmp\""\n-}\n-\n-# func_cygming_ms_implib_p ARG\n-# This predicate returns with zero status (TRUE) if\n-# ARG is an MS-style import library. Returns\n-# with nonzero status (FALSE) otherwise.\n-func_cygming_ms_implib_p ()\n-{\n-  $opt_debug\n-  func_to_tool_file \""$1\"" func_convert_file_msys_to_w32\n-  func_cygming_ms_implib_tmp=`$NM \""$func_to_tool_file_result\"" | eval \""$global_symbol_pipe\"" | $GREP '_NULL_IMPORT_DESCRIPTOR'`\n-  test -n \""$func_cygming_ms_implib_tmp\""\n-}\n-\n-# func_cygming_dll_for_implib_fallback ARG\n-# Platform-specific function to extract the\n-# name of the DLL associated with the specified\n-# import library ARG.\n-#\n-# This fallback implementation is for use when $DLLTOOL\n-# does not support the --identify-strict option.\n-# Invoked by eval'ing the libtool variable\n-#    $sharedlib_from_linklib_cmd\n-# Result is available in the variable\n-#    $sharedlib_from_linklib_result\n-func_cygming_dll_for_implib_fallback ()\n-{\n-  $opt_debug\n-  if func_cygming_gnu_implib_p \""$1\"" ; then\n-    # binutils import library\n-    sharedlib_from_linklib_result=`func_cygming_dll_for_implib_fallback_core '.idata$7' \""$1\""`\n-  elif func_cygming_ms_implib_p \""$1\"" ; then\n-    # ms-generated import library\n-    sharedlib_from_linklib_result=`func_cygming_dll_for_implib_fallback_core '.idata$6' \""$1\""`\n-  else\n-    # unknown\n-    sharedlib_from_linklib_result=\""\""\n-  fi\n-}\n-\n-\n-# func_extract_an_archive dir oldlib\n-func_extract_an_archive ()\n-{\n-    $opt_debug\n-    f_ex_an_ar_dir=\""$1\""; shift\n-    f_ex_an_ar_oldlib=\""$1\""\n-    if test \""$lock_old_archive_extraction\"" = yes; then\n-      lockfile=$f_ex_an_ar_oldlib.lock\n-      until $opt_dry_run || ln \""$progpath\"" \""$lockfile\"" 2>/dev/null; do\n-\tfunc_echo \""Waiting for $lockfile to be removed\""\n-\tsleep 2\n-      done\n-    fi\n-    func_show_eval \""(cd \\$f_ex_an_ar_dir && $AR x \\\""\\$f_ex_an_ar_oldlib\\\"")\"" \\\n-\t\t   'stat=$?; rm -f \""$lockfile\""; exit $stat'\n-    if test \""$lock_old_archive_extraction\"" = yes; then\n-      $opt_dry_run || rm -f \""$lockfile\""\n-    fi\n-    if ($AR t \""$f_ex_an_ar_oldlib\"" | sort | sort -uc >/dev/null 2>&1); then\n-     :\n-    else\n-      func_fatal_error \""object name conflicts in archive: $f_ex_an_ar_dir/$f_ex_an_ar_oldlib\""\n-    fi\n-}\n-\n-\n-# func_extract_archives gentop oldlib ...\n-func_extract_archives ()\n-{\n-    $opt_debug\n-    my_gentop=\""$1\""; shift\n-    my_oldlibs=${1+\""$@\""}\n-    my_oldobjs=\""\""\n-    my_xlib=\""\""\n-    my_xabs=\""\""\n-    my_xdir=\""\""\n-\n-    for my_xlib in $my_oldlibs; do\n-      # Extract the objects.\n-      case $my_xlib in\n-\t[\\\\/]* | [A-Za-z]:[\\\\/]*) my_xabs=\""$my_xlib\"" ;;\n-\t*) my_xabs=`pwd`\""/$my_xlib\"" ;;\n-      esac\n-      func_basename \""$my_xlib\""\n-      my_xlib=\""$func_basename_result\""\n-      my_xlib_u=$my_xlib\n-      while :; do\n-        case \"" $extracted_archives \"" in\n-\t*\"" $my_xlib_u \""*)\n-\t  func_arith $extracted_serial + 1\n-\t  extracted_serial=$func_arith_result\n-\t  my_xlib_u=lt$extracted_serial-$my_xlib ;;\n-\t*) break ;;\n-\tesac\n-      done\n-      extracted_archives=\""$extracted_archives $my_xlib_u\""\n-      my_xdir=\""$my_gentop/$my_xlib_u\""\n-\n-      func_mkdir_p \""$my_xdir\""\n-\n-      case $host in\n-      *-darwin*)\n-\tfunc_verbose \""Extracting $my_xabs\""\n-\t# Do not bother doing anything if just a dry run\n-\t$opt_dry_run || {\n-\t  darwin_orig_dir=`pwd`\n-\t  cd $my_xdir || exit $?\n-\t  darwin_archive=$my_xabs\n-\t  darwin_curdir=`pwd`\n-\t  darwin_base_archive=`basename \""$darwin_archive\""`\n-\t  darwin_arches=`$LIPO -info \""$darwin_archive\"" 2>/dev/null | $GREP Architectures 2>/dev/null || true`\n-\t  if test -n \""$darwin_arches\""; then\n-\t    darwin_arches=`$ECHO \""$darwin_arches\"" | $SED -e 's/.*are://'`\n-\t    darwin_arch=\n-\t    func_verbose \""$darwin_base_archive has multiple architectures $darwin_arches\""\n-\t    for darwin_arch in  $darwin_arches ; do\n-\t      func_mkdir_p \""unfat-$$/${darwin_base_archive}-${darwin_arch}\""\n-\t      $LIPO -thin $darwin_arch -output \""unfat-$$/${darwin_base_archive}-${darwin_arch}/${darwin_base_archive}\"" \""${darwin_archive}\""\n-\t      cd \""unfat-$$/${darwin_base_archive}-${darwin_arch}\""\n-\t      func_extract_an_archive \""`pwd`\"" \""${darwin_base_archive}\""\n-\t      cd \""$darwin_curdir\""\n-\t      $RM \""unfat-$$/${darwin_base_archive}-${darwin_arch}/${darwin_base_archive}\""\n-\t    done # $darwin_arches\n-            ## Okay now we've a bunch of thin objects, gotta fatten them up :)\n-\t    darwin_filelist=`find unfat-$$ -type f -name \\*.o -print -o -name \\*.lo -print | $SED -e \""$basename\"" | sort -u`\n-\t    darwin_file=\n-\t    darwin_files=\n-\t    for darwin_file in $darwin_filelist; do\n-\t      darwin_files=`find unfat-$$ -name $darwin_file -print | sort | $NL2SP`\n-\t      $LIPO -create -output \""$darwin_file\"" $darwin_files\n-\t    done # $darwin_filelist\n-\t    $RM -rf unfat-$$\n-\t    cd \""$darwin_orig_dir\""\n-\t  else\n-\t    cd $darwin_orig_dir\n-\t    func_extract_an_archive \""$my_xdir\"" \""$my_xabs\""\n-\t  fi # $darwin_arches\n-\t} # !$opt_dry_run\n-\t;;\n-      *)\n-        func_extract_an_archive \""$my_xdir\"" \""$my_xabs\""\n-\t;;\n-      esac\n-      my_oldobjs=\""$my_oldobjs \""`find $my_xdir -name \\*.$objext -print -o -name \\*.lo -print | sort | $NL2SP`\n-    done\n-\n-    func_extract_archives_result=\""$my_oldobjs\""\n-}\n-\n-\n-# func_emit_wrapper [arg=no]\n-#\n-# Emit a libtool wrapper script on stdout.\n-# Don't directly open a file because we may want to\n-# incorporate the script contents within a cygwin/mingw\n-# wrapper executable.  Must ONLY be called from within\n-# func_mode_link because it depends on a number of variables\n-# set therein.\n-#\n-# ARG is the value that the WRAPPER_SCRIPT_BELONGS_IN_OBJDIR\n-# variable will take.  If 'yes', then the emitted script\n-# will assume that the directory in which it is stored is\n-# the $objdir directory.  This is a cygwin/mingw-specific\n-# behavior.\n-func_emit_wrapper ()\n-{\n-\tfunc_emit_wrapper_arg1=${1-no}\n-\n-\t$ECHO \""\\\n-#! $SHELL\n-\n-# $output - temporary wrapper script for $objdir/$outputname\n-# Generated by $PROGRAM (GNU $PACKAGE$TIMESTAMP) $VERSION\n-#\n-# The $output program cannot be directly executed until all the libtool\n-# libraries that it depends on are installed.\n-#\n-# This wrapper script should never be moved out of the build directory.\n-# If it is, it will not operate correctly.\n-\n-# Sed substitution that helps us do robust quoting.  It backslashifies\n-# metacharacters that are still active within double-quoted strings.\n-sed_quote_subst='$sed_quote_subst'\n-\n-# Be Bourne compatible\n-if test -n \\\""\\${ZSH_VERSION+set}\\\"" && (emulate sh) >/dev/null 2>&1; then\n-  emulate sh\n-  NULLCMD=:\n-  # Zsh 3.x and 4.x performs word splitting on \\${1+\\\""\\$@\\\""}, which\n-  # is contrary to our usage.  Disable this feature.\n-  alias -g '\\${1+\\\""\\$@\\\""}'='\\\""\\$@\\\""'\n-  setopt NO_GLOB_SUBST\n-else\n-  case \\`(set -o) 2>/dev/null\\` in *posix*) set -o posix;; esac\n-fi\n-BIN_SH=xpg4; export BIN_SH # for Tru64\n-DUALCASE=1; export DUALCASE # for MKS sh\n-\n-# The HP-UX ksh and POSIX shell print the target directory to stdout\n-# if CDPATH is set.\n-(unset CDPATH) >/dev/null 2>&1 && unset CDPATH\n-\n-relink_command=\\\""$relink_command\\\""\n-\n-# This environment variable determines our operation mode.\n-if test \\\""\\$libtool_install_magic\\\"" = \\\""$magic\\\""; then\n-  # install mode needs the following variables:\n-  generated_by_libtool_version='$macro_version'\n-  notinst_deplibs='$notinst_deplibs'\n-else\n-  # When we are sourced in execute mode, \\$file and \\$ECHO are already set.\n-  if test \\\""\\$libtool_execute_magic\\\"" != \\\""$magic\\\""; then\n-    file=\\\""\\$0\\\""\""\n-\n-    qECHO=`$ECHO \""$ECHO\"" | $SED \""$sed_quote_subst\""`\n-    $ECHO \""\\\n-\n-# A function that is used when there is no print builtin or printf.\n-func_fallback_echo ()\n-{\n-  eval 'cat <<_LTECHO_EOF\n-\\$1\n-_LTECHO_EOF'\n-}\n-    ECHO=\\\""$qECHO\\\""\n-  fi\n-\n-# Very basic option parsing. These options are (a) specific to\n-# the libtool wrapper, (b) are identical between the wrapper\n-# /script/ and the wrapper /executable/ which is used only on\n-# windows platforms, and (c) all begin with the string \""--lt-\""\n-# (application programs are unlikely to have options which match\n-# this pattern).\n-#\n-# There are only two supported options: --lt-debug and\n-# --lt-dump-script. There is, deliberately, no --lt-help.\n-#\n-# The first argument to this parsing function should be the\n-# script's $0 value, followed by \""$@\"".\n-lt_option_debug=\n-func_parse_lt_options ()\n-{\n-  lt_script_arg0=\\$0\n-  shift\n-  for lt_opt\n-  do\n-    case \\\""\\$lt_opt\\\"" in\n-    --lt-debug) lt_option_debug=1 ;;\n-    --lt-dump-script)\n-        lt_dump_D=\\`\\$ECHO \\\""X\\$lt_script_arg0\\\"" | $SED -e 's/^X//' -e 's%/[^/]*$%%'\\`\n-        test \\\""X\\$lt_dump_D\\\"" = \\\""X\\$lt_script_arg0\\\"" && lt_dump_D=.\n-        lt_dump_F=\\`\\$ECHO \\\""X\\$lt_script_arg0\\\"" | $SED -e 's/^X//' -e 's%^.*/%%'\\`\n-        cat \\\""\\$lt_dump_D/\\$lt_dump_F\\\""\n-        exit 0\n-      ;;\n-    --lt-*)\n-        \\$ECHO \\\""Unrecognized --lt- option: '\\$lt_opt'\\\"" 1>&2\n-        exit 1\n-      ;;\n-    esac\n-  done\n-\n-  # Print the debug banner immediately:\n-  if test -n \\\""\\$lt_option_debug\\\""; then\n-    echo \\\""${outputname}:${output}:\\${LINENO}: libtool wrapper (GNU $PACKAGE$TIMESTAMP) $VERSION\\\"" 1>&2\n-  fi\n-}\n-\n-# Used when --lt-debug. Prints its arguments to stdout\n-# (redirection is the responsibility of the caller)\n-func_lt_dump_args ()\n-{\n-  lt_dump_args_N=1;\n-  for lt_arg\n-  do\n-    \\$ECHO \\\""${outputname}:${output}:\\${LINENO}: newargv[\\$lt_dump_args_N]: \\$lt_arg\\\""\n-    lt_dump_args_N=\\`expr \\$lt_dump_args_N + 1\\`\n-  done\n-}\n-\n-# Core function for launching the target application\n-func_exec_program_core ()\n-{\n-\""\n-  case $host in\n-  # Backslashes separate directories on plain windows\n-  *-*-mingw | *-*-os2* | *-cegcc*)\n-    $ECHO \""\\\n-      if test -n \\\""\\$lt_option_debug\\\""; then\n-        \\$ECHO \\\""${outputname}:${output}:\\${LINENO}: newargv[0]: \\$progdir\\\\\\\\\\$program\\\"" 1>&2\n-        func_lt_dump_args \\${1+\\\""\\$@\\\""} 1>&2\n-      fi\n-      exec \\\""\\$progdir\\\\\\\\\\$program\\\"" \\${1+\\\""\\$@\\\""}\n-\""\n-    ;;\n-\n-  *)\n-    $ECHO \""\\\n-      if test -n \\\""\\$lt_option_debug\\\""; then\n-        \\$ECHO \\\""${outputname}:${output}:\\${LINENO}: newargv[0]: \\$progdir/\\$program\\\"" 1>&2\n-        func_lt_dump_args \\${1+\\\""\\$@\\\""} 1>&2\n-      fi\n-      exec \\\""\\$progdir/\\$program\\\"" \\${1+\\\""\\$@\\\""}\n-\""\n-    ;;\n-  esac\n-  $ECHO \""\\\n-      \\$ECHO \\\""\\$0: cannot exec \\$program \\$*\\\"" 1>&2\n-      exit 1\n-}\n-\n-# A function to encapsulate launching the target application\n-# Strips options in the --lt-* namespace from \\$@ and\n-# launches target application with the remaining arguments.\n-func_exec_program ()\n-{\n-  case \\\"" \\$* \\\"" in\n-  *\\\\ --lt-*)\n-    for lt_wr_arg\n-    do\n-      case \\$lt_wr_arg in\n-      --lt-*) ;;\n-      *) set x \\\""\\$@\\\"" \\\""\\$lt_wr_arg\\\""; shift;;\n-      esac\n-      shift\n-    done ;;\n-  esac\n-  func_exec_program_core \\${1+\\\""\\$@\\\""}\n-}\n-\n-  # Parse options\n-  func_parse_lt_options \\\""\\$0\\\"" \\${1+\\\""\\$@\\\""}\n-\n-  # Find the directory that this script lives in.\n-  thisdir=\\`\\$ECHO \\\""\\$file\\\"" | $SED 's%/[^/]*$%%'\\`\n-  test \\\""x\\$thisdir\\\"" = \\\""x\\$file\\\"" && thisdir=.\n-\n-  # Follow symbolic links until we get to the real thisdir.\n-  file=\\`ls -ld \\\""\\$file\\\"" | $SED -n 's/.*-> //p'\\`\n-  while test -n \\\""\\$file\\\""; do\n-    destdir=\\`\\$ECHO \\\""\\$file\\\"" | $SED 's%/[^/]*\\$%%'\\`\n-\n-    # If there was a directory component, then change thisdir.\n-    if test \\\""x\\$destdir\\\"" != \\\""x\\$file\\\""; then\n-      case \\\""\\$destdir\\\"" in\n-      [\\\\\\\\/]* | [A-Za-z]:[\\\\\\\\/]*) thisdir=\\\""\\$destdir\\\"" ;;\n-      *) thisdir=\\\""\\$thisdir/\\$destdir\\\"" ;;\n-      esac\n-    fi\n-\n-    file=\\`\\$ECHO \\\""\\$file\\\"" | $SED 's%^.*/%%'\\`\n-    file=\\`ls -ld \\\""\\$thisdir/\\$file\\\"" | $SED -n 's/.*-> //p'\\`\n-  done\n-\n-  # Usually 'no', except on cygwin/mingw when embedded into\n-  # the cwrapper.\n-  WRAPPER_SCRIPT_BELONGS_IN_OBJDIR=$func_emit_wrapper_arg1\n-  if test \\\""\\$WRAPPER_SCRIPT_BELONGS_IN_OBJDIR\\\"" = \\\""yes\\\""; then\n-    # special case for '.'\n-    if test \\\""\\$thisdir\\\"" = \\\"".\\\""; then\n-      thisdir=\\`pwd\\`\n-    fi\n-    # remove .libs from thisdir\n-    case \\\""\\$thisdir\\\"" in\n-    *[\\\\\\\\/]$objdir ) thisdir=\\`\\$ECHO \\\""\\$thisdir\\\"" | $SED 's%[\\\\\\\\/][^\\\\\\\\/]*$%%'\\` ;;\n-    $objdir )   thisdir=. ;;\n-    esac\n-  fi\n-\n-  # Try to get the absolute directory name.\n-  absdir=\\`cd \\\""\\$thisdir\\\"" && pwd\\`\n-  test -n \\\""\\$absdir\\\"" && thisdir=\\\""\\$absdir\\\""\n-\""\n-\n-\tif test \""$fast_install\"" = yes; then\n-\t  $ECHO \""\\\n-  program=lt-'$outputname'$exeext\n-  progdir=\\\""\\$thisdir/$objdir\\\""\n-\n-  if test ! -f \\\""\\$progdir/\\$program\\\"" ||\n-     { file=\\`ls -1dt \\\""\\$progdir/\\$program\\\"" \\\""\\$progdir/../\\$program\\\"" 2>/dev/null | ${SED} 1q\\`; \\\\\n-       test \\\""X\\$file\\\"" != \\\""X\\$progdir/\\$program\\\""; }; then\n-\n-    file=\\\""\\$\\$-\\$program\\\""\n-\n-    if test ! -d \\\""\\$progdir\\\""; then\n-      $MKDIR \\\""\\$progdir\\\""\n-    else\n-      $RM \\\""\\$progdir/\\$file\\\""\n-    fi\""\n-\n-\t  $ECHO \""\\\n-\n-    # relink executable if necessary\n-    if test -n \\\""\\$relink_command\\\""; then\n-      if relink_command_output=\\`eval \\$relink_command 2>&1\\`; then :\n-      else\n-\t$ECHO \\\""\\$relink_command_output\\\"" >&2\n-\t$RM \\\""\\$progdir/\\$file\\\""\n-\texit 1\n-      fi\n-    fi\n-\n-    $MV \\\""\\$progdir/\\$file\\\"" \\\""\\$progdir/\\$program\\\"" 2>/dev/null ||\n-    { $RM \\\""\\$progdir/\\$program\\\"";\n-      $MV \\\""\\$progdir/\\$file\\\"" \\\""\\$progdir/\\$program\\\""; }\n-    $RM \\\""\\$progdir/\\$file\\\""\n-  fi\""\n-\telse\n-\t  $ECHO \""\\\n-  program='$outputname'\n-  progdir=\\\""\\$thisdir/$objdir\\\""\n-\""\n-\tfi\n-\n-\t$ECHO \""\\\n-\n-  if test -f \\\""\\$progdir/\\$program\\\""; then\""\n-\n-\t# fixup the dll searchpath if we need to.\n-\t#\n-\t# Fix the DLL searchpath if we need to.  Do this before prepending\n-\t# to shlibpath, because on Windows, both are PATH and uninstalled\n-\t# libraries must come first.\n-\tif test -n \""$dllsearchpath\""; then\n-\t  $ECHO \""\\\n-    # Add the dll search path components to the executable PATH\n-    PATH=$dllsearchpath:\\$PATH\n-\""\n-\tfi\n-\n-\t# Export our shlibpath_var if we have one.\n-\tif test \""$shlibpath_overrides_runpath\"" = yes && test -n \""$shlibpath_var\"" && test -n \""$temp_rpath\""; then\n-\t  $ECHO \""\\\n-    # Add our own library path to $shlibpath_var\n-    $shlibpath_var=\\\""$temp_rpath\\$$shlibpath_var\\\""\n-\n-    # Some systems cannot cope with colon-terminated $shlibpath_var\n-    # The second colon is a workaround for a bug in BeOS R4 sed\n-    $shlibpath_var=\\`\\$ECHO \\\""\\$$shlibpath_var\\\"" | $SED 's/::*\\$//'\\`\n-\n-    export $shlibpath_var\n-\""\n-\tfi\n-\n-\t$ECHO \""\\\n-    if test \\\""\\$libtool_execute_magic\\\"" != \\\""$magic\\\""; then\n-      # Run the actual program with our arguments.\n-      func_exec_program \\${1+\\\""\\$@\\\""}\n-    fi\n-  else\n-    # The program doesn't exist.\n-    \\$ECHO \\\""\\$0: error: \\\\\\`\\$progdir/\\$program' does not exist\\\"" 1>&2\n-    \\$ECHO \\\""This script is just a wrapper for \\$program.\\\"" 1>&2\n-    \\$ECHO \\\""See the $PACKAGE documentation for more information.\\\"" 1>&2\n-    exit 1\n-  fi\n-fi\\\n-\""\n-}\n-\n-\n-# func_emit_cwrapperexe_src\n-# emit the source code for a wrapper executable on stdout\n-# Must ONLY be called from within func_mode_link because\n-# it depends on a number of variable set therein.\n-func_emit_cwrapperexe_src ()\n-{\n-\tcat <<EOF\n-\n-/* $cwrappersource - temporary wrapper executable for $objdir/$outputname\n-   Generated by $PROGRAM (GNU $PACKAGE$TIMESTAMP) $VERSION\n-\n-   The $output program cannot be directly executed until all the libtool\n-   libraries that it depends on are installed.\n-\n-   This wrapper executable should never be moved out of the build directory.\n-   If it is, it will not operate correctly.\n-*/\n-EOF\n-\t    cat <<\""EOF\""\n-#ifdef _MSC_VER\n-# define _CRT_SECURE_NO_DEPRECATE 1\n-#endif\n-#include <stdio.h>\n-#include <stdlib.h>\n-#ifdef _MSC_VER\n-# include <direct.h>\n-# include <process.h>\n-# include <io.h>\n-#else\n-# include <unistd.h>\n-# include <stdint.h>\n-# ifdef __CYGWIN__\n-#  include <io.h>\n-# endif\n-#endif\n-#include <malloc.h>\n-#include <stdarg.h>\n-#include <assert.h>\n-#include <string.h>\n-#include <ctype.h>\n-#include <errno.h>\n-#include <fcntl.h>\n-#include <sys/stat.h>\n-\n-/* declarations of non-ANSI functions */\n-#if defined(__MINGW32__)\n-# ifdef __STRICT_ANSI__\n-int _putenv (const char *);\n-# endif\n-#elif defined(__CYGWIN__)\n-# ifdef __STRICT_ANSI__\n-char *realpath (const char *, char *);\n-int putenv (char *);\n-int setenv (const char *, const char *, int);\n-# endif\n-/* #elif defined (other platforms) ... */\n-#endif\n-\n-/* portability defines, excluding path handling macros */\n-#if defined(_MSC_VER)\n-# define setmode _setmode\n-# define stat    _stat\n-# define chmod   _chmod\n-# define getcwd  _getcwd\n-# define putenv  _putenv\n-# define S_IXUSR _S_IEXEC\n-# ifndef _INTPTR_T_DEFINED\n-#  define _INTPTR_T_DEFINED\n-#  define intptr_t int\n-# endif\n-#elif defined(__MINGW32__)\n-# define setmode _setmode\n-# define stat    _stat\n-# define chmod   _chmod\n-# define getcwd  _getcwd\n-# define putenv  _putenv\n-#elif defined(__CYGWIN__)\n-# define HAVE_SETENV\n-# define FOPEN_WB \""wb\""\n-/* #elif defined (other platforms) ... */\n-#endif\n-\n-#if defined(PATH_MAX)\n-# define LT_PATHMAX PATH_MAX\n-#elif defined(MAXPATHLEN)\n-# define LT_PATHMAX MAXPATHLEN\n-#else\n-# define LT_PATHMAX 1024\n-#endif\n-\n-#ifndef S_IXOTH\n-# define S_IXOTH 0\n-#endif\n-#ifndef S_IXGRP\n-# define S_IXGRP 0\n-#endif\n-\n-/* path handling portability macros */\n-#ifndef DIR_SEPARATOR\n-# define DIR_SEPARATOR '/'\n-# define PATH_SEPARATOR ':'\n-#endif\n-\n-#if defined (_WIN32) || defined (__MSDOS__) || defined (__DJGPP__) || \\\n-  defined (__OS2__)\n-# define HAVE_DOS_BASED_FILE_SYSTEM\n-# define FOPEN_WB \""wb\""\n-# ifndef DIR_SEPARATOR_2\n-#  define DIR_SEPARATOR_2 '\\\\'\n-# endif\n-# ifndef PATH_SEPARATOR_2\n-#  define PATH_SEPARATOR_2 ';'\n-# endif\n-#endif\n-\n-#ifndef DIR_SEPARATOR_2\n-# define IS_DIR_SEPARATOR(ch) ((ch) == DIR_SEPARATOR)\n-#else /* DIR_SEPARATOR_2 */\n-# define IS_DIR_SEPARATOR(ch) \\\n-\t(((ch) == DIR_SEPARATOR) || ((ch) == DIR_SEPARATOR_2))\n-#endif /* DIR_SEPARATOR_2 */\n-\n-#ifndef PATH_SEPARATOR_2\n-# define IS_PATH_SEPARATOR(ch) ((ch) == PATH_SEPARATOR)\n-#else /* PATH_SEPARATOR_2 */\n-# define IS_PATH_SEPARATOR(ch) ((ch) == PATH_SEPARATOR_2)\n-#endif /* PATH_SEPARATOR_2 */\n-\n-#ifndef FOPEN_WB\n-# define FOPEN_WB \""w\""\n-#endif\n-#ifndef _O_BINARY\n-# define _O_BINARY 0\n-#endif\n-\n-#define XMALLOC(type, num)      ((type *) xmalloc ((num) * sizeof(type)))\n-#define XFREE(stale) do { \\\n-  if (stale) { free ((void *) stale); stale = 0; } \\\n-} while (0)\n-\n-#if defined(LT_DEBUGWRAPPER)\n-static int lt_debug = 1;\n-#else\n-static int lt_debug = 0;\n-#endif\n-\n-const char *program_name = \""libtool-wrapper\""; /* in case xstrdup fails */\n-\n-void *xmalloc (size_t num);\n-char *xstrdup (const char *string);\n-const char *base_name (const char *name);\n-char *find_executable (const char *wrapper);\n-char *chase_symlinks (const char *pathspec);\n-int make_executable (const char *path);\n-int check_executable (const char *path);\n-char *strendzap (char *str, const char *pat);\n-void lt_debugprintf (const char *file, int line, const char *fmt, ...);\n-void lt_fatal (const char *file, int line, const char *message, ...);\n-static const char *nonnull (const char *s);\n-static const char *nonempty (const char *s);\n-void lt_setenv (const char *name, const char *value);\n-char *lt_extend_str (const char *orig_value, const char *add, int to_end);\n-void lt_update_exe_path (const char *name, const char *value);\n-void lt_update_lib_path (const char *name, const char *value);\n-char **prepare_spawn (char **argv);\n-void lt_dump_script (FILE *f);\n-EOF\n-\n-\t    cat <<EOF\n-volatile const char * MAGIC_EXE = \""$magic_exe\"";\n-const char * LIB_PATH_VARNAME = \""$shlibpath_var\"";\n-EOF\n-\n-\t    if test \""$shlibpath_overrides_runpath\"" = yes && test -n \""$shlibpath_var\"" && test -n \""$temp_rpath\""; then\n-              func_to_host_path \""$temp_rpath\""\n-\t      cat <<EOF\n-const char * LIB_PATH_VALUE   = \""$func_to_host_path_result\"";\n-EOF\n-\t    else\n-\t      cat <<\""EOF\""\n-const char * LIB_PATH_VALUE   = \""\"";\n-EOF\n-\t    fi\n-\n-\t    if test -n \""$dllsearchpath\""; then\n-              func_to_host_path \""$dllsearchpath:\""\n-\t      cat <<EOF\n-const char * EXE_PATH_VARNAME = \""PATH\"";\n-const char * EXE_PATH_VALUE   = \""$func_to_host_path_result\"";\n-EOF\n-\t    else\n-\t      cat <<\""EOF\""\n-const char * EXE_PATH_VARNAME = \""\"";\n-const char * EXE_PATH_VALUE   = \""\"";\n-EOF\n-\t    fi\n-\n-\t    if test \""$fast_install\"" = yes; then\n-\t      cat <<EOF\n-const char * TARGET_PROGRAM_NAME = \""lt-$outputname\""; /* hopefully, no .exe */\n-EOF\n-\t    else\n-\t      cat <<EOF\n-const char * TARGET_PROGRAM_NAME = \""$outputname\""; /* hopefully, no .exe */\n-EOF\n-\t    fi\n-\n-\n-\t    cat <<\""EOF\""\n-\n-#define LTWRAPPER_OPTION_PREFIX         \""--lt-\""\n-\n-static const char *ltwrapper_option_prefix = LTWRAPPER_OPTION_PREFIX;\n-static const char *dumpscript_opt       = LTWRAPPER_OPTION_PREFIX \""dump-script\"";\n-static const char *debug_opt            = LTWRAPPER_OPTION_PREFIX \""debug\"";\n-\n-int\n-main (int argc, char *argv[])\n-{\n-  char **newargz;\n-  int  newargc;\n-  char *tmp_pathspec;\n-  char *actual_cwrapper_path;\n-  char *actual_cwrapper_name;\n-  char *target_name;\n-  char *lt_argv_zero;\n-  intptr_t rval = 127;\n-\n-  int i;\n-\n-  program_name = (char *) xstrdup (base_name (argv[0]));\n-  newargz = XMALLOC (char *, argc + 1);\n-\n-  /* very simple arg parsing; don't want to rely on getopt\n-   * also, copy all non cwrapper options to newargz, except\n-   * argz[0], which is handled differently\n-   */\n-  newargc=0;\n-  for (i = 1; i < argc; i++)\n-    {\n-      if (strcmp (argv[i], dumpscript_opt) == 0)\n-\t{\n-EOF\n-\t    case \""$host\"" in\n-\t      *mingw* | *cygwin* )\n-\t\t# make stdout use \""unix\"" line endings\n-\t\techo \""          setmode(1,_O_BINARY);\""\n-\t\t;;\n-\t      esac\n-\n-\t    cat <<\""EOF\""\n-\t  lt_dump_script (stdout);\n-\t  return 0;\n-\t}\n-      if (strcmp (argv[i], debug_opt) == 0)\n-\t{\n-          lt_debug = 1;\n-          continue;\n-\t}\n-      if (strcmp (argv[i], ltwrapper_option_prefix) == 0)\n-        {\n-          /* however, if there is an option in the LTWRAPPER_OPTION_PREFIX\n-             namespace, but it is not one of the ones we know about and\n-             have already dealt with, above (inluding dump-script), then\n-             report an error. Otherwise, targets might begin to believe\n-             they are allowed to use options in the LTWRAPPER_OPTION_PREFIX\n-             namespace. The first time any user complains about this, we'll\n-             need to make LTWRAPPER_OPTION_PREFIX a configure-time option\n-             or a configure.ac-settable value.\n-           */\n-          lt_fatal (__FILE__, __LINE__,\n-\t\t    \""unrecognized %s option: '%s'\"",\n-                    ltwrapper_option_prefix, argv[i]);\n-        }\n-      /* otherwise ... */\n-      newargz[++newargc] = xstrdup (argv[i]);\n-    }\n-  newargz[++newargc] = NULL;\n-\n-EOF\n-\t    cat <<EOF\n-  /* The GNU banner must be the first non-error debug message */\n-  lt_debugprintf (__FILE__, __LINE__, \""libtool wrapper (GNU $PACKAGE$TIMESTAMP) $VERSION\\n\"");\n-EOF\n-\t    cat <<\""EOF\""\n-  lt_debugprintf (__FILE__, __LINE__, \""(main) argv[0]: %s\\n\"", argv[0]);\n-  lt_debugprintf (__FILE__, __LINE__, \""(main) program_name: %s\\n\"", program_name);\n-\n-  tmp_pathspec = find_executable (argv[0]);\n-  if (tmp_pathspec == NULL)\n-    lt_fatal (__FILE__, __LINE__, \""couldn't find %s\"", argv[0]);\n-  lt_debugprintf (__FILE__, __LINE__,\n-                  \""(main) found exe (before symlink chase) at: %s\\n\"",\n-\t\t  tmp_pathspec);\n-\n-  actual_cwrapper_path = chase_symlinks (tmp_pathspec);\n-  lt_debugprintf (__FILE__, __LINE__,\n-                  \""(main) found exe (after symlink chase) at: %s\\n\"",\n-\t\t  actual_cwrapper_path);\n-  XFREE (tmp_pathspec);\n-\n-  actual_cwrapper_name = xstrdup (base_name (actual_cwrapper_path));\n-  strendzap (actual_cwrapper_path, actual_cwrapper_name);\n-\n-  /* wrapper name transforms */\n-  strendzap (actual_cwrapper_name, \"".exe\"");\n-  tmp_pathspec = lt_extend_str (actual_cwrapper_name, \"".exe\"", 1);\n-  XFREE (actual_cwrapper_name);\n-  actual_cwrapper_name = tmp_pathspec;\n-  tmp_pathspec = 0;\n-\n-  /* target_name transforms -- use actual target program name; might have lt- prefix */\n-  target_name = xstrdup (base_name (TARGET_PROGRAM_NAME));\n-  strendzap (target_name, \"".exe\"");\n-  tmp_pathspec = lt_extend_str (target_name, \"".exe\"", 1);\n-  XFREE (target_name);\n-  target_name = tmp_pathspec;\n-  tmp_pathspec = 0;\n-\n-  lt_debugprintf (__FILE__, __LINE__,\n-\t\t  \""(main) libtool target name: %s\\n\"",\n-\t\t  target_name);\n-EOF\n-\n-\t    cat <<EOF\n-  newargz[0] =\n-    XMALLOC (char, (strlen (actual_cwrapper_path) +\n-\t\t    strlen (\""$objdir\"") + 1 + strlen (actual_cwrapper_name) + 1));\n-  strcpy (newargz[0], actual_cwrapper_path);\n-  strcat (newargz[0], \""$objdir\"");\n-  strcat (newargz[0], \""/\"");\n-EOF\n-\n-\t    cat <<\""EOF\""\n-  /* stop here, and copy so we don't have to do this twice */\n-  tmp_pathspec = xstrdup (newargz[0]);\n-\n-  /* do NOT want the lt- prefix here, so use actual_cwrapper_name */\n-  strcat (newargz[0], actual_cwrapper_name);\n-\n-  /* DO want the lt- prefix here if it exists, so use target_name */\n-  lt_argv_zero = lt_extend_str (tmp_pathspec, target_name, 1);\n-  XFREE (tmp_pathspec);\n-  tmp_pathspec = NULL;\n-EOF\n-\n-\t    case $host_os in\n-\t      mingw*)\n-\t    cat <<\""EOF\""\n-  {\n-    char* p;\n-    while ((p = strchr (newargz[0], '\\\\')) != NULL)\n-      {\n-\t*p = '/';\n-      }\n-    while ((p = strchr (lt_argv_zero, '\\\\')) != NULL)\n-      {\n-\t*p = '/';\n-      }\n-  }\n-EOF\n-\t    ;;\n-\t    esac\n-\n-\t    cat <<\""EOF\""\n-  XFREE (target_name);\n-  XFREE (actual_cwrapper_path);\n-  XFREE (actual_cwrapper_name);\n-\n-  lt_setenv (\""BIN_SH\"", \""xpg4\""); /* for Tru64 */\n-  lt_setenv (\""DUALCASE\"", \""1\"");  /* for MSK sh */\n-  /* Update the DLL searchpath.  EXE_PATH_VALUE ($dllsearchpath) must\n-     be prepended before (that is, appear after) LIB_PATH_VALUE ($temp_rpath)\n-     because on Windows, both *_VARNAMEs are PATH but uninstalled\n-     libraries must come first. */\n-  lt_update_exe_path (EXE_PATH_VARNAME, EXE_PATH_VALUE);\n-  lt_update_lib_path (LIB_PATH_VARNAME, LIB_PATH_VALUE);\n-\n-  lt_debugprintf (__FILE__, __LINE__, \""(main) lt_argv_zero: %s\\n\"",\n-\t\t  nonnull (lt_argv_zero));\n-  for (i = 0; i < newargc; i++)\n-    {\n-      lt_debugprintf (__FILE__, __LINE__, \""(main) newargz[%d]: %s\\n\"",\n-\t\t      i, nonnull (newargz[i]));\n-    }\n-\n-EOF\n-\n-\t    case $host_os in\n-\t      mingw*)\n-\t\tcat <<\""EOF\""\n-  /* execv doesn't actually work on mingw as expected on unix */\n-  newargz = prepare_spawn (newargz);\n-  rval = _spawnv (_P_WAIT, lt_argv_zero, (const char * const *) newargz);\n-  if (rval == -1)\n-    {\n-      /* failed to start process */\n-      lt_debugprintf (__FILE__, __LINE__,\n-\t\t      \""(main) failed to launch target \\\""%s\\\"": %s\\n\"",\n-\t\t      lt_argv_zero, nonnull (strerror (errno)));\n-      return 127;\n-    }\n-  return rval;\n-EOF\n-\t\t;;\n-\t      *)\n-\t\tcat <<\""EOF\""\n-  execv (lt_argv_zero, newargz);\n-  return rval; /* =127, but avoids unused variable warning */\n-EOF\n-\t\t;;\n-\t    esac\n-\n-\t    cat <<\""EOF\""\n-}\n-\n-void *\n-xmalloc (size_t num)\n-{\n-  void *p = (void *) malloc (num);\n-  if (!p)\n-    lt_fatal (__FILE__, __LINE__, \""memory exhausted\"");\n-\n-  return p;\n-}\n-\n-char *\n-xstrdup (const char *string)\n-{\n-  return string ? strcpy ((char *) xmalloc (strlen (string) + 1),\n-\t\t\t  string) : NULL;\n-}\n-\n-const char *\n-base_name (const char *name)\n-{\n-  const char *base;\n-\n-#if defined (HAVE_DOS_BASED_FILE_SYSTEM)\n-  /* Skip over the disk name in MSDOS pathnames. */\n-  if (isalpha ((unsigned char) name[0]) && name[1] == ':')\n-    name += 2;\n-#endif\n-\n-  for (base = name; *name; name++)\n-    if (IS_DIR_SEPARATOR (*name))\n-      base = name + 1;\n-  return base;\n-}\n-\n-int\n-check_executable (const char *path)\n-{\n-  struct stat st;\n-\n-  lt_debugprintf (__FILE__, __LINE__, \""(check_executable): %s\\n\"",\n-                  nonempty (path));\n-  if ((!path) || (!*path))\n-    return 0;\n-\n-  if ((stat (path, &st) >= 0)\n-      && (st.st_mode & (S_IXUSR | S_IXGRP | S_IXOTH)))\n-    return 1;\n-  else\n-    return 0;\n-}\n-\n-int\n-make_executable (const char *path)\n-{\n-  int rval = 0;\n-  struct stat st;\n-\n-  lt_debugprintf (__FILE__, __LINE__, \""(make_executable): %s\\n\"",\n-                  nonempty (path));\n-  if ((!path) || (!*path))\n-    return 0;\n-\n-  if (stat (path, &st) >= 0)\n-    {\n-      rval = chmod (path, st.st_mode | S_IXOTH | S_IXGRP | S_IXUSR);\n-    }\n-  return rval;\n-}\n-\n-/* Searches for the full path of the wrapper.  Returns\n-   newly allocated full path name if found, NULL otherwise\n-   Does not chase symlinks, even on platforms that support them.\n-*/\n-char *\n-find_executable (const char *wrapper)\n-{\n-  int has_slash = 0;\n-  const char *p;\n-  const char *p_next;\n-  /* static buffer for getcwd */\n-  char tmp[LT_PATHMAX + 1];\n-  int tmp_len;\n-  char *concat_name;\n-\n-  lt_debugprintf (__FILE__, __LINE__, \""(find_executable): %s\\n\"",\n-                  nonempty (wrapper));\n-\n-  if ((wrapper == NULL) || (*wrapper == '\\0'))\n-    return NULL;\n-\n-  /* Absolute path? */\n-#if defined (HAVE_DOS_BASED_FILE_SYSTEM)\n-  if (isalpha ((unsigned char) wrapper[0]) && wrapper[1] == ':')\n-    {\n-      concat_name = xstrdup (wrapper);\n-      if (check_executable (concat_name))\n-\treturn concat_name;\n-      XFREE (concat_name);\n-    }\n-  else\n-    {\n-#endif\n-      if (IS_DIR_SEPARATOR (wrapper[0]))\n-\t{\n-\t  concat_name = xstrdup (wrapper);\n-\t  if (check_executable (concat_name))\n-\t    return concat_name;\n-\t  XFREE (concat_name);\n-\t}\n-#if defined (HAVE_DOS_BASED_FILE_SYSTEM)\n-    }\n-#endif\n-\n-  for (p = wrapper; *p; p++)\n-    if (*p == '/')\n-      {\n-\thas_slash = 1;\n-\tbreak;\n-      }\n-  if (!has_slash)\n-    {\n-      /* no slashes; search PATH */\n-      const char *path = getenv (\""PATH\"");\n-      if (path != NULL)\n-\t{\n-\t  for (p = path; *p; p = p_next)\n-\t    {\n-\t      const char *q;\n-\t      size_t p_len;\n-\t      for (q = p; *q; q++)\n-\t\tif (IS_PATH_SEPARATOR (*q))\n-\t\t  break;\n-\t      p_len = q - p;\n-\t      p_next = (*q == '\\0' ? q : q + 1);\n-\t      if (p_len == 0)\n-\t\t{\n-\t\t  /* empty path: current directory */\n-\t\t  if (getcwd (tmp, LT_PATHMAX) == NULL)\n-\t\t    lt_fatal (__FILE__, __LINE__, \""getcwd failed: %s\"",\n-                              nonnull (strerror (errno)));\n-\t\t  tmp_len = strlen (tmp);\n-\t\t  concat_name =\n-\t\t    XMALLOC (char, tmp_len + 1 + strlen (wrapper) + 1);\n-\t\t  memcpy (concat_name, tmp, tmp_len);\n-\t\t  concat_name[tmp_len] = '/';\n-\t\t  strcpy (concat_name + tmp_len + 1, wrapper);\n-\t\t}\n-\t      else\n-\t\t{\n-\t\t  concat_name =\n-\t\t    XMALLOC (char, p_len + 1 + strlen (wrapper) + 1);\n-\t\t  memcpy (concat_name, p, p_len);\n-\t\t  concat_name[p_len] = '/';\n-\t\t  strcpy (concat_name + p_len + 1, wrapper);\n-\t\t}\n-\t      if (check_executable (concat_name))\n-\t\treturn concat_name;\n-\t      XFREE (concat_name);\n-\t    }\n-\t}\n-      /* not found in PATH; assume curdir */\n-    }\n-  /* Relative path | not found in path: prepend cwd */\n-  if (getcwd (tmp, LT_PATHMAX) == NULL)\n-    lt_fatal (__FILE__, __LINE__, \""getcwd failed: %s\"",\n-              nonnull (strerror (errno)));\n-  tmp_len = strlen (tmp);\n-  concat_name = XMALLOC (char, tmp_len + 1 + strlen (wrapper) + 1);\n-  memcpy (concat_name, tmp, tmp_len);\n-  concat_name[tmp_len] = '/';\n-  strcpy (concat_name + tmp_len + 1, wrapper);\n-\n-  if (check_executable (concat_name))\n-    return concat_name;\n-  XFREE (concat_name);\n-  return NULL;\n-}\n-\n-char *\n-chase_symlinks (const char *pathspec)\n-{\n-#ifndef S_ISLNK\n-  return xstrdup (pathspec);\n-#else\n-  char buf[LT_PATHMAX];\n-  struct stat s;\n-  char *tmp_pathspec = xstrdup (pathspec);\n-  char *p;\n-  int has_symlinks = 0;\n-  while (strlen (tmp_pathspec) && !has_symlinks)\n-    {\n-      lt_debugprintf (__FILE__, __LINE__,\n-\t\t      \""checking path component for symlinks: %s\\n\"",\n-\t\t      tmp_pathspec);\n-      if (lstat (tmp_pathspec, &s) == 0)\n-\t{\n-\t  if (S_ISLNK (s.st_mode) != 0)\n-\t    {\n-\t      has_symlinks = 1;\n-\t      break;\n-\t    }\n-\n-\t  /* search backwards for last DIR_SEPARATOR */\n-\t  p = tmp_pathspec + strlen (tmp_pathspec) - 1;\n-\t  while ((p > tmp_pathspec) && (!IS_DIR_SEPARATOR (*p)))\n-\t    p--;\n-\t  if ((p == tmp_pathspec) && (!IS_DIR_SEPARATOR (*p)))\n-\t    {\n-\t      /* no more DIR_SEPARATORS left */\n-\t      break;\n-\t    }\n-\t  *p = '\\0';\n-\t}\n-      else\n-\t{\n-\t  lt_fatal (__FILE__, __LINE__,\n-\t\t    \""error accessing file \\\""%s\\\"": %s\"",\n-\t\t    tmp_pathspec, nonnull (strerror (errno)));\n-\t}\n-    }\n-  XFREE (tmp_pathspec);\n-\n-  if (!has_symlinks)\n-    {\n-      return xstrdup (pathspec);\n-    }\n-\n-  tmp_pathspec = realpath (pathspec, buf);\n-  if (tmp_pathspec == 0)\n-    {\n-      lt_fatal (__FILE__, __LINE__,\n-\t\t\""could not follow symlinks for %s\"", pathspec);\n-    }\n-  return xstrdup (tmp_pathspec);\n-#endif\n-}\n-\n-char *\n-strendzap (char *str, const char *pat)\n-{\n-  size_t len, patlen;\n-\n-  assert (str != NULL);\n-  assert (pat != NULL);\n-\n-  len = strlen (str);\n-  patlen = strlen (pat);\n-\n-  if (patlen <= len)\n-    {\n-      str += len - patlen;\n-      if (strcmp (str, pat) == 0)\n-\t*str = '\\0';\n-    }\n-  return str;\n-}\n-\n-void\n-lt_debugprintf (const char *file, int line, const char *fmt, ...)\n-{\n-  va_list args;\n-  if (lt_debug)\n-    {\n-      (void) fprintf (stderr, \""%s:%s:%d: \"", program_name, file, line);\n-      va_start (args, fmt);\n-      (void) vfprintf (stderr, fmt, args);\n-      va_end (args);\n-    }\n-}\n-\n-static void\n-lt_error_core (int exit_status, const char *file,\n-\t       int line, const char *mode,\n-\t       const char *message, va_list ap)\n-{\n-  fprintf (stderr, \""%s:%s:%d: %s: \"", program_name, file, line, mode);\n-  vfprintf (stderr, message, ap);\n-  fprintf (stderr, \"".\\n\"");\n-\n-  if (exit_status >= 0)\n-    exit (exit_status);\n-}\n-\n-void\n-lt_fatal (const char *file, int line, const char *message, ...)\n-{\n-  va_list ap;\n-  va_start (ap, message);\n-  lt_error_core (EXIT_FAILURE, file, line, \""FATAL\"", message, ap);\n-  va_end (ap);\n-}\n-\n-static const char *\n-nonnull (const char *s)\n-{\n-  return s ? s : \""(null)\"";\n-}\n-\n-static const char *\n-nonempty (const char *s)\n-{\n-  return (s && !*s) ? \""(empty)\"" : nonnull (s);\n-}\n-\n-void\n-lt_setenv (const char *name, const char *value)\n-{\n-  lt_debugprintf (__FILE__, __LINE__,\n-\t\t  \""(lt_setenv) setting '%s' to '%s'\\n\"",\n-                  nonnull (name), nonnull (value));\n-  {\n-#ifdef HAVE_SETENV\n-    /* always make a copy, for consistency with !HAVE_SETENV */\n-    char *str = xstrdup (value);\n-    setenv (name, str, 1);\n-#else\n-    int len = strlen (name) + 1 + strlen (value) + 1;\n-    char *str = XMALLOC (char, len);\n-    sprintf (str, \""%s=%s\"", name, value);\n-    if (putenv (str) != EXIT_SUCCESS)\n-      {\n-        XFREE (str);\n-      }\n-#endif\n-  }\n-}\n-\n-char *\n-lt_extend_str (const char *orig_value, const char *add, int to_end)\n-{\n-  char *new_value;\n-  if (orig_value && *orig_value)\n-    {\n-      int orig_value_len = strlen (orig_value);\n-      int add_len = strlen (add);\n-      new_value = XMALLOC (char, add_len + orig_value_len + 1);\n-      if (to_end)\n-        {\n-          strcpy (new_value, orig_value);\n-          strcpy (new_value + orig_value_len, add);\n-        }\n-      else\n-        {\n-          strcpy (new_value, add);\n-          strcpy (new_value + add_len, orig_value);\n-        }\n-    }\n-  else\n-    {\n-      new_value = xstrdup (add);\n-    }\n-  return new_value;\n-}\n-\n-void\n-lt_update_exe_path (const char *name, const char *value)\n-{\n-  lt_debugprintf (__FILE__, __LINE__,\n-\t\t  \""(lt_update_exe_path) modifying '%s' by prepending '%s'\\n\"",\n-                  nonnull (name), nonnull (value));\n-\n-  if (name && *name && value && *value)\n-    {\n-      char *new_value = lt_extend_str (getenv (name), value, 0);\n-      /* some systems can't cope with a ':'-terminated path #' */\n-      int len = strlen (new_value);\n-      while (((len = strlen (new_value)) > 0) && IS_PATH_SEPARATOR (new_value[len-1]))\n-        {\n-          new_value[len-1] = '\\0';\n-        }\n-      lt_setenv (name, new_value);\n-      XFREE (new_value);\n-    }\n-}\n-\n-void\n-lt_update_lib_path (const char *name, const char *value)\n-{\n-  lt_debugprintf (__FILE__, __LINE__,\n-\t\t  \""(lt_update_lib_path) modifying '%s' by prepending '%s'\\n\"",\n-                  nonnull (name), nonnull (value));\n-\n-  if (name && *name && value && *value)\n-    {\n-      char *new_value = lt_extend_str (getenv (name), value, 0);\n-      lt_setenv (name, new_value);\n-      XFREE (new_value);\n-    }\n-}\n-\n-EOF\n-\t    case $host_os in\n-\t      mingw*)\n-\t\tcat <<\""EOF\""\n-\n-/* Prepares an argument vector before calling spawn().\n-   Note that spawn() does not by itself call the command interpreter\n-     (getenv (\""COMSPEC\"") != NULL ? getenv (\""COMSPEC\"") :\n-      ({ OSVERSIONINFO v; v.dwOSVersionInfoSize = sizeof(OSVERSIONINFO);\n-         GetVersionEx(&v);\n-         v.dwPlatformId == VER_PLATFORM_WIN32_NT;\n-      }) ? \""cmd.exe\"" : \""command.com\"").\n-   Instead it simply concatenates the arguments, separated by ' ', and calls\n-   CreateProcess().  We must quote the arguments since Win32 CreateProcess()\n-   interprets characters like ' ', '\\t', '\\\\', '\""' (but not '<' and '>') in a\n-   special way:\n-   - Space and tab are interpreted as delimiters. They are not treated as\n-     delimiters if they are surrounded by double quotes: \""...\"".\n-   - Unescaped double quotes are removed from the input. Their only effect is\n-     that within double quotes, space and tab are treated like normal\n-     characters.\n-   - Backslashes not followed by double quotes are not special.\n-   - But 2*n+1 backslashes followed by a double quote become\n-     n backslashes followed by a double quote (n >= 0):\n-       \\\"" -> \""\n-       \\\\\\\"" -> \\\""\n-       \\\\\\\\\\\"" -> \\\\\""\n- */\n-#define SHELL_SPECIAL_CHARS \""\\\""\\\\ \\001\\002\\003\\004\\005\\006\\007\\010\\011\\012\\013\\014\\015\\016\\017\\020\\021\\022\\023\\024\\025\\026\\027\\030\\031\\032\\033\\034\\035\\036\\037\""\n-#define SHELL_SPACE_CHARS \"" \\001\\002\\003\\004\\005\\006\\007\\010\\011\\012\\013\\014\\015\\016\\017\\020\\021\\022\\023\\024\\025\\026\\027\\030\\031\\032\\033\\034\\035\\036\\037\""\n-char **\n-prepare_spawn (char **argv)\n-{\n-  size_t argc;\n-  char **new_argv;\n-  size_t i;\n-\n-  /* Count number of arguments.  */\n-  for (argc = 0; argv[argc] != NULL; argc++)\n-    ;\n-\n-  /* Allocate new argument vector.  */\n-  new_argv = XMALLOC (char *, argc + 1);\n-\n-  /* Put quoted arguments into the new argument vector.  */\n-  for (i = 0; i < argc; i++)\n-    {\n-      const char *string = argv[i];\n-\n-      if (string[0] == '\\0')\n-\tnew_argv[i] = xstrdup (\""\\\""\\\""\"");\n-      else if (strpbrk (string, SHELL_SPECIAL_CHARS) != NULL)\n-\t{\n-\t  int quote_around = (strpbrk (string, SHELL_SPACE_CHARS) != NULL);\n-\t  size_t length;\n-\t  unsigned int backslashes;\n-\t  const char *s;\n-\t  char *quoted_string;\n-\t  char *p;\n-\n-\t  length = 0;\n-\t  backslashes = 0;\n-\t  if (quote_around)\n-\t    length++;\n-\t  for (s = string; *s != '\\0'; s++)\n-\t    {\n-\t      char c = *s;\n-\t      if (c == '\""')\n-\t\tlength += backslashes + 1;\n-\t      length++;\n-\t      if (c == '\\\\')\n-\t\tbackslashes++;\n-\t      else\n-\t\tbackslashes = 0;\n-\t    }\n-\t  if (quote_around)\n-\t    length += backslashes + 1;\n-\n-\t  quoted_string = XMALLOC (char, length + 1);\n-\n-\t  p = quoted_string;\n-\t  backslashes = 0;\n-\t  if (quote_around)\n-\t    *p++ = '\""';\n-\t  for (s = string; *s != '\\0'; s++)\n-\t    {\n-\t      char c = *s;\n-\t      if (c == '\""')\n-\t\t{\n-\t\t  unsigned int j;\n-\t\t  for (j = backslashes + 1; j > 0; j--)\n-\t\t    *p++ = '\\\\';\n-\t\t}\n-\t      *p++ = c;\n-\t      if (c == '\\\\')\n-\t\tbackslashes++;\n-\t      else\n-\t\tbackslashes = 0;\n-\t    }\n-\t  if (quote_around)\n-\t    {\n-\t      unsigned int j;\n-\t      for (j = backslashes; j > 0; j--)\n-\t\t*p++ = '\\\\';\n-\t      *p++ = '\""';\n-\t    }\n-\t  *p = '\\0';\n-\n-\t  new_argv[i] = quoted_string;\n-\t}\n-      else\n-\tnew_argv[i] = (char *) string;\n-    }\n-  new_argv[argc] = NULL;\n-\n-  return new_argv;\n-}\n-EOF\n-\t\t;;\n-\t    esac\n-\n-            cat <<\""EOF\""\n-void lt_dump_script (FILE* f)\n-{\n-EOF\n-\t    func_emit_wrapper yes |\n-\t      $SED -n -e '\n-s/^\\(.\\{79\\}\\)\\(..*\\)/\\1\\\n-\\2/\n-h\n-s/\\([\\\\\""]\\)/\\\\\\1/g\n-s/$/\\\\n/\n-s/\\([^\\n]*\\).*/  fputs (\""\\1\"", f);/p\n-g\n-D'\n-            cat <<\""EOF\""\n-}\n-EOF\n-}\n-# end: func_emit_cwrapperexe_src\n-\n-# func_win32_import_lib_p ARG\n-# True if ARG is an import lib, as indicated by $file_magic_cmd\n-func_win32_import_lib_p ()\n-{\n-    $opt_debug\n-    case `eval $file_magic_cmd \\\""\\$1\\\"" 2>/dev/null | $SED -e 10q` in\n-    *import*) : ;;\n-    *) false ;;\n-    esac\n-}\n-\n-# func_mode_link arg...\n-func_mode_link ()\n-{\n-    $opt_debug\n-    case $host in\n-    *-*-cygwin* | *-*-mingw* | *-*-pw32* | *-*-os2* | *-cegcc*)\n-      # It is impossible to link a dll without this setting, and\n-      # we shouldn't force the makefile maintainer to figure out\n-      # which system we are compiling for in order to pass an extra\n-      # flag for every libtool invocation.\n-      # allow_undefined=no\n-\n-      # FIXME: Unfortunately, there are problems with the above when trying\n-      # to make a dll which has undefined symbols, in which case not\n-      # even a static library is built.  For now, we need to specify\n-      # -no-undefined on the libtool link line when we can be certain\n-      # that all symbols are satisfied, otherwise we get a static library.\n-      allow_undefined=yes\n-      ;;\n-    *)\n-      allow_undefined=yes\n-      ;;\n-    esac\n-    libtool_args=$nonopt\n-    base_compile=\""$nonopt $@\""\n-    compile_command=$nonopt\n-    finalize_command=$nonopt\n-\n-    compile_rpath=\n-    finalize_rpath=\n-    compile_shlibpath=\n-    finalize_shlibpath=\n-    convenience=\n-    old_convenience=\n-    deplibs=\n-    old_deplibs=\n-    compiler_flags=\n-    linker_flags=\n-    dllsearchpath=\n-    lib_search_path=`pwd`\n-    inst_prefix_dir=\n-    new_inherited_linker_flags=\n-\n-    avoid_version=no\n-    bindir=\n-    dlfiles=\n-    dlprefiles=\n-    dlself=no\n-    export_dynamic=no\n-    export_symbols=\n-    export_symbols_regex=\n-    generated=\n-    libobjs=\n-    ltlibs=\n-    module=no\n-    no_install=no\n-    objs=\n-    non_pic_objects=\n-    precious_files_regex=\n-    prefer_static_libs=no\n-    preload=no\n-    prev=\n-    prevarg=\n-    release=\n-    rpath=\n-    xrpath=\n-    perm_rpath=\n-    temp_rpath=\n-    thread_safe=no\n-    vinfo=\n-    vinfo_number=no\n-    weak_libs=\n-    single_module=\""${wl}-single_module\""\n-    func_infer_tag $base_compile\n-\n-    # We need to know -static, to get the right output filenames.\n-    for arg\n-    do\n-      case $arg in\n-      -shared)\n-\ttest \""$build_libtool_libs\"" != yes && \\\n-\t  func_fatal_configuration \""can not build a shared library\""\n-\tbuild_old_libs=no\n-\tbreak\n-\t;;\n-      -all-static | -static | -static-libtool-libs)\n-\tcase $arg in\n-\t-all-static)\n-\t  if test \""$build_libtool_libs\"" = yes && test -z \""$link_static_flag\""; then\n-\t    func_warning \""complete static linking is impossible in this configuration\""\n-\t  fi\n-\t  if test -n \""$link_static_flag\""; then\n-\t    dlopen_self=$dlopen_self_static\n-\t  fi\n-\t  prefer_static_libs=yes\n-\t  ;;\n-\t-static)\n-\t  if test -z \""$pic_flag\"" && test -n \""$link_static_flag\""; then\n-\t    dlopen_self=$dlopen_self_static\n-\t  fi\n-\t  prefer_static_libs=built\n-\t  ;;\n-\t-static-libtool-libs)\n-\t  if test -z \""$pic_flag\"" && test -n \""$link_static_flag\""; then\n-\t    dlopen_self=$dlopen_self_static\n-\t  fi\n-\t  prefer_static_libs=yes\n-\t  ;;\n-\tesac\n-\tbuild_libtool_libs=no\n-\tbuild_old_libs=yes\n-\tbreak\n-\t;;\n-      esac\n-    done\n-\n-    # See if our shared archives depend on static archives.\n-    test -n \""$old_archive_from_new_cmds\"" && build_old_libs=yes\n-\n-    # Go through the arguments, transforming them on the way.\n-    while test \""$#\"" -gt 0; do\n-      arg=\""$1\""\n-      shift\n-      func_quote_for_eval \""$arg\""\n-      qarg=$func_quote_for_eval_unquoted_result\n-      func_append libtool_args \"" $func_quote_for_eval_result\""\n-\n-      # If the previous option needs an argument, assign it.\n-      if test -n \""$prev\""; then\n-\tcase $prev in\n-\toutput)\n-\t  func_append compile_command \"" @OUTPUT@\""\n-\t  func_append finalize_command \"" @OUTPUT@\""\n-\t  ;;\n-\tesac\n-\n-\tcase $prev in\n-\tbindir)\n-\t  bindir=\""$arg\""\n-\t  prev=\n-\t  continue\n-\t  ;;\n-\tdlfiles|dlprefiles)\n-\t  if test \""$preload\"" = no; then\n-\t    # Add the symbol object into the linking commands.\n-\t    func_append compile_command \"" @SYMFILE@\""\n-\t    func_append finalize_command \"" @SYMFILE@\""\n-\t    preload=yes\n-\t  fi\n-\t  case $arg in\n-\t  *.la | *.lo) ;;  # We handle these cases below.\n-\t  force)\n-\t    if test \""$dlself\"" = no; then\n-\t      dlself=needless\n-\t      export_dynamic=yes\n-\t    fi\n-\t    prev=\n-\t    continue\n-\t    ;;\n-\t  self)\n-\t    if test \""$prev\"" = dlprefiles; then\n-\t      dlself=yes\n-\t    elif test \""$prev\"" = dlfiles && test \""$dlopen_self\"" != yes; then\n-\t      dlself=yes\n-\t    else\n-\t      dlself=needless\n-\t      export_dynamic=yes\n-\t    fi\n-\t    prev=\n-\t    continue\n-\t    ;;\n-\t  *)\n-\t    if test \""$prev\"" = dlfiles; then\n-\t      func_append dlfiles \"" $arg\""\n-\t    else\n-\t      func_append dlprefiles \"" $arg\""\n-\t    fi\n-\t    prev=\n-\t    continue\n-\t    ;;\n-\t  esac\n-\t  ;;\n-\texpsyms)\n-\t  export_symbols=\""$arg\""\n-\t  test -f \""$arg\"" \\\n-\t    || func_fatal_error \""symbol file \\`$arg' does not exist\""\n-\t  prev=\n-\t  continue\n-\t  ;;\n-\texpsyms_regex)\n-\t  export_symbols_regex=\""$arg\""\n-\t  prev=\n-\t  continue\n-\t  ;;\n-\tframework)\n-\t  case $host in\n-\t    *-*-darwin*)\n-\t      case \""$deplibs \"" in\n-\t\t*\"" $qarg.ltframework \""*) ;;\n-\t\t*) func_append deplibs \"" $qarg.ltframework\"" # this is fixed later\n-\t\t   ;;\n-\t      esac\n-\t      ;;\n-\t  esac\n-\t  prev=\n-\t  continue\n-\t  ;;\n-\tinst_prefix)\n-\t  inst_prefix_dir=\""$arg\""\n-\t  prev=\n-\t  continue\n-\t  ;;\n-\tobjectlist)\n-\t  if test -f \""$arg\""; then\n-\t    save_arg=$arg\n-\t    moreargs=\n-\t    for fil in `cat \""$save_arg\""`\n-\t    do\n-#\t      func_append moreargs \"" $fil\""\n-\t      arg=$fil\n-\t      # A libtool-controlled object.\n-\n-\t      # Check to see that this really is a libtool object.\n-\t      if func_lalib_unsafe_p \""$arg\""; then\n-\t\tpic_object=\n-\t\tnon_pic_object=\n-\n-\t\t# Read the .lo file\n-\t\tfunc_source \""$arg\""\n-\n-\t\tif test -z \""$pic_object\"" ||\n-\t\t   test -z \""$non_pic_object\"" ||\n-\t\t   test \""$pic_object\"" = none &&\n-\t\t   test \""$non_pic_object\"" = none; then\n-\t\t  func_fatal_error \""cannot find name of object for \\`$arg'\""\n-\t\tfi\n-\n-\t\t# Extract subdirectory from the argument.\n-\t\tfunc_dirname \""$arg\"" \""/\"" \""\""\n-\t\txdir=\""$func_dirname_result\""\n-\n-\t\tif test \""$pic_object\"" != none; then\n-\t\t  # Prepend the subdirectory the object is found in.\n-\t\t  pic_object=\""$xdir$pic_object\""\n-\n-\t\t  if test \""$prev\"" = dlfiles; then\n-\t\t    if test \""$build_libtool_libs\"" = yes && test \""$dlopen_support\"" = yes; then\n-\t\t      func_append dlfiles \"" $pic_object\""\n-\t\t      prev=\n-\t\t      continue\n-\t\t    else\n-\t\t      # If libtool objects are unsupported, then we need to preload.\n-\t\t      prev=dlprefiles\n-\t\t    fi\n-\t\t  fi\n-\n-\t\t  # CHECK ME:  I think I busted this.  -Ossama\n-\t\t  if test \""$prev\"" = dlprefiles; then\n-\t\t    # Preload the old-style object.\n-\t\t    func_append dlprefiles \"" $pic_object\""\n-\t\t    prev=\n-\t\t  fi\n-\n-\t\t  # A PIC object.\n-\t\t  func_append libobjs \"" $pic_object\""\n-\t\t  arg=\""$pic_object\""\n-\t\tfi\n-\n-\t\t# Non-PIC object.\n-\t\tif test \""$non_pic_object\"" != none; then\n-\t\t  # Prepend the subdirectory the object is found in.\n-\t\t  non_pic_object=\""$xdir$non_pic_object\""\n-\n-\t\t  # A standard non-PIC object\n-\t\t  func_append non_pic_objects \"" $non_pic_object\""\n-\t\t  if test -z \""$pic_object\"" || test \""$pic_object\"" = none ; then\n-\t\t    arg=\""$non_pic_object\""\n-\t\t  fi\n-\t\telse\n-\t\t  # If the PIC object exists, use it instead.\n-\t\t  # $xdir was prepended to $pic_object above.\n-\t\t  non_pic_object=\""$pic_object\""\n-\t\t  func_append non_pic_objects \"" $non_pic_object\""\n-\t\tfi\n-\t      else\n-\t\t# Only an error if not doing a dry-run.\n-\t\tif $opt_dry_run; then\n-\t\t  # Extract subdirectory from the argument.\n-\t\t  func_dirname \""$arg\"" \""/\"" \""\""\n-\t\t  xdir=\""$func_dirname_result\""\n-\n-\t\t  func_lo2o \""$arg\""\n-\t\t  pic_object=$xdir$objdir/$func_lo2o_result\n-\t\t  non_pic_object=$xdir$func_lo2o_result\n-\t\t  func_append libobjs \"" $pic_object\""\n-\t\t  func_append non_pic_objects \"" $non_pic_object\""\n-\t        else\n-\t\t  func_fatal_error \""\\`$arg' is not a valid libtool object\""\n-\t\tfi\n-\t      fi\n-\t    done\n-\t  else\n-\t    func_fatal_error \""link input file \\`$arg' does not exist\""\n-\t  fi\n-\t  arg=$save_arg\n-\t  prev=\n-\t  continue\n-\t  ;;\n-\tprecious_regex)\n-\t  precious_files_regex=\""$arg\""\n-\t  prev=\n-\t  continue\n-\t  ;;\n-\trelease)\n-\t  release=\""-$arg\""\n-\t  prev=\n-\t  continue\n-\t  ;;\n-\trpath | xrpath)\n-\t  # We need an absolute path.\n-\t  case $arg in\n-\t  [\\\\/]* | [A-Za-z]:[\\\\/]*) ;;\n-\t  *)\n-\t    func_fatal_error \""only absolute run-paths are allowed\""\n-\t    ;;\n-\t  esac\n-\t  if test \""$prev\"" = rpath; then\n-\t    case \""$rpath \"" in\n-\t    *\"" $arg \""*) ;;\n-\t    *) func_append rpath \"" $arg\"" ;;\n-\t    esac\n-\t  else\n-\t    case \""$xrpath \"" in\n-\t    *\"" $arg \""*) ;;\n-\t    *) func_append xrpath \"" $arg\"" ;;\n-\t    esac\n-\t  fi\n-\t  prev=\n-\t  continue\n-\t  ;;\n-\tshrext)\n-\t  shrext_cmds=\""$arg\""\n-\t  prev=\n-\t  continue\n-\t  ;;\n-\tweak)\n-\t  func_append weak_libs \"" $arg\""\n-\t  prev=\n-\t  continue\n-\t  ;;\n-\txcclinker)\n-\t  func_append linker_flags \"" $qarg\""\n-\t  func_append compiler_flags \"" $qarg\""\n-\t  prev=\n-\t  func_append compile_command \"" $qarg\""\n-\t  func_append finalize_command \"" $qarg\""\n-\t  continue\n-\t  ;;\n-\txcompiler)\n-\t  func_append compiler_flags \"" $qarg\""\n-\t  prev=\n-\t  func_append compile_command \"" $qarg\""\n-\t  func_append finalize_command \"" $qarg\""\n-\t  continue\n-\t  ;;\n-\txlinker)\n-\t  func_append linker_flags \"" $qarg\""\n-\t  func_append compiler_flags \"" $wl$qarg\""\n-\t  prev=\n-\t  func_append compile_command \"" $wl$qarg\""\n-\t  func_append finalize_command \"" $wl$qarg\""\n-\t  continue\n-\t  ;;\n-\t*)\n-\t  eval \""$prev=\\\""\\$arg\\\""\""\n-\t  prev=\n-\t  continue\n-\t  ;;\n-\tesac\n-      fi # test -n \""$prev\""\n-\n-      prevarg=\""$arg\""\n-\n-      case $arg in\n-      -all-static)\n-\tif test -n \""$link_static_flag\""; then\n-\t  # See comment for -static flag below, for more details.\n-\t  func_append compile_command \"" $link_static_flag\""\n-\t  func_append finalize_command \"" $link_static_flag\""\n-\tfi\n-\tcontinue\n-\t;;\n-\n-      -allow-undefined)\n-\t# FIXME: remove this flag sometime in the future.\n-\tfunc_fatal_error \""\\`-allow-undefined' must not be used because it is the default\""\n-\t;;\n-\n-      -avoid-version)\n-\tavoid_version=yes\n-\tcontinue\n-\t;;\n-\n-      -bindir)\n-\tprev=bindir\n-\tcontinue\n-\t;;\n-\n-      -dlopen)\n-\tprev=dlfiles\n-\tcontinue\n-\t;;\n-\n-      -dlpreopen)\n-\tprev=dlprefiles\n-\tcontinue\n-\t;;\n-\n-      -export-dynamic)\n-\texport_dynamic=yes\n-\tcontinue\n-\t;;\n-\n-      -export-symbols | -export-symbols-regex)\n-\tif test -n \""$export_symbols\"" || test -n \""$export_symbols_regex\""; then\n-\t  func_fatal_error \""more than one -exported-symbols argument is not allowed\""\n-\tfi\n-\tif test \""X$arg\"" = \""X-export-symbols\""; then\n-\t  prev=expsyms\n-\telse\n-\t  prev=expsyms_regex\n-\tfi\n-\tcontinue\n-\t;;\n-\n-      -framework)\n-\tprev=framework\n-\tcontinue\n-\t;;\n-\n-      -inst-prefix-dir)\n-\tprev=inst_prefix\n-\tcontinue\n-\t;;\n-\n-      # The native IRIX linker understands -LANG:*, -LIST:* and -LNO:*\n-      # so, if we see these flags be careful not to treat them like -L\n-      -L[A-Z][A-Z]*:*)\n-\tcase $with_gcc/$host in\n-\tno/*-*-irix* | /*-*-irix*)\n-\t  func_append compile_command \"" $arg\""\n-\t  func_append finalize_command \"" $arg\""\n-\t  ;;\n-\tesac\n-\tcontinue\n-\t;;\n-\n-      -L*)\n-\tfunc_stripname \""-L\"" '' \""$arg\""\n-\tif test -z \""$func_stripname_result\""; then\n-\t  if test \""$#\"" -gt 0; then\n-\t    func_fatal_error \""require no space between \\`-L' and \\`$1'\""\n-\t  else\n-\t    func_fatal_error \""need path for \\`-L' option\""\n-\t  fi\n-\tfi\n-\tfunc_resolve_sysroot \""$func_stripname_result\""\n-\tdir=$func_resolve_sysroot_result\n-\t# We need an absolute path.\n-\tcase $dir in\n-\t[\\\\/]* | [A-Za-z]:[\\\\/]*) ;;\n-\t*)\n-\t  absdir=`cd \""$dir\"" && pwd`\n-\t  test -z \""$absdir\"" && \\\n-\t    func_fatal_error \""cannot determine absolute directory name of \\`$dir'\""\n-\t  dir=\""$absdir\""\n-\t  ;;\n-\tesac\n-\tcase \""$deplibs \"" in\n-\t*\"" -L$dir \""* | *\"" $arg \""*)\n-\t  # Will only happen for absolute or sysroot arguments\n-\t  ;;\n-\t*)\n-\t  # Preserve sysroot, but never include relative directories\n-\t  case $dir in\n-\t    [\\\\/]* | [A-Za-z]:[\\\\/]* | =*) func_append deplibs \"" $arg\"" ;;\n-\t    *) func_append deplibs \"" -L$dir\"" ;;\n-\t  esac\n-\t  func_append lib_search_path \"" $dir\""\n-\t  ;;\n-\tesac\n-\tcase $host in\n-\t*-*-cygwin* | *-*-mingw* | *-*-pw32* | *-*-os2* | *-cegcc*)\n-\t  testbindir=`$ECHO \""$dir\"" | $SED 's*/lib$*/bin*'`\n-\t  case :$dllsearchpath: in\n-\t  *\"":$dir:\""*) ;;\n-\t  ::) dllsearchpath=$dir;;\n-\t  *) func_append dllsearchpath \"":$dir\"";;\n-\t  esac\n-\t  case :$dllsearchpath: in\n-\t  *\"":$testbindir:\""*) ;;\n-\t  ::) dllsearchpath=$testbindir;;\n-\t  *) func_append dllsearchpath \"":$testbindir\"";;\n-\t  esac\n-\t  ;;\n-\tesac\n-\tcontinue\n-\t;;\n-\n-      -l*)\n-\tif test \""X$arg\"" = \""X-lc\"" || test \""X$arg\"" = \""X-lm\""; then\n-\t  case $host in\n-\t  *-*-cygwin* | *-*-mingw* | *-*-pw32* | *-*-beos* | *-cegcc* | *-*-haiku*)\n-\t    # These systems don't actually have a C or math library (as such)\n-\t    continue\n-\t    ;;\n-\t  *-*-os2*)\n-\t    # These systems don't actually have a C library (as such)\n-\t    test \""X$arg\"" = \""X-lc\"" && continue\n-\t    ;;\n-\t  *-*-openbsd* | *-*-freebsd* | *-*-dragonfly*)\n-\t    # Do not include libc due to us having libc/libc_r.\n-\t    test \""X$arg\"" = \""X-lc\"" && continue\n-\t    ;;\n-\t  *-*-rhapsody* | *-*-darwin1.[012])\n-\t    # Rhapsody C and math libraries are in the System framework\n-\t    func_append deplibs \"" System.ltframework\""\n-\t    continue\n-\t    ;;\n-\t  *-*-sco3.2v5* | *-*-sco5v6*)\n-\t    # Causes problems with __ctype\n-\t    test \""X$arg\"" = \""X-lc\"" && continue\n-\t    ;;\n-\t  *-*-sysv4.2uw2* | *-*-sysv5* | *-*-unixware* | *-*-OpenUNIX*)\n-\t    # Compiler inserts libc in the correct place for threads to work\n-\t    test \""X$arg\"" = \""X-lc\"" && continue\n-\t    ;;\n-\t  esac\n-\telif test \""X$arg\"" = \""X-lc_r\""; then\n-\t case $host in\n-\t *-*-openbsd* | *-*-freebsd* | *-*-dragonfly*)\n-\t   # Do not include libc_r directly, use -pthread flag.\n-\t   continue\n-\t   ;;\n-\t esac\n-\tfi\n-\tfunc_append deplibs \"" $arg\""\n-\tcontinue\n-\t;;\n-\n-      -module)\n-\tmodule=yes\n-\tcontinue\n-\t;;\n-\n-      # Tru64 UNIX uses -model [arg] to determine the layout of C++\n-      # classes, name mangling, and exception handling.\n-      # Darwin uses the -arch flag to determine output architecture.\n-      -model|-arch|-isysroot|--sysroot)\n-\tfunc_append compiler_flags \"" $arg\""\n-\tfunc_append compile_command \"" $arg\""\n-\tfunc_append finalize_command \"" $arg\""\n-\tprev=xcompiler\n-\tcontinue\n-\t;;\n-\n-      -mt|-mthreads|-kthread|-Kthread|-pthread|-pthreads|--thread-safe \\\n-      |-threads|-fopenmp|-openmp|-mp|-xopenmp|-omp|-qsmp=*)\n-\tfunc_append compiler_flags \"" $arg\""\n-\tfunc_append compile_command \"" $arg\""\n-\tfunc_append finalize_command \"" $arg\""\n-\tcase \""$new_inherited_linker_flags \"" in\n-\t    *\"" $arg \""*) ;;\n-\t    * ) func_append new_inherited_linker_flags \"" $arg\"" ;;\n-\tesac\n-\tcontinue\n-\t;;\n-\n-      -multi_module)\n-\tsingle_module=\""${wl}-multi_module\""\n-\tcontinue\n-\t;;\n-\n-      -no-fast-install)\n-\tfast_install=no\n-\tcontinue\n-\t;;\n-\n-      -no-install)\n-\tcase $host in\n-\t*-*-cygwin* | *-*-mingw* | *-*-pw32* | *-*-os2* | *-*-darwin* | *-cegcc*)\n-\t  # The PATH hackery in wrapper scripts is required on Windows\n-\t  # and Darwin in order for the loader to find any dlls it needs.\n-\t  func_warning \""\\`-no-install' is ignored for $host\""\n-\t  func_warning \""assuming \\`-no-fast-install' instead\""\n-\t  fast_install=no\n-\t  ;;\n-\t*) no_install=yes ;;\n-\tesac\n-\tcontinue\n-\t;;\n-\n-      -no-undefined)\n-\tallow_undefined=no\n-\tcontinue\n-\t;;\n-\n-      -objectlist)\n-\tprev=objectlist\n-\tcontinue\n-\t;;\n-\n-      -o) prev=output ;;\n-\n-      -precious-files-regex)\n-\tprev=precious_regex\n-\tcontinue\n-\t;;\n-\n-      -release)\n-\tprev=release\n-\tcontinue\n-\t;;\n-\n-      -rpath)\n-\tprev=rpath\n-\tcontinue\n-\t;;\n-\n-      -R)\n-\tprev=xrpath\n-\tcontinue\n-\t;;\n-\n-      -R*)\n-\tfunc_stripname '-R' '' \""$arg\""\n-\tdir=$func_stripname_result\n-\t# We need an absolute path.\n-\tcase $dir in\n-\t[\\\\/]* | [A-Za-z]:[\\\\/]*) ;;\n-\t=*)\n-\t  func_stripname '=' '' \""$dir\""\n-\t  dir=$lt_sysroot$func_stripname_result\n-\t  ;;\n-\t*)\n-\t  func_fatal_error \""only absolute run-paths are allowed\""\n-\t  ;;\n-\tesac\n-\tcase \""$xrpath \"" in\n-\t*\"" $dir \""*) ;;\n-\t*) func_append xrpath \"" $dir\"" ;;\n-\tesac\n-\tcontinue\n-\t;;\n-\n-      -shared)\n-\t# The effects of -shared are defined in a previous loop.\n-\tcontinue\n-\t;;\n-\n-      -shrext)\n-\tprev=shrext\n-\tcontinue\n-\t;;\n-\n-      -static | -static-libtool-libs)\n-\t# The effects of -static are defined in a previous loop.\n-\t# We used to do the same as -all-static on platforms that\n-\t# didn't have a PIC flag, but the assumption that the effects\n-\t# would be equivalent was wrong.  It would break on at least\n-\t# Digital Unix and AIX.\n-\tcontinue\n-\t;;\n-\n-      -thread-safe)\n-\tthread_safe=yes\n-\tcontinue\n-\t;;\n-\n-      -version-info)\n-\tprev=vinfo\n-\tcontinue\n-\t;;\n-\n-      -version-number)\n-\tprev=vinfo\n-\tvinfo_number=yes\n-\tcontinue\n-\t;;\n-\n-      -weak)\n-        prev=weak\n-\tcontinue\n-\t;;\n-\n-      -Wc,*)\n-\tfunc_stripname '-Wc,' '' \""$arg\""\n-\targs=$func_stripname_result\n-\targ=\n-\tsave_ifs=\""$IFS\""; IFS=','\n-\tfor flag in $args; do\n-\t  IFS=\""$save_ifs\""\n-          func_quote_for_eval \""$flag\""\n-\t  func_append arg \"" $func_quote_for_eval_result\""\n-\t  func_append compiler_flags \"" $func_quote_for_eval_result\""\n-\tdone\n-\tIFS=\""$save_ifs\""\n-\tfunc_stripname ' ' '' \""$arg\""\n-\targ=$func_stripname_result\n-\t;;\n-\n-      -Wl,*)\n-\tfunc_stripname '-Wl,' '' \""$arg\""\n-\targs=$func_stripname_result\n-\targ=\n-\tsave_ifs=\""$IFS\""; IFS=','\n-\tfor flag in $args; do\n-\t  IFS=\""$save_ifs\""\n-          func_quote_for_eval \""$flag\""\n-\t  func_append arg \"" $wl$func_quote_for_eval_result\""\n-\t  func_append compiler_flags \"" $wl$func_quote_for_eval_result\""\n-\t  func_append linker_flags \"" $func_quote_for_eval_result\""\n-\tdone\n-\tIFS=\""$save_ifs\""\n-\tfunc_stripname ' ' '' \""$arg\""\n-\targ=$func_stripname_result\n-\t;;\n-\n-      -Xcompiler)\n-\tprev=xcompiler\n-\tcontinue\n-\t;;\n-\n-      -Xlinker)\n-\tprev=xlinker\n-\tcontinue\n-\t;;\n-\n-      -XCClinker)\n-\tprev=xcclinker\n-\tcontinue\n-\t;;\n-\n-      # -msg_* for osf cc\n-      -msg_*)\n-\tfunc_quote_for_eval \""$arg\""\n-\targ=\""$func_quote_for_eval_result\""\n-\t;;\n-\n-      # Flags to be passed through unchanged, with rationale:\n-      # -64, -mips[0-9]      enable 64-bit mode for the SGI compiler\n-      # -r[0-9][0-9]*        specify processor for the SGI compiler\n-      # -xarch=*, -xtarget=* enable 64-bit mode for the Sun compiler\n-      # +DA*, +DD*           enable 64-bit mode for the HP compiler\n-      # -q*                  compiler args for the IBM compiler\n-      # -m*, -t[45]*, -txscale* architecture-specific flags for GCC\n-      # -F/path              path to uninstalled frameworks, gcc on darwin\n-      # -p, -pg, --coverage, -fprofile-*  profiling flags for GCC\n-      # @file                GCC response files\n-      # -tp=*                Portland pgcc target processor selection\n-      # --sysroot=*          for sysroot support\n-      # -O*, -flto*, -fwhopr*, -fuse-linker-plugin GCC link-time optimization\n-      -64|-mips[0-9]|-r[0-9][0-9]*|-xarch=*|-xtarget=*|+DA*|+DD*|-q*|-m*| \\\n-      -t[45]*|-txscale*|-p|-pg|--coverage|-fprofile-*|-F*|@*|-tp=*|--sysroot=*| \\\n-      -O*|-flto*|-fwhopr*|-fuse-linker-plugin)\n-        func_quote_for_eval \""$arg\""\n-\targ=\""$func_quote_for_eval_result\""\n-        func_append compile_command \"" $arg\""\n-        func_append finalize_command \"" $arg\""\n-        func_append compiler_flags \"" $arg\""\n-        continue\n-        ;;\n-\n-      # Some other compiler flag.\n-      -* | +*)\n-        func_quote_for_eval \""$arg\""\n-\targ=\""$func_quote_for_eval_result\""\n-\t;;\n-\n-      *.$objext)\n-\t# A standard object.\n-\tfunc_append objs \"" $arg\""\n-\t;;\n-\n-      *.lo)\n-\t# A libtool-controlled object.\n-\n-\t# Check to see that this really is a libtool object.\n-\tif func_lalib_unsafe_p \""$arg\""; then\n-\t  pic_object=\n-\t  non_pic_object=\n-\n-\t  # Read the .lo file\n-\t  func_source \""$arg\""\n-\n-\t  if test -z \""$pic_object\"" ||\n-\t     test -z \""$non_pic_object\"" ||\n-\t     test \""$pic_object\"" = none &&\n-\t     test \""$non_pic_object\"" = none; then\n-\t    func_fatal_error \""cannot find name of object for \\`$arg'\""\n-\t  fi\n-\n-\t  # Extract subdirectory from the argument.\n-\t  func_dirname \""$arg\"" \""/\"" \""\""\n-\t  xdir=\""$func_dirname_result\""\n-\n-\t  if test \""$pic_object\"" != none; then\n-\t    # Prepend the subdirectory the object is found in.\n-\t    pic_object=\""$xdir$pic_object\""\n-\n-\t    if test \""$prev\"" = dlfiles; then\n-\t      if test \""$build_libtool_libs\"" = yes && test \""$dlopen_support\"" = yes; then\n-\t\tfunc_append dlfiles \"" $pic_object\""\n-\t\tprev=\n-\t\tcontinue\n-\t      else\n-\t\t# If libtool objects are unsupported, then we need to preload.\n-\t\tprev=dlprefiles\n-\t      fi\n-\t    fi\n-\n-\t    # CHECK ME:  I think I busted this.  -Ossama\n-\t    if test \""$prev\"" = dlprefiles; then\n-\t      # Preload the old-style object.\n-\t      func_append dlprefiles \"" $pic_object\""\n-\t      prev=\n-\t    fi\n-\n-\t    # A PIC object.\n-\t    func_append libobjs \"" $pic_object\""\n-\t    arg=\""$pic_object\""\n-\t  fi\n-\n-\t  # Non-PIC object.\n-\t  if test \""$non_pic_object\"" != none; then\n-\t    # Prepend the subdirectory the object is found in.\n-\t    non_pic_object=\""$xdir$non_pic_object\""\n-\n-\t    # A standard non-PIC object\n-\t    func_append non_pic_objects \"" $non_pic_object\""\n-\t    if test -z \""$pic_object\"" || test \""$pic_object\"" = none ; then\n-\t      arg=\""$non_pic_object\""\n-\t    fi\n-\t  else\n-\t    # If the PIC object exists, use it instead.\n-\t    # $xdir was prepended to $pic_object above.\n-\t    non_pic_object=\""$pic_object\""\n-\t    func_append non_pic_objects \"" $non_pic_object\""\n-\t  fi\n-\telse\n-\t  # Only an error if not doing a dry-run.\n-\t  if $opt_dry_run; then\n-\t    # Extract subdirectory from the argument.\n-\t    func_dirname \""$arg\"" \""/\"" \""\""\n-\t    xdir=\""$func_dirname_result\""\n-\n-\t    func_lo2o \""$arg\""\n-\t    pic_object=$xdir$objdir/$func_lo2o_result\n-\t    non_pic_object=$xdir$func_lo2o_result\n-\t    func_append libobjs \"" $pic_object\""\n-\t    func_append non_pic_objects \"" $non_pic_object\""\n-\t  else\n-\t    func_fatal_error \""\\`$arg' is not a valid libtool object\""\n-\t  fi\n-\tfi\n-\t;;\n-\n-      *.$libext)\n-\t# An archive.\n-\tfunc_append deplibs \"" $arg\""\n-\tfunc_append old_deplibs \"" $arg\""\n-\tcontinue\n-\t;;\n-\n-      *.la)\n-\t# A libtool-controlled library.\n-\n-\tfunc_resolve_sysroot \""$arg\""\n-\tif test \""$prev\"" = dlfiles; then\n-\t  # This library was specified with -dlopen.\n-\t  func_append dlfiles \"" $func_resolve_sysroot_result\""\n-\t  prev=\n-\telif test \""$prev\"" = dlprefiles; then\n-\t  # The library was specified with -dlpreopen.\n-\t  func_append dlprefiles \"" $func_resolve_sysroot_result\""\n-\t  prev=\n-\telse\n-\t  func_append deplibs \"" $func_resolve_sysroot_result\""\n-\tfi\n-\tcontinue\n-\t;;\n-\n-      # Some other compiler argument.\n-      *)\n-\t# Unknown arguments in both finalize_command and compile_command need\n-\t# to be aesthetically quoted because they are evaled later.\n-\tfunc_quote_for_eval \""$arg\""\n-\targ=\""$func_quote_for_eval_result\""\n-\t;;\n-      esac # arg\n-\n-      # Now actually substitute the argument into the commands.\n-      if test -n \""$arg\""; then\n-\tfunc_append compile_command \"" $arg\""\n-\tfunc_append finalize_command \"" $arg\""\n-      fi\n-    done # argument parsing loop\n-\n-    test -n \""$prev\"" && \\\n-      func_fatal_help \""the \\`$prevarg' option requires an argument\""\n-\n-    if test \""$export_dynamic\"" = yes && test -n \""$export_dynamic_flag_spec\""; then\n-      eval arg=\\\""$export_dynamic_flag_spec\\\""\n-      func_append compile_command \"" $arg\""\n-      func_append finalize_command \"" $arg\""\n-    fi\n-\n-    oldlibs=\n-    # calculate the name of the file, without its directory\n-    func_basename \""$output\""\n-    outputname=\""$func_basename_result\""\n-    libobjs_save=\""$libobjs\""\n-\n-    if test -n \""$shlibpath_var\""; then\n-      # get the directories listed in $shlibpath_var\n-      eval shlib_search_path=\\`\\$ECHO \\\""\\${$shlibpath_var}\\\"" \\| \\$SED \\'s/:/ /g\\'\\`\n-    else\n-      shlib_search_path=\n-    fi\n-    eval sys_lib_search_path=\\\""$sys_lib_search_path_spec\\\""\n-    eval sys_lib_dlsearch_path=\\\""$sys_lib_dlsearch_path_spec\\\""\n-\n-    func_dirname \""$output\"" \""/\"" \""\""\n-    output_objdir=\""$func_dirname_result$objdir\""\n-    func_to_tool_file \""$output_objdir/\""\n-    tool_output_objdir=$func_to_tool_file_result\n-    # Create the object directory.\n-    func_mkdir_p \""$output_objdir\""\n-\n-    # Determine the type of output\n-    case $output in\n-    \""\"")\n-      func_fatal_help \""you must specify an output file\""\n-      ;;\n-    *.$libext) linkmode=oldlib ;;\n-    *.lo | *.$objext) linkmode=obj ;;\n-    *.la) linkmode=lib ;;\n-    *) linkmode=prog ;; # Anything else should be a program.\n-    esac\n-\n-    specialdeplibs=\n-\n-    libs=\n-    # Find all interdependent deplibs by searching for libraries\n-    # that are linked more than once (e.g. -la -lb -la)\n-    for deplib in $deplibs; do\n-      if $opt_preserve_dup_deps ; then\n-\tcase \""$libs \"" in\n-\t*\"" $deplib \""*) func_append specialdeplibs \"" $deplib\"" ;;\n-\tesac\n-      fi\n-      func_append libs \"" $deplib\""\n-    done\n-\n-    if test \""$linkmode\"" = lib; then\n-      libs=\""$predeps $libs $compiler_lib_search_path $postdeps\""\n-\n-      # Compute libraries that are listed more than once in $predeps\n-      # $postdeps and mark them as special (i.e., whose duplicates are\n-      # not to be eliminated).\n-      pre_post_deps=\n-      if $opt_duplicate_compiler_generated_deps; then\n-\tfor pre_post_dep in $predeps $postdeps; do\n-\t  case \""$pre_post_deps \"" in\n-\t  *\"" $pre_post_dep \""*) func_append specialdeplibs \"" $pre_post_deps\"" ;;\n-\t  esac\n-\t  func_append pre_post_deps \"" $pre_post_dep\""\n-\tdone\n-      fi\n-      pre_post_deps=\n-    fi\n-\n-    deplibs=\n-    newdependency_libs=\n-    newlib_search_path=\n-    need_relink=no # whether we're linking any uninstalled libtool libraries\n-    notinst_deplibs= # not-installed libtool libraries\n-    notinst_path= # paths that contain not-installed libtool libraries\n-\n-    case $linkmode in\n-    lib)\n-\tpasses=\""conv dlpreopen link\""\n-\tfor file in $dlfiles $dlprefiles; do\n-\t  case $file in\n-\t  *.la) ;;\n-\t  *)\n-\t    func_fatal_help \""libraries can \\`-dlopen' only libtool libraries: $file\""\n-\t    ;;\n-\t  esac\n-\tdone\n-\t;;\n-    prog)\n-\tcompile_deplibs=\n-\tfinalize_deplibs=\n-\talldeplibs=no\n-\tnewdlfiles=\n-\tnewdlprefiles=\n-\tpasses=\""conv scan dlopen dlpreopen link\""\n-\t;;\n-    *)  passes=\""conv\""\n-\t;;\n-    esac\n-\n-    for pass in $passes; do\n-      # The preopen pass in lib mode reverses $deplibs; put it back here\n-      # so that -L comes before libs that need it for instance...\n-      if test \""$linkmode,$pass\"" = \""lib,link\""; then\n-\t## FIXME: Find the place where the list is rebuilt in the wrong\n-\t##        order, and fix it there properly\n-        tmp_deplibs=\n-\tfor deplib in $deplibs; do\n-\t  tmp_deplibs=\""$deplib $tmp_deplibs\""\n-\tdone\n-\tdeplibs=\""$tmp_deplibs\""\n-      fi\n-\n-      if test \""$linkmode,$pass\"" = \""lib,link\"" ||\n-\t test \""$linkmode,$pass\"" = \""prog,scan\""; then\n-\tlibs=\""$deplibs\""\n-\tdeplibs=\n-      fi\n-      if test \""$linkmode\"" = prog; then\n-\tcase $pass in\n-\tdlopen) libs=\""$dlfiles\"" ;;\n-\tdlpreopen) libs=\""$dlprefiles\"" ;;\n-\tlink) libs=\""$deplibs %DEPLIBS% $dependency_libs\"" ;;\n-\tesac\n-      fi\n-      if test \""$linkmode,$pass\"" = \""lib,dlpreopen\""; then\n-\t# Collect and forward deplibs of preopened libtool libs\n-\tfor lib in $dlprefiles; do\n-\t  # Ignore non-libtool-libs\n-\t  dependency_libs=\n-\t  func_resolve_sysroot \""$lib\""\n-\t  case $lib in\n-\t  *.la)\tfunc_source \""$func_resolve_sysroot_result\"" ;;\n-\t  esac\n-\n-\t  # Collect preopened libtool deplibs, except any this library\n-\t  # has declared as weak libs\n-\t  for deplib in $dependency_libs; do\n-\t    func_basename \""$deplib\""\n-            deplib_base=$func_basename_result\n-\t    case \"" $weak_libs \"" in\n-\t    *\"" $deplib_base \""*) ;;\n-\t    *) func_append deplibs \"" $deplib\"" ;;\n-\t    esac\n-\t  done\n-\tdone\n-\tlibs=\""$dlprefiles\""\n-      fi\n-      if test \""$pass\"" = dlopen; then\n-\t# Collect dlpreopened libraries\n-\tsave_deplibs=\""$deplibs\""\n-\tdeplibs=\n-      fi\n-\n-      for deplib in $libs; do\n-\tlib=\n-\tfound=no\n-\tcase $deplib in\n-\t-mt|-mthreads|-kthread|-Kthread|-pthread|-pthreads|--thread-safe \\\n-        |-threads|-fopenmp|-openmp|-mp|-xopenmp|-omp|-qsmp=*)\n-\t  if test \""$linkmode,$pass\"" = \""prog,link\""; then\n-\t    compile_deplibs=\""$deplib $compile_deplibs\""\n-\t    finalize_deplibs=\""$deplib $finalize_deplibs\""\n-\t  else\n-\t    func_append compiler_flags \"" $deplib\""\n-\t    if test \""$linkmode\"" = lib ; then\n-\t\tcase \""$new_inherited_linker_flags \"" in\n-\t\t    *\"" $deplib \""*) ;;\n-\t\t    * ) func_append new_inherited_linker_flags \"" $deplib\"" ;;\n-\t\tesac\n-\t    fi\n-\t  fi\n-\t  continue\n-\t  ;;\n-\t-l*)\n-\t  if test \""$linkmode\"" != lib && test \""$linkmode\"" != prog; then\n-\t    func_warning \""\\`-l' is ignored for archives/objects\""\n-\t    continue\n-\t  fi\n-\t  func_stripname '-l' '' \""$deplib\""\n-\t  name=$func_stripname_result\n-\t  if test \""$linkmode\"" = lib; then\n-\t    searchdirs=\""$newlib_search_path $lib_search_path $compiler_lib_search_dirs $sys_lib_search_path $shlib_search_path\""\n-\t  else\n-\t    searchdirs=\""$newlib_search_path $lib_search_path $sys_lib_search_path $shlib_search_path\""\n-\t  fi\n-\t  for searchdir in $searchdirs; do\n-\t    for search_ext in .la $std_shrext .so .a; do\n-\t      # Search the libtool library\n-\t      lib=\""$searchdir/lib${name}${search_ext}\""\n-\t      if test -f \""$lib\""; then\n-\t\tif test \""$search_ext\"" = \"".la\""; then\n-\t\t  found=yes\n-\t\telse\n-\t\t  found=no\n-\t\tfi\n-\t\tbreak 2\n-\t      fi\n-\t    done\n-\t  done\n-\t  if test \""$found\"" != yes; then\n-\t    # deplib doesn't seem to be a libtool library\n-\t    if test \""$linkmode,$pass\"" = \""prog,link\""; then\n-\t      compile_deplibs=\""$deplib $compile_deplibs\""\n-\t      finalize_deplibs=\""$deplib $finalize_deplibs\""\n-\t    else\n-\t      deplibs=\""$deplib $deplibs\""\n-\t      test \""$linkmode\"" = lib && newdependency_libs=\""$deplib $newdependency_libs\""\n-\t    fi\n-\t    continue\n-\t  else # deplib is a libtool library\n-\t    # If $allow_libtool_libs_with_static_runtimes && $deplib is a stdlib,\n-\t    # We need to do some special things here, and not later.\n-\t    if test \""X$allow_libtool_libs_with_static_runtimes\"" = \""Xyes\"" ; then\n-\t      case \"" $predeps $postdeps \"" in\n-\t      *\"" $deplib \""*)\n-\t\tif func_lalib_p \""$lib\""; then\n-\t\t  library_names=\n-\t\t  old_library=\n-\t\t  func_source \""$lib\""\n-\t\t  for l in $old_library $library_names; do\n-\t\t    ll=\""$l\""\n-\t\t  done\n-\t\t  if test \""X$ll\"" = \""X$old_library\"" ; then # only static version available\n-\t\t    found=no\n-\t\t    func_dirname \""$lib\"" \""\"" \"".\""\n-\t\t    ladir=\""$func_dirname_result\""\n-\t\t    lib=$ladir/$old_library\n-\t\t    if test \""$linkmode,$pass\"" = \""prog,link\""; then\n-\t\t      compile_deplibs=\""$deplib $compile_deplibs\""\n-\t\t      finalize_deplibs=\""$deplib $finalize_deplibs\""\n-\t\t    else\n-\t\t      deplibs=\""$deplib $deplibs\""\n-\t\t      test \""$linkmode\"" = lib && newdependency_libs=\""$deplib $newdependency_libs\""\n-\t\t    fi\n-\t\t    continue\n-\t\t  fi\n-\t\tfi\n-\t\t;;\n-\t      *) ;;\n-\t      esac\n-\t    fi\n-\t  fi\n-\t  ;; # -l\n-\t*.ltframework)\n-\t  if test \""$linkmode,$pass\"" = \""prog,link\""; then\n-\t    compile_deplibs=\""$deplib $compile_deplibs\""\n-\t    finalize_deplibs=\""$deplib $finalize_deplibs\""\n-\t  else\n-\t    deplibs=\""$deplib $deplibs\""\n-\t    if test \""$linkmode\"" = lib ; then\n-\t\tcase \""$new_inherited_linker_flags \"" in\n-\t\t    *\"" $deplib \""*) ;;\n-\t\t    * ) func_append new_inherited_linker_flags \"" $deplib\"" ;;\n-\t\tesac\n-\t    fi\n-\t  fi\n-\t  continue\n-\t  ;;\n-\t-L*)\n-\t  case $linkmode in\n-\t  lib)\n-\t    deplibs=\""$deplib $deplibs\""\n-\t    test \""$pass\"" = conv && continue\n-\t    newdependency_libs=\""$deplib $newdependency_libs\""\n-\t    func_stripname '-L' '' \""$deplib\""\n-\t    func_resolve_sysroot \""$func_stripname_result\""\n-\t    func_append newlib_search_path \"" $func_resolve_sysroot_result\""\n-\t    ;;\n-\t  prog)\n-\t    if test \""$pass\"" = conv; then\n-\t      deplibs=\""$deplib $deplibs\""\n-\t      continue\n-\t    fi\n-\t    if test \""$pass\"" = scan; then\n-\t      deplibs=\""$deplib $deplibs\""\n-\t    else\n-\t      compile_deplibs=\""$deplib $compile_deplibs\""\n-\t      finalize_deplibs=\""$deplib $finalize_deplibs\""\n-\t    fi\n-\t    func_stripname '-L' '' \""$deplib\""\n-\t    func_resolve_sysroot \""$func_stripname_result\""\n-\t    func_append newlib_search_path \"" $func_resolve_sysroot_result\""\n-\t    ;;\n-\t  *)\n-\t    func_warning \""\\`-L' is ignored for archives/objects\""\n-\t    ;;\n-\t  esac # linkmode\n-\t  continue\n-\t  ;; # -L\n-\t-R*)\n-\t  if test \""$pass\"" = link; then\n-\t    func_stripname '-R' '' \""$deplib\""\n-\t    func_resolve_sysroot \""$func_stripname_result\""\n-\t    dir=$func_resolve_sysroot_result\n-\t    # Make sure the xrpath contains only unique directories.\n-\t    case \""$xrpath \"" in\n-\t    *\"" $dir \""*) ;;\n-\t    *) func_append xrpath \"" $dir\"" ;;\n-\t    esac\n-\t  fi\n-\t  deplibs=\""$deplib $deplibs\""\n-\t  continue\n-\t  ;;\n-\t*.la)\n-\t  func_resolve_sysroot \""$deplib\""\n-\t  lib=$func_resolve_sysroot_result\n-\t  ;;\n-\t*.$libext)\n-\t  if test \""$pass\"" = conv; then\n-\t    deplibs=\""$deplib $deplibs\""\n-\t    continue\n-\t  fi\n-\t  case $linkmode in\n-\t  lib)\n-\t    # Linking convenience modules into shared libraries is allowed,\n-\t    # but linking other static libraries is non-portable.\n-\t    case \"" $dlpreconveniencelibs \"" in\n-\t    *\"" $deplib \""*) ;;\n-\t    *)\n-\t      valid_a_lib=no\n-\t      case $deplibs_check_method in\n-\t\tmatch_pattern*)\n-\t\t  set dummy $deplibs_check_method; shift\n-\t\t  match_pattern_regex=`expr \""$deplibs_check_method\"" : \""$1 \\(.*\\)\""`\n-\t\t  if eval \""\\$ECHO \\\""$deplib\\\""\"" 2>/dev/null | $SED 10q \\\n-\t\t    | $EGREP \""$match_pattern_regex\"" > /dev/null; then\n-\t\t    valid_a_lib=yes\n-\t\t  fi\n-\t\t;;\n-\t\tpass_all)\n-\t\t  valid_a_lib=yes\n-\t\t;;\n-\t      esac\n-\t      if test \""$valid_a_lib\"" != yes; then\n-\t\techo\n-\t\t$ECHO \""*** Warning: Trying to link with static lib archive $deplib.\""\n-\t\techo \""*** I have the capability to make that library automatically link in when\""\n-\t\techo \""*** you link to this library.  But I can only do this if you have a\""\n-\t\techo \""*** shared version of the library, which you do not appear to have\""\n-\t\techo \""*** because the file extensions .$libext of this argument makes me believe\""\n-\t\techo \""*** that it is just a static archive that I should not use here.\""\n-\t      else\n-\t\techo\n-\t\t$ECHO \""*** Warning: Linking the shared library $output against the\""\n-\t\t$ECHO \""*** static library $deplib is not portable!\""\n-\t\tdeplibs=\""$deplib $deplibs\""\n-\t      fi\n-\t      ;;\n-\t    esac\n-\t    continue\n-\t    ;;\n-\t  prog)\n-\t    if test \""$pass\"" != link; then\n-\t      deplibs=\""$deplib $deplibs\""\n-\t    else\n-\t      compile_deplibs=\""$deplib $compile_deplibs\""\n-\t      finalize_deplibs=\""$deplib $finalize_deplibs\""\n-\t    fi\n-\t    continue\n-\t    ;;\n-\t  esac # linkmode\n-\t  ;; # *.$libext\n-\t*.lo | *.$objext)\n-\t  if test \""$pass\"" = conv; then\n-\t    deplibs=\""$deplib $deplibs\""\n-\t  elif test \""$linkmode\"" = prog; then\n-\t    if test \""$pass\"" = dlpreopen || test \""$dlopen_support\"" != yes || test \""$build_libtool_libs\"" = no; then\n-\t      # If there is no dlopen support or we're linking statically,\n-\t      # we need to preload.\n-\t      func_append newdlprefiles \"" $deplib\""\n-\t      compile_deplibs=\""$deplib $compile_deplibs\""\n-\t      finalize_deplibs=\""$deplib $finalize_deplibs\""\n-\t    else\n-\t      func_append newdlfiles \"" $deplib\""\n-\t    fi\n-\t  fi\n-\t  continue\n-\t  ;;\n-\t%DEPLIBS%)\n-\t  alldeplibs=yes\n-\t  continue\n-\t  ;;\n-\tesac # case $deplib\n-\n-\tif test \""$found\"" = yes || test -f \""$lib\""; then :\n-\telse\n-\t  func_fatal_error \""cannot find the library \\`$lib' or unhandled argument \\`$deplib'\""\n-\tfi\n-\n-\t# Check to see that this really is a libtool archive.\n-\tfunc_lalib_unsafe_p \""$lib\"" \\\n-\t  || func_fatal_error \""\\`$lib' is not a valid libtool archive\""\n-\n-\tfunc_dirname \""$lib\"" \""\"" \"".\""\n-\tladir=\""$func_dirname_result\""\n-\n-\tdlname=\n-\tdlopen=\n-\tdlpreopen=\n-\tlibdir=\n-\tlibrary_names=\n-\told_library=\n-\tinherited_linker_flags=\n-\t# If the library was installed with an old release of libtool,\n-\t# it will not redefine variables installed, or shouldnotlink\n-\tinstalled=yes\n-\tshouldnotlink=no\n-\tavoidtemprpath=\n-\n-\n-\t# Read the .la file\n-\tfunc_source \""$lib\""\n-\n-\t# Convert \""-framework foo\"" to \""foo.ltframework\""\n-\tif test -n \""$inherited_linker_flags\""; then\n-\t  tmp_inherited_linker_flags=`$ECHO \""$inherited_linker_flags\"" | $SED 's/-framework \\([^ $]*\\)/\\1.ltframework/g'`\n-\t  for tmp_inherited_linker_flag in $tmp_inherited_linker_flags; do\n-\t    case \"" $new_inherited_linker_flags \"" in\n-\t      *\"" $tmp_inherited_linker_flag \""*) ;;\n-\t      *) func_append new_inherited_linker_flags \"" $tmp_inherited_linker_flag\"";;\n-\t    esac\n-\t  done\n-\tfi\n-\tdependency_libs=`$ECHO \"" $dependency_libs\"" | $SED 's% \\([^ $]*\\).ltframework% -framework \\1%g'`\n-\tif test \""$linkmode,$pass\"" = \""lib,link\"" ||\n-\t   test \""$linkmode,$pass\"" = \""prog,scan\"" ||\n-\t   { test \""$linkmode\"" != prog && test \""$linkmode\"" != lib; }; then\n-\t  test -n \""$dlopen\"" && func_append dlfiles \"" $dlopen\""\n-\t  test -n \""$dlpreopen\"" && func_append dlprefiles \"" $dlpreopen\""\n-\tfi\n-\n-\tif test \""$pass\"" = conv; then\n-\t  # Only check for convenience libraries\n-\t  deplibs=\""$lib $deplibs\""\n-\t  if test -z \""$libdir\""; then\n-\t    if test -z \""$old_library\""; then\n-\t      func_fatal_error \""cannot find name of link library for \\`$lib'\""\n-\t    fi\n-\t    # It is a libtool convenience library, so add in its objects.\n-\t    func_append convenience \"" $ladir/$objdir/$old_library\""\n-\t    func_append old_convenience \"" $ladir/$objdir/$old_library\""\n-\t  elif test \""$linkmode\"" != prog && test \""$linkmode\"" != lib; then\n-\t    func_fatal_error \""\\`$lib' is not a convenience library\""\n-\t  fi\n-\t  tmp_libs=\n-\t  for deplib in $dependency_libs; do\n-\t    deplibs=\""$deplib $deplibs\""\n-\t    if $opt_preserve_dup_deps ; then\n-\t      case \""$tmp_libs \"" in\n-\t      *\"" $deplib \""*) func_append specialdeplibs \"" $deplib\"" ;;\n-\t      esac\n-\t    fi\n-\t    func_append tmp_libs \"" $deplib\""\n-\t  done\n-\t  continue\n-\tfi # $pass = conv\n-\n-\n-\t# Get the name of the library we link against.\n-\tlinklib=\n-\tif test -n \""$old_library\"" &&\n-\t   { test \""$prefer_static_libs\"" = yes ||\n-\t     test \""$prefer_static_libs,$installed\"" = \""built,no\""; }; then\n-\t  linklib=$old_library\n-\telse\n-\t  for l in $old_library $library_names; do\n-\t    linklib=\""$l\""\n-\t  done\n-\tfi\n-\tif test -z \""$linklib\""; then\n-\t  func_fatal_error \""cannot find name of link library for \\`$lib'\""\n-\tfi\n-\n-\t# This library was specified with -dlopen.\n-\tif test \""$pass\"" = dlopen; then\n-\t  if test -z \""$libdir\""; then\n-\t    func_fatal_error \""cannot -dlopen a convenience library: \\`$lib'\""\n-\t  fi\n-\t  if test -z \""$dlname\"" ||\n-\t     test \""$dlopen_support\"" != yes ||\n-\t     test \""$build_libtool_libs\"" = no; then\n-\t    # If there is no dlname, no dlopen support or we're linking\n-\t    # statically, we need to preload.  We also need to preload any\n-\t    # dependent libraries so libltdl's deplib preloader doesn't\n-\t    # bomb out in the load deplibs phase.\n-\t    func_append dlprefiles \"" $lib $dependency_libs\""\n-\t  else\n-\t    func_append newdlfiles \"" $lib\""\n-\t  fi\n-\t  continue\n-\tfi # $pass = dlopen\n-\n-\t# We need an absolute path.\n-\tcase $ladir in\n-\t[\\\\/]* | [A-Za-z]:[\\\\/]*) abs_ladir=\""$ladir\"" ;;\n-\t*)\n-\t  abs_ladir=`cd \""$ladir\"" && pwd`\n-\t  if test -z \""$abs_ladir\""; then\n-\t    func_warning \""cannot determine absolute directory name of \\`$ladir'\""\n-\t    func_warning \""passing it literally to the linker, although it might fail\""\n-\t    abs_ladir=\""$ladir\""\n-\t  fi\n-\t  ;;\n-\tesac\n-\tfunc_basename \""$lib\""\n-\tlaname=\""$func_basename_result\""\n-\n-\t# Find the relevant object directory and library name.\n-\tif test \""X$installed\"" = Xyes; then\n-\t  if test ! -f \""$lt_sysroot$libdir/$linklib\"" && test -f \""$abs_ladir/$linklib\""; then\n-\t    func_warning \""library \\`$lib' was moved.\""\n-\t    dir=\""$ladir\""\n-\t    absdir=\""$abs_ladir\""\n-\t    libdir=\""$abs_ladir\""\n-\t  else\n-\t    dir=\""$lt_sysroot$libdir\""\n-\t    absdir=\""$lt_sysroot$libdir\""\n-\t  fi\n-\t  test \""X$hardcode_automatic\"" = Xyes && avoidtemprpath=yes\n-\telse\n-\t  if test ! -f \""$ladir/$objdir/$linklib\"" && test -f \""$abs_ladir/$linklib\""; then\n-\t    dir=\""$ladir\""\n-\t    absdir=\""$abs_ladir\""\n-\t    # Remove this search path later\n-\t    func_append notinst_path \"" $abs_ladir\""\n-\t  else\n-\t    dir=\""$ladir/$objdir\""\n-\t    absdir=\""$abs_ladir/$objdir\""\n-\t    # Remove this search path later\n-\t    func_append notinst_path \"" $abs_ladir\""\n-\t  fi\n-\tfi # $installed = yes\n-\tfunc_stripname 'lib' '.la' \""$laname\""\n-\tname=$func_stripname_result\n-\n-\t# This library was specified with -dlpreopen.\n-\tif test \""$pass\"" = dlpreopen; then\n-\t  if test -z \""$libdir\"" && test \""$linkmode\"" = prog; then\n-\t    func_fatal_error \""only libraries may -dlpreopen a convenience library: \\`$lib'\""\n-\t  fi\n-\t  case \""$host\"" in\n-\t    # special handling for platforms with PE-DLLs.\n-\t    *cygwin* | *mingw* | *cegcc* )\n-\t      # Linker will automatically link against shared library if both\n-\t      # static and shared are present.  Therefore, ensure we extract\n-\t      # symbols from the import library if a shared library is present\n-\t      # (otherwise, the dlopen module name will be incorrect).  We do\n-\t      # this by putting the import library name into $newdlprefiles.\n-\t      # We recover the dlopen module name by 'saving' the la file\n-\t      # name in a special purpose variable, and (later) extracting the\n-\t      # dlname from the la file.\n-\t      if test -n \""$dlname\""; then\n-\t        func_tr_sh \""$dir/$linklib\""\n-\t        eval \""libfile_$func_tr_sh_result=\\$abs_ladir/\\$laname\""\n-\t        func_append newdlprefiles \"" $dir/$linklib\""\n-\t      else\n-\t        func_append newdlprefiles \"" $dir/$old_library\""\n-\t        # Keep a list of preopened convenience libraries to check\n-\t        # that they are being used correctly in the link pass.\n-\t        test -z \""$libdir\"" && \\\n-\t          func_append dlpreconveniencelibs \"" $dir/$old_library\""\n-\t      fi\n-\t    ;;\n-\t    * )\n-\t      # Prefer using a static library (so that no silly _DYNAMIC symbols\n-\t      # are required to link).\n-\t      if test -n \""$old_library\""; then\n-\t        func_append newdlprefiles \"" $dir/$old_library\""\n-\t        # Keep a list of preopened convenience libraries to check\n-\t        # that they are being used correctly in the link pass.\n-\t        test -z \""$libdir\"" && \\\n-\t          func_append dlpreconveniencelibs \"" $dir/$old_library\""\n-\t      # Otherwise, use the dlname, so that lt_dlopen finds it.\n-\t      elif test -n \""$dlname\""; then\n-\t        func_append newdlprefiles \"" $dir/$dlname\""\n-\t      else\n-\t        func_append newdlprefiles \"" $dir/$linklib\""\n-\t      fi\n-\t    ;;\n-\t  esac\n-\tfi # $pass = dlpreopen\n-\n-\tif test -z \""$libdir\""; then\n-\t  # Link the convenience library\n-\t  if test \""$linkmode\"" = lib; then\n-\t    deplibs=\""$dir/$old_library $deplibs\""\n-\t  elif test \""$linkmode,$pass\"" = \""prog,link\""; then\n-\t    compile_deplibs=\""$dir/$old_library $compile_deplibs\""\n-\t    finalize_deplibs=\""$dir/$old_library $finalize_deplibs\""\n-\t  else\n-\t    deplibs=\""$lib $deplibs\"" # used for prog,scan pass\n-\t  fi\n-\t  continue\n-\tfi\n-\n-\n-\tif test \""$linkmode\"" = prog && test \""$pass\"" != link; then\n-\t  func_append newlib_search_path \"" $ladir\""\n-\t  deplibs=\""$lib $deplibs\""\n-\n-\t  linkalldeplibs=no\n-\t  if test \""$link_all_deplibs\"" != no || test -z \""$library_names\"" ||\n-\t     test \""$build_libtool_libs\"" = no; then\n-\t    linkalldeplibs=yes\n-\t  fi\n-\n-\t  tmp_libs=\n-\t  for deplib in $dependency_libs; do\n-\t    case $deplib in\n-\t    -L*) func_stripname '-L' '' \""$deplib\""\n-\t         func_resolve_sysroot \""$func_stripname_result\""\n-\t         func_append newlib_search_path \"" $func_resolve_sysroot_result\""\n-\t\t ;;\n-\t    esac\n-\t    # Need to link against all dependency_libs?\n-\t    if test \""$linkalldeplibs\"" = yes; then\n-\t      deplibs=\""$deplib $deplibs\""\n-\t    else\n-\t      # Need to hardcode shared library paths\n-\t      # or/and link against static libraries\n-\t      newdependency_libs=\""$deplib $newdependency_libs\""\n-\t    fi\n-\t    if $opt_preserve_dup_deps ; then\n-\t      case \""$tmp_libs \"" in\n-\t      *\"" $deplib \""*) func_append specialdeplibs \"" $deplib\"" ;;\n-\t      esac\n-\t    fi\n-\t    func_append tmp_libs \"" $deplib\""\n-\t  done # for deplib\n-\t  continue\n-\tfi # $linkmode = prog...\n-\n-\tif test \""$linkmode,$pass\"" = \""prog,link\""; then\n-\t  if test -n \""$library_names\"" &&\n-\t     { { test \""$prefer_static_libs\"" = no ||\n-\t         test \""$prefer_static_libs,$installed\"" = \""built,yes\""; } ||\n-\t       test -z \""$old_library\""; }; then\n-\t    # We need to hardcode the library path\n-\t    if test -n \""$shlibpath_var\"" && test -z \""$avoidtemprpath\"" ; then\n-\t      # Make sure the rpath contains only unique directories.\n-\t      case \""$temp_rpath:\"" in\n-\t      *\""$absdir:\""*) ;;\n-\t      *) func_append temp_rpath \""$absdir:\"" ;;\n-\t      esac\n-\t    fi\n-\n-\t    # Hardcode the library path.\n-\t    # Skip directories that are in the system default run-time\n-\t    # search path.\n-\t    case \"" $sys_lib_dlsearch_path \"" in\n-\t    *\"" $absdir \""*) ;;\n-\t    *)\n-\t      case \""$compile_rpath \"" in\n-\t      *\"" $absdir \""*) ;;\n-\t      *) func_append compile_rpath \"" $absdir\"" ;;\n-\t      esac\n-\t      ;;\n-\t    esac\n-\t    case \"" $sys_lib_dlsearch_path \"" in\n-\t    *\"" $libdir \""*) ;;\n-\t    *)\n-\t      case \""$finalize_rpath \"" in\n-\t      *\"" $libdir \""*) ;;\n-\t      *) func_append finalize_rpath \"" $libdir\"" ;;\n-\t      esac\n-\t      ;;\n-\t    esac\n-\t  fi # $linkmode,$pass = prog,link...\n-\n-\t  if test \""$alldeplibs\"" = yes &&\n-\t     { test \""$deplibs_check_method\"" = pass_all ||\n-\t       { test \""$build_libtool_libs\"" = yes &&\n-\t\t test -n \""$library_names\""; }; }; then\n-\t    # We only need to search for static libraries\n-\t    continue\n-\t  fi\n-\tfi\n-\n-\tlink_static=no # Whether the deplib will be linked statically\n-\tuse_static_libs=$prefer_static_libs\n-\tif test \""$use_static_libs\"" = built && test \""$installed\"" = yes; then\n-\t  use_static_libs=no\n-\tfi\n-\tif test -n \""$library_names\"" &&\n-\t   { test \""$use_static_libs\"" = no || test -z \""$old_library\""; }; then\n-\t  case $host in\n-\t  *cygwin* | *mingw* | *cegcc*)\n-\t      # No point in relinking DLLs because paths are not encoded\n-\t      func_append notinst_deplibs \"" $lib\""\n-\t      need_relink=no\n-\t    ;;\n-\t  *)\n-\t    if test \""$installed\"" = no; then\n-\t      func_append notinst_deplibs \"" $lib\""\n-\t      need_relink=yes\n-\t    fi\n-\t    ;;\n-\t  esac\n-\t  # This is a shared library\n-\n-\t  # Warn about portability, can't link against -module's on some\n-\t  # systems (darwin).  Don't bleat about dlopened modules though!\n-\t  dlopenmodule=\""\""\n-\t  for dlpremoduletest in $dlprefiles; do\n-\t    if test \""X$dlpremoduletest\"" = \""X$lib\""; then\n-\t      dlopenmodule=\""$dlpremoduletest\""\n-\t      break\n-\t    fi\n-\t  done\n-\t  if test -z \""$dlopenmodule\"" && test \""$shouldnotlink\"" = yes && test \""$pass\"" = link; then\n-\t    echo\n-\t    if test \""$linkmode\"" = prog; then\n-\t      $ECHO \""*** Warning: Linking the executable $output against the loadable module\""\n-\t    else\n-\t      $ECHO \""*** Warning: Linking the shared library $output against the loadable module\""\n-\t    fi\n-\t    $ECHO \""*** $linklib is not portable!\""\n-\t  fi\n-\t  if test \""$linkmode\"" = lib &&\n-\t     test \""$hardcode_into_libs\"" = yes; then\n-\t    # Hardcode the library path.\n-\t    # Skip directories that are in the system default run-time\n-\t    # search path.\n-\t    case \"" $sys_lib_dlsearch_path \"" in\n-\t    *\"" $absdir \""*) ;;\n-\t    *)\n-\t      case \""$compile_rpath \"" in\n-\t      *\"" $absdir \""*) ;;\n-\t      *) func_append compile_rpath \"" $absdir\"" ;;\n-\t      esac\n-\t      ;;\n-\t    esac\n-\t    case \"" $sys_lib_dlsearch_path \"" in\n-\t    *\"" $libdir \""*) ;;\n-\t    *)\n-\t      case \""$finalize_rpath \"" in\n-\t      *\"" $libdir \""*) ;;\n-\t      *) func_append finalize_rpath \"" $libdir\"" ;;\n-\t      esac\n-\t      ;;\n-\t    esac\n-\t  fi\n-\n-\t  if test -n \""$old_archive_from_expsyms_cmds\""; then\n-\t    # figure out the soname\n-\t    set dummy $library_names\n-\t    shift\n-\t    realname=\""$1\""\n-\t    shift\n-\t    libname=`eval \""\\\\$ECHO \\\""$libname_spec\\\""\""`\n-\t    # use dlname if we got it. it's perfectly good, no?\n-\t    if test -n \""$dlname\""; then\n-\t      soname=\""$dlname\""\n-\t    elif test -n \""$soname_spec\""; then\n-\t      # bleh windows\n-\t      case $host in\n-\t      *cygwin* | mingw* | *cegcc*)\n-\t        func_arith $current - $age\n-\t\tmajor=$func_arith_result\n-\t\tversuffix=\""-$major\""\n-\t\t;;\n-\t      esac\n-\t      eval soname=\\\""$soname_spec\\\""\n-\t    else\n-\t      soname=\""$realname\""\n-\t    fi\n-\n-\t    # Make a new name for the extract_expsyms_cmds to use\n-\t    soroot=\""$soname\""\n-\t    func_basename \""$soroot\""\n-\t    soname=\""$func_basename_result\""\n-\t    func_stripname 'lib' '.dll' \""$soname\""\n-\t    newlib=libimp-$func_stripname_result.a\n-\n-\t    # If the library has no export list, then create one now\n-\t    if test -f \""$output_objdir/$soname-def\""; then :\n-\t    else\n-\t      func_verbose \""extracting exported symbol list from \\`$soname'\""\n-\t      func_execute_cmds \""$extract_expsyms_cmds\"" 'exit $?'\n-\t    fi\n-\n-\t    # Create $newlib\n-\t    if test -f \""$output_objdir/$newlib\""; then :; else\n-\t      func_verbose \""generating import library for \\`$soname'\""\n-\t      func_execute_cmds \""$old_archive_from_expsyms_cmds\"" 'exit $?'\n-\t    fi\n-\t    # make sure the library variables are pointing to the new library\n-\t    dir=$output_objdir\n-\t    linklib=$newlib\n-\t  fi # test -n \""$old_archive_from_expsyms_cmds\""\n-\n-\t  if test \""$linkmode\"" = prog || test \""$opt_mode\"" != relink; then\n-\t    add_shlibpath=\n-\t    add_dir=\n-\t    add=\n-\t    lib_linked=yes\n-\t    case $hardcode_action in\n-\t    immediate | unsupported)\n-\t      if test \""$hardcode_direct\"" = no; then\n-\t\tadd=\""$dir/$linklib\""\n-\t\tcase $host in\n-\t\t  *-*-sco3.2v5.0.[024]*) add_dir=\""-L$dir\"" ;;\n-\t\t  *-*-sysv4*uw2*) add_dir=\""-L$dir\"" ;;\n-\t\t  *-*-sysv5OpenUNIX* | *-*-sysv5UnixWare7.[01].[10]* | \\\n-\t\t    *-*-unixware7*) add_dir=\""-L$dir\"" ;;\n-\t\t  *-*-darwin* )\n-\t\t    # if the lib is a (non-dlopened) module then we can not\n-\t\t    # link against it, someone is ignoring the earlier warnings\n-\t\t    if /usr/bin/file -L $add 2> /dev/null |\n-\t\t\t $GREP \"": [^:]* bundle\"" >/dev/null ; then\n-\t\t      if test \""X$dlopenmodule\"" != \""X$lib\""; then\n-\t\t\t$ECHO \""*** Warning: lib $linklib is a module, not a shared library\""\n-\t\t\tif test -z \""$old_library\"" ; then\n-\t\t\t  echo\n-\t\t\t  echo \""*** And there doesn't seem to be a static archive available\""\n-\t\t\t  echo \""*** The link will probably fail, sorry\""\n-\t\t\telse\n-\t\t\t  add=\""$dir/$old_library\""\n-\t\t\tfi\n-\t\t      elif test -n \""$old_library\""; then\n-\t\t\tadd=\""$dir/$old_library\""\n-\t\t      fi\n-\t\t    fi\n-\t\tesac\n-\t      elif test \""$hardcode_minus_L\"" = no; then\n-\t\tcase $host in\n-\t\t*-*-sunos*) add_shlibpath=\""$dir\"" ;;\n-\t\tesac\n-\t\tadd_dir=\""-L$dir\""\n-\t\tadd=\""-l$name\""\n-\t      elif test \""$hardcode_shlibpath_var\"" = no; then\n-\t\tadd_shlibpath=\""$dir\""\n-\t\tadd=\""-l$name\""\n-\t      else\n-\t\tlib_linked=no\n-\t      fi\n-\t      ;;\n-\t    relink)\n-\t      if test \""$hardcode_direct\"" = yes &&\n-\t         test \""$hardcode_direct_absolute\"" = no; then\n-\t\tadd=\""$dir/$linklib\""\n-\t      elif test \""$hardcode_minus_L\"" = yes; then\n-\t\tadd_dir=\""-L$absdir\""\n-\t\t# Try looking first in the location we're being installed to.\n-\t\tif test -n \""$inst_prefix_dir\""; then\n-\t\t  case $libdir in\n-\t\t    [\\\\/]*)\n-\t\t      func_append add_dir \"" -L$inst_prefix_dir$libdir\""\n-\t\t      ;;\n-\t\t  esac\n-\t\tfi\n-\t\tadd=\""-l$name\""\n-\t      elif test \""$hardcode_shlibpath_var\"" = yes; then\n-\t\tadd_shlibpath=\""$dir\""\n-\t\tadd=\""-l$name\""\n-\t      else\n-\t\tlib_linked=no\n-\t      fi\n-\t      ;;\n-\t    *) lib_linked=no ;;\n-\t    esac\n-\n-\t    if test \""$lib_linked\"" != yes; then\n-\t      func_fatal_configuration \""unsupported hardcode properties\""\n-\t    fi\n-\n-\t    if test -n \""$add_shlibpath\""; then\n-\t      case :$compile_shlibpath: in\n-\t      *\"":$add_shlibpath:\""*) ;;\n-\t      *) func_append compile_shlibpath \""$add_shlibpath:\"" ;;\n-\t      esac\n-\t    fi\n-\t    if test \""$linkmode\"" = prog; then\n-\t      test -n \""$add_dir\"" && compile_deplibs=\""$add_dir $compile_deplibs\""\n-\t      test -n \""$add\"" && compile_deplibs=\""$add $compile_deplibs\""\n-\t    else\n-\t      test -n \""$add_dir\"" && deplibs=\""$add_dir $deplibs\""\n-\t      test -n \""$add\"" && deplibs=\""$add $deplibs\""\n-\t      if test \""$hardcode_direct\"" != yes &&\n-\t\t test \""$hardcode_minus_L\"" != yes &&\n-\t\t test \""$hardcode_shlibpath_var\"" = yes; then\n-\t\tcase :$finalize_shlibpath: in\n-\t\t*\"":$libdir:\""*) ;;\n-\t\t*) func_append finalize_shlibpath \""$libdir:\"" ;;\n-\t\tesac\n-\t      fi\n-\t    fi\n-\t  fi\n-\n-\t  if test \""$linkmode\"" = prog || test \""$opt_mode\"" = relink; then\n-\t    add_shlibpath=\n-\t    add_dir=\n-\t    add=\n-\t    # Finalize command for both is simple: just hardcode it.\n-\t    if test \""$hardcode_direct\"" = yes &&\n-\t       test \""$hardcode_direct_absolute\"" = no; then\n-\t      add=\""$libdir/$linklib\""\n-\t    elif test \""$hardcode_minus_L\"" = yes; then\n-\t      add_dir=\""-L$libdir\""\n-\t      add=\""-l$name\""\n-\t    elif test \""$hardcode_shlibpath_var\"" = yes; then\n-\t      case :$finalize_shlibpath: in\n-\t      *\"":$libdir:\""*) ;;\n-\t      *) func_append finalize_shlibpath \""$libdir:\"" ;;\n-\t      esac\n-\t      add=\""-l$name\""\n-\t    elif test \""$hardcode_automatic\"" = yes; then\n-\t      if test -n \""$inst_prefix_dir\"" &&\n-\t\t test -f \""$inst_prefix_dir$libdir/$linklib\"" ; then\n-\t\tadd=\""$inst_prefix_dir$libdir/$linklib\""\n-\t      else\n-\t\tadd=\""$libdir/$linklib\""\n-\t      fi\n-\t    else\n-\t      # We cannot seem to hardcode it, guess we'll fake it.\n-\t      add_dir=\""-L$libdir\""\n-\t      # Try looking first in the location we're being installed to.\n-\t      if test -n \""$inst_prefix_dir\""; then\n-\t\tcase $libdir in\n-\t\t  [\\\\/]*)\n-\t\t    func_append add_dir \"" -L$inst_prefix_dir$libdir\""\n-\t\t    ;;\n-\t\tesac\n-\t      fi\n-\t      add=\""-l$name\""\n-\t    fi\n-\n-\t    if test \""$linkmode\"" = prog; then\n-\t      test -n \""$add_dir\"" && finalize_deplibs=\""$add_dir $finalize_deplibs\""\n-\t      test -n \""$add\"" && finalize_deplibs=\""$add $finalize_deplibs\""\n-\t    else\n-\t      test -n \""$add_dir\"" && deplibs=\""$add_dir $deplibs\""\n-\t      test -n \""$add\"" && deplibs=\""$add $deplibs\""\n-\t    fi\n-\t  fi\n-\telif test \""$linkmode\"" = prog; then\n-\t  # Here we assume that one of hardcode_direct or hardcode_minus_L\n-\t  # is not unsupported.  This is valid on all known static and\n-\t  # shared platforms.\n-\t  if test \""$hardcode_direct\"" != unsupported; then\n-\t    test -n \""$old_library\"" && linklib=\""$old_library\""\n-\t    compile_deplibs=\""$dir/$linklib $compile_deplibs\""\n-\t    finalize_deplibs=\""$dir/$linklib $finalize_deplibs\""\n-\t  else\n-\t    compile_deplibs=\""-l$name -L$dir $compile_deplibs\""\n-\t    finalize_deplibs=\""-l$name -L$dir $finalize_deplibs\""\n-\t  fi\n-\telif test \""$build_libtool_libs\"" = yes; then\n-\t  # Not a shared library\n-\t  if test \""$deplibs_check_method\"" != pass_all; then\n-\t    # We're trying link a shared library against a static one\n-\t    # but the system doesn't support it.\n-\n-\t    # Just print a warning and add the library to dependency_libs so\n-\t    # that the program can be linked against the static library.\n-\t    echo\n-\t    $ECHO \""*** Warning: This system can not link to static lib archive $lib.\""\n-\t    echo \""*** I have the capability to make that library automatically link in when\""\n-\t    echo \""*** you link to this library.  But I can only do this if you have a\""\n-\t    echo \""*** shared version of the library, which you do not appear to have.\""\n-\t    if test \""$module\"" = yes; then\n-\t      echo \""*** But as you try to build a module library, libtool will still create \""\n-\t      echo \""*** a static module, that should work as long as the dlopening application\""\n-\t      echo \""*** is linked with the -dlopen flag to resolve symbols at runtime.\""\n-\t      if test -z \""$global_symbol_pipe\""; then\n-\t\techo\n-\t\techo \""*** However, this would only work if libtool was able to extract symbol\""\n-\t\techo \""*** lists from a program, using \\`nm' or equivalent, but libtool could\""\n-\t\techo \""*** not find such a program.  So, this module is probably useless.\""\n-\t\techo \""*** \\`nm' from GNU binutils and a full rebuild may help.\""\n-\t      fi\n-\t      if test \""$build_old_libs\"" = no; then\n-\t\tbuild_libtool_libs=module\n-\t\tbuild_old_libs=yes\n-\t      else\n-\t\tbuild_libtool_libs=no\n-\t      fi\n-\t    fi\n-\t  else\n-\t    deplibs=\""$dir/$old_library $deplibs\""\n-\t    link_static=yes\n-\t  fi\n-\tfi # link shared/static library?\n-\n-\tif test \""$linkmode\"" = lib; then\n-\t  if test -n \""$dependency_libs\"" &&\n-\t     { test \""$hardcode_into_libs\"" != yes ||\n-\t       test \""$build_old_libs\"" = yes ||\n-\t       test \""$link_static\"" = yes; }; then\n-\t    # Extract -R from dependency_libs\n-\t    temp_deplibs=\n-\t    for libdir in $dependency_libs; do\n-\t      case $libdir in\n-\t      -R*) func_stripname '-R' '' \""$libdir\""\n-\t           temp_xrpath=$func_stripname_result\n-\t\t   case \"" $xrpath \"" in\n-\t\t   *\"" $temp_xrpath \""*) ;;\n-\t\t   *) func_append xrpath \"" $temp_xrpath\"";;\n-\t\t   esac;;\n-\t      *) func_append temp_deplibs \"" $libdir\"";;\n-\t      esac\n-\t    done\n-\t    dependency_libs=\""$temp_deplibs\""\n-\t  fi\n-\n-\t  func_append newlib_search_path \"" $absdir\""\n-\t  # Link against this library\n-\t  test \""$link_static\"" = no && newdependency_libs=\""$abs_ladir/$laname $newdependency_libs\""\n-\t  # ... and its dependency_libs\n-\t  tmp_libs=\n-\t  for deplib in $dependency_libs; do\n-\t    newdependency_libs=\""$deplib $newdependency_libs\""\n-\t    case $deplib in\n-              -L*) func_stripname '-L' '' \""$deplib\""\n-                   func_resolve_sysroot \""$func_stripname_result\"";;\n-              *) func_resolve_sysroot \""$deplib\"" ;;\n-            esac\n-\t    if $opt_preserve_dup_deps ; then\n-\t      case \""$tmp_libs \"" in\n-\t      *\"" $func_resolve_sysroot_result \""*)\n-                func_append specialdeplibs \"" $func_resolve_sysroot_result\"" ;;\n-\t      esac\n-\t    fi\n-\t    func_append tmp_libs \"" $func_resolve_sysroot_result\""\n-\t  done\n-\n-\t  if test \""$link_all_deplibs\"" != no; then\n-\t    # Add the search paths of all dependency libraries\n-\t    for deplib in $dependency_libs; do\n-\t      path=\n-\t      case $deplib in\n-\t      -L*) path=\""$deplib\"" ;;\n-\t      *.la)\n-\t        func_resolve_sysroot \""$deplib\""\n-\t        deplib=$func_resolve_sysroot_result\n-\t        func_dirname \""$deplib\"" \""\"" \"".\""\n-\t\tdir=$func_dirname_result\n-\t\t# We need an absolute path.\n-\t\tcase $dir in\n-\t\t[\\\\/]* | [A-Za-z]:[\\\\/]*) absdir=\""$dir\"" ;;\n-\t\t*)\n-\t\t  absdir=`cd \""$dir\"" && pwd`\n-\t\t  if test -z \""$absdir\""; then\n-\t\t    func_warning \""cannot determine absolute directory name of \\`$dir'\""\n-\t\t    absdir=\""$dir\""\n-\t\t  fi\n-\t\t  ;;\n-\t\tesac\n-\t\tif $GREP \""^installed=no\"" $deplib > /dev/null; then\n-\t\tcase $host in\n-\t\t*-*-darwin*)\n-\t\t  depdepl=\n-\t\t  eval deplibrary_names=`${SED} -n -e 's/^library_names=\\(.*\\)$/\\1/p' $deplib`\n-\t\t  if test -n \""$deplibrary_names\"" ; then\n-\t\t    for tmp in $deplibrary_names ; do\n-\t\t      depdepl=$tmp\n-\t\t    done\n-\t\t    if test -f \""$absdir/$objdir/$depdepl\"" ; then\n-\t\t      depdepl=\""$absdir/$objdir/$depdepl\""\n-\t\t      darwin_install_name=`${OTOOL} -L $depdepl | awk '{if (NR == 2) {print $1;exit}}'`\n-                      if test -z \""$darwin_install_name\""; then\n-                          darwin_install_name=`${OTOOL64} -L $depdepl  | awk '{if (NR == 2) {print $1;exit}}'`\n-                      fi\n-\t\t      func_append compiler_flags \"" ${wl}-dylib_file ${wl}${darwin_install_name}:${depdepl}\""\n-\t\t      func_append linker_flags \"" -dylib_file ${darwin_install_name}:${depdepl}\""\n-\t\t      path=\n-\t\t    fi\n-\t\t  fi\n-\t\t  ;;\n-\t\t*)\n-\t\t  path=\""-L$absdir/$objdir\""\n-\t\t  ;;\n-\t\tesac\n-\t\telse\n-\t\t  eval libdir=`${SED} -n -e 's/^libdir=\\(.*\\)$/\\1/p' $deplib`\n-\t\t  test -z \""$libdir\"" && \\\n-\t\t    func_fatal_error \""\\`$deplib' is not a valid libtool archive\""\n-\t\t  test \""$absdir\"" != \""$libdir\"" && \\\n-\t\t    func_warning \""\\`$deplib' seems to be moved\""\n-\n-\t\t  path=\""-L$absdir\""\n-\t\tfi\n-\t\t;;\n-\t      esac\n-\t      case \"" $deplibs \"" in\n-\t      *\"" $path \""*) ;;\n-\t      *) deplibs=\""$path $deplibs\"" ;;\n-\t      esac\n-\t    done\n-\t  fi # link_all_deplibs != no\n-\tfi # linkmode = lib\n-      done # for deplib in $libs\n-      if test \""$pass\"" = link; then\n-\tif test \""$linkmode\"" = \""prog\""; then\n-\t  compile_deplibs=\""$new_inherited_linker_flags $compile_deplibs\""\n-\t  finalize_deplibs=\""$new_inherited_linker_flags $finalize_deplibs\""\n-\telse\n-\t  compiler_flags=\""$compiler_flags \""`$ECHO \"" $new_inherited_linker_flags\"" | $SED 's% \\([^ $]*\\).ltframework% -framework \\1%g'`\n-\tfi\n-      fi\n-      dependency_libs=\""$newdependency_libs\""\n-      if test \""$pass\"" = dlpreopen; then\n-\t# Link the dlpreopened libraries before other libraries\n-\tfor deplib in $save_deplibs; do\n-\t  deplibs=\""$deplib $deplibs\""\n-\tdone\n-      fi\n-      if test \""$pass\"" != dlopen; then\n-\tif test \""$pass\"" != conv; then\n-\t  # Make sure lib_search_path contains only unique directories.\n-\t  lib_search_path=\n-\t  for dir in $newlib_search_path; do\n-\t    case \""$lib_search_path \"" in\n-\t    *\"" $dir \""*) ;;\n-\t    *) func_append lib_search_path \"" $dir\"" ;;\n-\t    esac\n-\t  done\n-\t  newlib_search_path=\n-\tfi\n-\n-\tif test \""$linkmode,$pass\"" != \""prog,link\""; then\n-\t  vars=\""deplibs\""\n-\telse\n-\t  vars=\""compile_deplibs finalize_deplibs\""\n-\tfi\n-\tfor var in $vars dependency_libs; do\n-\t  # Add libraries to $var in reverse order\n-\t  eval tmp_libs=\\\""\\$$var\\\""\n-\t  new_libs=\n-\t  for deplib in $tmp_libs; do\n-\t    # FIXME: Pedantically, this is the right thing to do, so\n-\t    #        that some nasty dependency loop isn't accidentally\n-\t    #        broken:\n-\t    #new_libs=\""$deplib $new_libs\""\n-\t    # Pragmatically, this seems to cause very few problems in\n-\t    # practice:\n-\t    case $deplib in\n-\t    -L*) new_libs=\""$deplib $new_libs\"" ;;\n-\t    -R*) ;;\n-\t    *)\n-\t      # And here is the reason: when a library appears more\n-\t      # than once as an explicit dependence of a library, or\n-\t      # is implicitly linked in more than once by the\n-\t      # compiler, it is considered special, and multiple\n-\t      # occurrences thereof are not removed.  Compare this\n-\t      # with having the same library being listed as a\n-\t      # dependency of multiple other libraries: in this case,\n-\t      # we know (pedantically, we assume) the library does not\n-\t      # need to be listed more than once, so we keep only the\n-\t      # last copy.  This is not always right, but it is rare\n-\t      # enough that we require users that really mean to play\n-\t      # such unportable linking tricks to link the library\n-\t      # using -Wl,-lname, so that libtool does not consider it\n-\t      # for duplicate removal.\n-\t      case \"" $specialdeplibs \"" in\n-\t      *\"" $deplib \""*) new_libs=\""$deplib $new_libs\"" ;;\n-\t      *)\n-\t\tcase \"" $new_libs \"" in\n-\t\t*\"" $deplib \""*) ;;\n-\t\t*) new_libs=\""$deplib $new_libs\"" ;;\n-\t\tesac\n-\t\t;;\n-\t      esac\n-\t      ;;\n-\t    esac\n-\t  done\n-\t  tmp_libs=\n-\t  for deplib in $new_libs; do\n-\t    case $deplib in\n-\t    -L*)\n-\t      case \"" $tmp_libs \"" in\n-\t      *\"" $deplib \""*) ;;\n-\t      *) func_append tmp_libs \"" $deplib\"" ;;\n-\t      esac\n-\t      ;;\n-\t    *) func_append tmp_libs \"" $deplib\"" ;;\n-\t    esac\n-\t  done\n-\t  eval $var=\\\""$tmp_libs\\\""\n-\tdone # for var\n-      fi\n-      # Last step: remove runtime libs from dependency_libs\n-      # (they stay in deplibs)\n-      tmp_libs=\n-      for i in $dependency_libs ; do\n-\tcase \"" $predeps $postdeps $compiler_lib_search_path \"" in\n-\t*\"" $i \""*)\n-\t  i=\""\""\n-\t  ;;\n-\tesac\n-\tif test -n \""$i\"" ; then\n-\t  func_append tmp_libs \"" $i\""\n-\tfi\n-      done\n-      dependency_libs=$tmp_libs\n-    done # for pass\n-    if test \""$linkmode\"" = prog; then\n-      dlfiles=\""$newdlfiles\""\n-    fi\n-    if test \""$linkmode\"" = prog || test \""$linkmode\"" = lib; then\n-      dlprefiles=\""$newdlprefiles\""\n-    fi\n-\n-    case $linkmode in\n-    oldlib)\n-      if test -n \""$dlfiles$dlprefiles\"" || test \""$dlself\"" != no; then\n-\tfunc_warning \""\\`-dlopen' is ignored for archives\""\n-      fi\n-\n-      case \"" $deplibs\"" in\n-      *\\ -l* | *\\ -L*)\n-\tfunc_warning \""\\`-l' and \\`-L' are ignored for archives\"" ;;\n-      esac\n-\n-      test -n \""$rpath\"" && \\\n-\tfunc_warning \""\\`-rpath' is ignored for archives\""\n-\n-      test -n \""$xrpath\"" && \\\n-\tfunc_warning \""\\`-R' is ignored for archives\""\n-\n-      test -n \""$vinfo\"" && \\\n-\tfunc_warning \""\\`-version-info/-version-number' is ignored for archives\""\n-\n-      test -n \""$release\"" && \\\n-\tfunc_warning \""\\`-release' is ignored for archives\""\n-\n-      test -n \""$export_symbols$export_symbols_regex\"" && \\\n-\tfunc_warning \""\\`-export-symbols' is ignored for archives\""\n-\n-      # Now set the variables for building old libraries.\n-      build_libtool_libs=no\n-      oldlibs=\""$output\""\n-      func_append objs \""$old_deplibs\""\n-      ;;\n-\n-    lib)\n-      # Make sure we only generate libraries of the form `libNAME.la'.\n-      case $outputname in\n-      lib*)\n-\tfunc_stripname 'lib' '.la' \""$outputname\""\n-\tname=$func_stripname_result\n-\teval shared_ext=\\\""$shrext_cmds\\\""\n-\teval libname=\\\""$libname_spec\\\""\n-\t;;\n-      *)\n-\ttest \""$module\"" = no && \\\n-\t  func_fatal_help \""libtool library \\`$output' must begin with \\`lib'\""\n-\n-\tif test \""$need_lib_prefix\"" != no; then\n-\t  # Add the \""lib\"" prefix for modules if required\n-\t  func_stripname '' '.la' \""$outputname\""\n-\t  name=$func_stripname_result\n-\t  eval shared_ext=\\\""$shrext_cmds\\\""\n-\t  eval libname=\\\""$libname_spec\\\""\n-\telse\n-\t  func_stripname '' '.la' \""$outputname\""\n-\t  libname=$func_stripname_result\n-\tfi\n-\t;;\n-      esac\n-\n-      if test -n \""$objs\""; then\n-\tif test \""$deplibs_check_method\"" != pass_all; then\n-\t  func_fatal_error \""cannot build libtool library \\`$output' from non-libtool objects on this host:$objs\""\n-\telse\n-\t  echo\n-\t  $ECHO \""*** Warning: Linking the shared library $output against the non-libtool\""\n-\t  $ECHO \""*** objects $objs is not portable!\""\n-\t  func_append libobjs \"" $objs\""\n-\tfi\n-      fi\n-\n-      test \""$dlself\"" != no && \\\n-\tfunc_warning \""\\`-dlopen self' is ignored for libtool libraries\""\n-\n-      set dummy $rpath\n-      shift\n-      test \""$#\"" -gt 1 && \\\n-\tfunc_warning \""ignoring multiple \\`-rpath's for a libtool library\""\n-\n-      install_libdir=\""$1\""\n-\n-      oldlibs=\n-      if test -z \""$rpath\""; then\n-\tif test \""$build_libtool_libs\"" = yes; then\n-\t  # Building a libtool convenience library.\n-\t  # Some compilers have problems with a `.al' extension so\n-\t  # convenience libraries should have the same extension an\n-\t  # archive normally would.\n-\t  oldlibs=\""$output_objdir/$libname.$libext $oldlibs\""\n-\t  build_libtool_libs=convenience\n-\t  build_old_libs=yes\n-\tfi\n-\n-\ttest -n \""$vinfo\"" && \\\n-\t  func_warning \""\\`-version-info/-version-number' is ignored for convenience libraries\""\n-\n-\ttest -n \""$release\"" && \\\n-\t  func_warning \""\\`-release' is ignored for convenience libraries\""\n-      else\n-\n-\t# Parse the version information argument.\n-\tsave_ifs=\""$IFS\""; IFS=':'\n-\tset dummy $vinfo 0 0 0\n-\tshift\n-\tIFS=\""$save_ifs\""\n-\n-\ttest -n \""$7\"" && \\\n-\t  func_fatal_help \""too many parameters to \\`-version-info'\""\n-\n-\t# convert absolute version numbers to libtool ages\n-\t# this retains compatibility with .la files and attempts\n-\t# to make the code below a bit more comprehensible\n-\n-\tcase $vinfo_number in\n-\tyes)\n-\t  number_major=\""$1\""\n-\t  number_minor=\""$2\""\n-\t  number_revision=\""$3\""\n-\t  #\n-\t  # There are really only two kinds -- those that\n-\t  # use the current revision as the major version\n-\t  # and those that subtract age and use age as\n-\t  # a minor version.  But, then there is irix\n-\t  # which has an extra 1 added just for fun\n-\t  #\n-\t  case $version_type in\n-\t  # correct linux to gnu/linux during the next big refactor\n-\t  darwin|linux|osf|windows|none)\n-\t    func_arith $number_major + $number_minor\n-\t    current=$func_arith_result\n-\t    age=\""$number_minor\""\n-\t    revision=\""$number_revision\""\n-\t    ;;\n-\t  freebsd-aout|freebsd-elf|qnx|sunos)\n-\t    current=\""$number_major\""\n-\t    revision=\""$number_minor\""\n-\t    age=\""0\""\n-\t    ;;\n-\t  irix|nonstopux)\n-\t    func_arith $number_major + $number_minor\n-\t    current=$func_arith_result\n-\t    age=\""$number_minor\""\n-\t    revision=\""$number_minor\""\n-\t    lt_irix_increment=no\n-\t    ;;\n-\t  esac\n-\t  ;;\n-\tno)\n-\t  current=\""$1\""\n-\t  revision=\""$2\""\n-\t  age=\""$3\""\n-\t  ;;\n-\tesac\n-\n-\t# Check that each of the things are valid numbers.\n-\tcase $current in\n-\t0|[1-9]|[1-9][0-9]|[1-9][0-9][0-9]|[1-9][0-9][0-9][0-9]|[1-9][0-9][0-9][0-9][0-9]) ;;\n-\t*)\n-\t  func_error \""CURRENT \\`$current' must be a nonnegative integer\""\n-\t  func_fatal_error \""\\`$vinfo' is not valid version information\""\n-\t  ;;\n-\tesac\n-\n-\tcase $revision in\n-\t0|[1-9]|[1-9][0-9]|[1-9][0-9][0-9]|[1-9][0-9][0-9][0-9]|[1-9][0-9][0-9][0-9][0-9]) ;;\n-\t*)\n-\t  func_error \""REVISION \\`$revision' must be a nonnegative integer\""\n-\t  func_fatal_error \""\\`$vinfo' is not valid version information\""\n-\t  ;;\n-\tesac\n-\n-\tcase $age in\n-\t0|[1-9]|[1-9][0-9]|[1-9][0-9][0-9]|[1-9][0-9][0-9][0-9]|[1-9][0-9][0-9][0-9][0-9]) ;;\n-\t*)\n-\t  func_error \""AGE \\`$age' must be a nonnegative integer\""\n-\t  func_fatal_error \""\\`$vinfo' is not valid version information\""\n-\t  ;;\n-\tesac\n-\n-\tif test \""$age\"" -gt \""$current\""; then\n-\t  func_error \""AGE \\`$age' is greater than the current interface number \\`$current'\""\n-\t  func_fatal_error \""\\`$vinfo' is not valid version information\""\n-\tfi\n-\n-\t# Calculate the version variables.\n-\tmajor=\n-\tversuffix=\n-\tverstring=\n-\tcase $version_type in\n-\tnone) ;;\n-\n-\tdarwin)\n-\t  # Like Linux, but with the current version available in\n-\t  # verstring for coding it into the library header\n-\t  func_arith $current - $age\n-\t  major=.$func_arith_result\n-\t  versuffix=\""$major.$age.$revision\""\n-\t  # Darwin ld doesn't like 0 for these options...\n-\t  func_arith $current + 1\n-\t  minor_current=$func_arith_result\n-\t  xlcverstring=\""${wl}-compatibility_version ${wl}$minor_current ${wl}-current_version ${wl}$minor_current.$revision\""\n-\t  verstring=\""-compatibility_version $minor_current -current_version $minor_current.$revision\""\n-\t  ;;\n-\n-\tfreebsd-aout)\n-\t  major=\"".$current\""\n-\t  versuffix=\"".$current.$revision\"";\n-\t  ;;\n-\n-\tfreebsd-elf)\n-\t  major=\"".$current\""\n-\t  versuffix=\"".$current\""\n-\t  ;;\n-\n-\tirix | nonstopux)\n-\t  if test \""X$lt_irix_increment\"" = \""Xno\""; then\n-\t    func_arith $current - $age\n-\t  else\n-\t    func_arith $current - $age + 1\n-\t  fi\n-\t  major=$func_arith_result\n-\n-\t  case $version_type in\n-\t    nonstopux) verstring_prefix=nonstopux ;;\n-\t    *)         verstring_prefix=sgi ;;\n-\t  esac\n-\t  verstring=\""$verstring_prefix$major.$revision\""\n-\n-\t  # Add in all the interfaces that we are compatible with.\n-\t  loop=$revision\n-\t  while test \""$loop\"" -ne 0; do\n-\t    func_arith $revision - $loop\n-\t    iface=$func_arith_result\n-\t    func_arith $loop - 1\n-\t    loop=$func_arith_result\n-\t    verstring=\""$verstring_prefix$major.$iface:$verstring\""\n-\t  done\n-\n-\t  # Before this point, $major must not contain `.'.\n-\t  major=.$major\n-\t  versuffix=\""$major.$revision\""\n-\t  ;;\n-\n-\tlinux) # correct to gnu/linux during the next big refactor\n-\t  func_arith $current - $age\n-\t  major=.$func_arith_result\n-\t  versuffix=\""$major.$age.$revision\""\n-\t  ;;\n-\n-\tosf)\n-\t  func_arith $current - $age\n-\t  major=.$func_arith_result\n-\t  versuffix=\"".$current.$age.$revision\""\n-\t  verstring=\""$current.$age.$revision\""\n-\n-\t  # Add in all the interfaces that we are compatible with.\n-\t  loop=$age\n-\t  while test \""$loop\"" -ne 0; do\n-\t    func_arith $current - $loop\n-\t    iface=$func_arith_result\n-\t    func_arith $loop - 1\n-\t    loop=$func_arith_result\n-\t    verstring=\""$verstring:${iface}.0\""\n-\t  done\n-\n-\t  # Make executables depend on our current version.\n-\t  func_append verstring \"":${current}.0\""\n-\t  ;;\n-\n-\tqnx)\n-\t  major=\"".$current\""\n-\t  versuffix=\"".$current\""\n-\t  ;;\n-\n-\tsunos)\n-\t  major=\"".$current\""\n-\t  versuffix=\"".$current.$revision\""\n-\t  ;;\n-\n-\twindows)\n-\t  # Use '-' rather than '.', since we only want one\n-\t  # extension on DOS 8.3 filesystems.\n-\t  func_arith $current - $age\n-\t  major=$func_arith_result\n-\t  versuffix=\""-$major\""\n-\t  ;;\n-\n-\t*)\n-\t  func_fatal_configuration \""unknown library version type \\`$version_type'\""\n-\t  ;;\n-\tesac\n-\n-\t# Clear the version info if we defaulted, and they specified a release.\n-\tif test -z \""$vinfo\"" && test -n \""$release\""; then\n-\t  major=\n-\t  case $version_type in\n-\t  darwin)\n-\t    # we can't check for \""0.0\"" in archive_cmds due to quoting\n-\t    # problems, so we reset it completely\n-\t    verstring=\n-\t    ;;\n-\t  *)\n-\t    verstring=\""0.0\""\n-\t    ;;\n-\t  esac\n-\t  if test \""$need_version\"" = no; then\n-\t    versuffix=\n-\t  else\n-\t    versuffix=\"".0.0\""\n-\t  fi\n-\tfi\n-\n-\t# Remove version info from name if versioning should be avoided\n-\tif test \""$avoid_version\"" = yes && test \""$need_version\"" = no; then\n-\t  major=\n-\t  versuffix=\n-\t  verstring=\""\""\n-\tfi\n-\n-\t# Check to see if the archive will have undefined symbols.\n-\tif test \""$allow_undefined\"" = yes; then\n-\t  if test \""$allow_undefined_flag\"" = unsupported; then\n-\t    func_warning \""undefined symbols not allowed in $host shared libraries\""\n-\t    build_libtool_libs=no\n-\t    build_old_libs=yes\n-\t  fi\n-\telse\n-\t  # Don't allow undefined symbols.\n-\t  allow_undefined_flag=\""$no_undefined_flag\""\n-\tfi\n-\n-      fi\n-\n-      func_generate_dlsyms \""$libname\"" \""$libname\"" \""yes\""\n-      func_append libobjs \"" $symfileobj\""\n-      test \""X$libobjs\"" = \""X \"" && libobjs=\n-\n-      if test \""$opt_mode\"" != relink; then\n-\t# Remove our outputs, but don't remove object files since they\n-\t# may have been created when compiling PIC objects.\n-\tremovelist=\n-\ttempremovelist=`$ECHO \""$output_objdir/*\""`\n-\tfor p in $tempremovelist; do\n-\t  case $p in\n-\t    *.$objext | *.gcno)\n-\t       ;;\n-\t    $output_objdir/$outputname | $output_objdir/$libname.* | $output_objdir/${libname}${release}.*)\n-\t       if test \""X$precious_files_regex\"" != \""X\""; then\n-\t\t if $ECHO \""$p\"" | $EGREP -e \""$precious_files_regex\"" >/dev/null 2>&1\n-\t\t then\n-\t\t   continue\n-\t\t fi\n-\t       fi\n-\t       func_append removelist \"" $p\""\n-\t       ;;\n-\t    *) ;;\n-\t  esac\n-\tdone\n-\ttest -n \""$removelist\"" && \\\n-\t  func_show_eval \""${RM}r \\$removelist\""\n-      fi\n-\n-      # Now set the variables for building old libraries.\n-      if test \""$build_old_libs\"" = yes && test \""$build_libtool_libs\"" != convenience ; then\n-\tfunc_append oldlibs \"" $output_objdir/$libname.$libext\""\n-\n-\t# Transform .lo files to .o files.\n-\toldobjs=\""$objs \""`$ECHO \""$libobjs\"" | $SP2NL | $SED \""/\\.${libext}$/d; $lo2o\"" | $NL2SP`\n-      fi\n-\n-      # Eliminate all temporary directories.\n-      #for path in $notinst_path; do\n-      #\tlib_search_path=`$ECHO \""$lib_search_path \"" | $SED \""s% $path % %g\""`\n-      #\tdeplibs=`$ECHO \""$deplibs \"" | $SED \""s% -L$path % %g\""`\n-      #\tdependency_libs=`$ECHO \""$dependency_libs \"" | $SED \""s% -L$path % %g\""`\n-      #done\n-\n-      if test -n \""$xrpath\""; then\n-\t# If the user specified any rpath flags, then add them.\n-\ttemp_xrpath=\n-\tfor libdir in $xrpath; do\n-\t  func_replace_sysroot \""$libdir\""\n-\t  func_append temp_xrpath \"" -R$func_replace_sysroot_result\""\n-\t  case \""$finalize_rpath \"" in\n-\t  *\"" $libdir \""*) ;;\n-\t  *) func_append finalize_rpath \"" $libdir\"" ;;\n-\t  esac\n-\tdone\n-\tif test \""$hardcode_into_libs\"" != yes || test \""$build_old_libs\"" = yes; then\n-\t  dependency_libs=\""$temp_xrpath $dependency_libs\""\n-\tfi\n-      fi\n-\n-      # Make sure dlfiles contains only unique files that won't be dlpreopened\n-      old_dlfiles=\""$dlfiles\""\n-      dlfiles=\n-      for lib in $old_dlfiles; do\n-\tcase \"" $dlprefiles $dlfiles \"" in\n-\t*\"" $lib \""*) ;;\n-\t*) func_append dlfiles \"" $lib\"" ;;\n-\tesac\n-      done\n-\n-      # Make sure dlprefiles contains only unique files\n-      old_dlprefiles=\""$dlprefiles\""\n-      dlprefiles=\n-      for lib in $old_dlprefiles; do\n-\tcase \""$dlprefiles \"" in\n-\t*\"" $lib \""*) ;;\n-\t*) func_append dlprefiles \"" $lib\"" ;;\n-\tesac\n-      done\n-\n-      if test \""$build_libtool_libs\"" = yes; then\n-\tif test -n \""$rpath\""; then\n-\t  case $host in\n-\t  *-*-cygwin* | *-*-mingw* | *-*-pw32* | *-*-os2* | *-*-beos* | *-cegcc* | *-*-haiku*)\n-\t    # these systems don't actually have a c library (as such)!\n-\t    ;;\n-\t  *-*-rhapsody* | *-*-darwin1.[012])\n-\t    # Rhapsody C library is in the System framework\n-\t    func_append deplibs \"" System.ltframework\""\n-\t    ;;\n-\t  *-*-netbsd*)\n-\t    # Don't link with libc until the a.out ld.so is fixed.\n-\t    ;;\n-\t  *-*-openbsd* | *-*-freebsd* | *-*-dragonfly*)\n-\t    # Do not include libc due to us having libc/libc_r.\n-\t    ;;\n-\t  *-*-sco3.2v5* | *-*-sco5v6*)\n-\t    # Causes problems with __ctype\n-\t    ;;\n-\t  *-*-sysv4.2uw2* | *-*-sysv5* | *-*-unixware* | *-*-OpenUNIX*)\n-\t    # Compiler inserts libc in the correct place for threads to work\n-\t    ;;\n-\t  *)\n-\t    # Add libc to deplibs on all other systems if necessary.\n-\t    if test \""$build_libtool_need_lc\"" = \""yes\""; then\n-\t      func_append deplibs \"" -lc\""\n-\t    fi\n-\t    ;;\n-\t  esac\n-\tfi\n-\n-\t# Transform deplibs into only deplibs that can be linked in shared.\n-\tname_save=$name\n-\tlibname_save=$libname\n-\trelease_save=$release\n-\tversuffix_save=$versuffix\n-\tmajor_save=$major\n-\t# I'm not sure if I'm treating the release correctly.  I think\n-\t# release should show up in the -l (ie -lgmp5) so we don't want to\n-\t# add it in twice.  Is that correct?\n-\trelease=\""\""\n-\tversuffix=\""\""\n-\tmajor=\""\""\n-\tnewdeplibs=\n-\tdroppeddeps=no\n-\tcase $deplibs_check_method in\n-\tpass_all)\n-\t  # Don't check for shared/static.  Everything works.\n-\t  # This might be a little naive.  We might want to check\n-\t  # whether the library exists or not.  But this is on\n-\t  # osf3 & osf4 and I'm not really sure... Just\n-\t  # implementing what was already the behavior.\n-\t  newdeplibs=$deplibs\n-\t  ;;\n-\ttest_compile)\n-\t  # This code stresses the \""libraries are programs\"" paradigm to its\n-\t  # limits. Maybe even breaks it.  We compile a program, linking it\n-\t  # against the deplibs as a proxy for the library.  Then we can check\n-\t  # whether they linked in statically or dynamically with ldd.\n-\t  $opt_dry_run || $RM conftest.c\n-\t  cat > conftest.c <<EOF\n-\t  int main() { return 0; }\n-EOF\n-\t  $opt_dry_run || $RM conftest\n-\t  if $LTCC $LTCFLAGS -o conftest conftest.c $deplibs; then\n-\t    ldd_output=`ldd conftest`\n-\t    for i in $deplibs; do\n-\t      case $i in\n-\t      -l*)\n-\t\tfunc_stripname -l '' \""$i\""\n-\t\tname=$func_stripname_result\n-\t\tif test \""X$allow_libtool_libs_with_static_runtimes\"" = \""Xyes\"" ; then\n-\t\t  case \"" $predeps $postdeps \"" in\n-\t\t  *\"" $i \""*)\n-\t\t    func_append newdeplibs \"" $i\""\n-\t\t    i=\""\""\n-\t\t    ;;\n-\t\t  esac\n-\t\tfi\n-\t\tif test -n \""$i\"" ; then\n-\t\t  libname=`eval \""\\\\$ECHO \\\""$libname_spec\\\""\""`\n-\t\t  deplib_matches=`eval \""\\\\$ECHO \\\""$library_names_spec\\\""\""`\n-\t\t  set dummy $deplib_matches; shift\n-\t\t  deplib_match=$1\n-\t\t  if test `expr \""$ldd_output\"" : \"".*$deplib_match\""` -ne 0 ; then\n-\t\t    func_append newdeplibs \"" $i\""\n-\t\t  else\n-\t\t    droppeddeps=yes\n-\t\t    echo\n-\t\t    $ECHO \""*** Warning: dynamic linker does not accept needed library $i.\""\n-\t\t    echo \""*** I have the capability to make that library automatically link in when\""\n-\t\t    echo \""*** you link to this library.  But I can only do this if you have a\""\n-\t\t    echo \""*** shared version of the library, which I believe you do not have\""\n-\t\t    echo \""*** because a test_compile did reveal that the linker did not use it for\""\n-\t\t    echo \""*** its dynamic dependency list that programs get resolved with at runtime.\""\n-\t\t  fi\n-\t\tfi\n-\t\t;;\n-\t      *)\n-\t\tfunc_append newdeplibs \"" $i\""\n-\t\t;;\n-\t      esac\n-\t    done\n-\t  else\n-\t    # Error occurred in the first compile.  Let's try to salvage\n-\t    # the situation: Compile a separate program for each library.\n-\t    for i in $deplibs; do\n-\t      case $i in\n-\t      -l*)\n-\t\tfunc_stripname -l '' \""$i\""\n-\t\tname=$func_stripname_result\n-\t\t$opt_dry_run || $RM conftest\n-\t\tif $LTCC $LTCFLAGS -o conftest conftest.c $i; then\n-\t\t  ldd_output=`ldd conftest`\n-\t\t  if test \""X$allow_libtool_libs_with_static_runtimes\"" = \""Xyes\"" ; then\n-\t\t    case \"" $predeps $postdeps \"" in\n-\t\t    *\"" $i \""*)\n-\t\t      func_append newdeplibs \"" $i\""\n-\t\t      i=\""\""\n-\t\t      ;;\n-\t\t    esac\n-\t\t  fi\n-\t\t  if test -n \""$i\"" ; then\n-\t\t    libname=`eval \""\\\\$ECHO \\\""$libname_spec\\\""\""`\n-\t\t    deplib_matches=`eval \""\\\\$ECHO \\\""$library_names_spec\\\""\""`\n-\t\t    set dummy $deplib_matches; shift\n-\t\t    deplib_match=$1\n-\t\t    if test `expr \""$ldd_output\"" : \"".*$deplib_match\""` -ne 0 ; then\n-\t\t      func_append newdeplibs \"" $i\""\n-\t\t    else\n-\t\t      droppeddeps=yes\n-\t\t      echo\n-\t\t      $ECHO \""*** Warning: dynamic linker does not accept needed library $i.\""\n-\t\t      echo \""*** I have the capability to make that library automatically link in when\""\n-\t\t      echo \""*** you link to this library.  But I can only do this if you have a\""\n-\t\t      echo \""*** shared version of the library, which you do not appear to have\""\n-\t\t      echo \""*** because a test_compile did reveal that the linker did not use this one\""\n-\t\t      echo \""*** as a dynamic dependency that programs can get resolved with at runtime.\""\n-\t\t    fi\n-\t\t  fi\n-\t\telse\n-\t\t  droppeddeps=yes\n-\t\t  echo\n-\t\t  $ECHO \""*** Warning!  Library $i is needed by this library but I was not able to\""\n-\t\t  echo \""*** make it link in!  You will probably need to install it or some\""\n-\t\t  echo \""*** library that it depends on before this library will be fully\""\n-\t\t  echo \""*** functional.  Installing it before continuing would be even better.\""\n-\t\tfi\n-\t\t;;\n-\t      *)\n-\t\tfunc_append newdeplibs \"" $i\""\n-\t\t;;\n-\t      esac\n-\t    done\n-\t  fi\n-\t  ;;\n-\tfile_magic*)\n-\t  set dummy $deplibs_check_method; shift\n-\t  file_magic_regex=`expr \""$deplibs_check_method\"" : \""$1 \\(.*\\)\""`\n-\t  for a_deplib in $deplibs; do\n-\t    case $a_deplib in\n-\t    -l*)\n-\t      func_stripname -l '' \""$a_deplib\""\n-\t      name=$func_stripname_result\n-\t      if test \""X$allow_libtool_libs_with_static_runtimes\"" = \""Xyes\"" ; then\n-\t\tcase \"" $predeps $postdeps \"" in\n-\t\t*\"" $a_deplib \""*)\n-\t\t  func_append newdeplibs \"" $a_deplib\""\n-\t\t  a_deplib=\""\""\n-\t\t  ;;\n-\t\tesac\n-\t      fi\n-\t      if test -n \""$a_deplib\"" ; then\n-\t\tlibname=`eval \""\\\\$ECHO \\\""$libname_spec\\\""\""`\n-\t\tif test -n \""$file_magic_glob\""; then\n-\t\t  libnameglob=`func_echo_all \""$libname\"" | $SED -e $file_magic_glob`\n-\t\telse\n-\t\t  libnameglob=$libname\n-\t\tfi\n-\t\ttest \""$want_nocaseglob\"" = yes && nocaseglob=`shopt -p nocaseglob`\n-\t\tfor i in $lib_search_path $sys_lib_search_path $shlib_search_path; do\n-\t\t  if test \""$want_nocaseglob\"" = yes; then\n-\t\t    shopt -s nocaseglob\n-\t\t    potential_libs=`ls $i/$libnameglob[.-]* 2>/dev/null`\n-\t\t    $nocaseglob\n-\t\t  else\n-\t\t    potential_libs=`ls $i/$libnameglob[.-]* 2>/dev/null`\n-\t\t  fi\n-\t\t  for potent_lib in $potential_libs; do\n-\t\t      # Follow soft links.\n-\t\t      if ls -lLd \""$potent_lib\"" 2>/dev/null |\n-\t\t\t $GREP \"" -> \"" >/dev/null; then\n-\t\t\tcontinue\n-\t\t      fi\n-\t\t      # The statement above tries to avoid entering an\n-\t\t      # endless loop below, in case of cyclic links.\n-\t\t      # We might still enter an endless loop, since a link\n-\t\t      # loop can be closed while we follow links,\n-\t\t      # but so what?\n-\t\t      potlib=\""$potent_lib\""\n-\t\t      while test -h \""$potlib\"" 2>/dev/null; do\n-\t\t\tpotliblink=`ls -ld $potlib | ${SED} 's/.* -> //'`\n-\t\t\tcase $potliblink in\n-\t\t\t[\\\\/]* | [A-Za-z]:[\\\\/]*) potlib=\""$potliblink\"";;\n-\t\t\t*) potlib=`$ECHO \""$potlib\"" | $SED 's,[^/]*$,,'`\""$potliblink\"";;\n-\t\t\tesac\n-\t\t      done\n-\t\t      if eval $file_magic_cmd \\\""\\$potlib\\\"" 2>/dev/null |\n-\t\t\t $SED -e 10q |\n-\t\t\t $EGREP \""$file_magic_regex\"" > /dev/null; then\n-\t\t\tfunc_append newdeplibs \"" $a_deplib\""\n-\t\t\ta_deplib=\""\""\n-\t\t\tbreak 2\n-\t\t      fi\n-\t\t  done\n-\t\tdone\n-\t      fi\n-\t      if test -n \""$a_deplib\"" ; then\n-\t\tdroppeddeps=yes\n-\t\techo\n-\t\t$ECHO \""*** Warning: linker path does not have real file for library $a_deplib.\""\n-\t\techo \""*** I have the capability to make that library automatically link in when\""\n-\t\techo \""*** you link to this library.  But I can only do this if you have a\""\n-\t\techo \""*** shared version of the library, which you do not appear to have\""\n-\t\techo \""*** because I did check the linker path looking for a file starting\""\n-\t\tif test -z \""$potlib\"" ; then\n-\t\t  $ECHO \""*** with $libname but no candidates were found. (...for file magic test)\""\n-\t\telse\n-\t\t  $ECHO \""*** with $libname and none of the candidates passed a file format test\""\n-\t\t  $ECHO \""*** using a file magic. Last file checked: $potlib\""\n-\t\tfi\n-\t      fi\n-\t      ;;\n-\t    *)\n-\t      # Add a -L argument.\n-\t      func_append newdeplibs \"" $a_deplib\""\n-\t      ;;\n-\t    esac\n-\t  done # Gone through all deplibs.\n-\t  ;;\n-\tmatch_pattern*)\n-\t  set dummy $deplibs_check_method; shift\n-\t  match_pattern_regex=`expr \""$deplibs_check_method\"" : \""$1 \\(.*\\)\""`\n-\t  for a_deplib in $deplibs; do\n-\t    case $a_deplib in\n-\t    -l*)\n-\t      func_stripname -l '' \""$a_deplib\""\n-\t      name=$func_stripname_result\n-\t      if test \""X$allow_libtool_libs_with_static_runtimes\"" = \""Xyes\"" ; then\n-\t\tcase \"" $predeps $postdeps \"" in\n-\t\t*\"" $a_deplib \""*)\n-\t\t  func_append newdeplibs \"" $a_deplib\""\n-\t\t  a_deplib=\""\""\n-\t\t  ;;\n-\t\tesac\n-\t      fi\n-\t      if test -n \""$a_deplib\"" ; then\n-\t\tlibname=`eval \""\\\\$ECHO \\\""$libname_spec\\\""\""`\n-\t\tfor i in $lib_search_path $sys_lib_search_path $shlib_search_path; do\n-\t\t  potential_libs=`ls $i/$libname[.-]* 2>/dev/null`\n-\t\t  for potent_lib in $potential_libs; do\n-\t\t    potlib=\""$potent_lib\"" # see symlink-check above in file_magic test\n-\t\t    if eval \""\\$ECHO \\\""$potent_lib\\\""\"" 2>/dev/null | $SED 10q | \\\n-\t\t       $EGREP \""$match_pattern_regex\"" > /dev/null; then\n-\t\t      func_append newdeplibs \"" $a_deplib\""\n-\t\t      a_deplib=\""\""\n-\t\t      break 2\n-\t\t    fi\n-\t\t  done\n-\t\tdone\n-\t      fi\n-\t      if test -n \""$a_deplib\"" ; then\n-\t\tdroppeddeps=yes\n-\t\techo\n-\t\t$ECHO \""*** Warning: linker path does not have real file for library $a_deplib.\""\n-\t\techo \""*** I have the capability to make that library automatically link in when\""\n-\t\techo \""*** you link to this library.  But I can only do this if you have a\""\n-\t\techo \""*** shared version of the library, which you do not appear to have\""\n-\t\techo \""*** because I did check the linker path looking for a file starting\""\n-\t\tif test -z \""$potlib\"" ; then\n-\t\t  $ECHO \""*** with $libname but no candidates were found. (...for regex pattern test)\""\n-\t\telse\n-\t\t  $ECHO \""*** with $libname and none of the candidates passed a file format test\""\n-\t\t  $ECHO \""*** using a regex pattern. Last file checked: $potlib\""\n-\t\tfi\n-\t      fi\n-\t      ;;\n-\t    *)\n-\t      # Add a -L argument.\n-\t      func_append newdeplibs \"" $a_deplib\""\n-\t      ;;\n-\t    esac\n-\t  done # Gone through all deplibs.\n-\t  ;;\n-\tnone | unknown | *)\n-\t  newdeplibs=\""\""\n-\t  tmp_deplibs=`$ECHO \"" $deplibs\"" | $SED 's/ -lc$//; s/ -[LR][^ ]*//g'`\n-\t  if test \""X$allow_libtool_libs_with_static_runtimes\"" = \""Xyes\"" ; then\n-\t    for i in $predeps $postdeps ; do\n-\t      # can't use Xsed below, because $i might contain '/'\n-\t      tmp_deplibs=`$ECHO \"" $tmp_deplibs\"" | $SED \""s,$i,,\""`\n-\t    done\n-\t  fi\n-\t  case $tmp_deplibs in\n-\t  *[!\\\t\\ ]*)\n-\t    echo\n-\t    if test \""X$deplibs_check_method\"" = \""Xnone\""; then\n-\t      echo \""*** Warning: inter-library dependencies are not supported in this platform.\""\n-\t    else\n-\t      echo \""*** Warning: inter-library dependencies are not known to be supported.\""\n-\t    fi\n-\t    echo \""*** All declared inter-library dependencies are being dropped.\""\n-\t    droppeddeps=yes\n-\t    ;;\n-\t  esac\n-\t  ;;\n-\tesac\n-\tversuffix=$versuffix_save\n-\tmajor=$major_save\n-\trelease=$release_save\n-\tlibname=$libname_save\n-\tname=$name_save\n-\n-\tcase $host in\n-\t*-*-rhapsody* | *-*-darwin1.[012])\n-\t  # On Rhapsody replace the C library with the System framework\n-\t  newdeplibs=`$ECHO \"" $newdeplibs\"" | $SED 's/ -lc / System.ltframework /'`\n-\t  ;;\n-\tesac\n-\n-\tif test \""$droppeddeps\"" = yes; then\n-\t  if test \""$module\"" = yes; then\n-\t    echo\n-\t    echo \""*** Warning: libtool could not satisfy all declared inter-library\""\n-\t    $ECHO \""*** dependencies of module $libname.  Therefore, libtool will create\""\n-\t    echo \""*** a static module, that should work as long as the dlopening\""\n-\t    echo \""*** application is linked with the -dlopen flag.\""\n-\t    if test -z \""$global_symbol_pipe\""; then\n-\t      echo\n-\t      echo \""*** However, this would only work if libtool was able to extract symbol\""\n-\t      echo \""*** lists from a program, using \\`nm' or equivalent, but libtool could\""\n-\t      echo \""*** not find such a program.  So, this module is probably useless.\""\n-\t      echo \""*** \\`nm' from GNU binutils and a full rebuild may help.\""\n-\t    fi\n-\t    if test \""$build_old_libs\"" = no; then\n-\t      oldlibs=\""$output_objdir/$libname.$libext\""\n-\t      build_libtool_libs=module\n-\t      build_old_libs=yes\n-\t    else\n-\t      build_libtool_libs=no\n-\t    fi\n-\t  else\n-\t    echo \""*** The inter-library dependencies that have been dropped here will be\""\n-\t    echo \""*** automatically added whenever a program is linked with this library\""\n-\t    echo \""*** or is declared to -dlopen it.\""\n-\n-\t    if test \""$allow_undefined\"" = no; then\n-\t      echo\n-\t      echo \""*** Since this library must not contain undefined symbols,\""\n-\t      echo \""*** because either the platform does not support them or\""\n-\t      echo \""*** it was explicitly requested with -no-undefined,\""\n-\t      echo \""*** libtool will only create a static version of it.\""\n-\t      if test \""$build_old_libs\"" = no; then\n-\t\toldlibs=\""$output_objdir/$libname.$libext\""\n-\t\tbuild_libtool_libs=module\n-\t\tbuild_old_libs=yes\n-\t      else\n-\t\tbuild_libtool_libs=no\n-\t      fi\n-\t    fi\n-\t  fi\n-\tfi\n-\t# Done checking deplibs!\n-\tdeplibs=$newdeplibs\n-      fi\n-      # Time to change all our \""foo.ltframework\"" stuff back to \""-framework foo\""\n-      case $host in\n-\t*-*-darwin*)\n-\t  newdeplibs=`$ECHO \"" $newdeplibs\"" | $SED 's% \\([^ $]*\\).ltframework% -framework \\1%g'`\n-\t  new_inherited_linker_flags=`$ECHO \"" $new_inherited_linker_flags\"" | $SED 's% \\([^ $]*\\).ltframework% -framework \\1%g'`\n-\t  deplibs=`$ECHO \"" $deplibs\"" | $SED 's% \\([^ $]*\\).ltframework% -framework \\1%g'`\n-\t  ;;\n-      esac\n-\n-      # move library search paths that coincide with paths to not yet\n-      # installed libraries to the beginning of the library search list\n-      new_libs=\n-      for path in $notinst_path; do\n-\tcase \"" $new_libs \"" in\n-\t*\"" -L$path/$objdir \""*) ;;\n-\t*)\n-\t  case \"" $deplibs \"" in\n-\t  *\"" -L$path/$objdir \""*)\n-\t    func_append new_libs \"" -L$path/$objdir\"" ;;\n-\t  esac\n-\t  ;;\n-\tesac\n-      done\n-      for deplib in $deplibs; do\n-\tcase $deplib in\n-\t-L*)\n-\t  case \"" $new_libs \"" in\n-\t  *\"" $deplib \""*) ;;\n-\t  *) func_append new_libs \"" $deplib\"" ;;\n-\t  esac\n-\t  ;;\n-\t*) func_append new_libs \"" $deplib\"" ;;\n-\tesac\n-      done\n-      deplibs=\""$new_libs\""\n-\n-      # All the library-specific variables (install_libdir is set above).\n-      library_names=\n-      old_library=\n-      dlname=\n-\n-      # Test again, we may have decided not to build it any more\n-      if test \""$build_libtool_libs\"" = yes; then\n-\t# Remove ${wl} instances when linking with ld.\n-\t# FIXME: should test the right _cmds variable.\n-\tcase $archive_cmds in\n-\t  *\\$LD\\ *) wl= ;;\n-        esac\n-\tif test \""$hardcode_into_libs\"" = yes; then\n-\t  # Hardcode the library paths\n-\t  hardcode_libdirs=\n-\t  dep_rpath=\n-\t  rpath=\""$finalize_rpath\""\n-\t  test \""$opt_mode\"" != relink && rpath=\""$compile_rpath$rpath\""\n-\t  for libdir in $rpath; do\n-\t    if test -n \""$hardcode_libdir_flag_spec\""; then\n-\t      if test -n \""$hardcode_libdir_separator\""; then\n-\t\tfunc_replace_sysroot \""$libdir\""\n-\t\tlibdir=$func_replace_sysroot_result\n-\t\tif test -z \""$hardcode_libdirs\""; then\n-\t\t  hardcode_libdirs=\""$libdir\""\n-\t\telse\n-\t\t  # Just accumulate the unique libdirs.\n-\t\t  case $hardcode_libdir_separator$hardcode_libdirs$hardcode_libdir_separator in\n-\t\t  *\""$hardcode_libdir_separator$libdir$hardcode_libdir_separator\""*)\n-\t\t    ;;\n-\t\t  *)\n-\t\t    func_append hardcode_libdirs \""$hardcode_libdir_separator$libdir\""\n-\t\t    ;;\n-\t\t  esac\n-\t\tfi\n-\t      else\n-\t\teval flag=\\\""$hardcode_libdir_flag_spec\\\""\n-\t\tfunc_append dep_rpath \"" $flag\""\n-\t      fi\n-\t    elif test -n \""$runpath_var\""; then\n-\t      case \""$perm_rpath \"" in\n-\t      *\"" $libdir \""*) ;;\n-\t      *) func_append perm_rpath \"" $libdir\"" ;;\n-\t      esac\n-\t    fi\n-\t  done\n-\t  # Substitute the hardcoded libdirs into the rpath.\n-\t  if test -n \""$hardcode_libdir_separator\"" &&\n-\t     test -n \""$hardcode_libdirs\""; then\n-\t    libdir=\""$hardcode_libdirs\""\n-\t    eval \""dep_rpath=\\\""$hardcode_libdir_flag_spec\\\""\""\n-\t  fi\n-\t  if test -n \""$runpath_var\"" && test -n \""$perm_rpath\""; then\n-\t    # We should set the runpath_var.\n-\t    rpath=\n-\t    for dir in $perm_rpath; do\n-\t      func_append rpath \""$dir:\""\n-\t    done\n-\t    eval \""$runpath_var='$rpath\\$$runpath_var'; export $runpath_var\""\n-\t  fi\n-\t  test -n \""$dep_rpath\"" && deplibs=\""$dep_rpath $deplibs\""\n-\tfi\n-\n-\tshlibpath=\""$finalize_shlibpath\""\n-\ttest \""$opt_mode\"" != relink && shlibpath=\""$compile_shlibpath$shlibpath\""\n-\tif test -n \""$shlibpath\""; then\n-\t  eval \""$shlibpath_var='$shlibpath\\$$shlibpath_var'; export $shlibpath_var\""\n-\tfi\n-\n-\t# Get the real and link names of the library.\n-\teval shared_ext=\\\""$shrext_cmds\\\""\n-\teval library_names=\\\""$library_names_spec\\\""\n-\tset dummy $library_names\n-\tshift\n-\trealname=\""$1\""\n-\tshift\n-\n-\tif test -n \""$soname_spec\""; then\n-\t  eval soname=\\\""$soname_spec\\\""\n-\telse\n-\t  soname=\""$realname\""\n-\tfi\n-\tif test -z \""$dlname\""; then\n-\t  dlname=$soname\n-\tfi\n-\n-\tlib=\""$output_objdir/$realname\""\n-\tlinknames=\n-\tfor link\n-\tdo\n-\t  func_append linknames \"" $link\""\n-\tdone\n-\n-\t# Use standard objects if they are pic\n-\ttest -z \""$pic_flag\"" && libobjs=`$ECHO \""$libobjs\"" | $SP2NL | $SED \""$lo2o\"" | $NL2SP`\n-\ttest \""X$libobjs\"" = \""X \"" && libobjs=\n-\n-\tdelfiles=\n-\tif test -n \""$export_symbols\"" && test -n \""$include_expsyms\""; then\n-\t  $opt_dry_run || cp \""$export_symbols\"" \""$output_objdir/$libname.uexp\""\n-\t  export_symbols=\""$output_objdir/$libname.uexp\""\n-\t  func_append delfiles \"" $export_symbols\""\n-\tfi\n-\n-\torig_export_symbols=\n-\tcase $host_os in\n-\tcygwin* | mingw* | cegcc*)\n-\t  if test -n \""$export_symbols\"" && test -z \""$export_symbols_regex\""; then\n-\t    # exporting using user supplied symfile\n-\t    if test \""x`$SED 1q $export_symbols`\"" != xEXPORTS; then\n-\t      # and it's NOT already a .def file. Must figure out\n-\t      # which of the given symbols are data symbols and tag\n-\t      # them as such. So, trigger use of export_symbols_cmds.\n-\t      # export_symbols gets reassigned inside the \""prepare\n-\t      # the list of exported symbols\"" if statement, so the\n-\t      # include_expsyms logic still works.\n-\t      orig_export_symbols=\""$export_symbols\""\n-\t      export_symbols=\n-\t      always_export_symbols=yes\n-\t    fi\n-\t  fi\n-\t  ;;\n-\tesac\n-\n-\t# Prepare the list of exported symbols\n-\tif test -z \""$export_symbols\""; then\n-\t  if test \""$always_export_symbols\"" = yes || test -n \""$export_symbols_regex\""; then\n-\t    func_verbose \""generating symbol list for \\`$libname.la'\""\n-\t    export_symbols=\""$output_objdir/$libname.exp\""\n-\t    $opt_dry_run || $RM $export_symbols\n-\t    cmds=$export_symbols_cmds\n-\t    save_ifs=\""$IFS\""; IFS='~'\n-\t    for cmd1 in $cmds; do\n-\t      IFS=\""$save_ifs\""\n-\t      # Take the normal branch if the nm_file_list_spec branch\n-\t      # doesn't work or if tool conversion is not needed.\n-\t      case $nm_file_list_spec~$to_tool_file_cmd in\n-\t\t*~func_convert_file_noop | *~func_convert_file_msys_to_w32 | ~*)\n-\t\t  try_normal_branch=yes\n-\t\t  eval cmd=\\\""$cmd1\\\""\n-\t\t  func_len \"" $cmd\""\n-\t\t  len=$func_len_result\n-\t\t  ;;\n-\t\t*)\n-\t\t  try_normal_branch=no\n-\t\t  ;;\n-\t      esac\n-\t      if test \""$try_normal_branch\"" = yes \\\n-\t\t && { test \""$len\"" -lt \""$max_cmd_len\"" \\\n-\t\t      || test \""$max_cmd_len\"" -le -1; }\n-\t      then\n-\t\tfunc_show_eval \""$cmd\"" 'exit $?'\n-\t\tskipped_export=false\n-\t      elif test -n \""$nm_file_list_spec\""; then\n-\t\tfunc_basename \""$output\""\n-\t\toutput_la=$func_basename_result\n-\t\tsave_libobjs=$libobjs\n-\t\tsave_output=$output\n-\t\toutput=${output_objdir}/${output_la}.nm\n-\t\tfunc_to_tool_file \""$output\""\n-\t\tlibobjs=$nm_file_list_spec$func_to_tool_file_result\n-\t\tfunc_append delfiles \"" $output\""\n-\t\tfunc_verbose \""creating $NM input file list: $output\""\n-\t\tfor obj in $save_libobjs; do\n-\t\t  func_to_tool_file \""$obj\""\n-\t\t  $ECHO \""$func_to_tool_file_result\""\n-\t\tdone > \""$output\""\n-\t\teval cmd=\\\""$cmd1\\\""\n-\t\tfunc_show_eval \""$cmd\"" 'exit $?'\n-\t\toutput=$save_output\n-\t\tlibobjs=$save_libobjs\n-\t\tskipped_export=false\n-\t      else\n-\t\t# The command line is too long to execute in one step.\n-\t\tfunc_verbose \""using reloadable object file for export list...\""\n-\t\tskipped_export=:\n-\t\t# Break out early, otherwise skipped_export may be\n-\t\t# set to false by a later but shorter cmd.\n-\t\tbreak\n-\t      fi\n-\t    done\n-\t    IFS=\""$save_ifs\""\n-\t    if test -n \""$export_symbols_regex\"" && test \""X$skipped_export\"" != \""X:\""; then\n-\t      func_show_eval '$EGREP -e \""$export_symbols_regex\"" \""$export_symbols\"" > \""${export_symbols}T\""'\n-\t      func_show_eval '$MV \""${export_symbols}T\"" \""$export_symbols\""'\n-\t    fi\n-\t  fi\n-\tfi\n-\n-\tif test -n \""$export_symbols\"" && test -n \""$include_expsyms\""; then\n-\t  tmp_export_symbols=\""$export_symbols\""\n-\t  test -n \""$orig_export_symbols\"" && tmp_export_symbols=\""$orig_export_symbols\""\n-\t  $opt_dry_run || eval '$ECHO \""$include_expsyms\"" | $SP2NL >> \""$tmp_export_symbols\""'\n-\tfi\n-\n-\tif test \""X$skipped_export\"" != \""X:\"" && test -n \""$orig_export_symbols\""; then\n-\t  # The given exports_symbols file has to be filtered, so filter it.\n-\t  func_verbose \""filter symbol list for \\`$libname.la' to tag DATA exports\""\n-\t  # FIXME: $output_objdir/$libname.filter potentially contains lots of\n-\t  # 's' commands which not all seds can handle. GNU sed should be fine\n-\t  # though. Also, the filter scales superlinearly with the number of\n-\t  # global variables. join(1) would be nice here, but unfortunately\n-\t  # isn't a blessed tool.\n-\t  $opt_dry_run || $SED -e '/[ ,]DATA/!d;s,\\(.*\\)\\([ \\,].*\\),s|^\\1$|\\1\\2|,' < $export_symbols > $output_objdir/$libname.filter\n-\t  func_append delfiles \"" $export_symbols $output_objdir/$libname.filter\""\n-\t  export_symbols=$output_objdir/$libname.def\n-\t  $opt_dry_run || $SED -f $output_objdir/$libname.filter < $orig_export_symbols > $export_symbols\n-\tfi\n-\n-\ttmp_deplibs=\n-\tfor test_deplib in $deplibs; do\n-\t  case \"" $convenience \"" in\n-\t  *\"" $test_deplib \""*) ;;\n-\t  *)\n-\t    func_append tmp_deplibs \"" $test_deplib\""\n-\t    ;;\n-\t  esac\n-\tdone\n-\tdeplibs=\""$tmp_deplibs\""\n-\n-\tif test -n \""$convenience\""; then\n-\t  if test -n \""$whole_archive_flag_spec\"" &&\n-\t    test \""$compiler_needs_object\"" = yes &&\n-\t    test -z \""$libobjs\""; then\n-\t    # extract the archives, so we have objects to list.\n-\t    # TODO: could optimize this to just extract one archive.\n-\t    whole_archive_flag_spec=\n-\t  fi\n-\t  if test -n \""$whole_archive_flag_spec\""; then\n-\t    save_libobjs=$libobjs\n-\t    eval libobjs=\\\""\\$libobjs $whole_archive_flag_spec\\\""\n-\t    test \""X$libobjs\"" = \""X \"" && libobjs=\n-\t  else\n-\t    gentop=\""$output_objdir/${outputname}x\""\n-\t    func_append generated \"" $gentop\""\n-\n-\t    func_extract_archives $gentop $convenience\n-\t    func_append libobjs \"" $func_extract_archives_result\""\n-\t    test \""X$libobjs\"" = \""X \"" && libobjs=\n-\t  fi\n-\tfi\n-\n-\tif test \""$thread_safe\"" = yes && test -n \""$thread_safe_flag_spec\""; then\n-\t  eval flag=\\\""$thread_safe_flag_spec\\\""\n-\t  func_append linker_flags \"" $flag\""\n-\tfi\n-\n-\t# Make a backup of the uninstalled library when relinking\n-\tif test \""$opt_mode\"" = relink; then\n-\t  $opt_dry_run || eval '(cd $output_objdir && $RM ${realname}U && $MV $realname ${realname}U)' || exit $?\n-\tfi\n-\n-\t# Do each of the archive commands.\n-\tif test \""$module\"" = yes && test -n \""$module_cmds\"" ; then\n-\t  if test -n \""$export_symbols\"" && test -n \""$module_expsym_cmds\""; then\n-\t    eval test_cmds=\\\""$module_expsym_cmds\\\""\n-\t    cmds=$module_expsym_cmds\n-\t  else\n-\t    eval test_cmds=\\\""$module_cmds\\\""\n-\t    cmds=$module_cmds\n-\t  fi\n-\telse\n-\t  if test -n \""$export_symbols\"" && test -n \""$archive_expsym_cmds\""; then\n-\t    eval test_cmds=\\\""$archive_expsym_cmds\\\""\n-\t    cmds=$archive_expsym_cmds\n-\t  else\n-\t    eval test_cmds=\\\""$archive_cmds\\\""\n-\t    cmds=$archive_cmds\n-\t  fi\n-\tfi\n-\n-\tif test \""X$skipped_export\"" != \""X:\"" &&\n-\t   func_len \"" $test_cmds\"" &&\n-\t   len=$func_len_result &&\n-\t   test \""$len\"" -lt \""$max_cmd_len\"" || test \""$max_cmd_len\"" -le -1; then\n-\t  :\n-\telse\n-\t  # The command line is too long to link in one step, link piecewise\n-\t  # or, if using GNU ld and skipped_export is not :, use a linker\n-\t  # script.\n-\n-\t  # Save the value of $output and $libobjs because we want to\n-\t  # use them later.  If we have whole_archive_flag_spec, we\n-\t  # want to use save_libobjs as it was before\n-\t  # whole_archive_flag_spec was expanded, because we can't\n-\t  # assume the linker understands whole_archive_flag_spec.\n-\t  # This may have to be revisited, in case too many\n-\t  # convenience libraries get linked in and end up exceeding\n-\t  # the spec.\n-\t  if test -z \""$convenience\"" || test -z \""$whole_archive_flag_spec\""; then\n-\t    save_libobjs=$libobjs\n-\t  fi\n-\t  save_output=$output\n-\t  func_basename \""$output\""\n-\t  output_la=$func_basename_result\n-\n-\t  # Clear the reloadable object creation command queue and\n-\t  # initialize k to one.\n-\t  test_cmds=\n-\t  concat_cmds=\n-\t  objlist=\n-\t  last_robj=\n-\t  k=1\n-\n-\t  if test -n \""$save_libobjs\"" && test \""X$skipped_export\"" != \""X:\"" && test \""$with_gnu_ld\"" = yes; then\n-\t    output=${output_objdir}/${output_la}.lnkscript\n-\t    func_verbose \""creating GNU ld script: $output\""\n-\t    echo 'INPUT (' > $output\n-\t    for obj in $save_libobjs\n-\t    do\n-\t      func_to_tool_file \""$obj\""\n-\t      $ECHO \""$func_to_tool_file_result\"" >> $output\n-\t    done\n-\t    echo ')' >> $output\n-\t    func_append delfiles \"" $output\""\n-\t    func_to_tool_file \""$output\""\n-\t    output=$func_to_tool_file_result\n-\t  elif test -n \""$save_libobjs\"" && test \""X$skipped_export\"" != \""X:\"" && test \""X$file_list_spec\"" != X; then\n-\t    output=${output_objdir}/${output_la}.lnk\n-\t    func_verbose \""creating linker input file list: $output\""\n-\t    : > $output\n-\t    set x $save_libobjs\n-\t    shift\n-\t    firstobj=\n-\t    if test \""$compiler_needs_object\"" = yes; then\n-\t      firstobj=\""$1 \""\n-\t      shift\n-\t    fi\n-\t    for obj\n-\t    do\n-\t      func_to_tool_file \""$obj\""\n-\t      $ECHO \""$func_to_tool_file_result\"" >> $output\n-\t    done\n-\t    func_append delfiles \"" $output\""\n-\t    func_to_tool_file \""$output\""\n-\t    output=$firstobj\\\""$file_list_spec$func_to_tool_file_result\\\""\n-\t  else\n-\t    if test -n \""$save_libobjs\""; then\n-\t      func_verbose \""creating reloadable object files...\""\n-\t      output=$output_objdir/$output_la-${k}.$objext\n-\t      eval test_cmds=\\\""$reload_cmds\\\""\n-\t      func_len \"" $test_cmds\""\n-\t      len0=$func_len_result\n-\t      len=$len0\n-\n-\t      # Loop over the list of objects to be linked.\n-\t      for obj in $save_libobjs\n-\t      do\n-\t\tfunc_len \"" $obj\""\n-\t\tfunc_arith $len + $func_len_result\n-\t\tlen=$func_arith_result\n-\t\tif test \""X$objlist\"" = X ||\n-\t\t   test \""$len\"" -lt \""$max_cmd_len\""; then\n-\t\t  func_append objlist \"" $obj\""\n-\t\telse\n-\t\t  # The command $test_cmds is almost too long, add a\n-\t\t  # command to the queue.\n-\t\t  if test \""$k\"" -eq 1 ; then\n-\t\t    # The first file doesn't have a previous command to add.\n-\t\t    reload_objs=$objlist\n-\t\t    eval concat_cmds=\\\""$reload_cmds\\\""\n-\t\t  else\n-\t\t    # All subsequent reloadable object files will link in\n-\t\t    # the last one created.\n-\t\t    reload_objs=\""$objlist $last_robj\""\n-\t\t    eval concat_cmds=\\\""\\$concat_cmds~$reload_cmds~\\$RM $last_robj\\\""\n-\t\t  fi\n-\t\t  last_robj=$output_objdir/$output_la-${k}.$objext\n-\t\t  func_arith $k + 1\n-\t\t  k=$func_arith_result\n-\t\t  output=$output_objdir/$output_la-${k}.$objext\n-\t\t  objlist=\"" $obj\""\n-\t\t  func_len \"" $last_robj\""\n-\t\t  func_arith $len0 + $func_len_result\n-\t\t  len=$func_arith_result\n-\t\tfi\n-\t      done\n-\t      # Handle the remaining objects by creating one last\n-\t      # reloadable object file.  All subsequent reloadable object\n-\t      # files will link in the last one created.\n-\t      test -z \""$concat_cmds\"" || concat_cmds=$concat_cmds~\n-\t      reload_objs=\""$objlist $last_robj\""\n-\t      eval concat_cmds=\\\""\\${concat_cmds}$reload_cmds\\\""\n-\t      if test -n \""$last_robj\""; then\n-\t        eval concat_cmds=\\\""\\${concat_cmds}~\\$RM $last_robj\\\""\n-\t      fi\n-\t      func_append delfiles \"" $output\""\n-\n-\t    else\n-\t      output=\n-\t    fi\n-\n-\t    if ${skipped_export-false}; then\n-\t      func_verbose \""generating symbol list for \\`$libname.la'\""\n-\t      export_symbols=\""$output_objdir/$libname.exp\""\n-\t      $opt_dry_run || $RM $export_symbols\n-\t      libobjs=$output\n-\t      # Append the command to create the export file.\n-\t      test -z \""$concat_cmds\"" || concat_cmds=$concat_cmds~\n-\t      eval concat_cmds=\\\""\\$concat_cmds$export_symbols_cmds\\\""\n-\t      if test -n \""$last_robj\""; then\n-\t\teval concat_cmds=\\\""\\$concat_cmds~\\$RM $last_robj\\\""\n-\t      fi\n-\t    fi\n-\n-\t    test -n \""$save_libobjs\"" &&\n-\t      func_verbose \""creating a temporary reloadable object file: $output\""\n-\n-\t    # Loop through the commands generated above and execute them.\n-\t    save_ifs=\""$IFS\""; IFS='~'\n-\t    for cmd in $concat_cmds; do\n-\t      IFS=\""$save_ifs\""\n-\t      $opt_silent || {\n-\t\t  func_quote_for_expand \""$cmd\""\n-\t\t  eval \""func_echo $func_quote_for_expand_result\""\n-\t      }\n-\t      $opt_dry_run || eval \""$cmd\"" || {\n-\t\tlt_exit=$?\n-\n-\t\t# Restore the uninstalled library and exit\n-\t\tif test \""$opt_mode\"" = relink; then\n-\t\t  ( cd \""$output_objdir\"" && \\\n-\t\t    $RM \""${realname}T\"" && \\\n-\t\t    $MV \""${realname}U\"" \""$realname\"" )\n-\t\tfi\n-\n-\t\texit $lt_exit\n-\t      }\n-\t    done\n-\t    IFS=\""$save_ifs\""\n-\n-\t    if test -n \""$export_symbols_regex\"" && ${skipped_export-false}; then\n-\t      func_show_eval '$EGREP -e \""$export_symbols_regex\"" \""$export_symbols\"" > \""${export_symbols}T\""'\n-\t      func_show_eval '$MV \""${export_symbols}T\"" \""$export_symbols\""'\n-\t    fi\n-\t  fi\n-\n-          if ${skipped_export-false}; then\n-\t    if test -n \""$export_symbols\"" && test -n \""$include_expsyms\""; then\n-\t      tmp_export_symbols=\""$export_symbols\""\n-\t      test -n \""$orig_export_symbols\"" && tmp_export_symbols=\""$orig_export_symbols\""\n-\t      $opt_dry_run || eval '$ECHO \""$include_expsyms\"" | $SP2NL >> \""$tmp_export_symbols\""'\n-\t    fi\n-\n-\t    if test -n \""$orig_export_symbols\""; then\n-\t      # The given exports_symbols file has to be filtered, so filter it.\n-\t      func_verbose \""filter symbol list for \\`$libname.la' to tag DATA exports\""\n-\t      # FIXME: $output_objdir/$libname.filter potentially contains lots of\n-\t      # 's' commands which not all seds can handle. GNU sed should be fine\n-\t      # though. Also, the filter scales superlinearly with the number of\n-\t      # global variables. join(1) would be nice here, but unfortunately\n-\t      # isn't a blessed tool.\n-\t      $opt_dry_run || $SED -e '/[ ,]DATA/!d;s,\\(.*\\)\\([ \\,].*\\),s|^\\1$|\\1\\2|,' < $export_symbols > $output_objdir/$libname.filter\n-\t      func_append delfiles \"" $export_symbols $output_objdir/$libname.filter\""\n-\t      export_symbols=$output_objdir/$libname.def\n-\t      $opt_dry_run || $SED -f $output_objdir/$libname.filter < $orig_export_symbols > $export_symbols\n-\t    fi\n-\t  fi\n-\n-\t  libobjs=$output\n-\t  # Restore the value of output.\n-\t  output=$save_output\n-\n-\t  if test -n \""$convenience\"" && test -n \""$whole_archive_flag_spec\""; then\n-\t    eval libobjs=\\\""\\$libobjs $whole_archive_flag_spec\\\""\n-\t    test \""X$libobjs\"" = \""X \"" && libobjs=\n-\t  fi\n-\t  # Expand the library linking commands again to reset the\n-\t  # value of $libobjs for piecewise linking.\n-\n-\t  # Do each of the archive commands.\n-\t  if test \""$module\"" = yes && test -n \""$module_cmds\"" ; then\n-\t    if test -n \""$export_symbols\"" && test -n \""$module_expsym_cmds\""; then\n-\t      cmds=$module_expsym_cmds\n-\t    else\n-\t      cmds=$module_cmds\n-\t    fi\n-\t  else\n-\t    if test -n \""$export_symbols\"" && test -n \""$archive_expsym_cmds\""; then\n-\t      cmds=$archive_expsym_cmds\n-\t    else\n-\t      cmds=$archive_cmds\n-\t    fi\n-\t  fi\n-\tfi\n-\n-\tif test -n \""$delfiles\""; then\n-\t  # Append the command to remove temporary files to $cmds.\n-\t  eval cmds=\\\""\\$cmds~\\$RM $delfiles\\\""\n-\tfi\n-\n-\t# Add any objects from preloaded convenience libraries\n-\tif test -n \""$dlprefiles\""; then\n-\t  gentop=\""$output_objdir/${outputname}x\""\n-\t  func_append generated \"" $gentop\""\n-\n-\t  func_extract_archives $gentop $dlprefiles\n-\t  func_append libobjs \"" $func_extract_archives_result\""\n-\t  test \""X$libobjs\"" = \""X \"" && libobjs=\n-\tfi\n-\n-\tsave_ifs=\""$IFS\""; IFS='~'\n-\tfor cmd in $cmds; do\n-\t  IFS=\""$save_ifs\""\n-\t  eval cmd=\\\""$cmd\\\""\n-\t  $opt_silent || {\n-\t    func_quote_for_expand \""$cmd\""\n-\t    eval \""func_echo $func_quote_for_expand_result\""\n-\t  }\n-\t  $opt_dry_run || eval \""$cmd\"" || {\n-\t    lt_exit=$?\n-\n-\t    # Restore the uninstalled library and exit\n-\t    if test \""$opt_mode\"" = relink; then\n-\t      ( cd \""$output_objdir\"" && \\\n-\t        $RM \""${realname}T\"" && \\\n-\t\t$MV \""${realname}U\"" \""$realname\"" )\n-\t    fi\n-\n-\t    exit $lt_exit\n-\t  }\n-\tdone\n-\tIFS=\""$save_ifs\""\n-\n-\t# Restore the uninstalled library and exit\n-\tif test \""$opt_mode\"" = relink; then\n-\t  $opt_dry_run || eval '(cd $output_objdir && $RM ${realname}T && $MV $realname ${realname}T && $MV ${realname}U $realname)' || exit $?\n-\n-\t  if test -n \""$convenience\""; then\n-\t    if test -z \""$whole_archive_flag_spec\""; then\n-\t      func_show_eval '${RM}r \""$gentop\""'\n-\t    fi\n-\t  fi\n-\n-\t  exit $EXIT_SUCCESS\n-\tfi\n-\n-\t# Create links to the real library.\n-\tfor linkname in $linknames; do\n-\t  if test \""$realname\"" != \""$linkname\""; then\n-\t    func_show_eval '(cd \""$output_objdir\"" && $RM \""$linkname\"" && $LN_S \""$realname\"" \""$linkname\"")' 'exit $?'\n-\t  fi\n-\tdone\n-\n-\t# If -module or -export-dynamic was specified, set the dlname.\n-\tif test \""$module\"" = yes || test \""$export_dynamic\"" = yes; then\n-\t  # On all known operating systems, these are identical.\n-\t  dlname=\""$soname\""\n-\tfi\n-      fi\n-      ;;\n-\n-    obj)\n-      if test -n \""$dlfiles$dlprefiles\"" || test \""$dlself\"" != no; then\n-\tfunc_warning \""\\`-dlopen' is ignored for objects\""\n-      fi\n-\n-      case \"" $deplibs\"" in\n-      *\\ -l* | *\\ -L*)\n-\tfunc_warning \""\\`-l' and \\`-L' are ignored for objects\"" ;;\n-      esac\n-\n-      test -n \""$rpath\"" && \\\n-\tfunc_warning \""\\`-rpath' is ignored for objects\""\n-\n-      test -n \""$xrpath\"" && \\\n-\tfunc_warning \""\\`-R' is ignored for objects\""\n-\n-      test -n \""$vinfo\"" && \\\n-\tfunc_warning \""\\`-version-info' is ignored for objects\""\n-\n-      test -n \""$release\"" && \\\n-\tfunc_warning \""\\`-release' is ignored for objects\""\n-\n-      case $output in\n-      *.lo)\n-\ttest -n \""$objs$old_deplibs\"" && \\\n-\t  func_fatal_error \""cannot build library object \\`$output' from non-libtool objects\""\n-\n-\tlibobj=$output\n-\tfunc_lo2o \""$libobj\""\n-\tobj=$func_lo2o_result\n-\t;;\n-      *)\n-\tlibobj=\n-\tobj=\""$output\""\n-\t;;\n-      esac\n-\n-      # Delete the old objects.\n-      $opt_dry_run || $RM $obj $libobj\n-\n-      # Objects from convenience libraries.  This assumes\n-      # single-version convenience libraries.  Whenever we create\n-      # different ones for PIC/non-PIC, this we'll have to duplicate\n-      # the extraction.\n-      reload_conv_objs=\n-      gentop=\n-      # reload_cmds runs $LD directly, so let us get rid of\n-      # -Wl from whole_archive_flag_spec and hope we can get by with\n-      # turning comma into space..\n-      wl=\n-\n-      if test -n \""$convenience\""; then\n-\tif test -n \""$whole_archive_flag_spec\""; then\n-\t  eval tmp_whole_archive_flags=\\\""$whole_archive_flag_spec\\\""\n-\t  reload_conv_objs=$reload_objs\\ `$ECHO \""$tmp_whole_archive_flags\"" | $SED 's|,| |g'`\n-\telse\n-\t  gentop=\""$output_objdir/${obj}x\""\n-\t  func_append generated \"" $gentop\""\n-\n-\t  func_extract_archives $gentop $convenience\n-\t  reload_conv_objs=\""$reload_objs $func_extract_archives_result\""\n-\tfi\n-      fi\n-\n-      # If we're not building shared, we need to use non_pic_objs\n-      test \""$build_libtool_libs\"" != yes && libobjs=\""$non_pic_objects\""\n-\n-      # Create the old-style object.\n-      reload_objs=\""$objs$old_deplibs \""`$ECHO \""$libobjs\"" | $SP2NL | $SED \""/\\.${libext}$/d; /\\.lib$/d; $lo2o\"" | $NL2SP`\"" $reload_conv_objs\"" ### testsuite: skip nested quoting test\n-\n-      output=\""$obj\""\n-      func_execute_cmds \""$reload_cmds\"" 'exit $?'\n-\n-      # Exit if we aren't doing a library object file.\n-      if test -z \""$libobj\""; then\n-\tif test -n \""$gentop\""; then\n-\t  func_show_eval '${RM}r \""$gentop\""'\n-\tfi\n-\n-\texit $EXIT_SUCCESS\n-      fi\n-\n-      if test \""$build_libtool_libs\"" != yes; then\n-\tif test -n \""$gentop\""; then\n-\t  func_show_eval '${RM}r \""$gentop\""'\n-\tfi\n-\n-\t# Create an invalid libtool object if no PIC, so that we don't\n-\t# accidentally link it into a program.\n-\t# $show \""echo timestamp > $libobj\""\n-\t# $opt_dry_run || eval \""echo timestamp > $libobj\"" || exit $?\n-\texit $EXIT_SUCCESS\n-      fi\n-\n-      if test -n \""$pic_flag\"" || test \""$pic_mode\"" != default; then\n-\t# Only do commands if we really have different PIC objects.\n-\treload_objs=\""$libobjs $reload_conv_objs\""\n-\toutput=\""$libobj\""\n-\tfunc_execute_cmds \""$reload_cmds\"" 'exit $?'\n-      fi\n-\n-      if test -n \""$gentop\""; then\n-\tfunc_show_eval '${RM}r \""$gentop\""'\n-      fi\n-\n-      exit $EXIT_SUCCESS\n-      ;;\n-\n-    prog)\n-      case $host in\n-\t*cygwin*) func_stripname '' '.exe' \""$output\""\n-\t          output=$func_stripname_result.exe;;\n-      esac\n-      test -n \""$vinfo\"" && \\\n-\tfunc_warning \""\\`-version-info' is ignored for programs\""\n-\n-      test -n \""$release\"" && \\\n-\tfunc_warning \""\\`-release' is ignored for programs\""\n-\n-      test \""$preload\"" = yes \\\n-        && test \""$dlopen_support\"" = unknown \\\n-\t&& test \""$dlopen_self\"" = unknown \\\n-\t&& test \""$dlopen_self_static\"" = unknown && \\\n-\t  func_warning \""\\`LT_INIT([dlopen])' not used. Assuming no dlopen support.\""\n-\n-      case $host in\n-      *-*-rhapsody* | *-*-darwin1.[012])\n-\t# On Rhapsody replace the C library is the System framework\n-\tcompile_deplibs=`$ECHO \"" $compile_deplibs\"" | $SED 's/ -lc / System.ltframework /'`\n-\tfinalize_deplibs=`$ECHO \"" $finalize_deplibs\"" | $SED 's/ -lc / System.ltframework /'`\n-\t;;\n-      esac\n-\n-      case $host in\n-      *-*-darwin*)\n-\t# Don't allow lazy linking, it breaks C++ global constructors\n-\t# But is supposedly fixed on 10.4 or later (yay!).\n-\tif test \""$tagname\"" = CXX ; then\n-\t  case ${MACOSX_DEPLOYMENT_TARGET-10.0} in\n-\t    10.[0123])\n-\t      func_append compile_command \"" ${wl}-bind_at_load\""\n-\t      func_append finalize_command \"" ${wl}-bind_at_load\""\n-\t    ;;\n-\t  esac\n-\tfi\n-\t# Time to change all our \""foo.ltframework\"" stuff back to \""-framework foo\""\n-\tcompile_deplibs=`$ECHO \"" $compile_deplibs\"" | $SED 's% \\([^ $]*\\).ltframework% -framework \\1%g'`\n-\tfinalize_deplibs=`$ECHO \"" $finalize_deplibs\"" | $SED 's% \\([^ $]*\\).ltframework% -framework \\1%g'`\n-\t;;\n-      esac\n-\n-\n-      # move library search paths that coincide with paths to not yet\n-      # installed libraries to the beginning of the library search list\n-      new_libs=\n-      for path in $notinst_path; do\n-\tcase \"" $new_libs \"" in\n-\t*\"" -L$path/$objdir \""*) ;;\n-\t*)\n-\t  case \"" $compile_deplibs \"" in\n-\t  *\"" -L$path/$objdir \""*)\n-\t    func_append new_libs \"" -L$path/$objdir\"" ;;\n-\t  esac\n-\t  ;;\n-\tesac\n-      done\n-      for deplib in $compile_deplibs; do\n-\tcase $deplib in\n-\t-L*)\n-\t  case \"" $new_libs \"" in\n-\t  *\"" $deplib \""*) ;;\n-\t  *) func_append new_libs \"" $deplib\"" ;;\n-\t  esac\n-\t  ;;\n-\t*) func_append new_libs \"" $deplib\"" ;;\n-\tesac\n-      done\n-      compile_deplibs=\""$new_libs\""\n-\n-\n-      func_append compile_command \"" $compile_deplibs\""\n-      func_append finalize_command \"" $finalize_deplibs\""\n-\n-      if test -n \""$rpath$xrpath\""; then\n-\t# If the user specified any rpath flags, then add them.\n-\tfor libdir in $rpath $xrpath; do\n-\t  # This is the magic to use -rpath.\n-\t  case \""$finalize_rpath \"" in\n-\t  *\"" $libdir \""*) ;;\n-\t  *) func_append finalize_rpath \"" $libdir\"" ;;\n-\t  esac\n-\tdone\n-      fi\n-\n-      # Now hardcode the library paths\n-      rpath=\n-      hardcode_libdirs=\n-      for libdir in $compile_rpath $finalize_rpath; do\n-\tif test -n \""$hardcode_libdir_flag_spec\""; then\n-\t  if test -n \""$hardcode_libdir_separator\""; then\n-\t    if test -z \""$hardcode_libdirs\""; then\n-\t      hardcode_libdirs=\""$libdir\""\n-\t    else\n-\t      # Just accumulate the unique libdirs.\n-\t      case $hardcode_libdir_separator$hardcode_libdirs$hardcode_libdir_separator in\n-\t      *\""$hardcode_libdir_separator$libdir$hardcode_libdir_separator\""*)\n-\t\t;;\n-\t      *)\n-\t\tfunc_append hardcode_libdirs \""$hardcode_libdir_separator$libdir\""\n-\t\t;;\n-\t      esac\n-\t    fi\n-\t  else\n-\t    eval flag=\\\""$hardcode_libdir_flag_spec\\\""\n-\t    func_append rpath \"" $flag\""\n-\t  fi\n-\telif test -n \""$runpath_var\""; then\n-\t  case \""$perm_rpath \"" in\n-\t  *\"" $libdir \""*) ;;\n-\t  *) func_append perm_rpath \"" $libdir\"" ;;\n-\t  esac\n-\tfi\n-\tcase $host in\n-\t*-*-cygwin* | *-*-mingw* | *-*-pw32* | *-*-os2* | *-cegcc*)\n-\t  testbindir=`${ECHO} \""$libdir\"" | ${SED} -e 's*/lib$*/bin*'`\n-\t  case :$dllsearchpath: in\n-\t  *\"":$libdir:\""*) ;;\n-\t  ::) dllsearchpath=$libdir;;\n-\t  *) func_append dllsearchpath \"":$libdir\"";;\n-\t  esac\n-\t  case :$dllsearchpath: in\n-\t  *\"":$testbindir:\""*) ;;\n-\t  ::) dllsearchpath=$testbindir;;\n-\t  *) func_append dllsearchpath \"":$testbindir\"";;\n-\t  esac\n-\t  ;;\n-\tesac\n-      done\n-      # Substitute the hardcoded libdirs into the rpath.\n-      if test -n \""$hardcode_libdir_separator\"" &&\n-\t test -n \""$hardcode_libdirs\""; then\n-\tlibdir=\""$hardcode_libdirs\""\n-\teval rpath=\\\"" $hardcode_libdir_flag_spec\\\""\n-      fi\n-      compile_rpath=\""$rpath\""\n-\n-      rpath=\n-      hardcode_libdirs=\n-      for libdir in $finalize_rpath; do\n-\tif test -n \""$hardcode_libdir_flag_spec\""; then\n-\t  if test -n \""$hardcode_libdir_separator\""; then\n-\t    if test -z \""$hardcode_libdirs\""; then\n-\t      hardcode_libdirs=\""$libdir\""\n-\t    else\n-\t      # Just accumulate the unique libdirs.\n-\t      case $hardcode_libdir_separator$hardcode_libdirs$hardcode_libdir_separator in\n-\t      *\""$hardcode_libdir_separator$libdir$hardcode_libdir_separator\""*)\n-\t\t;;\n-\t      *)\n-\t\tfunc_append hardcode_libdirs \""$hardcode_libdir_separator$libdir\""\n-\t\t;;\n-\t      esac\n-\t    fi\n-\t  else\n-\t    eval flag=\\\""$hardcode_libdir_flag_spec\\\""\n-\t    func_append rpath \"" $flag\""\n-\t  fi\n-\telif test -n \""$runpath_var\""; then\n-\t  case \""$finalize_perm_rpath \"" in\n-\t  *\"" $libdir \""*) ;;\n-\t  *) func_append finalize_perm_rpath \"" $libdir\"" ;;\n-\t  esac\n-\tfi\n-      done\n-      # Substitute the hardcoded libdirs into the rpath.\n-      if test -n \""$hardcode_libdir_separator\"" &&\n-\t test -n \""$hardcode_libdirs\""; then\n-\tlibdir=\""$hardcode_libdirs\""\n-\teval rpath=\\\"" $hardcode_libdir_flag_spec\\\""\n-      fi\n-      finalize_rpath=\""$rpath\""\n-\n-      if test -n \""$libobjs\"" && test \""$build_old_libs\"" = yes; then\n-\t# Transform all the library objects into standard objects.\n-\tcompile_command=`$ECHO \""$compile_command\"" | $SP2NL | $SED \""$lo2o\"" | $NL2SP`\n-\tfinalize_command=`$ECHO \""$finalize_command\"" | $SP2NL | $SED \""$lo2o\"" | $NL2SP`\n-      fi\n-\n-      func_generate_dlsyms \""$outputname\"" \""@PROGRAM@\"" \""no\""\n-\n-      # template prelinking step\n-      if test -n \""$prelink_cmds\""; then\n-\tfunc_execute_cmds \""$prelink_cmds\"" 'exit $?'\n-      fi\n-\n-      wrappers_required=yes\n-      case $host in\n-      *cegcc* | *mingw32ce*)\n-        # Disable wrappers for cegcc and mingw32ce hosts, we are cross compiling anyway.\n-        wrappers_required=no\n-        ;;\n-      *cygwin* | *mingw* )\n-        if test \""$build_libtool_libs\"" != yes; then\n-          wrappers_required=no\n-        fi\n-        ;;\n-      *)\n-        if test \""$need_relink\"" = no || test \""$build_libtool_libs\"" != yes; then\n-          wrappers_required=no\n-        fi\n-        ;;\n-      esac\n-      if test \""$wrappers_required\"" = no; then\n-\t# Replace the output file specification.\n-\tcompile_command=`$ECHO \""$compile_command\"" | $SED 's%@OUTPUT@%'\""$output\""'%g'`\n-\tlink_command=\""$compile_command$compile_rpath\""\n-\n-\t# We have no uninstalled library dependencies, so finalize right now.\n-\texit_status=0\n-\tfunc_show_eval \""$link_command\"" 'exit_status=$?'\n-\n-\tif test -n \""$postlink_cmds\""; then\n-\t  func_to_tool_file \""$output\""\n-\t  postlink_cmds=`func_echo_all \""$postlink_cmds\"" | $SED -e 's%@OUTPUT@%'\""$output\""'%g' -e 's%@TOOL_OUTPUT@%'\""$func_to_tool_file_result\""'%g'`\n-\t  func_execute_cmds \""$postlink_cmds\"" 'exit $?'\n-\tfi\n-\n-\t# Delete the generated files.\n-\tif test -f \""$output_objdir/${outputname}S.${objext}\""; then\n-\t  func_show_eval '$RM \""$output_objdir/${outputname}S.${objext}\""'\n-\tfi\n-\n-\texit $exit_status\n-      fi\n-\n-      if test -n \""$compile_shlibpath$finalize_shlibpath\""; then\n-\tcompile_command=\""$shlibpath_var=\\\""$compile_shlibpath$finalize_shlibpath\\$$shlibpath_var\\\"" $compile_command\""\n-      fi\n-      if test -n \""$finalize_shlibpath\""; then\n-\tfinalize_command=\""$shlibpath_var=\\\""$finalize_shlibpath\\$$shlibpath_var\\\"" $finalize_command\""\n-      fi\n-\n-      compile_var=\n-      finalize_var=\n-      if test -n \""$runpath_var\""; then\n-\tif test -n \""$perm_rpath\""; then\n-\t  # We should set the runpath_var.\n-\t  rpath=\n-\t  for dir in $perm_rpath; do\n-\t    func_append rpath \""$dir:\""\n-\t  done\n-\t  compile_var=\""$runpath_var=\\\""$rpath\\$$runpath_var\\\"" \""\n-\tfi\n-\tif test -n \""$finalize_perm_rpath\""; then\n-\t  # We should set the runpath_var.\n-\t  rpath=\n-\t  for dir in $finalize_perm_rpath; do\n-\t    func_append rpath \""$dir:\""\n-\t  done\n-\t  finalize_var=\""$runpath_var=\\\""$rpath\\$$runpath_var\\\"" \""\n-\tfi\n-      fi\n-\n-      if test \""$no_install\"" = yes; then\n-\t# We don't need to create a wrapper script.\n-\tlink_command=\""$compile_var$compile_command$compile_rpath\""\n-\t# Replace the output file specification.\n-\tlink_command=`$ECHO \""$link_command\"" | $SED 's%@OUTPUT@%'\""$output\""'%g'`\n-\t# Delete the old output file.\n-\t$opt_dry_run || $RM $output\n-\t# Link the executable and exit\n-\tfunc_show_eval \""$link_command\"" 'exit $?'\n-\n-\tif test -n \""$postlink_cmds\""; then\n-\t  func_to_tool_file \""$output\""\n-\t  postlink_cmds=`func_echo_all \""$postlink_cmds\"" | $SED -e 's%@OUTPUT@%'\""$output\""'%g' -e 's%@TOOL_OUTPUT@%'\""$func_to_tool_file_result\""'%g'`\n-\t  func_execute_cmds \""$postlink_cmds\"" 'exit $?'\n-\tfi\n-\n-\texit $EXIT_SUCCESS\n-      fi\n-\n-      if test \""$hardcode_action\"" = relink; then\n-\t# Fast installation is not supported\n-\tlink_command=\""$compile_var$compile_command$compile_rpath\""\n-\trelink_command=\""$finalize_var$finalize_command$finalize_rpath\""\n-\n-\tfunc_warning \""this platform does not like uninstalled shared libraries\""\n-\tfunc_warning \""\\`$output' will be relinked during installation\""\n-      else\n-\tif test \""$fast_install\"" != no; then\n-\t  link_command=\""$finalize_var$compile_command$finalize_rpath\""\n-\t  if test \""$fast_install\"" = yes; then\n-\t    relink_command=`$ECHO \""$compile_var$compile_command$compile_rpath\"" | $SED 's%@OUTPUT@%\\$progdir/\\$file%g'`\n-\t  else\n-\t    # fast_install is set to needless\n-\t    relink_command=\n-\t  fi\n-\telse\n-\t  link_command=\""$compile_var$compile_command$compile_rpath\""\n-\t  relink_command=\""$finalize_var$finalize_command$finalize_rpath\""\n-\tfi\n-      fi\n-\n-      # Replace the output file specification.\n-      link_command=`$ECHO \""$link_command\"" | $SED 's%@OUTPUT@%'\""$output_objdir/$outputname\""'%g'`\n-\n-      # Delete the old output files.\n-      $opt_dry_run || $RM $output $output_objdir/$outputname $output_objdir/lt-$outputname\n-\n-      func_show_eval \""$link_command\"" 'exit $?'\n-\n-      if test -n \""$postlink_cmds\""; then\n-\tfunc_to_tool_file \""$output_objdir/$outputname\""\n-\tpostlink_cmds=`func_echo_all \""$postlink_cmds\"" | $SED -e 's%@OUTPUT@%'\""$output_objdir/$outputname\""'%g' -e 's%@TOOL_OUTPUT@%'\""$func_to_tool_file_result\""'%g'`\n-\tfunc_execute_cmds \""$postlink_cmds\"" 'exit $?'\n-      fi\n-\n-      # Now create the wrapper script.\n-      func_verbose \""creating $output\""\n-\n-      # Quote the relink command for shipping.\n-      if test -n \""$relink_command\""; then\n-\t# Preserve any variables that may affect compiler behavior\n-\tfor var in $variables_saved_for_relink; do\n-\t  if eval test -z \\\""\\${$var+set}\\\""; then\n-\t    relink_command=\""{ test -z \\\""\\${$var+set}\\\"" || $lt_unset $var || { $var=; export $var; }; }; $relink_command\""\n-\t  elif eval var_value=\\$$var; test -z \""$var_value\""; then\n-\t    relink_command=\""$var=; export $var; $relink_command\""\n-\t  else\n-\t    func_quote_for_eval \""$var_value\""\n-\t    relink_command=\""$var=$func_quote_for_eval_result; export $var; $relink_command\""\n-\t  fi\n-\tdone\n-\trelink_command=\""(cd `pwd`; $relink_command)\""\n-\trelink_command=`$ECHO \""$relink_command\"" | $SED \""$sed_quote_subst\""`\n-      fi\n-\n-      # Only actually do things if not in dry run mode.\n-      $opt_dry_run || {\n-\t# win32 will think the script is a binary if it has\n-\t# a .exe suffix, so we strip it off here.\n-\tcase $output in\n-\t  *.exe) func_stripname '' '.exe' \""$output\""\n-\t         output=$func_stripname_result ;;\n-\tesac\n-\t# test for cygwin because mv fails w/o .exe extensions\n-\tcase $host in\n-\t  *cygwin*)\n-\t    exeext=.exe\n-\t    func_stripname '' '.exe' \""$outputname\""\n-\t    outputname=$func_stripname_result ;;\n-\t  *) exeext= ;;\n-\tesac\n-\tcase $host in\n-\t  *cygwin* | *mingw* )\n-\t    func_dirname_and_basename \""$output\"" \""\"" \"".\""\n-\t    output_name=$func_basename_result\n-\t    output_path=$func_dirname_result\n-\t    cwrappersource=\""$output_path/$objdir/lt-$output_name.c\""\n-\t    cwrapper=\""$output_path/$output_name.exe\""\n-\t    $RM $cwrappersource $cwrapper\n-\t    trap \""$RM $cwrappersource $cwrapper; exit $EXIT_FAILURE\"" 1 2 15\n-\n-\t    func_emit_cwrapperexe_src > $cwrappersource\n-\n-\t    # The wrapper executable is built using the $host compiler,\n-\t    # because it contains $host paths and files. If cross-\n-\t    # compiling, it, like the target executable, must be\n-\t    # executed on the $host or under an emulation environment.\n-\t    $opt_dry_run || {\n-\t      $LTCC $LTCFLAGS -o $cwrapper $cwrappersource\n-\t      $STRIP $cwrapper\n-\t    }\n-\n-\t    # Now, create the wrapper script for func_source use:\n-\t    func_ltwrapper_scriptname $cwrapper\n-\t    $RM $func_ltwrapper_scriptname_result\n-\t    trap \""$RM $func_ltwrapper_scriptname_result; exit $EXIT_FAILURE\"" 1 2 15\n-\t    $opt_dry_run || {\n-\t      # note: this script will not be executed, so do not chmod.\n-\t      if test \""x$build\"" = \""x$host\"" ; then\n-\t\t$cwrapper --lt-dump-script > $func_ltwrapper_scriptname_result\n-\t      else\n-\t\tfunc_emit_wrapper no > $func_ltwrapper_scriptname_result\n-\t      fi\n-\t    }\n-\t  ;;\n-\t  * )\n-\t    $RM $output\n-\t    trap \""$RM $output; exit $EXIT_FAILURE\"" 1 2 15\n-\n-\t    func_emit_wrapper no > $output\n-\t    chmod +x $output\n-\t  ;;\n-\tesac\n-      }\n-      exit $EXIT_SUCCESS\n-      ;;\n-    esac\n-\n-    # See if we need to build an old-fashioned archive.\n-    for oldlib in $oldlibs; do\n-\n-      if test \""$build_libtool_libs\"" = convenience; then\n-\toldobjs=\""$libobjs_save $symfileobj\""\n-\taddlibs=\""$convenience\""\n-\tbuild_libtool_libs=no\n-      else\n-\tif test \""$build_libtool_libs\"" = module; then\n-\t  oldobjs=\""$libobjs_save\""\n-\t  build_libtool_libs=no\n-\telse\n-\t  oldobjs=\""$old_deplibs $non_pic_objects\""\n-\t  if test \""$preload\"" = yes && test -f \""$symfileobj\""; then\n-\t    func_append oldobjs \"" $symfileobj\""\n-\t  fi\n-\tfi\n-\taddlibs=\""$old_convenience\""\n-      fi\n-\n-      if test -n \""$addlibs\""; then\n-\tgentop=\""$output_objdir/${outputname}x\""\n-\tfunc_append generated \"" $gentop\""\n-\n-\tfunc_extract_archives $gentop $addlibs\n-\tfunc_append oldobjs \"" $func_extract_archives_result\""\n-      fi\n-\n-      # Do each command in the archive commands.\n-      if test -n \""$old_archive_from_new_cmds\"" && test \""$build_libtool_libs\"" = yes; then\n-\tcmds=$old_archive_from_new_cmds\n-      else\n-\n-\t# Add any objects from preloaded convenience libraries\n-\tif test -n \""$dlprefiles\""; then\n-\t  gentop=\""$output_objdir/${outputname}x\""\n-\t  func_append generated \"" $gentop\""\n-\n-\t  func_extract_archives $gentop $dlprefiles\n-\t  func_append oldobjs \"" $func_extract_archives_result\""\n-\tfi\n-\n-\t# POSIX demands no paths to be encoded in archives.  We have\n-\t# to avoid creating archives with duplicate basenames if we\n-\t# might have to extract them afterwards, e.g., when creating a\n-\t# static archive out of a convenience library, or when linking\n-\t# the entirety of a libtool archive into another (currently\n-\t# not supported by libtool).\n-\tif (for obj in $oldobjs\n-\t    do\n-\t      func_basename \""$obj\""\n-\t      $ECHO \""$func_basename_result\""\n-\t    done | sort | sort -uc >/dev/null 2>&1); then\n-\t  :\n-\telse\n-\t  echo \""copying selected object files to avoid basename conflicts...\""\n-\t  gentop=\""$output_objdir/${outputname}x\""\n-\t  func_append generated \"" $gentop\""\n-\t  func_mkdir_p \""$gentop\""\n-\t  save_oldobjs=$oldobjs\n-\t  oldobjs=\n-\t  counter=1\n-\t  for obj in $save_oldobjs\n-\t  do\n-\t    func_basename \""$obj\""\n-\t    objbase=\""$func_basename_result\""\n-\t    case \"" $oldobjs \"" in\n-\t    \"" \"") oldobjs=$obj ;;\n-\t    *[\\ /]\""$objbase \""*)\n-\t      while :; do\n-\t\t# Make sure we don't pick an alternate name that also\n-\t\t# overlaps.\n-\t\tnewobj=lt$counter-$objbase\n-\t\tfunc_arith $counter + 1\n-\t\tcounter=$func_arith_result\n-\t\tcase \"" $oldobjs \"" in\n-\t\t*[\\ /]\""$newobj \""*) ;;\n-\t\t*) if test ! -f \""$gentop/$newobj\""; then break; fi ;;\n-\t\tesac\n-\t      done\n-\t      func_show_eval \""ln $obj $gentop/$newobj || cp $obj $gentop/$newobj\""\n-\t      func_append oldobjs \"" $gentop/$newobj\""\n-\t      ;;\n-\t    *) func_append oldobjs \"" $obj\"" ;;\n-\t    esac\n-\t  done\n-\tfi\n-\tfunc_to_tool_file \""$oldlib\"" func_convert_file_msys_to_w32\n-\ttool_oldlib=$func_to_tool_file_result\n-\teval cmds=\\\""$old_archive_cmds\\\""\n-\n-\tfunc_len \"" $cmds\""\n-\tlen=$func_len_result\n-\tif test \""$len\"" -lt \""$max_cmd_len\"" || test \""$max_cmd_len\"" -le -1; then\n-\t  cmds=$old_archive_cmds\n-\telif test -n \""$archiver_list_spec\""; then\n-\t  func_verbose \""using command file archive linking...\""\n-\t  for obj in $oldobjs\n-\t  do\n-\t    func_to_tool_file \""$obj\""\n-\t    $ECHO \""$func_to_tool_file_result\""\n-\t  done > $output_objdir/$libname.libcmd\n-\t  func_to_tool_file \""$output_objdir/$libname.libcmd\""\n-\t  oldobjs=\"" $archiver_list_spec$func_to_tool_file_result\""\n-\t  cmds=$old_archive_cmds\n-\telse\n-\t  # the command line is too long to link in one step, link in parts\n-\t  func_verbose \""using piecewise archive linking...\""\n-\t  save_RANLIB=$RANLIB\n-\t  RANLIB=:\n-\t  objlist=\n-\t  concat_cmds=\n-\t  save_oldobjs=$oldobjs\n-\t  oldobjs=\n-\t  # Is there a better way of finding the last object in the list?\n-\t  for obj in $save_oldobjs\n-\t  do\n-\t    last_oldobj=$obj\n-\t  done\n-\t  eval test_cmds=\\\""$old_archive_cmds\\\""\n-\t  func_len \"" $test_cmds\""\n-\t  len0=$func_len_result\n-\t  len=$len0\n-\t  for obj in $save_oldobjs\n-\t  do\n-\t    func_len \"" $obj\""\n-\t    func_arith $len + $func_len_result\n-\t    len=$func_arith_result\n-\t    func_append objlist \"" $obj\""\n-\t    if test \""$len\"" -lt \""$max_cmd_len\""; then\n-\t      :\n-\t    else\n-\t      # the above command should be used before it gets too long\n-\t      oldobjs=$objlist\n-\t      if test \""$obj\"" = \""$last_oldobj\"" ; then\n-\t\tRANLIB=$save_RANLIB\n-\t      fi\n-\t      test -z \""$concat_cmds\"" || concat_cmds=$concat_cmds~\n-\t      eval concat_cmds=\\\""\\${concat_cmds}$old_archive_cmds\\\""\n-\t      objlist=\n-\t      len=$len0\n-\t    fi\n-\t  done\n-\t  RANLIB=$save_RANLIB\n-\t  oldobjs=$objlist\n-\t  if test \""X$oldobjs\"" = \""X\"" ; then\n-\t    eval cmds=\\\""\\$concat_cmds\\\""\n-\t  else\n-\t    eval cmds=\\\""\\$concat_cmds~\\$old_archive_cmds\\\""\n-\t  fi\n-\tfi\n-      fi\n-      func_execute_cmds \""$cmds\"" 'exit $?'\n-    done\n-\n-    test -n \""$generated\"" && \\\n-      func_show_eval \""${RM}r$generated\""\n-\n-    # Now create the libtool archive.\n-    case $output in\n-    *.la)\n-      old_library=\n-      test \""$build_old_libs\"" = yes && old_library=\""$libname.$libext\""\n-      func_verbose \""creating $output\""\n-\n-      # Preserve any variables that may affect compiler behavior\n-      for var in $variables_saved_for_relink; do\n-\tif eval test -z \\\""\\${$var+set}\\\""; then\n-\t  relink_command=\""{ test -z \\\""\\${$var+set}\\\"" || $lt_unset $var || { $var=; export $var; }; }; $relink_command\""\n-\telif eval var_value=\\$$var; test -z \""$var_value\""; then\n-\t  relink_command=\""$var=; export $var; $relink_command\""\n-\telse\n-\t  func_quote_for_eval \""$var_value\""\n-\t  relink_command=\""$var=$func_quote_for_eval_result; export $var; $relink_command\""\n-\tfi\n-      done\n-      # Quote the link command for shipping.\n-      relink_command=\""(cd `pwd`; $SHELL $progpath $preserve_args --mode=relink $libtool_args @inst_prefix_dir@)\""\n-      relink_command=`$ECHO \""$relink_command\"" | $SED \""$sed_quote_subst\""`\n-      if test \""$hardcode_automatic\"" = yes ; then\n-\trelink_command=\n-      fi\n-\n-      # Only create the output if not a dry run.\n-      $opt_dry_run || {\n-\tfor installed in no yes; do\n-\t  if test \""$installed\"" = yes; then\n-\t    if test -z \""$install_libdir\""; then\n-\t      break\n-\t    fi\n-\t    output=\""$output_objdir/$outputname\""i\n-\t    # Replace all uninstalled libtool libraries with the installed ones\n-\t    newdependency_libs=\n-\t    for deplib in $dependency_libs; do\n-\t      case $deplib in\n-\t      *.la)\n-\t\tfunc_basename \""$deplib\""\n-\t\tname=\""$func_basename_result\""\n-\t\tfunc_resolve_sysroot \""$deplib\""\n-\t\teval libdir=`${SED} -n -e 's/^libdir=\\(.*\\)$/\\1/p' $func_resolve_sysroot_result`\n-\t\ttest -z \""$libdir\"" && \\\n-\t\t  func_fatal_error \""\\`$deplib' is not a valid libtool archive\""\n-\t\tfunc_append newdependency_libs \"" ${lt_sysroot:+=}$libdir/$name\""\n-\t\t;;\n-\t      -L*)\n-\t\tfunc_stripname -L '' \""$deplib\""\n-\t\tfunc_replace_sysroot \""$func_stripname_result\""\n-\t\tfunc_append newdependency_libs \"" -L$func_replace_sysroot_result\""\n-\t\t;;\n-\t      -R*)\n-\t\tfunc_stripname -R '' \""$deplib\""\n-\t\tfunc_replace_sysroot \""$func_stripname_result\""\n-\t\tfunc_append newdependency_libs \"" -R$func_replace_sysroot_result\""\n-\t\t;;\n-\t      *) func_append newdependency_libs \"" $deplib\"" ;;\n-\t      esac\n-\t    done\n-\t    dependency_libs=\""$newdependency_libs\""\n-\t    newdlfiles=\n-\n-\t    for lib in $dlfiles; do\n-\t      case $lib in\n-\t      *.la)\n-\t        func_basename \""$lib\""\n-\t\tname=\""$func_basename_result\""\n-\t\teval libdir=`${SED} -n -e 's/^libdir=\\(.*\\)$/\\1/p' $lib`\n-\t\ttest -z \""$libdir\"" && \\\n-\t\t  func_fatal_error \""\\`$lib' is not a valid libtool archive\""\n-\t\tfunc_append newdlfiles \"" ${lt_sysroot:+=}$libdir/$name\""\n-\t\t;;\n-\t      *) func_append newdlfiles \"" $lib\"" ;;\n-\t      esac\n-\t    done\n-\t    dlfiles=\""$newdlfiles\""\n-\t    newdlprefiles=\n-\t    for lib in $dlprefiles; do\n-\t      case $lib in\n-\t      *.la)\n-\t\t# Only pass preopened files to the pseudo-archive (for\n-\t\t# eventual linking with the app. that links it) if we\n-\t\t# didn't already link the preopened objects directly into\n-\t\t# the library:\n-\t\tfunc_basename \""$lib\""\n-\t\tname=\""$func_basename_result\""\n-\t\teval libdir=`${SED} -n -e 's/^libdir=\\(.*\\)$/\\1/p' $lib`\n-\t\ttest -z \""$libdir\"" && \\\n-\t\t  func_fatal_error \""\\`$lib' is not a valid libtool archive\""\n-\t\tfunc_append newdlprefiles \"" ${lt_sysroot:+=}$libdir/$name\""\n-\t\t;;\n-\t      esac\n-\t    done\n-\t    dlprefiles=\""$newdlprefiles\""\n-\t  else\n-\t    newdlfiles=\n-\t    for lib in $dlfiles; do\n-\t      case $lib in\n-\t\t[\\\\/]* | [A-Za-z]:[\\\\/]*) abs=\""$lib\"" ;;\n-\t\t*) abs=`pwd`\""/$lib\"" ;;\n-\t      esac\n-\t      func_append newdlfiles \"" $abs\""\n-\t    done\n-\t    dlfiles=\""$newdlfiles\""\n-\t    newdlprefiles=\n-\t    for lib in $dlprefiles; do\n-\t      case $lib in\n-\t\t[\\\\/]* | [A-Za-z]:[\\\\/]*) abs=\""$lib\"" ;;\n-\t\t*) abs=`pwd`\""/$lib\"" ;;\n-\t      esac\n-\t      func_append newdlprefiles \"" $abs\""\n-\t    done\n-\t    dlprefiles=\""$newdlprefiles\""\n-\t  fi\n-\t  $RM $output\n-\t  # place dlname in correct position for cygwin\n-\t  # In fact, it would be nice if we could use this code for all target\n-\t  # systems that can't hard-code library paths into their executables\n-\t  # and that have no shared library path variable independent of PATH,\n-\t  # but it turns out we can't easily determine that from inspecting\n-\t  # libtool variables, so we have to hard-code the OSs to which it\n-\t  # applies here; at the moment, that means platforms that use the PE\n-\t  # object format with DLL files.  See the long comment at the top of\n-\t  # tests/bindir.at for full details.\n-\t  tdlname=$dlname\n-\t  case $host,$output,$installed,$module,$dlname in\n-\t    *cygwin*,*lai,yes,no,*.dll | *mingw*,*lai,yes,no,*.dll | *cegcc*,*lai,yes,no,*.dll)\n-\t      # If a -bindir argument was supplied, place the dll there.\n-\t      if test \""x$bindir\"" != x ;\n-\t      then\n-\t\tfunc_relative_path \""$install_libdir\"" \""$bindir\""\n-\t\ttdlname=$func_relative_path_result$dlname\n-\t      else\n-\t\t# Otherwise fall back on heuristic.\n-\t\ttdlname=../bin/$dlname\n-\t      fi\n-\t      ;;\n-\t  esac\n-\t  $ECHO > $output \""\\\n-# $outputname - a libtool library file\n-# Generated by $PROGRAM (GNU $PACKAGE$TIMESTAMP) $VERSION\n-#\n-# Please DO NOT delete this file!\n-# It is necessary for linking the library.\n-\n-# The name that we can dlopen(3).\n-dlname='$tdlname'\n-\n-# Names of this library.\n-library_names='$library_names'\n-\n-# The name of the static archive.\n-old_library='$old_library'\n-\n-# Linker flags that can not go in dependency_libs.\n-inherited_linker_flags='$new_inherited_linker_flags'\n-\n-# Libraries that this one depends upon.\n-dependency_libs='$dependency_libs'\n-\n-# Names of additional weak libraries provided by this library\n-weak_library_names='$weak_libs'\n-\n-# Version information for $libname.\n-current=$current\n-age=$age\n-revision=$revision\n-\n-# Is this an already installed library?\n-installed=$installed\n-\n-# Should we warn about portability when linking against -modules?\n-shouldnotlink=$module\n-\n-# Files to dlopen/dlpreopen\n-dlopen='$dlfiles'\n-dlpreopen='$dlprefiles'\n-\n-# Directory that this library needs to be installed in:\n-libdir='$install_libdir'\""\n-\t  if test \""$installed\"" = no && test \""$need_relink\"" = yes; then\n-\t    $ECHO >> $output \""\\\n-relink_command=\\\""$relink_command\\\""\""\n-\t  fi\n-\tdone\n-      }\n-\n-      # Do a symbolic link so that the libtool archive can be found in\n-      # LD_LIBRARY_PATH before the program is installed.\n-      func_show_eval '( cd \""$output_objdir\"" && $RM \""$outputname\"" && $LN_S \""../$outputname\"" \""$outputname\"" )' 'exit $?'\n-      ;;\n-    esac\n-    exit $EXIT_SUCCESS\n-}\n-\n-{ test \""$opt_mode\"" = link || test \""$opt_mode\"" = relink; } &&\n-    func_mode_link ${1+\""$@\""}\n-\n-\n-# func_mode_uninstall arg...\n-func_mode_uninstall ()\n-{\n-    $opt_debug\n-    RM=\""$nonopt\""\n-    files=\n-    rmforce=\n-    exit_status=0\n-\n-    # This variable tells wrapper scripts just to set variables rather\n-    # than running their programs.\n-    libtool_install_magic=\""$magic\""\n-\n-    for arg\n-    do\n-      case $arg in\n-      -f) func_append RM \"" $arg\""; rmforce=yes ;;\n-      -*) func_append RM \"" $arg\"" ;;\n-      *) func_append files \"" $arg\"" ;;\n-      esac\n-    done\n-\n-    test -z \""$RM\"" && \\\n-      func_fatal_help \""you must specify an RM program\""\n-\n-    rmdirs=\n-\n-    for file in $files; do\n-      func_dirname \""$file\"" \""\"" \"".\""\n-      dir=\""$func_dirname_result\""\n-      if test \""X$dir\"" = X.; then\n-\todir=\""$objdir\""\n-      else\n-\todir=\""$dir/$objdir\""\n-      fi\n-      func_basename \""$file\""\n-      name=\""$func_basename_result\""\n-      test \""$opt_mode\"" = uninstall && odir=\""$dir\""\n-\n-      # Remember odir for removal later, being careful to avoid duplicates\n-      if test \""$opt_mode\"" = clean; then\n-\tcase \"" $rmdirs \"" in\n-\t  *\"" $odir \""*) ;;\n-\t  *) func_append rmdirs \"" $odir\"" ;;\n-\tesac\n-      fi\n-\n-      # Don't error if the file doesn't exist and rm -f was used.\n-      if { test -L \""$file\""; } >/dev/null 2>&1 ||\n-\t { test -h \""$file\""; } >/dev/null 2>&1 ||\n-\t test -f \""$file\""; then\n-\t:\n-      elif test -d \""$file\""; then\n-\texit_status=1\n-\tcontinue\n-      elif test \""$rmforce\"" = yes; then\n-\tcontinue\n-      fi\n-\n-      rmfiles=\""$file\""\n-\n-      case $name in\n-      *.la)\n-\t# Possibly a libtool archive, so verify it.\n-\tif func_lalib_p \""$file\""; then\n-\t  func_source $dir/$name\n-\n-\t  # Delete the libtool libraries and symlinks.\n-\t  for n in $library_names; do\n-\t    func_append rmfiles \"" $odir/$n\""\n-\t  done\n-\t  test -n \""$old_library\"" && func_append rmfiles \"" $odir/$old_library\""\n-\n-\t  case \""$opt_mode\"" in\n-\t  clean)\n-\t    case \"" $library_names \"" in\n-\t    *\"" $dlname \""*) ;;\n-\t    *) test -n \""$dlname\"" && func_append rmfiles \"" $odir/$dlname\"" ;;\n-\t    esac\n-\t    test -n \""$libdir\"" && func_append rmfiles \"" $odir/$name $odir/${name}i\""\n-\t    ;;\n-\t  uninstall)\n-\t    if test -n \""$library_names\""; then\n-\t      # Do each command in the postuninstall commands.\n-\t      func_execute_cmds \""$postuninstall_cmds\"" 'test \""$rmforce\"" = yes || exit_status=1'\n-\t    fi\n-\n-\t    if test -n \""$old_library\""; then\n-\t      # Do each command in the old_postuninstall commands.\n-\t      func_execute_cmds \""$old_postuninstall_cmds\"" 'test \""$rmforce\"" = yes || exit_status=1'\n-\t    fi\n-\t    # FIXME: should reinstall the best remaining shared library.\n-\t    ;;\n-\t  esac\n-\tfi\n-\t;;\n-\n-      *.lo)\n-\t# Possibly a libtool object, so verify it.\n-\tif func_lalib_p \""$file\""; then\n-\n-\t  # Read the .lo file\n-\t  func_source $dir/$name\n-\n-\t  # Add PIC object to the list of files to remove.\n-\t  if test -n \""$pic_object\"" &&\n-\t     test \""$pic_object\"" != none; then\n-\t    func_append rmfiles \"" $dir/$pic_object\""\n-\t  fi\n-\n-\t  # Add non-PIC object to the list of files to remove.\n-\t  if test -n \""$non_pic_object\"" &&\n-\t     test \""$non_pic_object\"" != none; then\n-\t    func_append rmfiles \"" $dir/$non_pic_object\""\n-\t  fi\n-\tfi\n-\t;;\n-\n-      *)\n-\tif test \""$opt_mode\"" = clean ; then\n-\t  noexename=$name\n-\t  case $file in\n-\t  *.exe)\n-\t    func_stripname '' '.exe' \""$file\""\n-\t    file=$func_stripname_result\n-\t    func_stripname '' '.exe' \""$name\""\n-\t    noexename=$func_stripname_result\n-\t    # $file with .exe has already been added to rmfiles,\n-\t    # add $file without .exe\n-\t    func_append rmfiles \"" $file\""\n-\t    ;;\n-\t  esac\n-\t  # Do a test to see if this is a libtool program.\n-\t  if func_ltwrapper_p \""$file\""; then\n-\t    if func_ltwrapper_executable_p \""$file\""; then\n-\t      func_ltwrapper_scriptname \""$file\""\n-\t      relink_command=\n-\t      func_source $func_ltwrapper_scriptname_result\n-\t      func_append rmfiles \"" $func_ltwrapper_scriptname_result\""\n-\t    else\n-\t      relink_command=\n-\t      func_source $dir/$noexename\n-\t    fi\n-\n-\t    # note $name still contains .exe if it was in $file originally\n-\t    # as does the version of $file that was added into $rmfiles\n-\t    func_append rmfiles \"" $odir/$name $odir/${name}S.${objext}\""\n-\t    if test \""$fast_install\"" = yes && test -n \""$relink_command\""; then\n-\t      func_append rmfiles \"" $odir/lt-$name\""\n-\t    fi\n-\t    if test \""X$noexename\"" != \""X$name\"" ; then\n-\t      func_append rmfiles \"" $odir/lt-${noexename}.c\""\n-\t    fi\n-\t  fi\n-\tfi\n-\t;;\n-      esac\n-      func_show_eval \""$RM $rmfiles\"" 'exit_status=1'\n-    done\n-\n-    # Try to remove the ${objdir}s in the directories where we deleted files\n-    for dir in $rmdirs; do\n-      if test -d \""$dir\""; then\n-\tfunc_show_eval \""rmdir $dir >/dev/null 2>&1\""\n-      fi\n-    done\n-\n-    exit $exit_status\n-}\n-\n-{ test \""$opt_mode\"" = uninstall || test \""$opt_mode\"" = clean; } &&\n-    func_mode_uninstall ${1+\""$@\""}\n-\n-test -z \""$opt_mode\"" && {\n-  help=\""$generic_help\""\n-  func_fatal_help \""you must specify a MODE\""\n-}\n-\n-test -z \""$exec_cmd\"" && \\\n-  func_fatal_help \""invalid operation mode \\`$opt_mode'\""\n-\n-if test -n \""$exec_cmd\""; then\n-  eval exec \""$exec_cmd\""\n-  exit $EXIT_FAILURE\n-fi\n-\n-exit $exit_status\n-\n-\n-# The TAGs below are defined such that we never get into a situation\n-# in which we disable both kinds of libraries.  Given conflicting\n-# choices, we go for a static library, that is the most portable,\n-# since we can't tell whether shared libraries were disabled because\n-# the user asked for that or because the platform doesn't support\n-# them.  This is particularly important on AIX, because we don't\n-# support having both static and shared libraries enabled at the same\n-# time on that platform, so we default to a shared-only configuration.\n-# If a disable-shared tag is given, we'll fallback to a static-only\n-# configuration.  But we'll never go from static-only to shared-only.\n-\n-# ### BEGIN LIBTOOL TAG CONFIG: disable-shared\n-build_libtool_libs=no\n-build_old_libs=yes\n-# ### END LIBTOOL TAG CONFIG: disable-shared\n-\n-# ### BEGIN LIBTOOL TAG CONFIG: disable-static\n-build_old_libs=`case $build_libtool_libs in yes) echo no;; *) echo yes;; esac`\n-# ### END LIBTOOL TAG CONFIG: disable-static\n-\n-# Local Variables:\n-# mode:shell-script\n-# sh-indentation:2\n-# End:\n-# vi:sw=2\n-\n""}<_**next**_>{""filename"": ""missing"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca%5E/missing"", ""patch"": ""@@ -1,215 +0,0 @@\n\n-#! /bin/sh\n-# Common wrapper for a few potentially missing GNU programs.\n-\n-scriptversion=2013-10-28.13; # UTC\n-\n-# Copyright (C) 1996-2013 Free Software Foundation, Inc.\n-# Originally written by Fran,cois Pinard <pinard@iro.umontreal.ca>, 1996.\n-\n-# This program is free software; you can redistribute it and/or modify\n-# it under the terms of the GNU General Public License as published by\n-# the Free Software Foundation; either version 2, or (at your option)\n-# any later version.\n-\n-# This program is distributed in the hope that it will be useful,\n-# but WITHOUT ANY WARRANTY; without even the implied warranty of\n-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n-# GNU General Public License for more details.\n-\n-# You should have received a copy of the GNU General Public License\n-# along with this program.  If not, see <http://www.gnu.org/licenses/>.\n-\n-# As a special exception to the GNU General Public License, if you\n-# distribute this file as part of a program that contains a\n-# configuration script generated by Autoconf, you may include it under\n-# the same distribution terms that you use for the rest of that program.\n-\n-if test $# -eq 0; then\n-  echo 1>&2 \""Try '$0 --help' for more information\""\n-  exit 1\n-fi\n-\n-case $1 in\n-\n-  --is-lightweight)\n-    # Used by our autoconf macros to check whether the available missing\n-    # script is modern enough.\n-    exit 0\n-    ;;\n-\n-  --run)\n-    # Back-compat with the calling convention used by older automake.\n-    shift\n-    ;;\n-\n-  -h|--h|--he|--hel|--help)\n-    echo \""\\\n-$0 [OPTION]... PROGRAM [ARGUMENT]...\n-\n-Run 'PROGRAM [ARGUMENT]...', returning a proper advice when this fails due\n-to PROGRAM being missing or too old.\n-\n-Options:\n-  -h, --help      display this help and exit\n-  -v, --version   output version information and exit\n-\n-Supported PROGRAM values:\n-  aclocal   autoconf  autoheader   autom4te  automake  makeinfo\n-  bison     yacc      flex         lex       help2man\n-\n-Version suffixes to PROGRAM as well as the prefixes 'gnu-', 'gnu', and\n-'g' are ignored when checking the name.\n-\n-Send bug reports to <bug-automake@gnu.org>.\""\n-    exit $?\n-    ;;\n-\n-  -v|--v|--ve|--ver|--vers|--versi|--versio|--version)\n-    echo \""missing $scriptversion (GNU Automake)\""\n-    exit $?\n-    ;;\n-\n-  -*)\n-    echo 1>&2 \""$0: unknown '$1' option\""\n-    echo 1>&2 \""Try '$0 --help' for more information\""\n-    exit 1\n-    ;;\n-\n-esac\n-\n-# Run the given program, remember its exit status.\n-\""$@\""; st=$?\n-\n-# If it succeeded, we are done.\n-test $st -eq 0 && exit 0\n-\n-# Also exit now if we it failed (or wasn't found), and '--version' was\n-# passed; such an option is passed most likely to detect whether the\n-# program is present and works.\n-case $2 in --version|--help) exit $st;; esac\n-\n-# Exit code 63 means version mismatch.  This often happens when the user\n-# tries to use an ancient version of a tool on a file that requires a\n-# minimum version.\n-if test $st -eq 63; then\n-  msg=\""probably too old\""\n-elif test $st -eq 127; then\n-  # Program was missing.\n-  msg=\""missing on your system\""\n-else\n-  # Program was found and executed, but failed.  Give up.\n-  exit $st\n-fi\n-\n-perl_URL=http://www.perl.org/\n-flex_URL=http://flex.sourceforge.net/\n-gnu_software_URL=http://www.gnu.org/software\n-\n-program_details ()\n-{\n-  case $1 in\n-    aclocal|automake)\n-      echo \""The '$1' program is part of the GNU Automake package:\""\n-      echo \""<$gnu_software_URL/automake>\""\n-      echo \""It also requires GNU Autoconf, GNU m4 and Perl in order to run:\""\n-      echo \""<$gnu_software_URL/autoconf>\""\n-      echo \""<$gnu_software_URL/m4/>\""\n-      echo \""<$perl_URL>\""\n-      ;;\n-    autoconf|autom4te|autoheader)\n-      echo \""The '$1' program is part of the GNU Autoconf package:\""\n-      echo \""<$gnu_software_URL/autoconf/>\""\n-      echo \""It also requires GNU m4 and Perl in order to run:\""\n-      echo \""<$gnu_software_URL/m4/>\""\n-      echo \""<$perl_URL>\""\n-      ;;\n-  esac\n-}\n-\n-give_advice ()\n-{\n-  # Normalize program name to check for.\n-  normalized_program=`echo \""$1\"" | sed '\n-    s/^gnu-//; t\n-    s/^gnu//; t\n-    s/^g//; t'`\n-\n-  printf '%s\\n' \""'$1' is $msg.\""\n-\n-  configure_deps=\""'configure.ac' or m4 files included by 'configure.ac'\""\n-  case $normalized_program in\n-    autoconf*)\n-      echo \""You should only need it if you modified 'configure.ac',\""\n-      echo \""or m4 files included by it.\""\n-      program_details 'autoconf'\n-      ;;\n-    autoheader*)\n-      echo \""You should only need it if you modified 'acconfig.h' or\""\n-      echo \""$configure_deps.\""\n-      program_details 'autoheader'\n-      ;;\n-    automake*)\n-      echo \""You should only need it if you modified 'Makefile.am' or\""\n-      echo \""$configure_deps.\""\n-      program_details 'automake'\n-      ;;\n-    aclocal*)\n-      echo \""You should only need it if you modified 'acinclude.m4' or\""\n-      echo \""$configure_deps.\""\n-      program_details 'aclocal'\n-      ;;\n-   autom4te*)\n-      echo \""You might have modified some maintainer files that require\""\n-      echo \""the 'autom4te' program to be rebuilt.\""\n-      program_details 'autom4te'\n-      ;;\n-    bison*|yacc*)\n-      echo \""You should only need it if you modified a '.y' file.\""\n-      echo \""You may want to install the GNU Bison package:\""\n-      echo \""<$gnu_software_URL/bison/>\""\n-      ;;\n-    lex*|flex*)\n-      echo \""You should only need it if you modified a '.l' file.\""\n-      echo \""You may want to install the Fast Lexical Analyzer package:\""\n-      echo \""<$flex_URL>\""\n-      ;;\n-    help2man*)\n-      echo \""You should only need it if you modified a dependency\"" \\\n-           \""of a man page.\""\n-      echo \""You may want to install the GNU Help2man package:\""\n-      echo \""<$gnu_software_URL/help2man/>\""\n-    ;;\n-    makeinfo*)\n-      echo \""You should only need it if you modified a '.texi' file, or\""\n-      echo \""any other file indirectly affecting the aspect of the manual.\""\n-      echo \""You might want to install the Texinfo package:\""\n-      echo \""<$gnu_software_URL/texinfo/>\""\n-      echo \""The spurious makeinfo call might also be the consequence of\""\n-      echo \""using a buggy 'make' (AIX, DU, IRIX), in which case you might\""\n-      echo \""want to install GNU make:\""\n-      echo \""<$gnu_software_URL/make/>\""\n-      ;;\n-    *)\n-      echo \""You might have modified some files without having the proper\""\n-      echo \""tools for further handling them.  Check the 'README' file, it\""\n-      echo \""often tells you about the needed prerequisites for installing\""\n-      echo \""this package.  You may also peek at any GNU archive site, in\""\n-      echo \""case some other package contains this missing '$1' program.\""\n-      ;;\n-  esac\n-}\n-\n-give_advice \""$1\"" | sed -e '1s/^/WARNING: /' \\\n-                       -e '2,$s/^/         /' >&2\n-\n-# Propagate the correct exit status (expected to be 127 for a program\n-# not found, 63 for a program that failed due to version mismatch).\n-exit $st\n-\n-# Local variables:\n-# eval: (add-hook 'write-file-hooks 'time-stamp)\n-# time-stamp-start: \""scriptversion=\""\n-# time-stamp-format: \""%:y-%02m-%02d.%02H\""\n-# time-stamp-time-zone: \""UTC\""\n-# time-stamp-end: \""; # UTC\""\n-# End:\n""}<_**next**_>{""filename"": ""png.5"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/png.5"", ""patch"": ""@@ -1,4 +1,4 @@\n\n-.TH PNG 5 \""March 6, 2014\""\n+.TH PNG 5 \""December 3, 2015\""\n .SH NAME\n png \\- Portable Network Graphics (PNG) format\n .SH DESCRIPTION\n@@ -27,7 +27,7 @@\n\n PNG 1.2 specification, July 1999:\n .IP\n .br\n-http://www.libpng.org/pub/png\n+http://png-mng.sourceforge.net/pub/png/spec/1.2/\n .LP\n PNG 1.0 specification, October 1996:\n .IP\n@@ -39,7 +39,7 @@\n\n .br\n or (as a W3C Recommendation) at\n .br\n-http://www.w3.org/TR/REC-png.html\n+http://www.w3.org/TR/REC-png-961001\n .SH AUTHORS\n This man page: Glenn Randers-Pehrson\n .LP\n""}<_**next**_>{""filename"": ""png.c"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/png.c"", ""patch"": ""@@ -1,8 +1,8 @@\n\n \n /* png.c - location for general purpose libpng functions\n  *\n- * Last changed in libpng 1.6.9 [February 6, 2014]\n- * Copyright (c) 1998-2014 Glenn Randers-Pehrson\n+ * Last changed in libpng 1.6.19 [November 12, 2015]\n+ * Copyright (c) 1998-2015 Glenn Randers-Pehrson\n  * (Version 0.96 Copyright (c) 1996, 1997 Andreas Dilger)\n  * (Version 0.88 Copyright (c) 1995, 1996 Guy Eric Schalnat, Group 42, Inc.)\n  *\n@@ -14,7 +14,7 @@\n\n #include \""pngpriv.h\""\n \n /* Generate a compiler error if there is an old png.h in the search path. */\n-typedef png_libpng_version_1_6_10 Your_png_h_is_not_version_1_6_10;\n+typedef png_libpng_version_1_6_20 Your_png_h_is_not_version_1_6_20;\n \n /* Tells libpng that we have already handled the first \""num_bytes\"" bytes\n  * of the PNG file signature.  If the PNG data is embedded into another\n@@ -26,15 +26,20 @@\n\n void PNGAPI\n png_set_sig_bytes(png_structrp png_ptr, int num_bytes)\n {\n+   unsigned int nb = (unsigned int)num_bytes;\n+\n    png_debug(1, \""in png_set_sig_bytes\"");\n \n    if (png_ptr == NULL)\n       return;\n \n-   if (num_bytes > 8)\n+   if (num_bytes < 0)\n+      nb = 0;\n+\n+   if (nb > 8)\n       png_error(png_ptr, \""Too many bytes for PNG signature\"");\n \n-   png_ptr->sig_bytes = (png_byte)(num_bytes < 0 ? 0 : num_bytes);\n+   png_ptr->sig_bytes = (png_byte)nb;\n }\n \n /* Checks whether the supplied bytes match the PNG signature.  We allow\n@@ -65,7 +70,7 @@\n\n    return ((int)(memcmp(&sig[start], &png_signature[start], num_to_check)));\n }\n \n-#endif /* PNG_READ_SUPPORTED */\n+#endif /* READ */\n \n #if defined(PNG_READ_SUPPORTED) || defined(PNG_WRITE_SUPPORTED)\n /* Function to allocate memory for zlib */\n@@ -101,7 +106,7 @@\n\n void /* PRIVATE */\n png_reset_crc(png_structrp png_ptr)\n {\n-   /* The cast is safe because the crc is a 32 bit value. */\n+   /* The cast is safe because the crc is a 32-bit value. */\n    png_ptr->crc = (png_uint_32)crc32(0, Z_NULL, 0);\n }\n \n@@ -115,7 +120,7 @@\n\n {\n    int need_crc = 1;\n \n-   if (PNG_CHUNK_ANCILLARY(png_ptr->chunk_name))\n+   if (PNG_CHUNK_ANCILLARY(png_ptr->chunk_name) != 0)\n    {\n       if ((png_ptr->flags & PNG_FLAG_CRC_ANCILLARY_MASK) ==\n           (PNG_FLAG_CRC_ANCILLARY_USE | PNG_FLAG_CRC_ANCILLARY_NOWARN))\n@@ -124,24 +129,26 @@\n\n \n    else /* critical */\n    {\n-      if (png_ptr->flags & PNG_FLAG_CRC_CRITICAL_IGNORE)\n+      if ((png_ptr->flags & PNG_FLAG_CRC_CRITICAL_IGNORE) != 0)\n          need_crc = 0;\n    }\n \n    /* 'uLong' is defined in zlib.h as unsigned long; this means that on some\n-    * systems it is a 64 bit value.  crc32, however, returns 32 bits so the\n+    * systems it is a 64-bit value.  crc32, however, returns 32 bits so the\n     * following cast is safe.  'uInt' may be no more than 16 bits, so it is\n     * necessary to perform a loop here.\n     */\n-   if (need_crc && length > 0)\n+   if (need_crc != 0 && length > 0)\n    {\n       uLong crc = png_ptr->crc; /* Should never issue a warning */\n \n       do\n       {\n          uInt safe_length = (uInt)length;\n+#ifndef __COVERITY__\n          if (safe_length == 0)\n             safe_length = (uInt)-1; /* evil, but safe */\n+#endif\n \n          crc = crc32(crc, ptr, safe_length);\n \n@@ -165,53 +172,51 @@\n\n int\n png_user_version_check(png_structrp png_ptr, png_const_charp user_png_ver)\n {\n-   if (user_png_ver)\n+     /* Libpng versions 1.0.0 and later are binary compatible if the version\n+      * string matches through the second '.'; we must recompile any\n+      * applications that use any older library version.\n+      */\n+\n+   if (user_png_ver != NULL)\n    {\n-      int i = 0;\n+      int i = -1;\n+      int found_dots = 0;\n \n       do\n       {\n-         if (user_png_ver[i] != png_libpng_ver[i])\n+         i++;\n+         if (user_png_ver[i] != PNG_LIBPNG_VER_STRING[i])\n             png_ptr->flags |= PNG_FLAG_LIBRARY_MISMATCH;\n-      } while (png_libpng_ver[i++]);\n+         if (user_png_ver[i] == '.')\n+            found_dots++;\n+      } while (found_dots < 2 && user_png_ver[i] != 0 &&\n+            PNG_LIBPNG_VER_STRING[i] != 0);\n    }\n \n    else\n       png_ptr->flags |= PNG_FLAG_LIBRARY_MISMATCH;\n \n-   if (png_ptr->flags & PNG_FLAG_LIBRARY_MISMATCH)\n+   if ((png_ptr->flags & PNG_FLAG_LIBRARY_MISMATCH) != 0)\n    {\n-     /* Libpng 0.90 and later are binary incompatible with libpng 0.89, so\n-      * we must recompile any applications that use any older library version.\n-      * For versions after libpng 1.0, we will be compatible, so we need\n-      * only check the first and third digits (note that when we reach version\n-      * 1.10 we will need to check the fourth symbol, namely user_png_ver[3]).\n-      */\n-      if (user_png_ver == NULL || user_png_ver[0] != png_libpng_ver[0] ||\n-          (user_png_ver[0] == '1' && (user_png_ver[2] != png_libpng_ver[2] ||\n-          user_png_ver[3] != png_libpng_ver[3])) ||\n-          (user_png_ver[0] == '0' && user_png_ver[2] < '9'))\n-      {\n #ifdef PNG_WARNINGS_SUPPORTED\n-         size_t pos = 0;\n-         char m[128];\n+      size_t pos = 0;\n+      char m[128];\n \n-         pos = png_safecat(m, (sizeof m), pos,\n-             \""Application built with libpng-\"");\n-         pos = png_safecat(m, (sizeof m), pos, user_png_ver);\n-         pos = png_safecat(m, (sizeof m), pos, \"" but running with \"");\n-         pos = png_safecat(m, (sizeof m), pos, png_libpng_ver);\n-         PNG_UNUSED(pos)\n+      pos = png_safecat(m, (sizeof m), pos,\n+          \""Application built with libpng-\"");\n+      pos = png_safecat(m, (sizeof m), pos, user_png_ver);\n+      pos = png_safecat(m, (sizeof m), pos, \"" but running with \"");\n+      pos = png_safecat(m, (sizeof m), pos, PNG_LIBPNG_VER_STRING);\n+      PNG_UNUSED(pos)\n \n-         png_warning(png_ptr, m);\n+      png_warning(png_ptr, m);\n #endif\n \n #ifdef PNG_ERROR_NUMBERS_SUPPORTED\n-         png_ptr->flags = 0;\n+      png_ptr->flags = 0;\n #endif\n \n-         return 0;\n-      }\n+      return 0;\n    }\n \n    /* Success return. */\n@@ -243,15 +248,15 @@\n\n       create_struct.user_height_max = PNG_USER_HEIGHT_MAX;\n \n #     ifdef PNG_USER_CHUNK_CACHE_MAX\n-         /* Added at libpng-1.2.43 and 1.4.0 */\n-         create_struct.user_chunk_cache_max = PNG_USER_CHUNK_CACHE_MAX;\n+      /* Added at libpng-1.2.43 and 1.4.0 */\n+      create_struct.user_chunk_cache_max = PNG_USER_CHUNK_CACHE_MAX;\n #     endif\n \n #     ifdef PNG_USER_CHUNK_MALLOC_MAX\n-         /* Added at libpng-1.2.43 and 1.4.1, required only for read but exists\n-          * in png_struct regardless.\n-          */\n-         create_struct.user_chunk_malloc_max = PNG_USER_CHUNK_MALLOC_MAX;\n+      /* Added at libpng-1.2.43 and 1.4.1, required only for read but exists\n+       * in png_struct regardless.\n+       */\n+      create_struct.user_chunk_malloc_max = PNG_USER_CHUNK_MALLOC_MAX;\n #     endif\n #  endif\n \n@@ -275,7 +280,9 @@\n\n \n #  ifdef PNG_SETJMP_SUPPORTED\n       if (!setjmp(create_jmp_buf))\n+#  endif\n       {\n+#  ifdef PNG_SETJMP_SUPPORTED\n          /* Temporarily fake out the longjmp information until we have\n           * successfully completed this function.  This only works if we have\n           * setjmp() support compiled in, but it is safe - this stuff should\n@@ -284,12 +291,10 @@\n\n          create_struct.jmp_buf_ptr = &create_jmp_buf;\n          create_struct.jmp_buf_size = 0; /*stack allocation*/\n          create_struct.longjmp_fn = longjmp;\n-#  else\n-      {\n #  endif\n          /* Call the general version checker (shared with read and write code):\n           */\n-         if (png_user_version_check(&create_struct, user_png_ver))\n+         if (png_user_version_check(&create_struct, user_png_ver) != 0)\n          {\n             png_structrp png_ptr = png_voidcast(png_structrp,\n                png_malloc_warn(&create_struct, (sizeof *png_ptr)));\n@@ -304,10 +309,10 @@\n\n                create_struct.zstream.opaque = png_ptr;\n \n #              ifdef PNG_SETJMP_SUPPORTED\n-                  /* Eliminate the local error handling: */\n-                  create_struct.jmp_buf_ptr = NULL;\n-                  create_struct.jmp_buf_size = 0;\n-                  create_struct.longjmp_fn = 0;\n+               /* Eliminate the local error handling: */\n+               create_struct.jmp_buf_ptr = NULL;\n+               create_struct.jmp_buf_size = 0;\n+               create_struct.longjmp_fn = 0;\n #              endif\n \n                *png_ptr = create_struct;\n@@ -413,6 +418,8 @@\n\n       free(info_ptr);\n       info_ptr = png_voidcast(png_inforp, png_malloc_base(NULL,\n          (sizeof *info_ptr)));\n+      if (info_ptr == NULL)\n+         return;\n       *ptr_ptr = info_ptr;\n    }\n \n@@ -451,42 +458,43 @@\n\n \n #ifdef PNG_TEXT_SUPPORTED\n    /* Free text item num or (if num == -1) all text items */\n-   if ((mask & PNG_FREE_TEXT) & info_ptr->free_me)\n+   if (info_ptr->text != 0 &&\n+       ((mask & PNG_FREE_TEXT) & info_ptr->free_me) != 0)\n    {\n       if (num != -1)\n       {\n-         if (info_ptr->text && info_ptr->text[num].key)\n-         {\n-            png_free(png_ptr, info_ptr->text[num].key);\n-            info_ptr->text[num].key = NULL;\n-         }\n+         png_free(png_ptr, info_ptr->text[num].key);\n+         info_ptr->text[num].key = NULL;\n       }\n \n       else\n       {\n          int i;\n+\n          for (i = 0; i < info_ptr->num_text; i++)\n-             png_free_data(png_ptr, info_ptr, PNG_FREE_TEXT, i);\n+            png_free(png_ptr, info_ptr->text[i].key);\n+\n          png_free(png_ptr, info_ptr->text);\n          info_ptr->text = NULL;\n-         info_ptr->num_text=0;\n+         info_ptr->num_text = 0;\n       }\n    }\n #endif\n \n #ifdef PNG_tRNS_SUPPORTED\n    /* Free any tRNS entry */\n-   if ((mask & PNG_FREE_TRNS) & info_ptr->free_me)\n+   if (((mask & PNG_FREE_TRNS) & info_ptr->free_me) != 0)\n    {\n+      info_ptr->valid &= ~PNG_INFO_tRNS;\n       png_free(png_ptr, info_ptr->trans_alpha);\n       info_ptr->trans_alpha = NULL;\n-      info_ptr->valid &= ~PNG_INFO_tRNS;\n+      info_ptr->num_trans = 0;\n    }\n #endif\n \n #ifdef PNG_sCAL_SUPPORTED\n    /* Free any sCAL entry */\n-   if ((mask & PNG_FREE_SCAL) & info_ptr->free_me)\n+   if (((mask & PNG_FREE_SCAL) & info_ptr->free_me) != 0)\n    {\n       png_free(png_ptr, info_ptr->scal_s_width);\n       png_free(png_ptr, info_ptr->scal_s_height);\n@@ -498,20 +506,20 @@\n\n \n #ifdef PNG_pCAL_SUPPORTED\n    /* Free any pCAL entry */\n-   if ((mask & PNG_FREE_PCAL) & info_ptr->free_me)\n+   if (((mask & PNG_FREE_PCAL) & info_ptr->free_me) != 0)\n    {\n       png_free(png_ptr, info_ptr->pcal_purpose);\n       png_free(png_ptr, info_ptr->pcal_units);\n       info_ptr->pcal_purpose = NULL;\n       info_ptr->pcal_units = NULL;\n+\n       if (info_ptr->pcal_params != NULL)\n          {\n-            unsigned int i;\n+            int i;\n+\n             for (i = 0; i < info_ptr->pcal_nparams; i++)\n-            {\n                png_free(png_ptr, info_ptr->pcal_params[i]);\n-               info_ptr->pcal_params[i] = NULL;\n-            }\n+\n             png_free(png_ptr, info_ptr->pcal_params);\n             info_ptr->pcal_params = NULL;\n          }\n@@ -521,7 +529,7 @@\n\n \n #ifdef PNG_iCCP_SUPPORTED\n    /* Free any profile entry */\n-   if ((mask & PNG_FREE_ICCP) & info_ptr->free_me)\n+   if (((mask & PNG_FREE_ICCP) & info_ptr->free_me) != 0)\n    {\n       png_free(png_ptr, info_ptr->iccp_name);\n       png_free(png_ptr, info_ptr->iccp_profile);\n@@ -533,68 +541,62 @@\n\n \n #ifdef PNG_sPLT_SUPPORTED\n    /* Free a given sPLT entry, or (if num == -1) all sPLT entries */\n-   if ((mask & PNG_FREE_SPLT) & info_ptr->free_me)\n+   if (info_ptr->splt_palettes != 0 &&\n+       ((mask & PNG_FREE_SPLT) & info_ptr->free_me) != 0)\n    {\n       if (num != -1)\n       {\n-         if (info_ptr->splt_palettes)\n-         {\n-            png_free(png_ptr, info_ptr->splt_palettes[num].name);\n-            png_free(png_ptr, info_ptr->splt_palettes[num].entries);\n-            info_ptr->splt_palettes[num].name = NULL;\n-            info_ptr->splt_palettes[num].entries = NULL;\n-         }\n-      }\n-\n-      else\n-      {\n-         if (info_ptr->splt_palettes_num)\n-         {\n-            int i;\n-            for (i = 0; i < info_ptr->splt_palettes_num; i++)\n-               png_free_data(png_ptr, info_ptr, PNG_FREE_SPLT, (int)i);\n-\n-            png_free(png_ptr, info_ptr->splt_palettes);\n-            info_ptr->splt_palettes = NULL;\n-            info_ptr->splt_palettes_num = 0;\n-         }\n-         info_ptr->valid &= ~PNG_INFO_sPLT;\n-      }\n-   }\n-#endif\n-\n-#ifdef PNG_STORE_UNKNOWN_CHUNKS_SUPPORTED\n-   if ((mask & PNG_FREE_UNKN) & info_ptr->free_me)\n-   {\n-      if (num != -1)\n-      {\n-          if (info_ptr->unknown_chunks)\n-          {\n-             png_free(png_ptr, info_ptr->unknown_chunks[num].data);\n-             info_ptr->unknown_chunks[num].data = NULL;\n-          }\n+         png_free(png_ptr, info_ptr->splt_palettes[num].name);\n+         png_free(png_ptr, info_ptr->splt_palettes[num].entries);\n+         info_ptr->splt_palettes[num].name = NULL;\n+         info_ptr->splt_palettes[num].entries = NULL;\n       }\n \n       else\n       {\n          int i;\n \n-         if (info_ptr->unknown_chunks_num)\n+         for (i = 0; i < info_ptr->splt_palettes_num; i++)\n          {\n-            for (i = 0; i < info_ptr->unknown_chunks_num; i++)\n-               png_free_data(png_ptr, info_ptr, PNG_FREE_UNKN, (int)i);\n-\n-            png_free(png_ptr, info_ptr->unknown_chunks);\n-            info_ptr->unknown_chunks = NULL;\n-            info_ptr->unknown_chunks_num = 0;\n+            png_free(png_ptr, info_ptr->splt_palettes[i].name);\n+            png_free(png_ptr, info_ptr->splt_palettes[i].entries);\n          }\n+\n+         png_free(png_ptr, info_ptr->splt_palettes);\n+         info_ptr->splt_palettes = NULL;\n+         info_ptr->splt_palettes_num = 0;\n+         info_ptr->valid &= ~PNG_INFO_sPLT;\n+      }\n+   }\n+#endif\n+\n+#ifdef PNG_STORE_UNKNOWN_CHUNKS_SUPPORTED\n+   if (info_ptr->unknown_chunks != 0 &&\n+       ((mask & PNG_FREE_UNKN) & info_ptr->free_me) != 0)\n+   {\n+      if (num != -1)\n+      {\n+          png_free(png_ptr, info_ptr->unknown_chunks[num].data);\n+          info_ptr->unknown_chunks[num].data = NULL;\n+      }\n+\n+      else\n+      {\n+         int i;\n+\n+         for (i = 0; i < info_ptr->unknown_chunks_num; i++)\n+            png_free(png_ptr, info_ptr->unknown_chunks[i].data);\n+\n+         png_free(png_ptr, info_ptr->unknown_chunks);\n+         info_ptr->unknown_chunks = NULL;\n+         info_ptr->unknown_chunks_num = 0;\n       }\n    }\n #endif\n \n #ifdef PNG_hIST_SUPPORTED\n    /* Free any hIST entry */\n-   if ((mask & PNG_FREE_HIST)  & info_ptr->free_me)\n+   if (((mask & PNG_FREE_HIST) & info_ptr->free_me) != 0)\n    {\n       png_free(png_ptr, info_ptr->hist);\n       info_ptr->hist = NULL;\n@@ -603,7 +605,7 @@\n\n #endif\n \n    /* Free any PLTE entry that was internally allocated */\n-   if ((mask & PNG_FREE_PLTE) & info_ptr->free_me)\n+   if (((mask & PNG_FREE_PLTE) & info_ptr->free_me) != 0)\n    {\n       png_free(png_ptr, info_ptr->palette);\n       info_ptr->palette = NULL;\n@@ -613,16 +615,14 @@\n\n \n #ifdef PNG_INFO_IMAGE_SUPPORTED\n    /* Free any image bits attached to the info structure */\n-   if ((mask & PNG_FREE_ROWS) & info_ptr->free_me)\n+   if (((mask & PNG_FREE_ROWS) & info_ptr->free_me) != 0)\n    {\n-      if (info_ptr->row_pointers)\n+      if (info_ptr->row_pointers != 0)\n       {\n          png_uint_32 row;\n          for (row = 0; row < info_ptr->height; row++)\n-         {\n             png_free(png_ptr, info_ptr->row_pointers[row]);\n-            info_ptr->row_pointers[row] = NULL;\n-         }\n+\n          png_free(png_ptr, info_ptr->row_pointers);\n          info_ptr->row_pointers = NULL;\n       }\n@@ -635,7 +635,7 @@\n\n \n    info_ptr->free_me &= ~mask;\n }\n-#endif /* defined(PNG_READ_SUPPORTED) || defined(PNG_WRITE_SUPPORTED) */\n+#endif /* READ || WRITE */\n \n /* This function returns a pointer to the io_ptr associated with the user\n  * functions.  The application should free any memory associated with this\n@@ -670,22 +670,23 @@\n\n }\n #  endif\n \n-#ifdef PNG_SAVE_INT_32_SUPPORTED\n-/* The png_save_int_32 function assumes integers are stored in two's\n- * complement format.  If this isn't the case, then this routine needs to\n- * be modified to write data in two's complement format.  Note that,\n- * the following works correctly even if png_int_32 has more than 32 bits\n- * (compare the more complex code required on read for sign extension.)\n+#  ifdef PNG_SAVE_INT_32_SUPPORTED\n+/* PNG signed integers are saved in 32-bit 2's complement format.  ANSI C-90\n+ * defines a cast of a signed integer to an unsigned integer either to preserve\n+ * the value, if it is positive, or to calculate:\n+ *\n+ *     (UNSIGNED_MAX+1) + integer\n+ *\n+ * Where UNSIGNED_MAX is the appropriate maximum unsigned value, so when the\n+ * negative integral value is added the result will be an unsigned value\n+ * correspnding to the 2's complement representation.\n  */\n void PNGAPI\n png_save_int_32(png_bytep buf, png_int_32 i)\n {\n-   buf[0] = (png_byte)((i >> 24) & 0xff);\n-   buf[1] = (png_byte)((i >> 16) & 0xff);\n-   buf[2] = (png_byte)((i >> 8) & 0xff);\n-   buf[3] = (png_byte)(i & 0xff);\n+   png_save_uint_32(buf, i);\n }\n-#endif\n+#  endif\n \n #  ifdef PNG_TIME_RFC1123_SUPPORTED\n /* Convert the supplied time into an RFC 1123 string suitable for use in\n@@ -729,6 +730,7 @@\n\n       APPEND(':');\n       APPEND_NUMBER(PNG_NUMBER_FORMAT_02u, (unsigned)ptime->second);\n       APPEND_STRING(\"" +0000\""); /* This reliably terminates the buffer */\n+      PNG_UNUSED (pos)\n \n #     undef APPEND\n #     undef APPEND_NUMBER\n@@ -738,7 +740,7 @@\n\n    return 1;\n }\n \n-#     if PNG_LIBPNG_VER < 10700\n+#    if PNG_LIBPNG_VER < 10700\n /* To do: remove the following from libpng-1.7 */\n /* Original API that uses a private buffer in png_struct.\n  * Deprecated because it causes png_struct to carry a spurious temporary\n@@ -750,7 +752,7 @@\n\n    if (png_ptr != NULL)\n    {\n       /* The only failure above if png_ptr != NULL is from an invalid ptime */\n-      if (!png_convert_to_rfc1123_buffer(png_ptr->time_buffer, ptime))\n+      if (png_convert_to_rfc1123_buffer(png_ptr->time_buffer, ptime) == 0)\n          png_warning(png_ptr, \""Ignoring invalid time value\"");\n \n       else\n@@ -759,10 +761,10 @@\n\n \n    return NULL;\n }\n-#     endif\n-#  endif /* PNG_TIME_RFC1123_SUPPORTED */\n+#    endif /* LIBPNG_VER < 10700 */\n+#  endif /* TIME_RFC1123 */\n \n-#endif /* defined(PNG_READ_SUPPORTED) || defined(PNG_WRITE_SUPPORTED) */\n+#endif /* READ || WRITE */\n \n png_const_charp PNGAPI\n png_get_copyright(png_const_structrp png_ptr)\n@@ -773,14 +775,14 @@\n\n #else\n #  ifdef __STDC__\n    return PNG_STRING_NEWLINE \\\n-     \""libpng version 1.6.10 - March 6, 2014\"" PNG_STRING_NEWLINE \\\n-     \""Copyright (c) 1998-2014 Glenn Randers-Pehrson\"" PNG_STRING_NEWLINE \\\n-     \""Copyright (c) 1996-1997 Andreas Dilger\"" PNG_STRING_NEWLINE \\\n-     \""Copyright (c) 1995-1996 Guy Eric Schalnat, Group 42, Inc.\"" \\\n-     PNG_STRING_NEWLINE;\n+      \""libpng version 1.6.20 - December 3, 2015\"" PNG_STRING_NEWLINE \\\n+      \""Copyright (c) 1998-2015 Glenn Randers-Pehrson\"" PNG_STRING_NEWLINE \\\n+      \""Copyright (c) 1996-1997 Andreas Dilger\"" PNG_STRING_NEWLINE \\\n+      \""Copyright (c) 1995-1996 Guy Eric Schalnat, Group 42, Inc.\"" \\\n+      PNG_STRING_NEWLINE;\n #  else\n-      return \""libpng version 1.6.10 - March 6, 2014\\\n-      Copyright (c) 1998-2014 Glenn Randers-Pehrson\\\n+   return \""libpng version 1.6.20 - December 3, 2015\\\n+      Copyright (c) 1998-2015 Glenn Randers-Pehrson\\\n       Copyright (c) 1996-1997 Andreas Dilger\\\n       Copyright (c) 1995-1996 Guy Eric Schalnat, Group 42, Inc.\"";\n #  endif\n@@ -818,9 +820,9 @@\n\n #ifdef __STDC__\n    return PNG_HEADER_VERSION_STRING\n #  ifndef PNG_READ_SUPPORTED\n-   \""     (NO READ SUPPORT)\""\n+      \"" (NO READ SUPPORT)\""\n #  endif\n-   PNG_STRING_NEWLINE;\n+      PNG_STRING_NEWLINE;\n #else\n    return PNG_HEADER_VERSION_STRING;\n #endif\n@@ -876,9 +878,9 @@\n\n \n    for (i = 0, v = 0; i < num_palette; i++, v += color_inc)\n    {\n-      palette[i].red = (png_byte)v;\n-      palette[i].green = (png_byte)v;\n-      palette[i].blue = (png_byte)v;\n+      palette[i].red = (png_byte)(v & 0xff);\n+      palette[i].green = (png_byte)(v & 0xff);\n+      palette[i].blue = (png_byte)(v & 0xff);\n    }\n }\n #endif\n@@ -904,7 +906,7 @@\n\n    {\n       p -= 5;\n \n-      if (!memcmp(chunk_name, p, 4))\n+      if (memcmp(chunk_name, p, 4) == 0)\n          return p[4];\n    }\n    while (p > p_end);\n@@ -941,7 +943,7 @@\n\n    /* WARNING: this resets the window bits to the maximum! */\n    return (inflateReset(&png_ptr->zstream));\n }\n-#endif /* PNG_READ_SUPPORTED */\n+#endif /* READ */\n \n /* This function was added to libpng-1.0.7 */\n png_uint_32 PNGAPI\n@@ -951,8 +953,6 @@\n\n    return((png_uint_32)PNG_LIBPNG_VER);\n }\n \n-\n-\n #if defined(PNG_READ_SUPPORTED) || defined(PNG_WRITE_SUPPORTED)\n /* Ensure that png_ptr->zstream.msg holds some appropriate error message string.\n  * If it doesn't 'ret' is used to set it to something appropriate, even in cases\n@@ -1046,8 +1046,8 @@\n\n    png_fixed_point gtest;\n \n    if ((colorspace->flags & PNG_COLORSPACE_HAVE_GAMMA) != 0 &&\n-      (!png_muldiv(&gtest, colorspace->gamma, PNG_FP_1, gAMA) ||\n-      png_gamma_significant(gtest)))\n+      (png_muldiv(&gtest, colorspace->gamma, PNG_FP_1, gAMA) == 0  ||\n+      png_gamma_significant(gtest) != 0))\n    {\n       /* Either this is an sRGB image, in which case the calculated gamma\n        * approximation should match, or this is an image with a profile and the\n@@ -1079,7 +1079,7 @@\n\n    png_colorspacerp colorspace, png_fixed_point gAMA)\n {\n    /* Changed in libpng-1.5.4 to limit the values to ensure overflow can't\n-    * occur.  Since the fixed point representation is assymetrical it is\n+    * occur.  Since the fixed point representation is asymetrical it is\n     * possible for 1/gamma to overflow the limit of 21474 and this means the\n     * gamma value must be at least 5/100000 and hence at most 20000.0.  For\n     * safety the limits here are a little narrower.  The values are 0.00016 to\n@@ -1095,19 +1095,20 @@\n\n       errmsg = \""gamma value out of range\"";\n \n #  ifdef PNG_READ_gAMA_SUPPORTED\n-      /* Allow the application to set the gamma value more than once */\n-      else if ((png_ptr->mode & PNG_IS_READ_STRUCT) != 0 &&\n-         (colorspace->flags & PNG_COLORSPACE_FROM_gAMA) != 0)\n-         errmsg = \""duplicate\"";\n+   /* Allow the application to set the gamma value more than once */\n+   else if ((png_ptr->mode & PNG_IS_READ_STRUCT) != 0 &&\n+      (colorspace->flags & PNG_COLORSPACE_FROM_gAMA) != 0)\n+      errmsg = \""duplicate\"";\n #  endif\n \n    /* Do nothing if the colorspace is already invalid */\n-   else if (colorspace->flags & PNG_COLORSPACE_INVALID)\n+   else if ((colorspace->flags & PNG_COLORSPACE_INVALID) != 0)\n       return;\n \n    else\n    {\n-      if (png_colorspace_check_gamma(png_ptr, colorspace, gAMA, 1/*from gAMA*/))\n+      if (png_colorspace_check_gamma(png_ptr, colorspace, gAMA,\n+          1/*from gAMA*/) != 0)\n       {\n          /* Store this gamma value. */\n          colorspace->gamma = gAMA;\n@@ -1131,41 +1132,41 @@\n\n void /* PRIVATE */\n png_colorspace_sync_info(png_const_structrp png_ptr, png_inforp info_ptr)\n {\n-   if (info_ptr->colorspace.flags & PNG_COLORSPACE_INVALID)\n+   if ((info_ptr->colorspace.flags & PNG_COLORSPACE_INVALID) != 0)\n    {\n       /* Everything is invalid */\n       info_ptr->valid &= ~(PNG_INFO_gAMA|PNG_INFO_cHRM|PNG_INFO_sRGB|\n          PNG_INFO_iCCP);\n \n #     ifdef PNG_COLORSPACE_SUPPORTED\n-         /* Clean up the iCCP profile now if it won't be used. */\n-         png_free_data(png_ptr, info_ptr, PNG_FREE_ICCP, -1/*not used*/);\n+      /* Clean up the iCCP profile now if it won't be used. */\n+      png_free_data(png_ptr, info_ptr, PNG_FREE_ICCP, -1/*not used*/);\n #     else\n-         PNG_UNUSED(png_ptr)\n+      PNG_UNUSED(png_ptr)\n #     endif\n    }\n \n    else\n    {\n #     ifdef PNG_COLORSPACE_SUPPORTED\n-         /* Leave the INFO_iCCP flag set if the pngset.c code has already set\n-          * it; this allows a PNG to contain a profile which matches sRGB and\n-          * yet still have that profile retrievable by the application.\n-          */\n-         if (info_ptr->colorspace.flags & PNG_COLORSPACE_MATCHES_sRGB)\n-            info_ptr->valid |= PNG_INFO_sRGB;\n+      /* Leave the INFO_iCCP flag set if the pngset.c code has already set\n+       * it; this allows a PNG to contain a profile which matches sRGB and\n+       * yet still have that profile retrievable by the application.\n+       */\n+      if ((info_ptr->colorspace.flags & PNG_COLORSPACE_MATCHES_sRGB) != 0)\n+         info_ptr->valid |= PNG_INFO_sRGB;\n \n-         else\n-            info_ptr->valid &= ~PNG_INFO_sRGB;\n+      else\n+         info_ptr->valid &= ~PNG_INFO_sRGB;\n \n-         if (info_ptr->colorspace.flags & PNG_COLORSPACE_HAVE_ENDPOINTS)\n-            info_ptr->valid |= PNG_INFO_cHRM;\n+      if ((info_ptr->colorspace.flags & PNG_COLORSPACE_HAVE_ENDPOINTS) != 0)\n+         info_ptr->valid |= PNG_INFO_cHRM;\n \n-         else\n-            info_ptr->valid &= ~PNG_INFO_cHRM;\n+      else\n+         info_ptr->valid &= ~PNG_INFO_cHRM;\n #     endif\n \n-      if (info_ptr->colorspace.flags & PNG_COLORSPACE_HAVE_GAMMA)\n+      if ((info_ptr->colorspace.flags & PNG_COLORSPACE_HAVE_GAMMA) != 0)\n          info_ptr->valid |= PNG_INFO_gAMA;\n \n       else\n@@ -1184,7 +1185,7 @@\n\n    png_colorspace_sync_info(png_ptr, info_ptr);\n }\n #endif\n-#endif\n+#endif /* GAMMA */\n \n #ifdef PNG_COLORSPACE_SUPPORTED\n /* Added at libpng-1.5.5 to support read and write of true CIEXYZ values for\n@@ -1198,22 +1199,28 @@\n\n    png_int_32 d, dwhite, whiteX, whiteY;\n \n    d = XYZ->red_X + XYZ->red_Y + XYZ->red_Z;\n-   if (!png_muldiv(&xy->redx, XYZ->red_X, PNG_FP_1, d)) return 1;\n-   if (!png_muldiv(&xy->redy, XYZ->red_Y, PNG_FP_1, d)) return 1;\n+   if (png_muldiv(&xy->redx, XYZ->red_X, PNG_FP_1, d) == 0)\n+      return 1;\n+   if (png_muldiv(&xy->redy, XYZ->red_Y, PNG_FP_1, d) == 0)\n+      return 1;\n    dwhite = d;\n    whiteX = XYZ->red_X;\n    whiteY = XYZ->red_Y;\n \n    d = XYZ->green_X + XYZ->green_Y + XYZ->green_Z;\n-   if (!png_muldiv(&xy->greenx, XYZ->green_X, PNG_FP_1, d)) return 1;\n-   if (!png_muldiv(&xy->greeny, XYZ->green_Y, PNG_FP_1, d)) return 1;\n+   if (png_muldiv(&xy->greenx, XYZ->green_X, PNG_FP_1, d) == 0)\n+      return 1;\n+   if (png_muldiv(&xy->greeny, XYZ->green_Y, PNG_FP_1, d) == 0)\n+      return 1;\n    dwhite += d;\n    whiteX += XYZ->green_X;\n    whiteY += XYZ->green_Y;\n \n    d = XYZ->blue_X + XYZ->blue_Y + XYZ->blue_Z;\n-   if (!png_muldiv(&xy->bluex, XYZ->blue_X, PNG_FP_1, d)) return 1;\n-   if (!png_muldiv(&xy->bluey, XYZ->blue_Y, PNG_FP_1, d)) return 1;\n+   if (png_muldiv(&xy->bluex, XYZ->blue_X, PNG_FP_1, d) == 0)\n+      return 1;\n+   if (png_muldiv(&xy->bluey, XYZ->blue_Y, PNG_FP_1, d) == 0)\n+      return 1;\n    dwhite += d;\n    whiteX += XYZ->blue_X;\n    whiteY += XYZ->blue_Y;\n@@ -1221,8 +1228,10 @@\n\n    /* The reference white is simply the sum of the end-point (X,Y,Z) vectors,\n     * thus:\n     */\n-   if (!png_muldiv(&xy->whitex, whiteX, PNG_FP_1, dwhite)) return 1;\n-   if (!png_muldiv(&xy->whitey, whiteY, PNG_FP_1, dwhite)) return 1;\n+   if (png_muldiv(&xy->whitex, whiteX, PNG_FP_1, dwhite) == 0)\n+      return 1;\n+   if (png_muldiv(&xy->whitey, whiteY, PNG_FP_1, dwhite) == 0)\n+      return 1;\n \n    return 0;\n }\n@@ -1320,7 +1329,7 @@\n\n     * (1/white-y), so we can immediately see that as white-y approaches 0 the\n     * accuracy inherent in the cHRM chunk drops off substantially.\n     *\n-    * libpng arithmetic: a simple invertion of the above equations\n+    * libpng arithmetic: a simple inversion of the above equations\n     * ------------------------------------------------------------\n     *\n     *    white_scale = 1/white-y\n@@ -1426,16 +1435,16 @@\n\n    /* By the argument, above overflow should be impossible here. The return\n     * value of 2 indicates an internal error to the caller.\n     */\n-   if (!png_muldiv(&left, xy->greenx-xy->bluex, xy->redy - xy->bluey, 7))\n+   if (png_muldiv(&left, xy->greenx-xy->bluex, xy->redy - xy->bluey, 7) == 0)\n       return 2;\n-   if (!png_muldiv(&right, xy->greeny-xy->bluey, xy->redx - xy->bluex, 7))\n+   if (png_muldiv(&right, xy->greeny-xy->bluey, xy->redx - xy->bluex, 7) == 0)\n       return 2;\n    denominator = left - right;\n \n    /* Now find the red numerator. */\n-   if (!png_muldiv(&left, xy->greenx-xy->bluex, xy->whitey-xy->bluey, 7))\n+   if (png_muldiv(&left, xy->greenx-xy->bluex, xy->whitey-xy->bluey, 7) == 0)\n       return 2;\n-   if (!png_muldiv(&right, xy->greeny-xy->bluey, xy->whitex-xy->bluex, 7))\n+   if (png_muldiv(&right, xy->greeny-xy->bluey, xy->whitex-xy->bluex, 7) == 0)\n       return 2;\n \n    /* Overflow is possible here and it indicates an extreme set of PNG cHRM\n@@ -1443,16 +1452,16 @@\n\n     * scale value because this allows us to delay the multiplication of white-y\n     * into the denominator, which tends to produce a small number.\n     */\n-   if (!png_muldiv(&red_inverse, xy->whitey, denominator, left-right) ||\n+   if (png_muldiv(&red_inverse, xy->whitey, denominator, left-right) == 0 ||\n        red_inverse <= xy->whitey /* r+g+b scales = white scale */)\n       return 1;\n \n    /* Similarly for green_inverse: */\n-   if (!png_muldiv(&left, xy->redy-xy->bluey, xy->whitex-xy->bluex, 7))\n+   if (png_muldiv(&left, xy->redy-xy->bluey, xy->whitex-xy->bluex, 7) == 0)\n       return 2;\n-   if (!png_muldiv(&right, xy->redx-xy->bluex, xy->whitey-xy->bluey, 7))\n+   if (png_muldiv(&right, xy->redx-xy->bluex, xy->whitey-xy->bluey, 7) == 0)\n       return 2;\n-   if (!png_muldiv(&green_inverse, xy->whitey, denominator, left-right) ||\n+   if (png_muldiv(&green_inverse, xy->whitey, denominator, left-right) == 0 ||\n        green_inverse <= xy->whitey)\n       return 1;\n \n@@ -1460,29 +1469,34 @@\n\n     * can still produce 0 for extreme cHRM values.\n     */\n    blue_scale = png_reciprocal(xy->whitey) - png_reciprocal(red_inverse) -\n-      png_reciprocal(green_inverse);\n-   if (blue_scale <= 0) return 1;\n+       png_reciprocal(green_inverse);\n+   if (blue_scale <= 0)\n+      return 1;\n \n \n    /* And fill in the png_XYZ: */\n-   if (!png_muldiv(&XYZ->red_X, xy->redx, PNG_FP_1, red_inverse)) return 1;\n-   if (!png_muldiv(&XYZ->red_Y, xy->redy, PNG_FP_1, red_inverse)) return 1;\n-   if (!png_muldiv(&XYZ->red_Z, PNG_FP_1 - xy->redx - xy->redy, PNG_FP_1,\n-      red_inverse))\n+   if (png_muldiv(&XYZ->red_X, xy->redx, PNG_FP_1, red_inverse) == 0)\n+      return 1;\n+   if (png_muldiv(&XYZ->red_Y, xy->redy, PNG_FP_1, red_inverse) == 0)\n+      return 1;\n+   if (png_muldiv(&XYZ->red_Z, PNG_FP_1 - xy->redx - xy->redy, PNG_FP_1,\n+       red_inverse) == 0)\n       return 1;\n \n-   if (!png_muldiv(&XYZ->green_X, xy->greenx, PNG_FP_1, green_inverse))\n+   if (png_muldiv(&XYZ->green_X, xy->greenx, PNG_FP_1, green_inverse) == 0)\n       return 1;\n-   if (!png_muldiv(&XYZ->green_Y, xy->greeny, PNG_FP_1, green_inverse))\n+   if (png_muldiv(&XYZ->green_Y, xy->greeny, PNG_FP_1, green_inverse) == 0)\n       return 1;\n-   if (!png_muldiv(&XYZ->green_Z, PNG_FP_1 - xy->greenx - xy->greeny, PNG_FP_1,\n-      green_inverse))\n+   if (png_muldiv(&XYZ->green_Z, PNG_FP_1 - xy->greenx - xy->greeny, PNG_FP_1,\n+       green_inverse) == 0)\n       return 1;\n \n-   if (!png_muldiv(&XYZ->blue_X, xy->bluex, blue_scale, PNG_FP_1)) return 1;\n-   if (!png_muldiv(&XYZ->blue_Y, xy->bluey, blue_scale, PNG_FP_1)) return 1;\n-   if (!png_muldiv(&XYZ->blue_Z, PNG_FP_1 - xy->bluex - xy->bluey, blue_scale,\n-      PNG_FP_1))\n+   if (png_muldiv(&XYZ->blue_X, xy->bluex, blue_scale, PNG_FP_1) == 0)\n+      return 1;\n+   if (png_muldiv(&XYZ->blue_Y, xy->bluey, blue_scale, PNG_FP_1) == 0)\n+      return 1;\n+   if (png_muldiv(&XYZ->blue_Z, PNG_FP_1 - xy->bluex - xy->bluey, blue_scale,\n+       PNG_FP_1) == 0)\n       return 1;\n \n    return 0; /*success*/\n@@ -1504,24 +1518,35 @@\n\n     * safe.\n     */\n    Y = XYZ->red_Y;\n-   if (0x7fffffff - Y < XYZ->green_X) return 1;\n+   if (0x7fffffff - Y < XYZ->green_X)\n+      return 1;\n    Y += XYZ->green_Y;\n-   if (0x7fffffff - Y < XYZ->blue_X) return 1;\n+   if (0x7fffffff - Y < XYZ->blue_X)\n+      return 1;\n    Y += XYZ->blue_Y;\n \n    if (Y != PNG_FP_1)\n    {\n-      if (!png_muldiv(&XYZ->red_X, XYZ->red_X, PNG_FP_1, Y)) return 1;\n-      if (!png_muldiv(&XYZ->red_Y, XYZ->red_Y, PNG_FP_1, Y)) return 1;\n-      if (!png_muldiv(&XYZ->red_Z, XYZ->red_Z, PNG_FP_1, Y)) return 1;\n+      if (png_muldiv(&XYZ->red_X, XYZ->red_X, PNG_FP_1, Y) == 0)\n+         return 1;\n+      if (png_muldiv(&XYZ->red_Y, XYZ->red_Y, PNG_FP_1, Y) == 0)\n+         return 1;\n+      if (png_muldiv(&XYZ->red_Z, XYZ->red_Z, PNG_FP_1, Y) == 0)\n+         return 1;\n \n-      if (!png_muldiv(&XYZ->green_X, XYZ->green_X, PNG_FP_1, Y)) return 1;\n-      if (!png_muldiv(&XYZ->green_Y, XYZ->green_Y, PNG_FP_1, Y)) return 1;\n-      if (!png_muldiv(&XYZ->green_Z, XYZ->green_Z, PNG_FP_1, Y)) return 1;\n+      if (png_muldiv(&XYZ->green_X, XYZ->green_X, PNG_FP_1, Y) == 0)\n+         return 1;\n+      if (png_muldiv(&XYZ->green_Y, XYZ->green_Y, PNG_FP_1, Y) == 0)\n+         return 1;\n+      if (png_muldiv(&XYZ->green_Z, XYZ->green_Z, PNG_FP_1, Y) == 0)\n+         return 1;\n \n-      if (!png_muldiv(&XYZ->blue_X, XYZ->blue_X, PNG_FP_1, Y)) return 1;\n-      if (!png_muldiv(&XYZ->blue_Y, XYZ->blue_Y, PNG_FP_1, Y)) return 1;\n-      if (!png_muldiv(&XYZ->blue_Z, XYZ->blue_Z, PNG_FP_1, Y)) return 1;\n+      if (png_muldiv(&XYZ->blue_X, XYZ->blue_X, PNG_FP_1, Y) == 0)\n+         return 1;\n+      if (png_muldiv(&XYZ->blue_Y, XYZ->blue_Y, PNG_FP_1, Y) == 0)\n+         return 1;\n+      if (png_muldiv(&XYZ->blue_Z, XYZ->blue_Z, PNG_FP_1, Y) == 0)\n+         return 1;\n    }\n \n    return 0;\n@@ -1531,14 +1556,16 @@\n\n png_colorspace_endpoints_match(const png_xy *xy1, const png_xy *xy2, int delta)\n {\n    /* Allow an error of +/-0.01 (absolute value) on each chromaticity */\n-   return !(PNG_OUT_OF_RANGE(xy1->whitex, xy2->whitex,delta) ||\n-      PNG_OUT_OF_RANGE(xy1->whitey, xy2->whitey,delta) ||\n-      PNG_OUT_OF_RANGE(xy1->redx,   xy2->redx,  delta) ||\n-      PNG_OUT_OF_RANGE(xy1->redy,   xy2->redy,  delta) ||\n-      PNG_OUT_OF_RANGE(xy1->greenx, xy2->greenx,delta) ||\n-      PNG_OUT_OF_RANGE(xy1->greeny, xy2->greeny,delta) ||\n-      PNG_OUT_OF_RANGE(xy1->bluex,  xy2->bluex, delta) ||\n-      PNG_OUT_OF_RANGE(xy1->bluey,  xy2->bluey, delta));\n+   if (PNG_OUT_OF_RANGE(xy1->whitex, xy2->whitex,delta) ||\n+       PNG_OUT_OF_RANGE(xy1->whitey, xy2->whitey,delta) ||\n+       PNG_OUT_OF_RANGE(xy1->redx,   xy2->redx,  delta) ||\n+       PNG_OUT_OF_RANGE(xy1->redy,   xy2->redy,  delta) ||\n+       PNG_OUT_OF_RANGE(xy1->greenx, xy2->greenx,delta) ||\n+       PNG_OUT_OF_RANGE(xy1->greeny, xy2->greeny,delta) ||\n+       PNG_OUT_OF_RANGE(xy1->bluex,  xy2->bluex, delta) ||\n+       PNG_OUT_OF_RANGE(xy1->bluey,  xy2->bluey, delta))\n+      return 0;\n+   return 1;\n }\n \n /* Added in libpng-1.6.0, a different check for the validity of a set of cHRM\n@@ -1559,13 +1586,15 @@\n\n \n    /* As a side-effect this routine also returns the XYZ endpoints. */\n    result = png_XYZ_from_xy(XYZ, xy);\n-   if (result) return result;\n+   if (result != 0)\n+      return result;\n \n    result = png_xy_from_XYZ(&xy_test, XYZ);\n-   if (result) return result;\n+   if (result != 0)\n+      return result;\n \n    if (png_colorspace_endpoints_match(xy, &xy_test,\n-      5/*actually, the math is pretty accurate*/))\n+       5/*actually, the math is pretty accurate*/) != 0)\n       return 0;\n \n    /* Too much slip */\n@@ -1582,10 +1611,12 @@\n\n    png_XYZ XYZtemp;\n \n    result = png_XYZ_normalize(XYZ);\n-   if (result) return result;\n+   if (result != 0)\n+      return result;\n \n    result = png_xy_from_XYZ(xy, XYZ);\n-   if (result) return result;\n+   if (result != 0)\n+      return result;\n \n    XYZtemp = *XYZ;\n    return png_colorspace_check_xy(&XYZtemp, xy);\n@@ -1606,19 +1637,21 @@\n\n    png_colorspacerp colorspace, const png_xy *xy, const png_XYZ *XYZ,\n    int preferred)\n {\n-   if (colorspace->flags & PNG_COLORSPACE_INVALID)\n+   if ((colorspace->flags & PNG_COLORSPACE_INVALID) != 0)\n       return 0;\n \n    /* The consistency check is performed on the chromaticities; this factors out\n     * variations because of the normalization (or not) of the end point Y\n     * values.\n     */\n-   if (preferred < 2 && (colorspace->flags & PNG_COLORSPACE_HAVE_ENDPOINTS))\n+   if (preferred < 2 &&\n+       (colorspace->flags & PNG_COLORSPACE_HAVE_ENDPOINTS) != 0)\n    {\n       /* The end points must be reasonably close to any we already have.  The\n        * following allows an error of up to +/-.001\n        */\n-      if (!png_colorspace_endpoints_match(xy, &colorspace->end_points_xy, 100))\n+      if (png_colorspace_endpoints_match(xy, &colorspace->end_points_xy,\n+          100) == 0)\n       {\n          colorspace->flags |= PNG_COLORSPACE_INVALID;\n          png_benign_error(png_ptr, \""inconsistent chromaticities\"");\n@@ -1626,7 +1659,7 @@\n\n       }\n \n       /* Only overwrite with preferred values */\n-      if (!preferred)\n+      if (preferred == 0)\n          return 1; /* ok, but no change */\n    }\n \n@@ -1637,7 +1670,7 @@\n\n    /* The end points are normally quoted to two decimal digits, so allow +/-0.01\n     * on this test.\n     */\n-   if (png_colorspace_endpoints_match(xy, &sRGB_xy, 1000))\n+   if (png_colorspace_endpoints_match(xy, &sRGB_xy, 1000) != 0)\n       colorspace->flags |= PNG_COLORSPACE_ENDPOINTS_MATCH_sRGB;\n \n    else\n@@ -1679,7 +1712,6 @@\n\n           */\n          colorspace->flags |= PNG_COLORSPACE_INVALID;\n          png_error(png_ptr, \""internal error checking chromaticities\"");\n-         break;\n    }\n \n    return 0; /* failed */\n@@ -1707,7 +1739,6 @@\n\n       default:\n          colorspace->flags |= PNG_COLORSPACE_INVALID;\n          png_error(png_ptr, \""internal error checking chromaticities\"");\n-         break;\n    }\n \n    return 0; /* failed */\n@@ -1765,7 +1796,7 @@\n\n    pos = png_safecat(message, (sizeof message), 0, \""profile '\""); /* 9 chars */\n    pos = png_safecat(message, pos+79, pos, name); /* Truncate to 79 chars */\n    pos = png_safecat(message, (sizeof message), pos, \""': \""); /* +2 = 90 */\n-   if (is_ICC_signature(value))\n+   if (is_ICC_signature(value) != 0)\n    {\n       /* So 'value' is at most 4 bytes and the following cast is safe */\n       png_icc_tag_name(message+pos, (png_uint_32)value);\n@@ -1789,7 +1820,7 @@\n\n    PNG_UNUSED(pos)\n \n    /* This is recoverable, but make it unconditionally an app_error on write to\n-    * avoid writing invalid ICC profiles into PNG files.  (I.e.  we handle them\n+    * avoid writing invalid ICC profiles into PNG files (i.e., we handle them\n     * on read, with a warning, but on write unless the app turns off\n     * application errors the PNG won't be written.)\n     */\n@@ -1808,7 +1839,7 @@\n\n    /* sRGB sets known gamma, end points and (from the chunk) intent. */\n    /* IMPORTANT: these are not necessarily the values found in an ICC profile\n     * because ICC profiles store values adapted to a D50 environment; it is\n-    * expected that the ICC profile mediaWhitePointTag will be D50, see the\n+    * expected that the ICC profile mediaWhitePointTag will be D50; see the\n     * checks and code elsewhere to understand this better.\n     *\n     * These XYZ values, which are accurate to 5dp, produce rgb to gray\n@@ -1826,7 +1857,7 @@\n\n    };\n \n    /* Do nothing if the colorspace is already invalidated. */\n-   if (colorspace->flags & PNG_COLORSPACE_INVALID)\n+   if ((colorspace->flags & PNG_COLORSPACE_INVALID) != 0)\n       return 0;\n \n    /* Check the intent, then check for existing settings.  It is valid for the\n@@ -1907,10 +1938,6 @@\n\n       return png_icc_profile_error(png_ptr, colorspace, name, profile_length,\n          \""too short\"");\n \n-   if (profile_length & 3)\n-      return png_icc_profile_error(png_ptr, colorspace, name, profile_length,\n-         \""invalid length\"");\n-\n    return 1;\n }\n \n@@ -1931,6 +1958,11 @@\n\n       return png_icc_profile_error(png_ptr, colorspace, name, temp,\n          \""length does not match profile\"");\n \n+   temp = (png_uint_32) (*(profile+8));\n+   if (temp > 3 && (profile_length & 3))\n+      return png_icc_profile_error(png_ptr, colorspace, name, profile_length,\n+         \""invalid length\"");\n+\n    temp = png_get_uint_32(profile+128); /* tag count: 12 bytes/tag */\n    if (temp > 357913930 || /* (2^32-4-132)/12: maximum possible tag count */\n       profile_length < 132+12*temp) /* truncated tag table */\n@@ -2004,13 +2036,13 @@\n\n    switch (temp)\n    {\n       case 0x52474220: /* 'RGB ' */\n-         if (!(color_type & PNG_COLOR_MASK_COLOR))\n+         if ((color_type & PNG_COLOR_MASK_COLOR) == 0)\n             return png_icc_profile_error(png_ptr, colorspace, name, temp,\n                \""RGB color space not permitted on grayscale PNG\"");\n          break;\n \n       case 0x47524159: /* 'GRAY' */\n-         if (color_type & PNG_COLOR_MASK_COLOR)\n+         if ((color_type & PNG_COLOR_MASK_COLOR) != 0)\n             return png_icc_profile_error(png_ptr, colorspace, name, temp,\n                \""Gray color space not permitted on RGB PNG\"");\n          break;\n@@ -2032,8 +2064,8 @@\n\n    temp = png_get_uint_32(profile+12); /* profile/device class */\n    switch (temp)\n    {\n-      case 0x73636E72: /* 'scnr' */\n-      case 0x6D6E7472: /* 'mntr' */\n+      case 0x73636e72: /* 'scnr' */\n+      case 0x6d6e7472: /* 'mntr' */\n       case 0x70727472: /* 'prtr' */\n       case 0x73706163: /* 'spac' */\n          /* All supported */\n@@ -2044,8 +2076,8 @@\n\n          return png_icc_profile_error(png_ptr, colorspace, name, temp,\n             \""invalid embedded Abstract ICC profile\"");\n \n-      case 0x6C696E6B: /* 'link' */\n-         /* DeviceLink profiles cannnot be interpreted in a non-device specific\n+      case 0x6c696e6b: /* 'link' */\n+         /* DeviceLink profiles cannot be interpreted in a non-device specific\n           * fashion, if an app uses the AToB0Tag in the profile the results are\n           * undefined unless the result is sent to the intended device,\n           * therefore a DeviceLink profile should not be found embedded in a\n@@ -2054,9 +2086,9 @@\n\n          return png_icc_profile_error(png_ptr, colorspace, name, temp,\n             \""unexpected DeviceLink ICC profile class\"");\n \n-      case 0x6E6D636C: /* 'nmcl' */\n+      case 0x6e6d636c: /* 'nmcl' */\n          /* A NamedColor profile is also device specific, however it doesn't\n-          * contain an AToB0 tag that is open to misintrepretation.  Almost\n+          * contain an AToB0 tag that is open to misinterpretation.  Almost\n           * certainly it will fail the tests below.\n           */\n          (void)png_icc_profile_error(png_ptr, NULL, name, temp,\n@@ -2080,8 +2112,8 @@\n\n    temp = png_get_uint_32(profile+20);\n    switch (temp)\n    {\n-      case 0x58595A20: /* 'XYZ ' */\n-      case 0x4C616220: /* 'Lab ' */\n+      case 0x58595a20: /* 'XYZ ' */\n+      case 0x4c616220: /* 'Lab ' */\n          break;\n \n       default:\n@@ -2138,6 +2170,7 @@\n\n }\n \n #ifdef PNG_sRGB_SUPPORTED\n+#if PNG_sRGB_PROFILE_CHECKS >= 0\n /* Information about the known ICC sRGB profiles */\n static const struct\n {\n@@ -2211,6 +2244,7 @@\n\n     * by sRGB (but maybe defined by a later ICC specification) the read of\n     * the profile will fail at that point.\n     */\n+\n    png_uint_32 length = 0;\n    png_uint_32 intent = 0x10000; /* invalid */\n #if PNG_sRGB_PROFILE_CHECKS > 1\n@@ -2218,6 +2252,13 @@\n\n #endif\n    unsigned int i;\n \n+#ifdef PNG_SET_OPTION_SUPPORTED\n+   /* First see if PNG_SKIP_sRGB_CHECK_PROFILE has been set to \""on\"" */\n+   if (((png_ptr->options >> PNG_SKIP_sRGB_CHECK_PROFILE) & 3) ==\n+               PNG_OPTION_ON)\n+      return 0;\n+#endif\n+\n    for (i=0; i < (sizeof png_sRGB_checks) / (sizeof png_sRGB_checks[0]); ++i)\n    {\n       if (png_get_uint_32(profile+84) == png_sRGB_checks[i].md5[0] &&\n@@ -2230,7 +2271,7 @@\n\n           * are not used by default if there is an MD5!)\n           */\n #        if PNG_sRGB_PROFILE_CHECKS == 0\n-            if (png_sRGB_checks[i].have_md5)\n+            if (png_sRGB_checks[i].have_md5 != 0)\n                return 1+png_sRGB_checks[i].is_broken;\n #        endif\n \n@@ -2242,8 +2283,8 @@\n\n          }\n \n          /* Length *and* intent must match */\n-         if (length == png_sRGB_checks[i].length &&\n-            intent == png_sRGB_checks[i].intent)\n+         if (length == (png_uint_32) png_sRGB_checks[i].length &&\n+            intent == (png_uint_32) png_sRGB_checks[i].intent)\n          {\n             /* Now calculate the adler32 if not done already. */\n             if (adler == 0)\n@@ -2270,7 +2311,7 @@\n\n                   if (crc == png_sRGB_checks[i].crc)\n #              endif\n                {\n-                  if (png_sRGB_checks[i].is_broken)\n+                  if (png_sRGB_checks[i].is_broken != 0)\n                   {\n                      /* These profiles are known to have bad data that may cause\n                       * problems if they are used, therefore attempt to\n@@ -2285,7 +2326,7 @@\n\n                    * the profile is perfectly valid, but it would be nice if\n                    * people used the up-to-date ones.\n                    */\n-                  else if (!png_sRGB_checks[i].have_md5)\n+                  else if (png_sRGB_checks[i].have_md5 == 0)\n                   {\n                      png_chunk_report(png_ptr,\n                         \""out-of-date sRGB profile with no signature\"",\n@@ -2295,7 +2336,6 @@\n\n                   return 1+png_sRGB_checks[i].is_broken;\n                }\n             }\n-         }\n \n # if PNG_sRGB_PROFILE_CHECKS > 0\n          /* The signature matched, but the profile had been changed in some\n@@ -2303,18 +2343,18 @@\n\n           * Fall through to \""no match\"".\n           */\n          png_chunk_report(png_ptr,\n-             \""Not recognizing known sRGB profile that has been edited\"", \n+             \""Not recognizing known sRGB profile that has been edited\"",\n              PNG_CHUNK_WARNING);\n          break;\n # endif\n+         }\n       }\n    }\n \n    return 0; /* no match */\n }\n-#endif\n+#endif /* PNG_sRGB_PROFILE_CHECKS >= 0 */\n \n-#ifdef PNG_sRGB_SUPPORTED\n void /* PRIVATE */\n png_icc_set_sRGB(png_const_structrp png_ptr,\n    png_colorspacerp colorspace, png_const_bytep profile, uLong adler)\n@@ -2322,25 +2362,27 @@\n\n    /* Is this profile one of the known ICC sRGB profiles?  If it is, just set\n     * the sRGB information.\n     */\n-   if (png_compare_ICC_profile_with_sRGB(png_ptr, profile, adler))\n+#if PNG_sRGB_PROFILE_CHECKS >= 0\n+   if (png_compare_ICC_profile_with_sRGB(png_ptr, profile, adler) != 0)\n+#endif\n       (void)png_colorspace_set_sRGB(png_ptr, colorspace,\n          (int)/*already checked*/png_get_uint_32(profile+64));\n }\n-#endif /* PNG_READ_sRGB_SUPPORTED */\n+#endif /* sRGB */\n \n int /* PRIVATE */\n png_colorspace_set_ICC(png_const_structrp png_ptr, png_colorspacerp colorspace,\n    png_const_charp name, png_uint_32 profile_length, png_const_bytep profile,\n    int color_type)\n {\n-   if (colorspace->flags & PNG_COLORSPACE_INVALID)\n+   if ((colorspace->flags & PNG_COLORSPACE_INVALID) != 0)\n       return 0;\n \n-   if (png_icc_check_length(png_ptr, colorspace, name, profile_length) &&\n-      png_icc_check_header(png_ptr, colorspace, name, profile_length, profile,\n-         color_type) &&\n-      png_icc_check_tag_table(png_ptr, colorspace, name, profile_length,\n-         profile))\n+   if (png_icc_check_length(png_ptr, colorspace, name, profile_length) != 0 &&\n+       png_icc_check_header(png_ptr, colorspace, name, profile_length, profile,\n+          color_type) != 0 &&\n+       png_icc_check_tag_table(png_ptr, colorspace, name, profile_length,\n+          profile) != 0)\n    {\n #     ifdef PNG_sRGB_SUPPORTED\n          /* If no sRGB support, don't try storing sRGB information */\n@@ -2359,7 +2401,7 @@\n\n png_colorspace_set_rgb_coefficients(png_structrp png_ptr)\n {\n    /* Set the rgb_to_gray coefficients from the colorspace. */\n-   if (!png_ptr->rgb_to_gray_coefficients_set &&\n+   if (png_ptr->rgb_to_gray_coefficients_set == 0 &&\n       (png_ptr->colorspace.flags & PNG_COLORSPACE_HAVE_ENDPOINTS) != 0)\n    {\n       /* png_set_background has not been called, get the coefficients from the Y\n@@ -2418,7 +2460,7 @@\n\n          png_error(png_ptr, \""internal error handling cHRM->XYZ\"");\n    }\n }\n-#endif\n+#endif /* READ_RGB_TO_GRAY */\n \n #endif /* COLORSPACE */\n \n@@ -2447,18 +2489,19 @@\n\n       png_warning(png_ptr, \""Image width is zero in IHDR\"");\n       error = 1;\n    }\n-   else if (width > PNG_UINT_31_MAX)\n+\n+   if (width > PNG_UINT_31_MAX)\n    {\n       png_warning(png_ptr, \""Invalid image width in IHDR\"");\n       error = 1;\n    }\n \n-   else if (png_gt(width,\n-                   (PNG_SIZE_MAX >> 3) /* 8-byte RGBA pixels */\n-                   - 48                /* big_row_buf hack */\n-                   - 1                 /* filter byte */\n-                   - 7*8               /* rounding width to multiple of 8 pix */\n-                   - 8))               /* extra max_pixel_depth pad */\n+   if (png_gt(((width + 7) & (~7)),\n+       ((PNG_SIZE_MAX\n+           - 48        /* big_row_buf hack */\n+           - 1)        /* filter byte */\n+           / 8)        /* 8-byte RGBA pixels */\n+           - 1))       /* extra max_pixel_depth pad */\n    {\n       /* The size of the row must be within the limits of this architecture.\n        * Because the read code can perform arbitrary transformations the\n@@ -2471,15 +2514,15 @@\n\n        * extensive, therefore much more dangerous and much more difficult to\n        * write in a way that avoids compiler warnings.\n        */\n-       png_warning(png_ptr, \""Image width is too large for this architecture\"");\n-       error = 1;\n+      png_warning(png_ptr, \""Image width is too large for this architecture\"");\n+      error = 1;\n    }\n \n-#  ifdef PNG_SET_USER_LIMITS_SUPPORTED\n-   else if (width > png_ptr->user_width_max)\n-#  else\n-   else if (width > PNG_USER_WIDTH_MAX)\n-#  endif\n+#ifdef PNG_SET_USER_LIMITS_SUPPORTED\n+   if (width > png_ptr->user_width_max)\n+#else\n+   if (width > PNG_USER_WIDTH_MAX)\n+#endif\n    {\n       png_warning(png_ptr, \""Image width exceeds user limit in IHDR\"");\n       error = 1;\n@@ -2491,24 +2534,22 @@\n\n       error = 1;\n    }\n \n-\n-#  ifdef PNG_SET_USER_LIMITS_SUPPORTED\n-   if (height > png_ptr->user_height_max)\n-#  else\n-   if (height > PNG_USER_HEIGHT_MAX)\n-#  endif\n-   {\n-      png_warning(png_ptr, \""Image height exceeds user limit in IHDR\"");\n-      error = 1;\n-   }\n-\n-\n    if (height > PNG_UINT_31_MAX)\n    {\n       png_warning(png_ptr, \""Invalid image height in IHDR\"");\n       error = 1;\n    }\n \n+#ifdef PNG_SET_USER_LIMITS_SUPPORTED\n+   if (height > png_ptr->user_height_max)\n+#else\n+   if (height > PNG_USER_HEIGHT_MAX)\n+#endif\n+   {\n+      png_warning(png_ptr, \""Image height exceeds user limit in IHDR\"");\n+      error = 1;\n+   }\n+\n    /* Check other values */\n    if (bit_depth != 1 && bit_depth != 2 && bit_depth != 4 &&\n        bit_depth != 8 && bit_depth != 16)\n@@ -2545,7 +2586,7 @@\n\n       error = 1;\n    }\n \n-#  ifdef PNG_MNG_FEATURES_SUPPORTED\n+#ifdef PNG_MNG_FEATURES_SUPPORTED\n    /* Accept filter_method 64 (intrapixel differencing) only if\n     * 1. Libpng was compiled with PNG_MNG_FEATURES_SUPPORTED and\n     * 2. Libpng did not read a PNG signature (this filter_method is only\n@@ -2555,13 +2596,13 @@\n\n     * 4. The filter_method is 64 and\n     * 5. The color_type is RGB or RGBA\n     */\n-   if ((png_ptr->mode & PNG_HAVE_PNG_SIGNATURE) &&\n-       png_ptr->mng_features_permitted)\n+   if ((png_ptr->mode & PNG_HAVE_PNG_SIGNATURE) != 0 &&\n+       png_ptr->mng_features_permitted != 0)\n       png_warning(png_ptr, \""MNG features are not allowed in a PNG datastream\"");\n \n    if (filter_type != PNG_FILTER_TYPE_BASE)\n    {\n-      if (!((png_ptr->mng_features_permitted & PNG_FLAG_MNG_FILTER_64) &&\n+      if (!((png_ptr->mng_features_permitted & PNG_FLAG_MNG_FILTER_64) != 0 &&\n           (filter_type == PNG_INTRAPIXEL_DIFFERENCING) &&\n           ((png_ptr->mode & PNG_HAVE_PNG_SIGNATURE) == 0) &&\n           (color_type == PNG_COLOR_TYPE_RGB ||\n@@ -2571,20 +2612,20 @@\n\n          error = 1;\n       }\n \n-      if (png_ptr->mode & PNG_HAVE_PNG_SIGNATURE)\n+      if ((png_ptr->mode & PNG_HAVE_PNG_SIGNATURE) != 0)\n       {\n          png_warning(png_ptr, \""Invalid filter method in IHDR\"");\n          error = 1;\n       }\n    }\n \n-#  else\n+#else\n    if (filter_type != PNG_FILTER_TYPE_BASE)\n    {\n       png_warning(png_ptr, \""Unknown filter method in IHDR\"");\n       error = 1;\n    }\n-#  endif\n+#endif\n \n    if (error == 1)\n       png_error(png_ptr, \""Invalid IHDR data\"");\n@@ -2631,7 +2672,7 @@\n\n       switch ((state & PNG_FP_STATE) + (type & PNG_FP_SAW_ANY))\n       {\n       case PNG_FP_INTEGER + PNG_FP_SAW_SIGN:\n-         if (state & PNG_FP_SAW_ANY)\n+         if ((state & PNG_FP_SAW_ANY) != 0)\n             goto PNG_FP_End; /* not a part of the number */\n \n          png_fp_add(state, type);\n@@ -2639,10 +2680,10 @@\n\n \n       case PNG_FP_INTEGER + PNG_FP_SAW_DOT:\n          /* Ok as trailer, ok as lead of fraction. */\n-         if (state & PNG_FP_SAW_DOT) /* two dots */\n+         if ((state & PNG_FP_SAW_DOT) != 0) /* two dots */\n             goto PNG_FP_End;\n \n-         else if (state & PNG_FP_SAW_DIGIT) /* trailing dot? */\n+         else if ((state & PNG_FP_SAW_DIGIT) != 0) /* trailing dot? */\n             png_fp_add(state, type);\n \n          else\n@@ -2651,7 +2692,7 @@\n\n          break;\n \n       case PNG_FP_INTEGER + PNG_FP_SAW_DIGIT:\n-         if (state & PNG_FP_SAW_DOT) /* delayed fraction */\n+         if ((state & PNG_FP_SAW_DOT) != 0) /* delayed fraction */\n             png_fp_set(state, PNG_FP_FRACTION | PNG_FP_SAW_DOT);\n \n          png_fp_add(state, type | PNG_FP_WAS_VALID);\n@@ -2689,7 +2730,7 @@\n\n          break;\n \n       case PNG_FP_EXPONENT + PNG_FP_SAW_SIGN:\n-         if (state & PNG_FP_SAW_ANY)\n+         if ((state & PNG_FP_SAW_ANY) != 0)\n             goto PNG_FP_End; /* not a part of the number */\n \n          png_fp_add(state, PNG_FP_SAW_SIGN);\n@@ -2732,13 +2773,13 @@\n\n    int        state=0;\n    png_size_t char_index=0;\n \n-   if (png_check_fp_number(string, size, &state, &char_index) &&\n+   if (png_check_fp_number(string, size, &state, &char_index) != 0 &&\n       (char_index == size || string[char_index] == 0))\n       return state /* must be non-zero - see above */;\n \n    return 0; /* i.e. fail */\n }\n-#endif /* pCAL or sCAL */\n+#endif /* pCAL || sCAL */\n \n #ifdef PNG_sCAL_SUPPORTED\n #  ifdef PNG_FLOATING_POINT_SUPPORTED\n@@ -2772,7 +2813,7 @@\n\n       }\n       while (power > 0);\n \n-      if (recip) d = 1/d;\n+      if (recip != 0) d = 1/d;\n    }\n    /* else power is 0 and d is 1 */\n \n@@ -2810,7 +2851,7 @@\n\n \n       if (fp >= DBL_MIN && fp <= DBL_MAX)\n       {\n-         int exp_b10;       /* A base 10 exponent */\n+         int exp_b10;   /* A base 10 exponent */\n          double base;   /* 10^exp_b10 */\n \n          /* First extract a base 10 exponent of the number,\n@@ -2858,7 +2899,7 @@\n\n           */\n \n          {\n-            int czero, clead, cdigits;\n+            unsigned int czero, clead, cdigits;\n             char exponent[10];\n \n             /* Allow up to two leading zeros - this will not lengthen\n@@ -2888,7 +2929,7 @@\n\n                 * of the loop don't break the number into parts so\n                 * that the final digit is rounded.\n                 */\n-               if (cdigits+czero-clead+1 < (int)precision)\n+               if (cdigits+czero+1 < precision+clead)\n                   fp = modf(fp, &d);\n \n                else\n@@ -2986,21 +3027,22 @@\n\n \n                   if (exp_b10 != (-1))\n                   {\n-                     if (exp_b10 == 0) *ascii++ = 46, --size; /* counted\n-                                                                 above */\n+                     if (exp_b10 == 0)\n+                        *ascii++ = 46, --size; /* counted above */\n+\n                      --exp_b10;\n                   }\n                   *ascii++ = (char)(48 + (int)d), ++cdigits;\n                }\n             }\n-            while (cdigits+czero-clead < (int)precision && fp > DBL_MIN);\n+            while (cdigits+czero < precision+clead && fp > DBL_MIN);\n \n             /* The total output count (max) is now 4+precision */\n \n             /* Check for an exponent, if we don't need one we are\n              * done and just need to terminate the string.  At\n              * this point exp_b10==(-1) is effectively if flag - it got\n-             * to '-1' because of the decrement after outputing\n+             * to '-1' because of the decrement after outputting\n              * the decimal point above (the exponent required is\n              * *not* -1!)\n              */\n@@ -3008,7 +3050,7 @@\n\n             {\n                /* The following only happens if we didn't output the\n                 * leading zeros above for negative exponent, so this\n-                * doest add to the digit requirement.  Note that the\n+                * doesn't add to the digit requirement.  Note that the\n                 * two zeros here can only be output if the two leading\n                 * zeros were *not* output, so this doesn't increase\n                 * the output count.\n@@ -3061,7 +3103,7 @@\n\n             /* Need another size check here for the exponent digits, so\n              * this need not be considered above.\n              */\n-            if ((int)size > cdigits)\n+            if (size > cdigits)\n             {\n                while (cdigits > 0) *ascii++ = exponent[--cdigits];\n \n@@ -3109,7 +3151,7 @@\n\n \n       /* Avoid overflow here on the minimum integer. */\n       if (fp < 0)\n-         *ascii++ = 45, --size, num = -fp;\n+         *ascii++ = 45, num = -fp;\n       else\n          num = fp;\n \n@@ -3165,7 +3207,7 @@\n\n    png_error(png_ptr, \""ASCII conversion buffer too small\"");\n }\n #   endif /* FIXED_POINT */\n-#endif /* READ_SCAL */\n+#endif /* SCAL */\n \n #if defined(PNG_FLOATING_POINT_SUPPORTED) && \\\n    !defined(PNG_FIXED_POINT_MACRO_SUPPORTED) && \\\n@@ -3183,7 +3225,7 @@\n\n       png_fixed_error(png_ptr, text);\n \n #  ifndef PNG_ERROR_TEXT_SUPPORTED\n-      PNG_UNUSED(text)\n+   PNG_UNUSED(text)\n #  endif\n \n    return (png_fixed_point)r;\n@@ -3295,11 +3337,12 @@\n\n             if (s00 >= (D >> 1))\n                ++result;\n \n-            if (negative)\n+            if (negative != 0)\n                result = -result;\n \n             /* Check for overflow. */\n-            if ((negative && result <= 0) || (!negative && result >= 0))\n+            if ((negative != 0 && result <= 0) ||\n+                (negative == 0 && result >= 0))\n             {\n                *res = result;\n                return 1;\n@@ -3323,7 +3366,7 @@\n\n {\n    png_fixed_point result;\n \n-   if (png_muldiv(&result, a, times, divisor))\n+   if (png_muldiv(&result, a, times, divisor) != 0)\n       return result;\n \n    png_warning(png_ptr, \""fixed point overflow ignored\"");\n@@ -3344,7 +3387,7 @@\n\n #else\n    png_fixed_point res;\n \n-   if (png_muldiv(&res, 100000, 100000, a))\n+   if (png_muldiv(&res, 100000, 100000, a) != 0)\n       return res;\n #endif\n \n@@ -3363,29 +3406,29 @@\n\n #endif\n \n #ifdef PNG_READ_GAMMA_SUPPORTED\n-#  ifdef PNG_16BIT_SUPPORTED\n+#ifdef PNG_16BIT_SUPPORTED\n /* A local convenience routine. */\n static png_fixed_point\n png_product2(png_fixed_point a, png_fixed_point b)\n {\n    /* The required result is 1/a * 1/b; the following preserves accuracy. */\n-#    ifdef PNG_FLOATING_ARITHMETIC_SUPPORTED\n+#ifdef PNG_FLOATING_ARITHMETIC_SUPPORTED\n    double r = a * 1E-5;\n    r *= b;\n    r = floor(r+.5);\n \n    if (r <= 2147483647. && r >= -2147483648.)\n       return (png_fixed_point)r;\n-#    else\n+#else\n    png_fixed_point res;\n \n-   if (png_muldiv(&res, a, b, 100000))\n+   if (png_muldiv(&res, a, b, 100000) != 0)\n       return res;\n-#    endif\n+#endif\n \n    return 0; /* overflow */\n }\n-#  endif /* 16BIT */\n+#endif /* 16BIT */\n \n /* The inverse of the above. */\n png_fixed_point\n@@ -3393,12 +3436,15 @@\n\n {\n    /* The required result is 1/a * 1/b; the following preserves accuracy. */\n #ifdef PNG_FLOATING_ARITHMETIC_SUPPORTED\n-   double r = 1E15/a;\n-   r /= b;\n-   r = floor(r+.5);\n+   if (a != 0 && b != 0)\n+   {\n+      double r = 1E15/a;\n+      r /= b;\n+      r = floor(r+.5);\n \n-   if (r <= 2147483647. && r >= -2147483648.)\n-      return (png_fixed_point)r;\n+      if (r <= 2147483647. && r >= -2147483648.)\n+         return (png_fixed_point)r;\n+   }\n #else\n    /* This may overflow because the range of png_fixed_point isn't symmetric,\n     * but this API is only used for the product of file and screen gamma so it\n@@ -3537,6 +3583,7 @@\n\n  * Zero  (257):      0\n  * End   (258):  23499\n  */\n+#ifdef PNG_16BIT_SUPPORTED\n static png_int_32\n png_log16bit(png_uint_32 x)\n {\n@@ -3587,14 +3634,15 @@\n\n    /* Safe, because the result can't have more than 20 bits: */\n    return (png_int_32)((lg2 + 2048) >> 12);\n }\n+#endif /* 16BIT */\n \n /* The 'exp()' case must invert the above, taking a 20-bit fixed point\n  * logarithmic value and returning a 16 or 8-bit number as appropriate.  In\n  * each case only the low 16 bits are relevant - the fraction - since the\n  * integer bits (the top 4) simply determine a shift.\n  *\n- * The worst case is the 16-bit distinction between 65535 and 65534, this\n- * requires perhaps spurious accuracty in the decoding of the logarithm to\n+ * The worst case is the 16-bit distinction between 65535 and 65534. This\n+ * requires perhaps spurious accuracy in the decoding of the logarithm to\n  * distinguish log2(65535/65534.5) - 10^-5 or 17 bits.  There is little chance\n  * of getting this accuracy in practice.\n  *\n@@ -3634,7 +3682,7 @@\n\n    if (x > 0 && x <= 0xfffff) /* Else overflow or zero (underflow) */\n    {\n       /* Obtain a 4-bit approximation */\n-      png_uint_32 e = png_32bit_exp[(x >> 12) & 0xf];\n+      png_uint_32 e = png_32bit_exp[(x >> 12) & 0x0f];\n \n       /* Incorporate the low 12 bits - these decrease the returned value by\n        * multiplying by a number less than 1 if the bit is set.  The multiplier\n@@ -3682,12 +3730,12 @@\n\n    /* Get a 32-bit value: */\n    png_uint_32 x = png_exp(lg2);\n \n-   /* Convert the 32-bit value to 0..255 by multiplying by 256-1, note that the\n+   /* Convert the 32-bit value to 0..255 by multiplying by 256-1. Note that the\n     * second, rounding, step can't overflow because of the first, subtraction,\n     * step.\n     */\n    x -= x >> 8;\n-   return (png_byte)((x + 0x7fffffU) >> 24);\n+   return (png_byte)(((x + 0x7fffffU) >> 24) & 0xff);\n }\n \n #ifdef PNG_16BIT_SUPPORTED\n@@ -3710,13 +3758,37 @@\n\n    if (value > 0 && value < 255)\n    {\n #     ifdef PNG_FLOATING_ARITHMETIC_SUPPORTED\n-         double r = floor(255*pow(value/255.,gamma_val*.00001)+.5);\n+         /* 'value' is unsigned, ANSI-C90 requires the compiler to correctly\n+          * convert this to a floating point value.  This includes values that\n+          * would overflow if 'value' were to be converted to 'int'.\n+          *\n+          * Apparently GCC, however, does an intermediate conversion to (int)\n+          * on some (ARM) but not all (x86) platforms, possibly because of\n+          * hardware FP limitations.  (E.g. if the hardware conversion always\n+          * assumes the integer register contains a signed value.)  This results\n+          * in ANSI-C undefined behavior for large values.\n+          *\n+          * Other implementations on the same machine might actually be ANSI-C90\n+          * conformant and therefore compile spurious extra code for the large\n+          * values.\n+          *\n+          * We can be reasonably sure that an unsigned to float conversion\n+          * won't be faster than an int to float one.  Therefore this code\n+          * assumes responsibility for the undefined behavior, which it knows\n+          * can't happen because of the check above.\n+          *\n+          * Note the argument to this routine is an (unsigned int) because, on\n+          * 16-bit platforms, it is assigned a value which might be out of\n+          * range for an (int); that would result in undefined behavior in the\n+          * caller if the *argument* ('value') were to be declared (int).\n+          */\n+         double r = floor(255*pow((int)/*SAFE*/value/255.,gamma_val*.00001)+.5);\n          return (png_byte)r;\n #     else\n          png_int_32 lg2 = png_log8bit(value);\n          png_fixed_point res;\n \n-         if (png_muldiv(&res, gamma_val, lg2, PNG_FP_1))\n+         if (png_muldiv(&res, gamma_val, lg2, PNG_FP_1) != 0)\n             return png_exp8bit(res);\n \n          /* Overflow. */\n@@ -3724,7 +3796,7 @@\n\n #     endif\n    }\n \n-   return (png_byte)value;\n+   return (png_byte)(value & 0xff);\n }\n \n #ifdef PNG_16BIT_SUPPORTED\n@@ -3734,13 +3806,19 @@\n\n    if (value > 0 && value < 65535)\n    {\n #     ifdef PNG_FLOATING_ARITHMETIC_SUPPORTED\n-         double r = floor(65535*pow(value/65535.,gamma_val*.00001)+.5);\n+         /* The same (unsigned int)->(double) constraints apply here as above,\n+          * however in this case the (unsigned int) to (int) conversion can\n+          * overflow on an ANSI-C90 compliant system so the cast needs to ensure\n+          * that this is not possible.\n+          */\n+         double r = floor(65535*pow((png_int_32)value/65535.,\n+                     gamma_val*.00001)+.5);\n          return (png_uint_16)r;\n #     else\n          png_int_32 lg2 = png_log16bit(value);\n          png_fixed_point res;\n \n-         if (png_muldiv(&res, gamma_val, lg2, PNG_FP_1))\n+         if (png_muldiv(&res, gamma_val, lg2, PNG_FP_1) != 0)\n             return png_exp16bit(res);\n \n          /* Overflow. */\n@@ -3788,6 +3866,12 @@\n\n {\n    /* Various values derived from 'shift': */\n    PNG_CONST unsigned int num = 1U << (8U - shift);\n+#ifdef PNG_FLOATING_ARITHMETIC_SUPPORTED\n+   /* CSE the division and work round wacky GCC warnings (see the comments\n+    * in png_gamma_8bit_correct for where these come from.)\n+    */\n+   PNG_CONST double fmax = 1./(((png_int_32)1 << (16U - shift))-1);\n+#endif\n    PNG_CONST unsigned int max = (1U << (16U - shift))-1U;\n    PNG_CONST unsigned int max_by_2 = 1U << (15U-shift);\n    unsigned int i;\n@@ -3803,7 +3887,7 @@\n\n       /* The 'threshold' test is repeated here because it can arise for one of\n        * the 16-bit tables even if the others don't hit it.\n        */\n-      if (png_gamma_significant(gamma_val))\n+      if (png_gamma_significant(gamma_val) != 0)\n       {\n          /* The old code would overflow at the end and this would cause the\n           * 'pow' function to return a result >1, resulting in an\n@@ -3819,10 +3903,13 @@\n\n             png_uint_32 ig = (j << (8-shift)) + i;\n #           ifdef PNG_FLOATING_ARITHMETIC_SUPPORTED\n                /* Inline the 'max' scaling operation: */\n-               double d = floor(65535*pow(ig/(double)max, gamma_val*.00001)+.5);\n+               /* See png_gamma_8bit_correct for why the cast to (int) is\n+                * required here.\n+                */\n+               double d = floor(65535.*pow(ig*fmax, gamma_val*.00001)+.5);\n                sub_table[j] = (png_uint_16)d;\n #           else\n-               if (shift)\n+               if (shift != 0)\n                   ig = (ig * 65535U + max_by_2)/max;\n \n                sub_table[j] = png_gamma_16bit_correct(ig, gamma_val);\n@@ -3838,7 +3925,7 @@\n\n          {\n             png_uint_32 ig = (j << (8-shift)) + i;\n \n-            if (shift)\n+            if (shift != 0)\n                ig = (ig * 65535U + max_by_2)/max;\n \n             sub_table[j] = (png_uint_16)ig;\n@@ -3864,7 +3951,7 @@\n\n \n    /* 'num' is the number of tables and also the number of low bits of low\n     * bits of the input 16-bit value used to select a table.  Each table is\n-    * itself index by the high 8 bits of the value.\n+    * itself indexed by the high 8 bits of the value.\n     */\n    for (i = 0; i < num; i++)\n       table[i] = (png_uint_16p)png_malloc(png_ptr,\n@@ -3916,7 +4003,7 @@\n\n \n /* Build a single 8-bit table: same as the 16-bit case but much simpler (and\n  * typically much faster).  Note that libpng currently does no sBIT processing\n- * (apparently contrary to the spec) so a 256 entry table is always generated.\n+ * (apparently contrary to the spec) so a 256-entry table is always generated.\n  */\n static void\n png_build_8bit_table(png_structrp png_ptr, png_bytepp ptable,\n@@ -3925,11 +4012,13 @@\n\n    unsigned int i;\n    png_bytep table = *ptable = (png_bytep)png_malloc(png_ptr, 256);\n \n-   if (png_gamma_significant(gamma_val)) for (i=0; i<256; i++)\n-      table[i] = png_gamma_8bit_correct(i, gamma_val);\n+   if (png_gamma_significant(gamma_val) != 0)\n+      for (i=0; i<256; i++)\n+         table[i] = png_gamma_8bit_correct(i, gamma_val);\n \n-   else for (i=0; i<256; ++i)\n-      table[i] = (png_byte)i;\n+   else\n+      for (i=0; i<256; ++i)\n+         table[i] = (png_byte)(i & 0xff);\n }\n \n /* Used from png_read_destroy and below to release the memory used by the gamma\n@@ -4021,7 +4110,7 @@\n\n #if defined(PNG_READ_BACKGROUND_SUPPORTED) || \\\n    defined(PNG_READ_ALPHA_MODE_SUPPORTED) || \\\n    defined(PNG_READ_RGB_TO_GRAY_SUPPORTED)\n-     if (png_ptr->transformations & (PNG_COMPOSE | PNG_RGB_TO_GRAY))\n+     if ((png_ptr->transformations & (PNG_COMPOSE | PNG_RGB_TO_GRAY)) != 0)\n      {\n         png_build_8bit_table(png_ptr, &png_ptr->gamma_to_1,\n             png_reciprocal(png_ptr->colorspace.gamma));\n@@ -4037,7 +4126,7 @@\n\n   {\n      png_byte shift, sig_bit;\n \n-     if (png_ptr->color_type & PNG_COLOR_MASK_COLOR)\n+     if ((png_ptr->color_type & PNG_COLOR_MASK_COLOR) != 0)\n      {\n         sig_bit = png_ptr->sig_bit.red;\n \n@@ -4057,7 +4146,7 @@\n\n       * Where 'iv' is the input color value and 'ov' is the output value -\n       * pow(iv, gamma).\n       *\n-      * Thus the gamma table consists of up to 256 256 entry tables.  The table\n+      * Thus the gamma table consists of up to 256 256-entry tables.  The table\n       * is selected by the (8-gamma_shift) most significant of the low 8 bits of\n       * the color value then indexed by the upper 8 bits:\n       *\n@@ -4069,12 +4158,13 @@\n\n       *\n       */\n      if (sig_bit > 0 && sig_bit < 16U)\n-        shift = (png_byte)(16U - sig_bit); /* shift == insignificant bits */\n+        /* shift == insignificant bits */\n+        shift = (png_byte)((16U - sig_bit) & 0xff);\n \n      else\n         shift = 0; /* keep all 16 bits */\n \n-     if (png_ptr->transformations & (PNG_16_TO_8 | PNG_SCALE_16_TO_8))\n+     if ((png_ptr->transformations & (PNG_16_TO_8 | PNG_SCALE_16_TO_8)) != 0)\n      {\n         /* PNG_MAX_GAMMA_8 is the number of bits to keep - effectively\n          * the significant bits in the *input* when the output will\n@@ -4094,7 +4184,7 @@\n\n       * 16-bit output because the 8-bit table assumes the result will be reduced\n       * to 8 bits.\n       */\n-     if (png_ptr->transformations & (PNG_16_TO_8 | PNG_SCALE_16_TO_8))\n+     if ((png_ptr->transformations & (PNG_16_TO_8 | PNG_SCALE_16_TO_8)) != 0)\n          png_build_16to8_table(png_ptr, &png_ptr->gamma_16_table, shift,\n          png_ptr->screen_gamma > 0 ? png_product2(png_ptr->colorspace.gamma,\n          png_ptr->screen_gamma) : PNG_FP_1);\n@@ -4107,7 +4197,7 @@\n\n #if defined(PNG_READ_BACKGROUND_SUPPORTED) || \\\n    defined(PNG_READ_ALPHA_MODE_SUPPORTED) || \\\n    defined(PNG_READ_RGB_TO_GRAY_SUPPORTED)\n-     if (png_ptr->transformations & (PNG_COMPOSE | PNG_RGB_TO_GRAY))\n+     if ((png_ptr->transformations & (PNG_COMPOSE | PNG_RGB_TO_GRAY)) != 0)\n      {\n         png_build_16bit_table(png_ptr, &png_ptr->gamma_16_to_1, shift,\n             png_reciprocal(png_ptr->colorspace.gamma));\n@@ -4126,7 +4216,7 @@\n\n }\n #endif /* READ_GAMMA */\n \n-/* HARDWARE OPTION SUPPORT */\n+/* HARDWARE OR SOFTWARE OPTION SUPPORT */\n #ifdef PNG_SET_OPTION_SUPPORTED\n int PNGAPI\n png_set_option(png_structrp png_ptr, int option, int onoff)\n@@ -4138,7 +4228,7 @@\n\n       int setting = (2 + (onoff != 0)) << option;\n       int current = png_ptr->options;\n \n-      png_ptr->options = (png_byte)((current & ~mask) | setting);\n+      png_ptr->options = (png_byte)(((current & ~mask) | setting) & 0xff);\n \n       return (current & mask) >> option;\n    }\n@@ -4154,7 +4244,7 @@\n\n  * contrib/tools/makesRGB.c.  The actual sRGB transfer curve defined in the\n  * specification (see the article at http://en.wikipedia.org/wiki/SRGB)\n  * is used, not the gamma=1/2.2 approximation use elsewhere in libpng.\n- * The sRGB to linear table is exact (to the nearest 16 bit linear fraction).\n+ * The sRGB to linear table is exact (to the nearest 16-bit linear fraction).\n  * The inverse (linear to sRGB) table has accuracies as follows:\n  *\n  * For all possible (255*65535+1) input values:\n@@ -4165,7 +4255,7 @@\n\n  *\n  *    error: -0.513727 - 0.607759, 308 (0.469978%) of readings inexact\n  *\n- * In all cases the inexact readings are off by one.\n+ * In all cases the inexact readings are only off by one.\n  */\n \n #ifdef PNG_SIMPLIFIED_READ_SUPPORTED\n@@ -4205,8 +4295,7 @@\n\n    57105,57646,58190,58737,59287,59840,60396,60955,\n    61517,62082,62650,63221,63795,64372,64952,65535\n };\n-\n-#endif /* simplified read only */\n+#endif /* SIMPLIFIED_READ */\n \n /* The base/delta tables are required for both read and write (but currently\n  * only the simplified versions.)\n@@ -4334,7 +4423,7 @@\n\n \n    /* First free any data held in the control structure. */\n #  ifdef PNG_STDIO_SUPPORTED\n-      if (cp->owned_file)\n+      if (cp->owned_file != 0)\n       {\n          FILE *fp = png_voidcast(FILE*, cp->png_ptr->io_ptr);\n          cp->owned_file = 0;\n@@ -4358,7 +4447,7 @@\n\n    png_free(c.png_ptr, cp);\n \n    /* Then the structures, calling the correct API. */\n-   if (c.for_write)\n+   if (c.for_write != 0)\n    {\n #     ifdef PNG_SIMPLIFIED_WRITE_SUPPORTED\n          png_destroy_write_struct(&c.png_ptr, &c.info_ptr);\n@@ -4406,4 +4495,4 @@\n\n }\n \n #endif /* SIMPLIFIED READ/WRITE */\n-#endif /* defined(PNG_READ_SUPPORTED) || defined(PNG_WRITE_SUPPORTED) */\n+#endif /* READ || WRITE */\n""}<_**next**_>{""filename"": ""png.h"", ""raw_url"": ""https://android.googlesource.com/platform/external/libpng/+/9d4853418ab2f754c2b63e091c29c5529b8b86ca/png.h"", ""patch"": ""@@ -1,8 +1,9 @@\n\n \n /* png.h - header file for PNG reference library\n  *\n- * libpng version 1.6.10 - March 6, 2014\n- * Copyright (c) 1998-2014 Glenn Randers-Pehrson\n+ * libpng version 1.6.20, December 3, 2015\n+ *\n+ * Copyright (c) 1998-2015 Glenn Randers-Pehrson\n  * (Version 0.96 Copyright (c) 1996, 1997 Andreas Dilger)\n  * (Version 0.88 Copyright (c) 1995, 1996 Guy Eric Schalnat, Group 42, Inc.)\n  *\n@@ -10,17 +11,137 @@\n\n  *\n  * Authors and maintainers:\n  *   libpng versions 0.71, May 1995, through 0.88, January 1996: Guy Schalnat\n- *   libpng versions 0.89c, June 1996, through 0.96, May 1997: Andreas Dilger\n- *   libpng versions 0.97, January 1998, through 1.6.10 - March 6, 2014: Glenn\n+ *   libpng versions 0.89, June 1996, through 0.96, May 1997: Andreas Dilger\n+ *   libpng versions 0.97, January 1998, through 1.6.20, December 3, 2015:\n+ *     Glenn Randers-Pehrson.\n  *   See also \""Contributing Authors\"", below.\n+ */\n+\n+/*\n+ * COPYRIGHT NOTICE, DISCLAIMER, and LICENSE:\n  *\n- * Note about libpng version numbers:\n+ * If you modify libpng you may insert additional notices immediately following\n+ * this sentence.\n  *\n- *   Due to various miscommunications, unforeseen code incompatibilities\n- *   and occasional factors outside the authors' control, version numbering\n- *   on the library has not always been consistent and straightforward.\n- *   The following table summarizes matters since version 0.89c, which was\n- *   the first widely used release:\n+ * This code is released under the libpng license.\n+ *\n+ * libpng versions 1.0.7, July 1, 2000, through 1.6.20, December 3, 2015, are\n+ * Copyright (c) 2000-2002, 2004, 2006-2015 Glenn Randers-Pehrson, are\n+ * derived from libpng-1.0.6, and are distributed according to the same\n+ * disclaimer and license as libpng-1.0.6 with the following individuals\n+ * added to the list of Contributing Authors:\n+ *\n+ *    Simon-Pierre Cadieux\n+ *    Eric S. Raymond\n+ *    Mans Rullgard\n+ *    Cosmin Truta\n+ *    Gilles Vollant\n+ *    James Yu\n+ *\n+ * and with the following additions to the disclaimer:\n+ *\n+ *    There is no warranty against interference with your enjoyment of the\n+ *    library or against infringement.  There is no warranty that our\n+ *    efforts or the library will fulfill any of your particular purposes\n+ *    or needs.  This library is provided with all faults, and the entire\n+ *    risk of satisfactory quality, performance, accuracy, and effort is with\n+ *    the user.\n+ *\n+ * libpng versions 0.97, January 1998, through 1.0.6, March 20, 2000, are\n+ * Copyright (c) 1998-2000 Glenn Randers-Pehrson, are derived from\n+ * libpng-0.96, and are distributed according to the same disclaimer and\n+ * license as libpng-0.96, with the following individuals added to the list\n+ * of Contributing Authors:\n+ *\n+ *    Tom Lane\n+ *    Glenn Randers-Pehrson\n+ *    Willem van Schaik\n+ *\n+ * libpng versions 0.89, June 1996, through 0.96, May 1997, are\n+ * Copyright (c) 1996-1997 Andreas Dilger, are derived from libpng-0.88,\n+ * and are distributed according to the same disclaimer and license as\n+ * libpng-0.88, with the following individuals added to the list of\n+ * Contributing Authors:\n+ *\n+ *    John Bowler\n+ *    Kevin Bracey\n+ *    Sam Bushell\n+ *    Magnus Holmgren\n+ *    Greg Roelofs\n+ *    Tom Tanner\n+ *\n+ * libpng versions 0.5, May 1995, through 0.88, January 1996, are\n+ * Copyright (c) 1995-1996 Guy Eric Schalnat, Group 42, Inc.\n+ *\n+ * For the purposes of this copyright and license, \""Contributing Authors\""\n+ * is defined as the following set of individuals:\n+ *\n+ *    Andreas Dilger\n+ *    Dave Martindale\n+ *    Guy Eric Schalnat\n+ *    Paul Schmidt\n+ *    Tim Wegner\n+ *\n+ * The PNG Reference Library is supplied \""AS IS\"".  The Contributing Authors\n+ * and Group 42, Inc. disclaim all warranties, expressed or implied,\n+ * including, without limitation, the warranties of merchantability and of\n+ * fitness for any purpose.  The Contributing Authors and Group 42, Inc.\n+ * assume no liability for direct, indirect, incidental, special, exemplary,\n+ * or consequential damages, which may result from the use of the PNG\n+ * Reference Library, even if advised of the possibility of such damage.\n+ *\n+ * Permission is hereby granted to use, copy, modify, and distribute this\n+ * source code, or portions hereof, for any purpose, without fee, subject\n+ * to the following restrictions:\n+ *\n+ *   1. The origin of this source code must not be misrepresented.\n+ *\n+ *   2. Altered versions must be plainly marked as such and must not\n+ *      be misrepresented as being the original source.\n+ *\n+ *   3. This Copyright notice may not be removed or altered from any\n+ *      source or altered source distribution.\n+ *\n+ * The Contributing Authors and Group 42, Inc. specifically permit, without\n+ * fee, and encourage the use of this source code as a component to\n+ * supporting the PNG file format in commercial products.  If you use this\n+ * source code in a product, acknowledgment is not required but would be\n+ * appreciated.\n+ *\n+ * END OF COPYRIGHT NOTICE, DISCLAIMER, and LICENSE.\n+ */\n+\n+/*\n+ * A \""png_get_copyright\"" function is available, for convenient use in \""about\""\n+ * boxes and the like:\n+ *\n+ *    printf(\""%s\"", png_get_copyright(NULL));\n+ *\n+ * Also, the PNG logo (in PNG format, of course) is supplied in the\n+ * files \""pngbar.png\"" and \""pngbar.jpg (88x31) and \""pngnow.png\"" (98x31).\n+ */\n+\n+/*\n+ * Libpng is OSI Certified Open Source Software.  OSI Certified Open Source is\n+ * a certification mark of the Open Source Initiative. OSI has not addressed\n+ * the additional disclaimers inserted at version 1.0.7.\n+ */\n+\n+/*\n+ * The contributing authors would like to thank all those who helped\n+ * with testing, bug fixes, and patience.  This wouldn't have been\n+ * possible without all of you.\n+ *\n+ * Thanks to Frank J. T. Wojcik for helping with the documentation.\n+ */\n+\n+/* Note about libpng version numbers:\n+ *\n+ *    Due to various miscommunications, unforeseen code incompatibilities\n+ *    and occasional factors outside the authors' control, version numbering\n+ *    on the library has not always been consistent and straightforward.\n+ *    The following table summarizes matters since version 0.89c, which was\n+ *    the first widely used release:\n  *\n  *    source                 png.h  png.h  shared-lib\n  *    version                string   int  version\n@@ -58,293 +179,48 @@\n\n  *    1.0.7beta15-18           1    10007  2.1.0.7beta15-18 (binary compatible)\n  *    1.0.7rc1-2               1    10007  2.1.0.7rc1-2 (binary compatible)\n  *    1.0.7                    1    10007  (still compatible)\n- *    1.0.8beta1-4             1    10008  2.1.0.8beta1-4\n- *    1.0.8rc1                 1    10008  2.1.0.8rc1\n- *    1.0.8                    1    10008  2.1.0.8\n- *    1.0.9beta1-6             1    10009  2.1.0.9beta1-6\n- *    1.0.9rc1                 1    10009  2.1.0.9rc1\n- *    1.0.9beta7-10            1    10009  2.1.0.9beta7-10\n- *    1.0.9rc2                 1    10009  2.1.0.9rc2\n- *    1.0.9                    1    10009  2.1.0.9\n- *    1.0.10beta1              1    10010  2.1.0.10beta1\n- *    1.0.10rc1                1    10010  2.1.0.10rc1\n- *    1.0.10                   1    10010  2.1.0.10\n- *    1.0.11beta1-3            1    10011  2.1.0.11beta1-3\n- *    1.0.11rc1                1    10011  2.1.0.11rc1\n- *    1.0.11                   1    10011  2.1.0.11\n- *    1.0.12beta1-2            2    10012  2.1.0.12beta1-2\n- *    1.0.12rc1                2    10012  2.1.0.12rc1\n- *    1.0.12                   2    10012  2.1.0.12\n- *    1.1.0a-f                 -    10100  2.1.1.0a-f (branch abandoned)\n- *    1.2.0beta1-2             2    10200  2.1.2.0beta1-2\n- *    1.2.0beta3-5             3    10200  3.1.2.0beta3-5\n- *    1.2.0rc1                 3    10200  3.1.2.0rc1\n- *    1.2.0                    3    10200  3.1.2.0\n- *    1.2.1beta1-4             3    10201  3.1.2.1beta1-4\n- *    1.2.1rc1-2               3    10201  3.1.2.1rc1-2\n- *    1.2.1                    3    10201  3.1.2.1\n- *    1.2.2beta1-6            12    10202  12.so.0.1.2.2beta1-6\n- *    1.0.13beta1             10    10013  10.so.0.1.0.13beta1\n- *    1.0.13rc1               10    10013  10.so.0.1.0.13rc1\n- *    1.2.2rc1                12    10202  12.so.0.1.2.2rc1\n- *    1.0.13                  10    10013  10.so.0.1.0.13\n- *    1.2.2                   12    10202  12.so.0.1.2.2\n- *    1.2.3rc1-6              12    10203  12.so.0.1.2.3rc1-6\n- *    1.2.3                   12    10203  12.so.0.1.2.3\n- *    1.2.4beta1-3            13    10204  12.so.0.1.2.4beta1-3\n- *    1.0.14rc1               13    10014  10.so.0.1.0.14rc1\n- *    1.2.4rc1                13    10204  12.so.0.1.2.4rc1\n- *    1.0.14                  10    10014  10.so.0.1.0.14\n- *    1.2.4                   13    10204  12.so.0.1.2.4\n- *    1.2.5beta1-2            13    10205  12.so.0.1.2.5beta1-2\n- *    1.0.15rc1-3             10    10015  10.so.0.1.0.15rc1-3\n- *    1.2.5rc1-3              13    10205  12.so.0.1.2.5rc1-3\n- *    1.0.15                  10    10015  10.so.0.1.0.15\n- *    1.2.5                   13    10205  12.so.0.1.2.5\n- *    1.2.6beta1-4            13    10206  12.so.0.1.2.6beta1-4\n- *    1.0.16                  10    10016  10.so.0.1.0.16\n- *    1.2.6                   13    10206  12.so.0.1.2.6\n- *    1.2.7beta1-2            13    10207  12.so.0.1.2.7beta1-2\n- *    1.0.17rc1               10    10017  12.so.0.1.0.17rc1\n- *    1.2.7rc1                13    10207  12.so.0.1.2.7rc1\n- *    1.0.17                  10    10017  12.so.0.1.0.17\n- *    1.2.7                   13    10207  12.so.0.1.2.7\n- *    1.2.8beta1-5            13    10208  12.so.0.1.2.8beta1-5\n- *    1.0.18rc1-5             10    10018  12.so.0.1.0.18rc1-5\n- *    1.2.8rc1-5              13    10208  12.so.0.1.2.8rc1-5\n- *    1.0.18                  10    10018  12.so.0.1.0.18\n- *    1.2.8                   13    10208  12.so.0.1.2.8\n- *    1.2.9beta1-3            13    10209  12.so.0.1.2.9beta1-3\n- *    1.2.9beta4-11           13    10209  12.so.0.9[.0]\n- *    1.2.9rc1                13    10209  12.so.0.9[.0]\n- *    1.2.9                   13    10209  12.so.0.9[.0]\n- *    1.2.10beta1-7           13    10210  12.so.0.10[.0]\n- *    1.2.10rc1-2             13    10210  12.so.0.10[.0]\n- *    1.2.10                  13    10210  12.so.0.10[.0]\n- *    1.4.0beta1-5            14    10400  14.so.0.0[.0]\n- *    1.2.11beta1-4           13    10211  12.so.0.11[.0]\n- *    1.4.0beta7-8            14    10400  14.so.0.0[.0]\n- *    1.2.11                  13    10211  12.so.0.11[.0]\n- *    1.2.12                  13    10212  12.so.0.12[.0]\n- *    1.4.0beta9-14           14    10400  14.so.0.0[.0]\n- *    1.2.13                  13    10213  12.so.0.13[.0]\n- *    1.4.0beta15-36          14    10400  14.so.0.0[.0]\n- *    1.4.0beta37-87          14    10400  14.so.14.0[.0]\n- *    1.4.0rc01               14    10400  14.so.14.0[.0]\n- *    1.4.0beta88-109         14    10400  14.so.14.0[.0]\n- *    1.4.0rc02-08            14    10400  14.so.14.0[.0]\n- *    1.4.0                   14    10400  14.so.14.0[.0]\n- *    1.4.1beta01-03          14    10401  14.so.14.1[.0]\n- *    1.4.1rc01               14    10401  14.so.14.1[.0]\n- *    1.4.1beta04-12          14    10401  14.so.14.1[.0]\n- *    1.4.1                   14    10401  14.so.14.1[.0]\n- *    1.4.2                   14    10402  14.so.14.2[.0]\n- *    1.4.3                   14    10403  14.so.14.3[.0]\n- *    1.4.4                   14    10404  14.so.14.4[.0]\n- *    1.5.0beta01-58          15    10500  15.so.15.0[.0]\n- *    1.5.0rc01-07            15    10500  15.so.15.0[.0]\n- *    1.5.0                   15    10500  15.so.15.0[.0]\n- *    1.5.1beta01-11          15    10501  15.so.15.1[.0]\n- *    1.5.1rc01-02            15    10501  15.so.15.1[.0]\n- *    1.5.1                   15    10501  15.so.15.1[.0]\n- *    1.5.2beta01-03          15    10502  15.so.15.2[.0]\n- *    1.5.2rc01-03            15    10502  15.so.15.2[.0]\n- *    1.5.2                   15    10502  15.so.15.2[.0]\n- *    1.5.3beta01-10          15    10503  15.so.15.3[.0]\n- *    1.5.3rc01-02            15    10503  15.so.15.3[.0]\n- *    1.5.3beta11             15    10503  15.so.15.3[.0]\n- *    1.5.3 [omitted]\n- *    1.5.4beta01-08          15    10504  15.so.15.4[.0]\n- *    1.5.4rc01               15    10504  15.so.15.4[.0]\n- *    1.5.4                   15    10504  15.so.15.4[.0]\n- *    1.5.5beta01-08          15    10505  15.so.15.5[.0]\n- *    1.5.5rc01               15    10505  15.so.15.5[.0]\n- *    1.5.5                   15    10505  15.so.15.5[.0]\n- *    1.5.6beta01-07          15    10506  15.so.15.6[.0]\n- *    1.5.6rc01-03            15    10506  15.so.15.6[.0]\n- *    1.5.6                   15    10506  15.so.15.6[.0]\n- *    1.5.7beta01-05          15    10507  15.so.15.7[.0]\n- *    1.5.7rc01-03            15    10507  15.so.15.7[.0]\n- *    1.5.7                   15    10507  15.so.15.7[.0]\n- *    1.6.0beta01-40          16    10600  16.so.16.0[.0]\n- *    1.6.0rc01-08            16    10600  16.so.16.0[.0]\n- *    1.6.0                   16    10600  16.so.16.0[.0]\n- *    1.6.1beta01-09          16    10601  16.so.16.1[.0]\n- *    1.6.1rc01               16    10601  16.so.16.1[.0]\n- *    1.6.1                   16    10601  16.so.16.1[.0]\n- *    1.6.2beta01             16    10602  16.so.16.2[.0]\n- *    1.6.2rc01-06            16    10602  16.so.16.2[.0]\n- *    1.6.2                   16    10602  16.so.16.2[.0]\n- *    1.6.3beta01-11          16    10603  16.so.16.3[.0]\n- *    1.6.3rc01               16    10603  16.so.16.3[.0]\n- *    1.6.3                   16    10603  16.so.16.3[.0]\n- *    1.6.4beta01-02          16    10604  16.so.16.4[.0]\n- *    1.6.4rc01               16    10604  16.so.16.4[.0]\n- *    1.6.4                   16    10604  16.so.16.4[.0]\n- *    1.6.5                   16    10605  16.so.16.5[.0]\n- *    1.6.6                   16    10606  16.so.16.6[.0]\n- *    1.6.7beta01-04          16    10607  16.so.16.7[.0]\n- *    1.6.7rc01-03            16    10607  16.so.16.7[.0]\n- *    1.6.7                   16    10607  16.so.16.7[.0]\n- *    1.6.8beta01-02          16    10608  16.so.16.8[.0]\n- *    1.6.8rc01-02            16    10608  16.so.16.8[.0]\n- *    1.6.8                   16    10608  16.so.16.8[.0]\n- *    1.6.9beta01-04          16    10609  16.so.16.9[.0]\n- *    1.6.9rc01-02            16    10609  16.so.16.9[.0]\n- *    1.6.9                   16    10609  16.so.16.9[.0]\n- *    1.6.10beta01-03         16    10610  16.so.16.10[.0]\n- *    1.6.10betarc01-04       16    10610  16.so.16.10[.0]\n- *    1.6.10beta              16    10610  16.so.16.10[.0]\n+ *    ...\n+ *    1.0.19                  10    10019  10.so.0.19[.0]\n+ *    ...\n+ *    1.2.53                  13    10253  12.so.0.53[.0]\n+ *    ...\n+ *    1.5.23                  15    10523  15.so.15.23[.0]\n+ *    ...\n+ *    1.6.20                  16    10620  16.so.16.20[.0]\n  *\n- *   Henceforth the source version will match the shared-library major\n- *   and minor numbers; the shared-library major version number will be\n- *   used for changes in backward compatibility, as it is intended.  The\n- *   PNG_LIBPNG_VER macro, which is not used within libpng but is available\n- *   for applications, is an unsigned integer of the form xyyzz corresponding\n- *   to the source version x.y.z (leading zeros in y and z).  Beta versions\n- *   were given the previous public release number plus a letter, until\n- *   version 1.0.6j; from then on they were given the upcoming public\n- *   release number plus \""betaNN\"" or \""rcNN\"".\n+ *    Henceforth the source version will match the shared-library major\n+ *    and minor numbers; the shared-library major version number will be\n+ *    used for changes in backward compatibility, as it is intended.  The\n+ *    PNG_LIBPNG_VER macro, which is not used within libpng but is available\n+ *    for applications, is an unsigned integer of the form xyyzz corresponding\n+ *    to the source version x.y.z (leading zeros in y and z).  Beta versions\n+ *    were given the previous public release number plus a letter, until\n+ *    version 1.0.6j; from then on they were given the upcoming public\n+ *    release number plus \""betaNN\"" or \""rcNN\"".\n  *\n- *   Binary incompatibility exists only when applications make direct access\n- *   to the info_ptr or png_ptr members through png.h, and the compiled\n- *   application is loaded with a different version of the library.\n+ *    Binary incompatibility exists only when applications make direct access\n+ *    to the info_ptr or png_ptr members through png.h, and the compiled\n+ *    application is loaded with a different version of the library.\n  *\n- *   DLLNUM will change each time there are forward or backward changes\n- *   in binary compatibility (e.g., when a new feature is added).\n+ *    DLLNUM will change each time there are forward or backward changes\n+ *    in binary compatibility (e.g., when a new feature is added).\n  *\n- * See libpng-manual.txt or libpng.3 for more information.  The PNG\n- * specification is available as a W3C Recommendation and as an ISO\n- * Specification, <http://www.w3.org/TR/2003/REC-PNG-20031110/\n- */\n-\n-/*\n- * COPYRIGHT NOTICE, DISCLAIMER, and LICENSE:\n- *\n- * If you modify libpng you may insert additional notices immediately following\n- * this sentence.\n- *\n- * This code is released under the libpng license.\n- *\n- * libpng versions 1.2.6, August 15, 2004, through 1.6.10, March 6, 2014, are\n- * Copyright (c) 2004, 2006-2013 Glenn Randers-Pehrson, and are\n- * distributed according to the same disclaimer and license as libpng-1.2.5\n- * with the following individual added to the list of Contributing Authors:\n- *\n- *    Cosmin Truta\n- *\n- * libpng versions 1.0.7, July 1, 2000, through 1.2.5, October 3, 2002, are\n- * Copyright (c) 2000-2002 Glenn Randers-Pehrson, and are\n- * distributed according to the same disclaimer and license as libpng-1.0.6\n- * with the following individuals added to the list of Contributing Authors:\n- *\n- *    Simon-Pierre Cadieux\n- *    Eric S. Raymond\n- *    Gilles Vollant\n- *\n- * and with the following additions to the disclaimer:\n- *\n- *    There is no warranty against interference with your enjoyment of the\n- *    library or against infringement.  There is no warranty that our\n- *    efforts or the library will fulfill any of your particular purposes\n- *    or needs.  This library is provided with all faults, and the entire\n- *    risk of satisfactory quality, performance, accuracy, and effort is with\n- *    the user.\n- *\n- * libpng versions 0.97, January 1998, through 1.0.6, March 20, 2000, are\n- * Copyright (c) 1998, 1999, 2000 Glenn Randers-Pehrson, and are\n- * distributed according to the same disclaimer and license as libpng-0.96,\n- * with the following individuals added to the list of Contributing Authors:\n- *\n- *    Tom Lane\n- *    Glenn Randers-Pehrson\n- *    Willem van Schaik\n- *\n- * libpng versions 0.89, June 1996, through 0.96, May 1997, are\n- * Copyright (c) 1996, 1997 Andreas Dilger\n- * Distributed according to the same disclaimer and license as libpng-0.88,\n- * with the following individuals added to the list of Contributing Authors:\n- *\n- *    John Bowler\n- *    Kevin Bracey\n- *    Sam Bushell\n- *    Magnus Holmgren\n- *    Greg Roelofs\n- *    Tom Tanner\n- *\n- * libpng versions 0.5, May 1995, through 0.88, January 1996, are\n- * Copyright (c) 1995, 1996 Guy Eric Schalnat, Group 42, Inc.\n- *\n- * For the purposes of this copyright and license, \""Contributing Authors\""\n- * is defined as the following set of individuals:\n- *\n- *    Andreas Dilger\n- *    Dave Martindale\n- *    Guy Eric Schalnat\n- *    Paul Schmidt\n- *    Tim Wegner\n- *\n- * The PNG Reference Library is supplied \""AS IS\"".  The Contributing Authors\n- * and Group 42, Inc. disclaim all warranties, expressed or implied,\n- * including, without limitation, the warranties of merchantability and of\n- * fitness for any purpose.  The Contributing Authors and Group 42, Inc.\n- * assume no liability for direct, indirect, incidental, special, exemplary,\n- * or consequential damages, which may result from the use of the PNG\n- * Reference Library, even if advised of the possibility of such damage.\n- *\n- * Permission is hereby granted to use, copy, modify, and distribute this\n- * source code, or portions hereof, for any purpose, without fee, subject\n- * to the following restrictions:\n- *\n- *   1. The origin of this source code must not be misrepresented.\n- *\n- *   2. Altered versions must be plainly marked as such and must not\n- *      be misrepresented as being the original source.\n- *\n- *   3. This Copyright notice may not be removed or altered from\n- *      any source or altered source distribution.\n- *\n- * The Contributing Authors and Group 42, Inc. specifically permit, without\n- * fee, and encourage the use of this source code as a component to\n- * supporting the PNG file format in commercial products.  If you use this\n- * source code in a product, acknowledgment is not required but would be\n- * appreciated.\n- */\n-\n-/*\n- * A \""png_get_copyright\"" function is available, for convenient use in \""about\""\n- * boxes and the like:\n- *\n- *     printf(\""%s\"", png_get_copyright(NULL));\n- *\n- * Also, the PNG logo (in PNG format, of course) is supplied in the\n- * files \""pngbar.png\"" and \""pngbar.jpg (88x31) and \""pngnow.png\"" (98x31).\n- */\n-\n-/*\n- * Libpng is OSI Certified Open Source Software.  OSI Certified is a\n- * certification mark of the Open Source Initiative.\n- */\n-\n-/*\n- * The contributing authors would like to thank all those who helped\n- * with testing, bug fixes, and patience.  This wouldn't have been\n- * possible without all of you.\n- *\n- * Thanks to Frank J. T. Wojcik for helping with the documentation.\n+ * See libpng.txt or libpng.3 for more information.  The PNG specification\n+ * is available as a W3C Recommendation and as an ISO Specification,\n+ * <http://www.w3.org/TR/2003/REC-PNG-20031110/\n  */\n \n /*\n  * Y2K compliance in libpng:\n  * =========================\n  *\n- *    March 6, 2014\n+ *    December 3, 2015\n  *\n  *    Since the PNG Development group is an ad-hoc body, we can't make\n  *    an official declaration.\n  *\n  *    This is your unofficial assurance that libpng from version 0.71 and\n- *    upward through 1.6.10 are Y2K compliant.  It is my belief that\n+ *    upward through 1.6.20 are Y2K compliant.  It is my belief that\n  *    earlier versions were also Y2K compliant.\n  *\n  *    Libpng only has two year fields.  One is a 2-byte unsigned integer\n@@ -397,16 +273,18 @@\n\n /* This is not the place to learn how to use libpng. The file libpng-manual.txt\n  * describes how to use libpng, and the file example.c summarizes it\n  * with some code on which to build.  This file is useful for looking\n- * at the actual function definitions and structure components.\n+ * at the actual function definitions and structure components.  If that\n+ * file has been stripped from your copy of libpng, you can find it at\n+ * <http://www.libpng.org/pub/png/libpng-manual.txt>\n  *\n  * If you just need to read a PNG file and don't want to read the documentation\n  * skip to the end of this file and read the section entitled 'simplified API'.\n  */\n \n /* Version information for png.h - this should match the version in png.c */\n-#define PNG_LIBPNG_VER_STRING \""1.6.10\""\n+#define PNG_LIBPNG_VER_STRING \""1.6.20\""\n #define PNG_HEADER_VERSION_STRING \\\n-     \"" libpng version 1.6.10 - March 6, 2014\\n\""\n+     \"" libpng version 1.6.20 - December 3, 2015\\n\""\n \n #define PNG_LIBPNG_VER_SONUM   16\n #define PNG_LIBPNG_VER_DLLNUM  16\n@@ -414,7 +292,7 @@\n\n /* These should match the first 3 components of PNG_LIBPNG_VER_STRING: */\n #define PNG_LIBPNG_VER_MAJOR   1\n #define PNG_LIBPNG_VER_MINOR   6\n-#define PNG_LIBPNG_VER_RELEASE 10\n+#define PNG_LIBPNG_VER_RELEASE 20\n \n /* This should match the numeric part of the final component of\n  * PNG_LIBPNG_VER_STRING, omitting any leading zero:\n@@ -445,7 +323,7 @@\n\n  * version 1.0.0 was mis-numbered 100 instead of 10000).  From\n  * version 1.0.1 it's    xxyyzz, where x=major, y=minor, z=release\n  */\n-#define PNG_LIBPNG_VER 10610 /* 1.6.10 */\n+#define PNG_LIBPNG_VER 10620 /